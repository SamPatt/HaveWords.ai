var u = Object.defineProperty;
var J = (X, l, Z) => l in X ? u(X, l, { enumerable: !0, configurable: !0, writable: !0, value: Z }) : X[l] = Z;
var d = (X, l, Z) => (J(X, typeof l != "symbol" ? l + "" : l, Z), Z), R = (X, l, Z) => {
  if (!l.has(X))
    throw TypeError("Cannot " + Z);
};
var V = (X, l, Z) => (R(X, l, "read from private field"), Z ? Z.call(X) : l.get(X)), m = (X, l, Z) => {
  if (l.has(X))
    throw TypeError("Cannot add the same private member more than once");
  l instanceof WeakSet ? l.add(X) : l.set(X, Z);
}, h = (X, l, Z, c) => (R(X, l, "write to private field"), c ? c.call(X, Z) : l.set(X, Z), Z);
var a = (X, l, Z) => (R(X, l, "access private method"), Z);
const p = "dmFyIExsPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgTmw9KFgsU2UseWUpPT5TZSBpbiBYP0xsKFgsU2Use2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnllfSk6WFtTZV09eWU7dmFyIGJ0PShYLFNlLHllKT0+KE5sKFgsdHlwZW9mIFNlIT0ic3ltYm9sIj9TZSsiIjpTZSx5ZSkseWUpLGpzPShYLFNlLHllKT0+e2lmKCFTZS5oYXMoWCkpdGhyb3cgVHlwZUVycm9yKCJDYW5ub3QgIit5ZSl9O3ZhciBZPShYLFNlLHllKT0+KGpzKFgsU2UsInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkIikseWU/eWUuY2FsbChYKTpTZS5nZXQoWCkpLG50PShYLFNlLHllKT0+e2lmKFNlLmhhcyhYKSl0aHJvdyBUeXBlRXJyb3IoIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2UiKTtTZSBpbnN0YW5jZW9mIFdlYWtTZXQ/U2UuYWRkKFgpOlNlLnNldChYLHllKX0sbHQ9KFgsU2UseWUseGUpPT4oanMoWCxTZSwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZCIpLHhlP3hlLmNhbGwoWCx5ZSk6U2Uuc2V0KFgseWUpLHllKSx5aT0oWCxTZSx5ZSx4ZSk9Pih7c2V0IF8oQmUpe2x0KFgsU2UsQmUseWUpfSxnZXQgXygpe3JldHVybiBZKFgsU2UseGUpfX0pLHpyPShYLFNlLHllKT0+KGpzKFgsU2UsImFjY2VzcyBwcml2YXRlIG1ldGhvZCIpLHllKTsoZnVuY3Rpb24oKXt2YXIgWGUsQWksRnQsUmksTXQsVHQsSmUsY3MsQXQsVmksV2ksZ3QsemksdXMsR3I7InVzZSBzdHJpY3QiO2NsYXNzIFh7c3RhdGljIFdpdGhpbkVwc2lsb24oZSx0LGk9MTQwMTI5OGUtNTEpe3JldHVybiBNYXRoLmFicyhlLXQpPD1pfXN0YXRpYyBUb0hleChlKXtjb25zdCB0PWUudG9TdHJpbmcoMTYpO3JldHVybiBlPD0xNT8oIjAiK3QpLnRvVXBwZXJDYXNlKCk6dC50b1VwcGVyQ2FzZSgpfXN0YXRpYyBTaWduKGUpe3JldHVybiBlPStlLGU9PT0wfHxpc05hTihlKT9lOmU+MD8xOi0xfXN0YXRpYyBDbGFtcChlLHQ9MCxpPTEpe3JldHVybiBNYXRoLm1pbihpLE1hdGgubWF4KHQsZSkpfXN0YXRpYyBMb2cyKGUpe3JldHVybiBNYXRoLmxvZyhlKSpNYXRoLkxPRzJFfXN0YXRpYyBJTG9nMihlKXtpZihNYXRoLmxvZzIpcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5sb2cyKGUpKTtpZihlPDApcmV0dXJuIE5hTjtpZihlPT09MClyZXR1cm4tMS8wO2xldCB0PTA7aWYoZTwxKXtmb3IoO2U8MTspdCsrLGU9ZSoyO3Q9LXR9ZWxzZSBpZihlPjEpZm9yKDtlPjE7KXQrKyxlPU1hdGguZmxvb3IoZS8yKTtyZXR1cm4gdH1zdGF0aWMgUmVwZWF0KGUsdCl7cmV0dXJuIGUtTWF0aC5mbG9vcihlL3QpKnR9c3RhdGljIE5vcm1hbGl6ZShlLHQsaSl7cmV0dXJuKGUtdCkvKGktdCl9c3RhdGljIERlbm9ybWFsaXplKGUsdCxpKXtyZXR1cm4gZSooaS10KSt0fXN0YXRpYyBEZWx0YUFuZ2xlKGUsdCl7bGV0IGk9WC5SZXBlYXQodC1lLDM2MCk7cmV0dXJuIGk+MTgwJiYoaS09MzYwKSxpfXN0YXRpYyBQaW5nUG9uZyhlLHQpe2NvbnN0IGk9WC5SZXBlYXQoZSx0KjIpO3JldHVybiB0LU1hdGguYWJzKGktdCl9c3RhdGljIFNtb290aFN0ZXAoZSx0LGkpe2xldCBzPVguQ2xhbXAoaSk7cmV0dXJuIHM9LTIqcypzKnMrMypzKnMsdCpzK2UqKDEtcyl9c3RhdGljIE1vdmVUb3dhcmRzKGUsdCxpKXtsZXQgcz0wO3JldHVybiBNYXRoLmFicyh0LWUpPD1pP3M9dDpzPWUrWC5TaWduKHQtZSkqaSxzfXN0YXRpYyBNb3ZlVG93YXJkc0FuZ2xlKGUsdCxpKXtjb25zdCBzPVguRGVsdGFBbmdsZShlLHQpO2xldCByPTA7cmV0dXJuLWk8cyYmczxpP3I9dDoodD1lK3Mscj1YLk1vdmVUb3dhcmRzKGUsdCxpKSkscn1zdGF0aWMgTGVycChlLHQsaSl7cmV0dXJuIGUrKHQtZSkqaX1zdGF0aWMgTGVycEFuZ2xlKGUsdCxpKXtsZXQgcz1YLlJlcGVhdCh0LWUsMzYwKTtyZXR1cm4gcz4xODAmJihzLT0zNjApLGUrcypYLkNsYW1wKGkpfXN0YXRpYyBJbnZlcnNlTGVycChlLHQsaSl7bGV0IHM9MDtyZXR1cm4gZSE9dD9zPVguQ2xhbXAoKGktZSkvKHQtZSkpOnM9MCxzfXN0YXRpYyBIZXJtaXRlKGUsdCxpLHMscil7Y29uc3Qgbj1yKnIsYT1yKm4sbz0yKmEtMypuKzEsaD0tMiphKzMqbixsPWEtMipuK3IsdT1hLW47cmV0dXJuIGUqbytpKmgrdCpsK3MqdX1zdGF0aWMgSGVybWl0ZTFzdERlcml2YXRpdmUoZSx0LGkscyxyKXtjb25zdCBuPXIqcjtyZXR1cm4obi1yKSo2KmUrKDMqbi00KnIrMSkqdCsoLW4rcikqNippKygzKm4tMipyKSpzfXN0YXRpYyBSYW5kb21SYW5nZShlLHQpe3JldHVybiBlPT09dD9lOk1hdGgucmFuZG9tKCkqKHQtZSkrZX1zdGF0aWMgUmFuZ2VUb1BlcmNlbnQoZSx0LGkpe3JldHVybihlLXQpLyhpLXQpfXN0YXRpYyBQZXJjZW50VG9SYW5nZShlLHQsaSl7cmV0dXJuKGktdCkqZSt0fXN0YXRpYyBOb3JtYWxpemVSYWRpYW5zKGUpe3JldHVybiBlLT1YLlR3b1BpKk1hdGguZmxvb3IoKGUrTWF0aC5QSSkvWC5Ud29QaSksZX1zdGF0aWMgSENGKGUsdCl7Y29uc3QgaT1lJXQ7cmV0dXJuIGk9PT0wP3Q6WC5IQ0YodCxpKX19WC5Ud29QaT1NYXRoLlBJKjI7Y29uc3QgU2U9MS8yLjIseWU9Mi4yLHhlPS4wMDE7Y2xhc3MgQmV7c3RhdGljIEJ1aWxkQXJyYXkoZSx0KXtjb25zdCBpPVtdO2ZvcihsZXQgcz0wO3M8ZTsrK3MpaS5wdXNoKHQoKSk7cmV0dXJuIGl9c3RhdGljIEJ1aWxkVHVwbGUoZSx0KXtyZXR1cm4gQmUuQnVpbGRBcnJheShlLHQpfX1mdW5jdGlvbiBYcihjLGUsdCl7Y29uc3QgaT1jW2VdO2lmKHR5cGVvZiBpIT0iZnVuY3Rpb24iKXJldHVybiBudWxsO2NvbnN0IHM9ZnVuY3Rpb24oKXtjb25zdCByPWMubGVuZ3RoLG49cy5wcmV2aW91cy5hcHBseShjLGFyZ3VtZW50cyk7cmV0dXJuIHQoZSxyKSxufTtyZXR1cm4gaS5uZXh0PXMscy5wcmV2aW91cz1pLGNbZV09cywoKT0+e2NvbnN0IHI9cy5wcmV2aW91cztpZighcilyZXR1cm47Y29uc3Qgbj1zLm5leHQ7bj8oci5uZXh0PW4sbi5wcmV2aW91cz1yKTooci5uZXh0PXZvaWQgMCxjW2VdPXIpLHMubmV4dD12b2lkIDAscy5wcmV2aW91cz12b2lkIDB9fWNvbnN0IEhyPVsicHVzaCIsInNwbGljZSIsInBvcCIsInNoaWZ0IiwidW5zaGlmdCJdO2Z1bmN0aW9uICRzKGMsZSl7Y29uc3QgdD1Ici5tYXAoaT0+WHIoYyxpLGUpKTtyZXR1cm4oKT0+e3QuZm9yRWFjaChpPT57aT09bnVsbHx8aSgpfSl9fWNvbnN0IFFzPXt9O2Z1bmN0aW9uIGl0KGMsZSl7UXNbY109ZX1mdW5jdGlvbiByaShjKXtyZXR1cm4gUXNbY119Y2xhc3MgVWV7c3RhdGljIFNldE1hdHJpeFByZWNpc2lvbihlKXtpZihVZS5NYXRyaXhUcmFja1ByZWNpc2lvbkNoYW5nZT0hMSxlJiYhVWUuTWF0cml4VXNlNjRCaXRzJiZVZS5NYXRyaXhUcmFja2VkTWF0cmljZXMpZm9yKGxldCB0PTA7dDxVZS5NYXRyaXhUcmFja2VkTWF0cmljZXMubGVuZ3RoOysrdCl7Y29uc3QgaT1VZS5NYXRyaXhUcmFja2VkTWF0cmljZXNbdF0scz1pLl9tO2kuX209bmV3IEFycmF5KDE2KTtmb3IobGV0IHI9MDtyPDE2OysrcilpLl9tW3JdPXNbcl19VWUuTWF0cml4VXNlNjRCaXRzPWUsVWUuTWF0cml4Q3VycmVudFR5cGU9VWUuTWF0cml4VXNlNjRCaXRzP0FycmF5OkZsb2F0MzJBcnJheSxVZS5NYXRyaXhUcmFja2VkTWF0cmljZXM9bnVsbH19VWUuTWF0cml4VXNlNjRCaXRzPSExLFVlLk1hdHJpeFRyYWNrUHJlY2lzaW9uQ2hhbmdlPSEwLFVlLk1hdHJpeEN1cnJlbnRUeXBlPUZsb2F0MzJBcnJheSxVZS5NYXRyaXhUcmFja2VkTWF0cmljZXM9W107Y2xhc3MgZmV7c3RhdGljIGdldCBMYXN0Q3JlYXRlZEVuZ2luZSgpe3JldHVybiB0aGlzLkluc3RhbmNlcy5sZW5ndGg9PT0wP251bGw6dGhpcy5JbnN0YW5jZXNbdGhpcy5JbnN0YW5jZXMubGVuZ3RoLTFdfXN0YXRpYyBnZXQgTGFzdENyZWF0ZWRTY2VuZSgpe3JldHVybiB0aGlzLl9MYXN0Q3JlYXRlZFNjZW5lfX1mZS5JbnN0YW5jZXM9bmV3IEFycmF5LGZlLl9MYXN0Q3JlYXRlZFNjZW5lPW51bGwsZmUuVXNlRmFsbGJhY2tUZXh0dXJlPSEwLGZlLkZhbGxiYWNrVGV4dHVyZT0iIjtjb25zdCBzdD1jPT5wYXJzZUludChjLnRvU3RyaW5nKCkucmVwbGFjZSgvXFcvZywiIikpO2NsYXNzIHZle2NvbnN0cnVjdG9yKGU9MCx0PTApe3RoaXMueD1lLHRoaXMueT10fXRvU3RyaW5nKCl7cmV0dXJuYHtYOiAke3RoaXMueH0gWTogJHt0aGlzLnl9fWB9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlZlY3RvcjIifWdldEhhc2hDb2RlKCl7Y29uc3QgZT1zdCh0aGlzLngpLHQ9c3QodGhpcy55KTtsZXQgaT1lO3JldHVybiBpPWkqMzk3XnQsaX10b0FycmF5KGUsdD0wKXtyZXR1cm4gZVt0XT10aGlzLngsZVt0KzFdPXRoaXMueSx0aGlzfWZyb21BcnJheShlLHQ9MCl7cmV0dXJuIHZlLkZyb21BcnJheVRvUmVmKGUsdCx0aGlzKSx0aGlzfWFzQXJyYXkoKXtjb25zdCBlPW5ldyBBcnJheTtyZXR1cm4gdGhpcy50b0FycmF5KGUsMCksZX1jb3B5RnJvbShlKXtyZXR1cm4gdGhpcy54PWUueCx0aGlzLnk9ZS55LHRoaXN9Y29weUZyb21GbG9hdHMoZSx0KXtyZXR1cm4gdGhpcy54PWUsdGhpcy55PXQsdGhpc31zZXQoZSx0KXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLHQpfWFkZChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54K2UueCx0aGlzLnkrZS55KX1hZGRUb1JlZihlLHQpe3JldHVybiB0Lng9dGhpcy54K2UueCx0Lnk9dGhpcy55K2UueSx0fWFkZEluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCs9ZS54LHRoaXMueSs9ZS55LHRoaXN9YWRkVmVjdG9yMyhlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54K2UueCx0aGlzLnkrZS55KX1zdWJ0cmFjdChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54LWUueCx0aGlzLnktZS55KX1zdWJ0cmFjdFRvUmVmKGUsdCl7cmV0dXJuIHQueD10aGlzLngtZS54LHQueT10aGlzLnktZS55LHR9c3VidHJhY3RJblBsYWNlKGUpe3JldHVybiB0aGlzLngtPWUueCx0aGlzLnktPWUueSx0aGlzfW11bHRpcGx5SW5QbGFjZShlKXtyZXR1cm4gdGhpcy54Kj1lLngsdGhpcy55Kj1lLnksdGhpc31tdWx0aXBseShlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54KmUueCx0aGlzLnkqZS55KX1tdWx0aXBseVRvUmVmKGUsdCl7cmV0dXJuIHQueD10aGlzLngqZS54LHQueT10aGlzLnkqZS55LHR9bXVsdGlwbHlCeUZsb2F0cyhlLHQpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngqZSx0aGlzLnkqdCl9ZGl2aWRlKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngvZS54LHRoaXMueS9lLnkpfWRpdmlkZVRvUmVmKGUsdCl7cmV0dXJuIHQueD10aGlzLngvZS54LHQueT10aGlzLnkvZS55LHR9ZGl2aWRlSW5QbGFjZShlKXtyZXR1cm4gdGhpcy5kaXZpZGVUb1JlZihlLHRoaXMpfW5lZ2F0ZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigtdGhpcy54LC10aGlzLnkpfW5lZ2F0ZUluUGxhY2UoKXtyZXR1cm4gdGhpcy54Kj0tMSx0aGlzLnkqPS0xLHRoaXN9bmVnYXRlVG9SZWYoZSl7cmV0dXJuIGUuY29weUZyb21GbG9hdHModGhpcy54Ki0xLHRoaXMueSotMSl9c2NhbGVJblBsYWNlKGUpe3JldHVybiB0aGlzLngqPWUsdGhpcy55Kj1lLHRoaXN9c2NhbGUoZSl7Y29uc3QgdD1uZXcgdGhpcy5jb25zdHJ1Y3RvcigwLDApO3JldHVybiB0aGlzLnNjYWxlVG9SZWYoZSx0KSx0fXNjYWxlVG9SZWYoZSx0KXtyZXR1cm4gdC54PXRoaXMueCplLHQueT10aGlzLnkqZSx0fXNjYWxlQW5kQWRkVG9SZWYoZSx0KXtyZXR1cm4gdC54Kz10aGlzLngqZSx0LnkrPXRoaXMueSplLHR9ZXF1YWxzKGUpe3JldHVybiBlJiZ0aGlzLng9PT1lLngmJnRoaXMueT09PWUueX1lcXVhbHNXaXRoRXBzaWxvbihlLHQ9eGUpe3JldHVybiBlJiZYLldpdGhpbkVwc2lsb24odGhpcy54LGUueCx0KSYmWC5XaXRoaW5FcHNpbG9uKHRoaXMueSxlLnksdCl9Zmxvb3IoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoTWF0aC5mbG9vcih0aGlzLngpLE1hdGguZmxvb3IodGhpcy55KSl9ZnJhY3QoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54LU1hdGguZmxvb3IodGhpcy54KSx0aGlzLnktTWF0aC5mbG9vcih0aGlzLnkpKX1yb3RhdGVUb1JlZihlLHQpe2NvbnN0IGk9TWF0aC5jb3MoZSkscz1NYXRoLnNpbihlKTtyZXR1cm4gdC54PWkqdGhpcy54LXMqdGhpcy55LHQueT1zKnRoaXMueCtpKnRoaXMueSx0fWxlbmd0aCgpe3JldHVybiBNYXRoLnNxcnQodGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55KX1sZW5ndGhTcXVhcmVkKCl7cmV0dXJuIHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueX1ub3JtYWxpemUoKXtyZXR1cm4gdmUuTm9ybWFsaXplVG9SZWYodGhpcyx0aGlzKSx0aGlzfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCx0aGlzLnkpfXN0YXRpYyBaZXJvKCl7cmV0dXJuIG5ldyB2ZSgwLDApfXN0YXRpYyBPbmUoKXtyZXR1cm4gbmV3IHZlKDEsMSl9c3RhdGljIGdldCBaZXJvUmVhZE9ubHkoKXtyZXR1cm4gdmUuX1plcm9SZWFkT25seX1zdGF0aWMgRnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gbmV3IHZlKGVbdF0sZVt0KzFdKX1zdGF0aWMgRnJvbUFycmF5VG9SZWYoZSx0LGkpe3JldHVybiBpLng9ZVt0XSxpLnk9ZVt0KzFdLGl9c3RhdGljIENhdG11bGxSb20oZSx0LGkscyxyKXtjb25zdCBuPXIqcixhPXIqbixvPS41KigyKnQueCsoLWUueCtpLngpKnIrKDIqZS54LTUqdC54KzQqaS54LXMueCkqbisoLWUueCszKnQueC0zKmkueCtzLngpKmEpLGg9LjUqKDIqdC55KygtZS55K2kueSkqcisoMiplLnktNSp0LnkrNCppLnktcy55KSpuKygtZS55KzMqdC55LTMqaS55K3MueSkqYSk7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKG8saCl9c3RhdGljIENsYW1wKGUsdCxpKXtsZXQgcz1lLng7cz1zPmkueD9pLng6cyxzPXM8dC54P3QueDpzO2xldCByPWUueTtyZXR1cm4gcj1yPmkueT9pLnk6cixyPXI8dC55P3QueTpyLG5ldyBlLmNvbnN0cnVjdG9yKHMscil9c3RhdGljIEhlcm1pdGUoZSx0LGkscyxyKXtjb25zdCBuPXIqcixhPXIqbixvPTIqYS0zKm4rMSxoPS0yKmErMypuLGw9YS0yKm4rcix1PWEtbixkPWUueCpvK2kueCpoK3QueCpsK3MueCp1LGY9ZS55Km8raS55KmgrdC55Kmwrcy55KnU7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKGQsZil9c3RhdGljIEhlcm1pdGUxc3REZXJpdmF0aXZlKGUsdCxpLHMscil7Y29uc3Qgbj1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy5IZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKSxufXN0YXRpYyBIZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKXtjb25zdCBhPXIqcjtyZXR1cm4gbi54PShhLXIpKjYqZS54KygzKmEtNCpyKzEpKnQueCsoLWErcikqNippLngrKDMqYS0yKnIpKnMueCxuLnk9KGEtcikqNiplLnkrKDMqYS00KnIrMSkqdC55KygtYStyKSo2KmkueSsoMyphLTIqcikqcy55LG59c3RhdGljIExlcnAoZSx0LGkpe2NvbnN0IHM9ZS54Kyh0LngtZS54KSppLHI9ZS55Kyh0LnktZS55KSppO3JldHVybiBuZXcgZS5jb25zdHJ1Y3RvcihzLHIpfXN0YXRpYyBEb3QoZSx0KXtyZXR1cm4gZS54KnQueCtlLnkqdC55fXN0YXRpYyBOb3JtYWxpemUoZSl7Y29uc3QgdD1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy5Ob3JtYWxpemVUb1JlZihlLHQpLHR9c3RhdGljIE5vcm1hbGl6ZVRvUmVmKGUsdCl7Y29uc3QgaT1lLmxlbmd0aCgpO3JldHVybiBpPT09MHx8KHQueD1lLngvaSx0Lnk9ZS55L2kpLHR9c3RhdGljIE1pbmltaXplKGUsdCl7Y29uc3QgaT1lLng8dC54P2UueDp0Lngscz1lLnk8dC55P2UueTp0Lnk7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKGkscyl9c3RhdGljIE1heGltaXplKGUsdCl7Y29uc3QgaT1lLng+dC54P2UueDp0Lngscz1lLnk+dC55P2UueTp0Lnk7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKGkscyl9c3RhdGljIFRyYW5zZm9ybShlLHQpe2NvbnN0IGk9bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIHZlLlRyYW5zZm9ybVRvUmVmKGUsdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Ub1JlZihlLHQsaSl7Y29uc3Qgcz10Lm0scj1lLngqc1swXStlLnkqc1s0XStzWzEyXSxuPWUueCpzWzFdK2UueSpzWzVdK3NbMTNdO3JldHVybiBpLng9cixpLnk9bixpfXN0YXRpYyBQb2ludEluVHJpYW5nbGUoZSx0LGkscyl7Y29uc3Qgcj0uNSooLWkueSpzLngrdC55KigtaS54K3MueCkrdC54KihpLnktcy55KStpLngqcy55KSxuPXI8MD8tMToxLGE9KHQueSpzLngtdC54KnMueSsocy55LXQueSkqZS54Kyh0Lngtcy54KSplLnkpKm4sbz0odC54KmkueS10LnkqaS54Kyh0LnktaS55KSplLngrKGkueC10LngpKmUueSkqbjtyZXR1cm4gYT4wJiZvPjAmJmErbzwyKnIqbn1zdGF0aWMgRGlzdGFuY2UoZSx0KXtyZXR1cm4gTWF0aC5zcXJ0KHZlLkRpc3RhbmNlU3F1YXJlZChlLHQpKX1zdGF0aWMgRGlzdGFuY2VTcXVhcmVkKGUsdCl7Y29uc3QgaT1lLngtdC54LHM9ZS55LXQueTtyZXR1cm4gaSppK3Mqc31zdGF0aWMgQ2VudGVyKGUsdCl7Y29uc3QgaT1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gdmUuQ2VudGVyVG9SZWYoZSx0LGkpfXN0YXRpYyBDZW50ZXJUb1JlZihlLHQsaSl7cmV0dXJuIGkuY29weUZyb21GbG9hdHMoKGUueCt0LngpLzIsKGUueSt0LnkpLzIpfXN0YXRpYyBEaXN0YW5jZU9mUG9pbnRGcm9tU2VnbWVudChlLHQsaSl7Y29uc3Qgcz12ZS5EaXN0YW5jZVNxdWFyZWQodCxpKTtpZihzPT09MClyZXR1cm4gdmUuRGlzdGFuY2UoZSx0KTtjb25zdCByPWkuc3VidHJhY3QodCksbj1NYXRoLm1heCgwLE1hdGgubWluKDEsdmUuRG90KGUuc3VidHJhY3QodCkscikvcykpLGE9dC5hZGQoci5tdWx0aXBseUJ5RmxvYXRzKG4sbikpO3JldHVybiB2ZS5EaXN0YW5jZShlLGEpfX12ZS5fWmVyb1JlYWRPbmx5PXZlLlplcm8oKTtjbGFzcyBwe2NvbnN0cnVjdG9yKGU9MCx0PTAsaT0wKXt0aGlzLl9pc0RpcnR5PSEwLHRoaXMuX3g9ZSx0aGlzLl95PXQsdGhpcy5fej1pfWdldCB4KCl7cmV0dXJuIHRoaXMuX3h9c2V0IHgoZSl7dGhpcy5feD1lLHRoaXMuX2lzRGlydHk9ITB9Z2V0IHkoKXtyZXR1cm4gdGhpcy5feX1zZXQgeShlKXt0aGlzLl95PWUsdGhpcy5faXNEaXJ0eT0hMH1nZXQgeigpe3JldHVybiB0aGlzLl96fXNldCB6KGUpe3RoaXMuX3o9ZSx0aGlzLl9pc0RpcnR5PSEwfXRvU3RyaW5nKCl7cmV0dXJuYHtYOiAke3RoaXMuX3h9IFk6ICR7dGhpcy5feX0gWjogJHt0aGlzLl96fX1gfWdldENsYXNzTmFtZSgpe3JldHVybiJWZWN0b3IzIn1nZXRIYXNoQ29kZSgpe2NvbnN0IGU9c3QodGhpcy5feCksdD1zdCh0aGlzLl95KSxpPXN0KHRoaXMuX3opO2xldCBzPWU7cmV0dXJuIHM9cyozOTdedCxzPXMqMzk3Xmksc31hc0FycmF5KCl7Y29uc3QgZT1bXTtyZXR1cm4gdGhpcy50b0FycmF5KGUsMCksZX10b0FycmF5KGUsdD0wKXtyZXR1cm4gZVt0XT10aGlzLl94LGVbdCsxXT10aGlzLl95LGVbdCsyXT10aGlzLl96LHRoaXN9ZnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gcC5Gcm9tQXJyYXlUb1JlZihlLHQsdGhpcyksdGhpc310b1F1YXRlcm5pb24oKXtyZXR1cm4gWi5Sb3RhdGlvbllhd1BpdGNoUm9sbCh0aGlzLl95LHRoaXMuX3gsdGhpcy5feil9YWRkSW5QbGFjZShlKXtyZXR1cm4gdGhpcy5hZGRJblBsYWNlRnJvbUZsb2F0cyhlLl94LGUuX3ksZS5feil9YWRkSW5QbGFjZUZyb21GbG9hdHMoZSx0LGkpe3JldHVybiB0aGlzLngrPWUsdGhpcy55Kz10LHRoaXMueis9aSx0aGlzfWFkZChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feCtlLl94LHRoaXMuX3krZS5feSx0aGlzLl96K2UuX3opfWFkZFRvUmVmKGUsdCl7cmV0dXJuIHQuY29weUZyb21GbG9hdHModGhpcy5feCtlLl94LHRoaXMuX3krZS5feSx0aGlzLl96K2UuX3opfXN1YnRyYWN0SW5QbGFjZShlKXtyZXR1cm4gdGhpcy54LT1lLl94LHRoaXMueS09ZS5feSx0aGlzLnotPWUuX3osdGhpc31zdWJ0cmFjdChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feC1lLl94LHRoaXMuX3ktZS5feSx0aGlzLl96LWUuX3opfXN1YnRyYWN0VG9SZWYoZSx0KXtyZXR1cm4gdGhpcy5zdWJ0cmFjdEZyb21GbG9hdHNUb1JlZihlLl94LGUuX3ksZS5feix0KX1zdWJ0cmFjdEZyb21GbG9hdHMoZSx0LGkpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94LWUsdGhpcy5feS10LHRoaXMuX3otaSl9c3VidHJhY3RGcm9tRmxvYXRzVG9SZWYoZSx0LGkscyl7cmV0dXJuIHMuY29weUZyb21GbG9hdHModGhpcy5feC1lLHRoaXMuX3ktdCx0aGlzLl96LWkpfW5lZ2F0ZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigtdGhpcy5feCwtdGhpcy5feSwtdGhpcy5feil9bmVnYXRlSW5QbGFjZSgpe3JldHVybiB0aGlzLngqPS0xLHRoaXMueSo9LTEsdGhpcy56Kj0tMSx0aGlzfW5lZ2F0ZVRvUmVmKGUpe3JldHVybiBlLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gqLTEsdGhpcy5feSotMSx0aGlzLl96Ki0xKX1zY2FsZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpcy56Kj1lLHRoaXN9c2NhbGUoZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuX3gqZSx0aGlzLl95KmUsdGhpcy5feiplKX1zY2FsZVRvUmVmKGUsdCl7cmV0dXJuIHQuY29weUZyb21GbG9hdHModGhpcy5feCplLHRoaXMuX3kqZSx0aGlzLl96KmUpfWdldE5vcm1hbFRvUmVmKGUpe2NvbnN0IHQ9dGhpcy5sZW5ndGgoKTtsZXQgaT1NYXRoLmFjb3ModGhpcy55L3QpO2NvbnN0IHM9TWF0aC5hdGFuMih0aGlzLnosdGhpcy54KTtpPk1hdGguUEkvMj9pLT1NYXRoLlBJLzI6aSs9TWF0aC5QSS8yO2NvbnN0IHI9dCpNYXRoLnNpbihpKSpNYXRoLmNvcyhzKSxuPXQqTWF0aC5jb3MoaSksYT10Kk1hdGguc2luKGkpKk1hdGguc2luKHMpO3JldHVybiBlLnNldChyLG4sYSksZX1hcHBseVJvdGF0aW9uUXVhdGVybmlvblRvUmVmKGUsdCl7Y29uc3QgaT1lLncqdGhpcy54K2UueSp0aGlzLnotZS56KnRoaXMueSxzPWUudyp0aGlzLnkrZS56KnRoaXMueC1lLngqdGhpcy56LHI9ZS53KnRoaXMueitlLngqdGhpcy55LWUueSp0aGlzLngsbj0tZS54KnRoaXMueC1lLnkqdGhpcy55LWUueip0aGlzLno7cmV0dXJuIHQueD1pKmUudytuKi1lLngrcyotZS56LXIqLWUueSx0Lnk9cyplLncrbiotZS55K3IqLWUueC1pKi1lLnosdC56PXIqZS53K24qLWUueitpKi1lLnktcyotZS54LHR9YXBwbHlSb3RhdGlvblF1YXRlcm5pb25JblBsYWNlKGUpe3JldHVybiB0aGlzLmFwcGx5Um90YXRpb25RdWF0ZXJuaW9uVG9SZWYoZSx0aGlzKX1hcHBseVJvdGF0aW9uUXVhdGVybmlvbihlKXtyZXR1cm4gdGhpcy5hcHBseVJvdGF0aW9uUXVhdGVybmlvblRvUmVmKGUsbmV3IHRoaXMuY29uc3RydWN0b3IpfXNjYWxlQW5kQWRkVG9SZWYoZSx0KXtyZXR1cm4gdC5hZGRJblBsYWNlRnJvbUZsb2F0cyh0aGlzLl94KmUsdGhpcy5feSplLHRoaXMuX3oqZSl9cHJvamVjdE9uUGxhbmUoZSx0KXtjb25zdCBpPW5ldyB0aGlzLmNvbnN0cnVjdG9yO3JldHVybiB0aGlzLnByb2plY3RPblBsYW5lVG9SZWYoZSx0LGkpLGl9cHJvamVjdE9uUGxhbmVUb1JlZihlLHQsaSl7Y29uc3Qgcz1lLm5vcm1hbCxyPWUuZCxuPUsuVmVjdG9yM1swXTt0aGlzLnN1YnRyYWN0VG9SZWYodCxuKSxuLm5vcm1hbGl6ZSgpO2NvbnN0IGE9cC5Eb3QobixzKTtpZihNYXRoLmFicyhhKTxNYXRoLnBvdygxMCwtMTApKWkuc2V0QWxsKDEvMCk7ZWxzZXtjb25zdCBvPS0ocC5Eb3QodCxzKStyKS9hLGg9bi5zY2FsZUluUGxhY2Uobyk7dC5hZGRUb1JlZihoLGkpfXJldHVybiBpfWVxdWFscyhlKXtyZXR1cm4gZSYmdGhpcy5feD09PWUuX3gmJnRoaXMuX3k9PT1lLl95JiZ0aGlzLl96PT09ZS5fen1lcXVhbHNXaXRoRXBzaWxvbihlLHQ9eGUpe3JldHVybiBlJiZYLldpdGhpbkVwc2lsb24odGhpcy5feCxlLl94LHQpJiZYLldpdGhpbkVwc2lsb24odGhpcy5feSxlLl95LHQpJiZYLldpdGhpbkVwc2lsb24odGhpcy5feixlLl96LHQpfWVxdWFsc1RvRmxvYXRzKGUsdCxpKXtyZXR1cm4gdGhpcy5feD09PWUmJnRoaXMuX3k9PT10JiZ0aGlzLl96PT09aX1tdWx0aXBseUluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCo9ZS5feCx0aGlzLnkqPWUuX3ksdGhpcy56Kj1lLl96LHRoaXN9bXVsdGlwbHkoZSl7cmV0dXJuIHRoaXMubXVsdGlwbHlCeUZsb2F0cyhlLl94LGUuX3ksZS5feil9bXVsdGlwbHlUb1JlZihlLHQpe3JldHVybiB0LmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gqZS5feCx0aGlzLl95KmUuX3ksdGhpcy5feiplLl96KX1tdWx0aXBseUJ5RmxvYXRzKGUsdCxpKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feCplLHRoaXMuX3kqdCx0aGlzLl96KmkpfWRpdmlkZShlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feC9lLl94LHRoaXMuX3kvZS5feSx0aGlzLl96L2UuX3opfWRpdmlkZVRvUmVmKGUsdCl7cmV0dXJuIHQuY29weUZyb21GbG9hdHModGhpcy5feC9lLl94LHRoaXMuX3kvZS5feSx0aGlzLl96L2UuX3opfWRpdmlkZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMuZGl2aWRlVG9SZWYoZSx0aGlzKX1taW5pbWl6ZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMubWluaW1pemVJblBsYWNlRnJvbUZsb2F0cyhlLl94LGUuX3ksZS5feil9bWF4aW1pemVJblBsYWNlKGUpe3JldHVybiB0aGlzLm1heGltaXplSW5QbGFjZUZyb21GbG9hdHMoZS5feCxlLl95LGUuX3opfW1pbmltaXplSW5QbGFjZUZyb21GbG9hdHMoZSx0LGkpe3JldHVybiBlPHRoaXMuX3gmJih0aGlzLng9ZSksdDx0aGlzLl95JiYodGhpcy55PXQpLGk8dGhpcy5feiYmKHRoaXMuej1pKSx0aGlzfW1heGltaXplSW5QbGFjZUZyb21GbG9hdHMoZSx0LGkpe3JldHVybiBlPnRoaXMuX3gmJih0aGlzLng9ZSksdD50aGlzLl95JiYodGhpcy55PXQpLGk+dGhpcy5feiYmKHRoaXMuej1pKSx0aGlzfWlzTm9uVW5pZm9ybVdpdGhpbkVwc2lsb24oZSl7Y29uc3QgdD1NYXRoLmFicyh0aGlzLl94KSxpPU1hdGguYWJzKHRoaXMuX3kpO2lmKCFYLldpdGhpbkVwc2lsb24odCxpLGUpKXJldHVybiEwO2NvbnN0IHM9TWF0aC5hYnModGhpcy5feik7cmV0dXJuIVguV2l0aGluRXBzaWxvbih0LHMsZSl8fCFYLldpdGhpbkVwc2lsb24oaSxzLGUpfWdldCBpc05vblVuaWZvcm0oKXtjb25zdCBlPU1hdGguYWJzKHRoaXMuX3gpLHQ9TWF0aC5hYnModGhpcy5feSk7aWYoZSE9PXQpcmV0dXJuITA7Y29uc3QgaT1NYXRoLmFicyh0aGlzLl96KTtyZXR1cm4gZSE9PWl9Zmxvb3IoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoTWF0aC5mbG9vcih0aGlzLl94KSxNYXRoLmZsb29yKHRoaXMuX3kpLE1hdGguZmxvb3IodGhpcy5feikpfWZyYWN0KCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuX3gtTWF0aC5mbG9vcih0aGlzLl94KSx0aGlzLl95LU1hdGguZmxvb3IodGhpcy5feSksdGhpcy5fei1NYXRoLmZsb29yKHRoaXMuX3opKX1sZW5ndGgoKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuX3gqdGhpcy5feCt0aGlzLl95KnRoaXMuX3krdGhpcy5feip0aGlzLl96KX1sZW5ndGhTcXVhcmVkKCl7cmV0dXJuIHRoaXMuX3gqdGhpcy5feCt0aGlzLl95KnRoaXMuX3krdGhpcy5feip0aGlzLl96fWdldCBoYXNBWmVyb0NvbXBvbmVudCgpe3JldHVybiB0aGlzLl94KnRoaXMuX3kqdGhpcy5fej09PTB9bm9ybWFsaXplKCl7cmV0dXJuIHRoaXMubm9ybWFsaXplRnJvbUxlbmd0aCh0aGlzLmxlbmd0aCgpKX1yZW9yZGVySW5QbGFjZShlKXtyZXR1cm4gZT1lLnRvTG93ZXJDYXNlKCksZT09PSJ4eXoiP3RoaXM6KEsuVmVjdG9yM1swXS5jb3B5RnJvbSh0aGlzKSxbIngiLCJ5IiwieiJdLmZvckVhY2goKHQsaSk9Pnt0aGlzW3RdPUsuVmVjdG9yM1swXVtlW2ldXX0pLHRoaXMpfXJvdGF0ZUJ5UXVhdGVybmlvblRvUmVmKGUsdCl7cmV0dXJuIGUudG9Sb3RhdGlvbk1hdHJpeChLLk1hdHJpeFswXSkscC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHRoaXMsSy5NYXRyaXhbMF0sdCksdH1yb3RhdGVCeVF1YXRlcm5pb25Bcm91bmRQb2ludFRvUmVmKGUsdCxpKXtyZXR1cm4gdGhpcy5zdWJ0cmFjdFRvUmVmKHQsSy5WZWN0b3IzWzBdKSxLLlZlY3RvcjNbMF0ucm90YXRlQnlRdWF0ZXJuaW9uVG9SZWYoZSxLLlZlY3RvcjNbMF0pLHQuYWRkVG9SZWYoSy5WZWN0b3IzWzBdLGkpLGl9Y3Jvc3MoZSl7Y29uc3QgdD1uZXcgdGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gcC5Dcm9zc1RvUmVmKHRoaXMsZSx0KX1ub3JtYWxpemVGcm9tTGVuZ3RoKGUpe3JldHVybiBlPT09MHx8ZT09PTE/dGhpczp0aGlzLnNjYWxlSW5QbGFjZSgxL2UpfW5vcm1hbGl6ZVRvTmV3KCl7Y29uc3QgZT1uZXcgdGhpcy5jb25zdHJ1Y3RvcigwLDAsMCk7cmV0dXJuIHRoaXMubm9ybWFsaXplVG9SZWYoZSksZX1ub3JtYWxpemVUb1JlZihlKXtjb25zdCB0PXRoaXMubGVuZ3RoKCk7cmV0dXJuIHQ9PT0wfHx0PT09MT9lLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gsdGhpcy5feSx0aGlzLl96KTp0aGlzLnNjYWxlVG9SZWYoMS90LGUpfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuX3gsdGhpcy5feSx0aGlzLl96KX1jb3B5RnJvbShlKXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLl94LGUuX3ksZS5feil9Y29weUZyb21GbG9hdHMoZSx0LGkpe3JldHVybiB0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLno9aSx0aGlzfXNldChlLHQsaSl7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0LGkpfXNldEFsbChlKXtyZXR1cm4gdGhpcy54PXRoaXMueT10aGlzLno9ZSx0aGlzfXN0YXRpYyBHZXRDbGlwRmFjdG9yKGUsdCxpLHMpe2NvbnN0IHI9cC5Eb3QoZSxpKS1zLG49cC5Eb3QodCxpKS1zO3JldHVybiByLyhyLW4pfXN0YXRpYyBHZXRBbmdsZUJldHdlZW5WZWN0b3JzKGUsdCxpKXtjb25zdCBzPWUubm9ybWFsaXplVG9SZWYoSy5WZWN0b3IzWzFdKSxyPXQubm9ybWFsaXplVG9SZWYoSy5WZWN0b3IzWzJdKTtsZXQgbj1wLkRvdChzLHIpO249WC5DbGFtcChuLC0xLDEpO2NvbnN0IGE9TWF0aC5hY29zKG4pLG89Sy5WZWN0b3IzWzNdO3JldHVybiBwLkNyb3NzVG9SZWYocyxyLG8pLHAuRG90KG8saSk+MD9pc05hTihhKT8wOmE6aXNOYU4oYSk/LU1hdGguUEk6LU1hdGguYWNvcyhuKX1zdGF0aWMgR2V0QW5nbGVCZXR3ZWVuVmVjdG9yc09uUGxhbmUoZSx0LGkpe0suVmVjdG9yM1swXS5jb3B5RnJvbShlKTtjb25zdCBzPUsuVmVjdG9yM1swXTtLLlZlY3RvcjNbMV0uY29weUZyb20odCk7Y29uc3Qgcj1LLlZlY3RvcjNbMV07Sy5WZWN0b3IzWzJdLmNvcHlGcm9tKGkpO2NvbnN0IG49Sy5WZWN0b3IzWzJdLGE9Sy5WZWN0b3IzWzNdLG89Sy5WZWN0b3IzWzRdO3Mubm9ybWFsaXplKCksci5ub3JtYWxpemUoKSxuLm5vcm1hbGl6ZSgpLHAuQ3Jvc3NUb1JlZihuLHMsYSkscC5Dcm9zc1RvUmVmKGEsbixvKTtjb25zdCBoPU1hdGguYXRhbjIocC5Eb3QocixhKSxwLkRvdChyLG8pKTtyZXR1cm4gWC5Ob3JtYWxpemVSYWRpYW5zKGgpfXN0YXRpYyBQaXRjaFlhd1JvbGxUb01vdmVCZXR3ZWVuUG9pbnRzVG9SZWYoZSx0LGkpe2NvbnN0IHM9RC5WZWN0b3IzWzBdO3JldHVybiB0LnN1YnRyYWN0VG9SZWYoZSxzKSxpLnk9TWF0aC5hdGFuMihzLngscy56KXx8MCxpLng9TWF0aC5hdGFuMihNYXRoLnNxcnQocy54KioyK3MueioqMikscy55KXx8MCxpLno9MCxpfXN0YXRpYyBQaXRjaFlhd1JvbGxUb01vdmVCZXR3ZWVuUG9pbnRzKGUsdCl7Y29uc3QgaT1wLlplcm8oKTtyZXR1cm4gcC5QaXRjaFlhd1JvbGxUb01vdmVCZXR3ZWVuUG9pbnRzVG9SZWYoZSx0LGkpfXN0YXRpYyBTbGVycFRvUmVmKGUsdCxpLHMpe2k9WC5DbGFtcChpLDAsMSk7Y29uc3Qgcj1LLlZlY3RvcjNbMF0sbj1LLlZlY3RvcjNbMV07ci5jb3B5RnJvbShlKTtjb25zdCBhPXIubGVuZ3RoKCk7ci5ub3JtYWxpemVGcm9tTGVuZ3RoKGEpLG4uY29weUZyb20odCk7Y29uc3Qgbz1uLmxlbmd0aCgpO24ubm9ybWFsaXplRnJvbUxlbmd0aChvKTtjb25zdCBoPXAuRG90KHIsbik7bGV0IGwsdTtpZihoPDEteGUpe2NvbnN0IGQ9TWF0aC5hY29zKGgpLGY9MS9NYXRoLnNpbihkKTtsPU1hdGguc2luKCgxLWkpKmQpKmYsdT1NYXRoLnNpbihpKmQpKmZ9ZWxzZSBsPTEtaSx1PWk7cmV0dXJuIHIuc2NhbGVJblBsYWNlKGwpLG4uc2NhbGVJblBsYWNlKHUpLHMuY29weUZyb20ocikuYWRkSW5QbGFjZShuKSxzLnNjYWxlSW5QbGFjZShYLkxlcnAoYSxvLGkpKSxzfXN0YXRpYyBTbW9vdGhUb1JlZihlLHQsaSxzLHIpe3JldHVybiBwLlNsZXJwVG9SZWYoZSx0LHM9PT0wPzE6aS9zLHIpLHJ9c3RhdGljIEZyb21BcnJheShlLHQ9MCl7cmV0dXJuIG5ldyBwKGVbdF0sZVt0KzFdLGVbdCsyXSl9c3RhdGljIEZyb21GbG9hdEFycmF5KGUsdCl7cmV0dXJuIHAuRnJvbUFycmF5KGUsdCl9c3RhdGljIEZyb21BcnJheVRvUmVmKGUsdCxpKXtyZXR1cm4gaS54PWVbdF0saS55PWVbdCsxXSxpLno9ZVt0KzJdLGl9c3RhdGljIEZyb21GbG9hdEFycmF5VG9SZWYoZSx0LGkpe3JldHVybiBwLkZyb21BcnJheVRvUmVmKGUsdCxpKX1zdGF0aWMgRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMpe3JldHVybiBzLmNvcHlGcm9tRmxvYXRzKGUsdCxpKSxzfXN0YXRpYyBaZXJvKCl7cmV0dXJuIG5ldyBwKDAsMCwwKX1zdGF0aWMgT25lKCl7cmV0dXJuIG5ldyBwKDEsMSwxKX1zdGF0aWMgVXAoKXtyZXR1cm4gbmV3IHAoMCwxLDApfXN0YXRpYyBnZXQgVXBSZWFkT25seSgpe3JldHVybiBwLl9VcFJlYWRPbmx5fXN0YXRpYyBnZXQgRG93blJlYWRPbmx5KCl7cmV0dXJuIHAuX0Rvd25SZWFkT25seX1zdGF0aWMgZ2V0IFJpZ2h0UmVhZE9ubHkoKXtyZXR1cm4gcC5fUmlnaHRSZWFkT25seX1zdGF0aWMgZ2V0IExlZnRSZWFkT25seSgpe3JldHVybiBwLl9MZWZ0UmVhZE9ubHl9c3RhdGljIGdldCBMZWZ0SGFuZGVkRm9yd2FyZFJlYWRPbmx5KCl7cmV0dXJuIHAuX0xlZnRIYW5kZWRGb3J3YXJkUmVhZE9ubHl9c3RhdGljIGdldCBSaWdodEhhbmRlZEZvcndhcmRSZWFkT25seSgpe3JldHVybiBwLl9SaWdodEhhbmRlZEZvcndhcmRSZWFkT25seX1zdGF0aWMgZ2V0IFplcm9SZWFkT25seSgpe3JldHVybiBwLl9aZXJvUmVhZE9ubHl9c3RhdGljIERvd24oKXtyZXR1cm4gbmV3IHAoMCwtMSwwKX1zdGF0aWMgRm9yd2FyZChlPSExKXtyZXR1cm4gbmV3IHAoMCwwLGU/LTE6MSl9c3RhdGljIEJhY2t3YXJkKGU9ITEpe3JldHVybiBuZXcgcCgwLDAsZT8xOi0xKX1zdGF0aWMgUmlnaHQoKXtyZXR1cm4gbmV3IHAoMSwwLDApfXN0YXRpYyBMZWZ0KCl7cmV0dXJuIG5ldyBwKC0xLDAsMCl9c3RhdGljIFRyYW5zZm9ybUNvb3JkaW5hdGVzKGUsdCl7Y29uc3QgaT1wLlplcm8oKTtyZXR1cm4gcC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxpKXtyZXR1cm4gcC5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihlLl94LGUuX3ksZS5feix0LGkpLGl9c3RhdGljIFRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMscil7Y29uc3Qgbj1zLm0sYT1lKm5bMF0rdCpuWzRdK2kqbls4XStuWzEyXSxvPWUqblsxXSt0Km5bNV0raSpuWzldK25bMTNdLGg9ZSpuWzJdK3Qqbls2XStpKm5bMTBdK25bMTRdLGw9MS8oZSpuWzNdK3Qqbls3XStpKm5bMTFdK25bMTVdKTtyZXR1cm4gci54PWEqbCxyLnk9bypsLHIuej1oKmwscn1zdGF0aWMgVHJhbnNmb3JtTm9ybWFsKGUsdCl7Y29uc3QgaT1wLlplcm8oKTtyZXR1cm4gcC5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihlLHQsaSksaX1zdGF0aWMgVHJhbnNmb3JtTm9ybWFsVG9SZWYoZSx0LGkpe3JldHVybiB0aGlzLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZihlLl94LGUuX3ksZS5feix0LGkpLGl9c3RhdGljIFRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZihlLHQsaSxzLHIpe2NvbnN0IG49cy5tO3JldHVybiByLng9ZSpuWzBdK3Qqbls0XStpKm5bOF0sci55PWUqblsxXSt0Km5bNV0raSpuWzldLHIuej1lKm5bMl0rdCpuWzZdK2kqblsxMF0scn1zdGF0aWMgQ2F0bXVsbFJvbShlLHQsaSxzLHIpe2NvbnN0IG49cipyLGE9cipuLG89LjUqKDIqdC5feCsoLWUuX3graS5feCkqcisoMiplLl94LTUqdC5feCs0KmkuX3gtcy5feCkqbisoLWUuX3grMyp0Ll94LTMqaS5feCtzLl94KSphKSxoPS41KigyKnQuX3krKC1lLl95K2kuX3kpKnIrKDIqZS5feS01KnQuX3krNCppLl95LXMuX3kpKm4rKC1lLl95KzMqdC5feS0zKmkuX3krcy5feSkqYSksbD0uNSooMip0Ll96KygtZS5feitpLl96KSpyKygyKmUuX3otNSp0Ll96KzQqaS5fei1zLl96KSpuKygtZS5feiszKnQuX3otMyppLl96K3MuX3opKmEpO3JldHVybiBuZXcgZS5jb25zdHJ1Y3RvcihvLGgsbCl9c3RhdGljIENsYW1wKGUsdCxpKXtjb25zdCBzPW5ldyBlLmNvbnN0cnVjdG9yO3JldHVybiBwLkNsYW1wVG9SZWYoZSx0LGkscyksc31zdGF0aWMgQ2xhbXBUb1JlZihlLHQsaSxzKXtsZXQgcj1lLl94O3I9cj5pLl94P2kuX3g6cixyPXI8dC5feD90Ll94OnI7bGV0IG49ZS5feTtuPW4+aS5feT9pLl95Om4sbj1uPHQuX3k/dC5feTpuO2xldCBhPWUuX3o7cmV0dXJuIGE9YT5pLl96P2kuX3o6YSxhPWE8dC5fej90Ll96OmEscy5jb3B5RnJvbUZsb2F0cyhyLG4sYSksc31zdGF0aWMgQ2hlY2tFeHRlbmRzKGUsdCxpKXt0Lm1pbmltaXplSW5QbGFjZShlKSxpLm1heGltaXplSW5QbGFjZShlKX1zdGF0aWMgSGVybWl0ZShlLHQsaSxzLHIpe2NvbnN0IG49cipyLGE9cipuLG89MiphLTMqbisxLGg9LTIqYSszKm4sbD1hLTIqbityLHU9YS1uLGQ9ZS5feCpvK2kuX3gqaCt0Ll94Kmwrcy5feCp1LGY9ZS5feSpvK2kuX3kqaCt0Ll95Kmwrcy5feSp1LF89ZS5feipvK2kuX3oqaCt0Ll96Kmwrcy5feip1O3JldHVybiBuZXcgZS5jb25zdHJ1Y3RvcihkLGYsXyl9c3RhdGljIEhlcm1pdGUxc3REZXJpdmF0aXZlKGUsdCxpLHMscil7Y29uc3Qgbj1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy5IZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKSxufXN0YXRpYyBIZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKXtjb25zdCBhPXIqcjtyZXR1cm4gbi54PShhLXIpKjYqZS54KygzKmEtNCpyKzEpKnQueCsoLWErcikqNippLngrKDMqYS0yKnIpKnMueCxuLnk9KGEtcikqNiplLnkrKDMqYS00KnIrMSkqdC55KygtYStyKSo2KmkueSsoMyphLTIqcikqcy55LG4uej0oYS1yKSo2KmUueisoMyphLTQqcisxKSp0LnorKC1hK3IpKjYqaS56KygzKmEtMipyKSpzLnosbn1zdGF0aWMgTGVycChlLHQsaSl7Y29uc3Qgcz1uZXcgZS5jb25zdHJ1Y3RvcigwLDAsMCk7cmV0dXJuIHAuTGVycFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIExlcnBUb1JlZihlLHQsaSxzKXtyZXR1cm4gcy54PWUuX3grKHQuX3gtZS5feCkqaSxzLnk9ZS5feSsodC5feS1lLl95KSppLHMuej1lLl96Kyh0Ll96LWUuX3opKmksc31zdGF0aWMgRG90KGUsdCl7cmV0dXJuIGUuX3gqdC5feCtlLl95KnQuX3krZS5feip0Ll96fXN0YXRpYyBDcm9zcyhlLHQpe2NvbnN0IGk9bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIHAuQ3Jvc3NUb1JlZihlLHQsaSksaX1zdGF0aWMgQ3Jvc3NUb1JlZihlLHQsaSl7Y29uc3Qgcz1lLl95KnQuX3otZS5feip0Ll95LHI9ZS5feip0Ll94LWUuX3gqdC5feixuPWUuX3gqdC5feS1lLl95KnQuX3g7cmV0dXJuIGkuY29weUZyb21GbG9hdHMocyxyLG4pLGl9c3RhdGljIE5vcm1hbGl6ZShlKXtjb25zdCB0PXAuWmVybygpO3JldHVybiBwLk5vcm1hbGl6ZVRvUmVmKGUsdCksdH1zdGF0aWMgTm9ybWFsaXplVG9SZWYoZSx0KXtyZXR1cm4gZS5ub3JtYWxpemVUb1JlZih0KSx0fXN0YXRpYyBQcm9qZWN0KGUsdCxpLHMpe2NvbnN0IHI9bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIHAuUHJvamVjdFRvUmVmKGUsdCxpLHMscikscn1zdGF0aWMgUHJvamVjdFRvUmVmKGUsdCxpLHMscil7Y29uc3Qgbj1zLndpZHRoLGE9cy5oZWlnaHQsbz1zLngsaD1zLnksbD1LLk1hdHJpeFsxXTt4LkZyb21WYWx1ZXNUb1JlZihuLzIsMCwwLDAsMCwtYS8yLDAsMCwwLDAsLjUsMCxvK24vMixhLzIraCwuNSwxLGwpO2NvbnN0IHU9Sy5NYXRyaXhbMF07cmV0dXJuIHQubXVsdGlwbHlUb1JlZihpLHUpLHUubXVsdGlwbHlUb1JlZihsLHUpLHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLHUscikscn1zdGF0aWMgUmVmbGVjdChlLHQpe3JldHVybiB0aGlzLlJlZmxlY3RUb1JlZihlLHQsbmV3IHApfXN0YXRpYyBSZWZsZWN0VG9SZWYoZSx0LGkpe2NvbnN0IHM9RC5WZWN0b3IzWzBdO3JldHVybiBzLmNvcHlGcm9tKHQpLnNjYWxlSW5QbGFjZSgyKnAuRG90KGUsdCkpLGkuY29weUZyb20oZSkuc3VidHJhY3RJblBsYWNlKHMpfXN0YXRpYyBfVW5wcm9qZWN0RnJvbUludmVydGVkTWF0cml4VG9SZWYoZSx0LGkpe3AuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLHQsaSk7Y29uc3Qgcz10Lm0scj1lLl94KnNbM10rZS5feSpzWzddK2UuX3oqc1sxMV0rc1sxNV07cmV0dXJuIFguV2l0aGluRXBzaWxvbihyLDEpJiZpLnNjYWxlSW5QbGFjZSgxL3IpLGl9c3RhdGljIFVucHJvamVjdEZyb21UcmFuc2Zvcm0oZSx0LGkscyxyKXtyZXR1cm4gdGhpcy5VbnByb2plY3QoZSx0LGkscyxyLHguSWRlbnRpdHlSZWFkT25seSl9c3RhdGljIFVucHJvamVjdChlLHQsaSxzLHIsbil7Y29uc3QgYT1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gcC5VbnByb2plY3RUb1JlZihlLHQsaSxzLHIsbixhKSxhfXN0YXRpYyBVbnByb2plY3RUb1JlZihlLHQsaSxzLHIsbixhKXtyZXR1cm4gcC5VbnByb2plY3RGbG9hdHNUb1JlZihlLl94LGUuX3ksZS5feix0LGkscyxyLG4sYSksYX1zdGF0aWMgVW5wcm9qZWN0RmxvYXRzVG9SZWYoZSx0LGkscyxyLG4sYSxvLGgpe3ZhciBsO2NvbnN0IHU9Sy5NYXRyaXhbMF07bi5tdWx0aXBseVRvUmVmKGEsdSksdS5tdWx0aXBseVRvUmVmKG8sdSksdS5pbnZlcnQoKTtjb25zdCBkPUsuVmVjdG9yM1swXTtyZXR1cm4gZC54PWUvcyoyLTEsZC55PS0odC9yKjItMSksISgobD1mZS5MYXN0Q3JlYXRlZEVuZ2luZSk9PT1udWxsfHxsPT09dm9pZCAwKSYmbC5pc05EQ0hhbGZaUmFuZ2U/ZC56PWk6ZC56PTIqaS0xLHAuX1VucHJvamVjdEZyb21JbnZlcnRlZE1hdHJpeFRvUmVmKGQsdSxoKSxofXN0YXRpYyBNaW5pbWl6ZShlLHQpe2NvbnN0IGk9bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIGkuY29weUZyb20oZSksaS5taW5pbWl6ZUluUGxhY2UodCksaX1zdGF0aWMgTWF4aW1pemUoZSx0KXtjb25zdCBpPW5ldyBlLmNvbnN0cnVjdG9yO3JldHVybiBpLmNvcHlGcm9tKGUpLGkubWF4aW1pemVJblBsYWNlKHQpLGl9c3RhdGljIERpc3RhbmNlKGUsdCl7cmV0dXJuIE1hdGguc3FydChwLkRpc3RhbmNlU3F1YXJlZChlLHQpKX1zdGF0aWMgRGlzdGFuY2VTcXVhcmVkKGUsdCl7Y29uc3QgaT1lLl94LXQuX3gscz1lLl95LXQuX3kscj1lLl96LXQuX3o7cmV0dXJuIGkqaStzKnMrcipyfXN0YXRpYyBQcm9qZWN0T25UcmlhbmdsZVRvUmVmKGUsdCxpLHMscil7Y29uc3Qgbj1LLlZlY3RvcjNbMF0sYT1LLlZlY3RvcjNbMV0sbz1LLlZlY3RvcjNbMl0saD1LLlZlY3RvcjNbM10sbD1LLlZlY3RvcjNbNF07aS5zdWJ0cmFjdFRvUmVmKHQsbikscy5zdWJ0cmFjdFRvUmVmKHQsYSkscy5zdWJ0cmFjdFRvUmVmKGksbyk7Y29uc3QgdT1uLmxlbmd0aCgpLGQ9YS5sZW5ndGgoKSxmPW8ubGVuZ3RoKCk7aWYodTx4ZXx8ZDx4ZXx8Zjx4ZSlyZXR1cm4gci5jb3B5RnJvbSh0KSxwLkRpc3RhbmNlKGUsdCk7ZS5zdWJ0cmFjdFRvUmVmKHQsbCkscC5Dcm9zc1RvUmVmKG4sYSxoKTtjb25zdCBfPWgubGVuZ3RoKCk7aWYoXzx4ZSlyZXR1cm4gci5jb3B5RnJvbSh0KSxwLkRpc3RhbmNlKGUsdCk7aC5ub3JtYWxpemVGcm9tTGVuZ3RoKF8pO2xldCBFPWwubGVuZ3RoKCk7aWYoRTx4ZSlyZXR1cm4gci5jb3B5RnJvbSh0KSwwO2wubm9ybWFsaXplRnJvbUxlbmd0aChFKTtjb25zdCBtPXAuRG90KGgsbCksdj1LLlZlY3RvcjNbNV0sUz1LLlZlY3RvcjNbNl07di5jb3B5RnJvbShoKS5zY2FsZUluUGxhY2UoLUUqbSksUy5jb3B5RnJvbShlKS5hZGRJblBsYWNlKHYpO2NvbnN0IHk9Sy5WZWN0b3IzWzRdLEE9Sy5WZWN0b3IzWzVdLEM9Sy5WZWN0b3IzWzddLGI9Sy5WZWN0b3IzWzhdO3kuY29weUZyb20obikuc2NhbGVJblBsYWNlKDEvdSksYi5jb3B5RnJvbShhKS5zY2FsZUluUGxhY2UoMS9kKSx5LmFkZEluUGxhY2UoYikuc2NhbGVJblBsYWNlKC0xKSxBLmNvcHlGcm9tKG4pLnNjYWxlSW5QbGFjZSgtMS91KSxiLmNvcHlGcm9tKG8pLnNjYWxlSW5QbGFjZSgxL2YpLEEuYWRkSW5QbGFjZShiKS5zY2FsZUluUGxhY2UoLTEpLEMuY29weUZyb20obykuc2NhbGVJblBsYWNlKC0xL2YpLGIuY29weUZyb20oYSkuc2NhbGVJblBsYWNlKC0xL2QpLEMuYWRkSW5QbGFjZShiKS5zY2FsZUluUGxhY2UoLTEpO2NvbnN0IE09Sy5WZWN0b3IzWzldO2xldCBMO00uY29weUZyb20oUykuc3VidHJhY3RJblBsYWNlKHQpLHAuQ3Jvc3NUb1JlZih5LE0sYiksTD1wLkRvdChiLGgpO2NvbnN0IGs9TDtNLmNvcHlGcm9tKFMpLnN1YnRyYWN0SW5QbGFjZShpKSxwLkNyb3NzVG9SZWYoQSxNLGIpLEw9cC5Eb3QoYixoKTtjb25zdCB3PUw7TS5jb3B5RnJvbShTKS5zdWJ0cmFjdEluUGxhY2UocykscC5Dcm9zc1RvUmVmKEMsTSxiKSxMPXAuRG90KGIsaCk7Y29uc3QgZGU9TCxjZT1LLlZlY3RvcjNbMTBdO2xldCBzZSx0ZTtrPjAmJnc8MD8oY2UuY29weUZyb20obiksc2U9dCx0ZT1pKTp3PjAmJmRlPDA/KGNlLmNvcHlGcm9tKG8pLHNlPWksdGU9cyk6KGNlLmNvcHlGcm9tKGEpLnNjYWxlSW5QbGFjZSgtMSksc2U9cyx0ZT10KTtjb25zdCBGZT1LLlZlY3RvcjNbOV0sd2U9Sy5WZWN0b3IzWzRdO2lmKHNlLnN1YnRyYWN0VG9SZWYoUyxiKSx0ZS5zdWJ0cmFjdFRvUmVmKFMsRmUpLHAuQ3Jvc3NUb1JlZihiLEZlLHdlKSwhKHAuRG90KHdlLGgpPDApKXJldHVybiByLmNvcHlGcm9tKFMpLE1hdGguYWJzKEUqbSk7Y29uc3QgS2U9Sy5WZWN0b3IzWzVdO3AuQ3Jvc3NUb1JlZihjZSx3ZSxLZSksS2Uubm9ybWFsaXplKCk7Y29uc3QgWWU9Sy5WZWN0b3IzWzldO1llLmNvcHlGcm9tKHNlKS5zdWJ0cmFjdEluUGxhY2UoUyk7Y29uc3QgcHQ9WWUubGVuZ3RoKCk7aWYocHQ8eGUpcmV0dXJuIHIuY29weUZyb20oc2UpLHAuRGlzdGFuY2UoZSxzZSk7WWUubm9ybWFsaXplRnJvbUxlbmd0aChwdCk7Y29uc3QgaHQ9cC5Eb3QoS2UsWWUpLHd0PUsuVmVjdG9yM1s3XTt3dC5jb3B5RnJvbShTKS5hZGRJblBsYWNlKEtlLnNjYWxlSW5QbGFjZShwdCpodCkpLGIuY29weUZyb20od3QpLnN1YnRyYWN0SW5QbGFjZShzZSksRT1jZS5sZW5ndGgoKSxjZS5ub3JtYWxpemVGcm9tTGVuZ3RoKEUpO2xldCBzaT1wLkRvdChiLGNlKS9NYXRoLm1heChFLHhlKTtyZXR1cm4gc2k9WC5DbGFtcChzaSwwLDEpLHd0LmNvcHlGcm9tKHNlKS5hZGRJblBsYWNlKGNlLnNjYWxlSW5QbGFjZShzaSpFKSksci5jb3B5RnJvbSh3dCkscC5EaXN0YW5jZShlLHd0KX1zdGF0aWMgQ2VudGVyKGUsdCl7cmV0dXJuIHAuQ2VudGVyVG9SZWYoZSx0LHAuWmVybygpKX1zdGF0aWMgQ2VudGVyVG9SZWYoZSx0LGkpe3JldHVybiBpLmNvcHlGcm9tRmxvYXRzKChlLl94K3QuX3gpLzIsKGUuX3krdC5feSkvMiwoZS5feit0Ll96KS8yKX1zdGF0aWMgUm90YXRpb25Gcm9tQXhpcyhlLHQsaSl7Y29uc3Qgcz1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gcC5Sb3RhdGlvbkZyb21BeGlzVG9SZWYoZSx0LGkscyksc31zdGF0aWMgUm90YXRpb25Gcm9tQXhpc1RvUmVmKGUsdCxpLHMpe2NvbnN0IHI9Sy5RdWF0ZXJuaW9uWzBdO3JldHVybiBaLlJvdGF0aW9uUXVhdGVybmlvbkZyb21BeGlzVG9SZWYoZSx0LGksciksci50b0V1bGVyQW5nbGVzVG9SZWYocyksc319cC5fVXBSZWFkT25seT1wLlVwKCkscC5fRG93blJlYWRPbmx5PXAuRG93bigpLHAuX0xlZnRIYW5kZWRGb3J3YXJkUmVhZE9ubHk9cC5Gb3J3YXJkKCExKSxwLl9SaWdodEhhbmRlZEZvcndhcmRSZWFkT25seT1wLkZvcndhcmQoITApLHAuX1JpZ2h0UmVhZE9ubHk9cC5SaWdodCgpLHAuX0xlZnRSZWFkT25seT1wLkxlZnQoKSxwLl9aZXJvUmVhZE9ubHk9cC5aZXJvKCk7Y2xhc3MgQ2V7Y29uc3RydWN0b3IoZT0wLHQ9MCxpPTAscz0wKXt0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLno9aSx0aGlzLnc9c310b1N0cmluZygpe3JldHVybmB7WDogJHt0aGlzLnh9IFk6ICR7dGhpcy55fSBaOiAke3RoaXMuen0gVzogJHt0aGlzLnd9fWB9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlZlY3RvcjQifWdldEhhc2hDb2RlKCl7Y29uc3QgZT1zdCh0aGlzLngpLHQ9c3QodGhpcy55KSxpPXN0KHRoaXMueikscz1zdCh0aGlzLncpO2xldCByPWU7cmV0dXJuIHI9ciozOTdedCxyPXIqMzk3Xmkscj1yKjM5N15zLHJ9YXNBcnJheSgpe2NvbnN0IGU9bmV3IEFycmF5O3JldHVybiB0aGlzLnRvQXJyYXkoZSwwKSxlfXRvQXJyYXkoZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9MCksZVt0XT10aGlzLngsZVt0KzFdPXRoaXMueSxlW3QrMl09dGhpcy56LGVbdCszXT10aGlzLncsdGhpc31mcm9tQXJyYXkoZSx0PTApe3JldHVybiBDZS5Gcm9tQXJyYXlUb1JlZihlLHQsdGhpcyksdGhpc31hZGRJblBsYWNlKGUpe3JldHVybiB0aGlzLngrPWUueCx0aGlzLnkrPWUueSx0aGlzLnorPWUueix0aGlzLncrPWUudyx0aGlzfWFkZChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54K2UueCx0aGlzLnkrZS55LHRoaXMueitlLnosdGhpcy53K2Uudyl9YWRkVG9SZWYoZSx0KXtyZXR1cm4gdC54PXRoaXMueCtlLngsdC55PXRoaXMueStlLnksdC56PXRoaXMueitlLnosdC53PXRoaXMudytlLncsdH1zdWJ0cmFjdEluUGxhY2UoZSl7cmV0dXJuIHRoaXMueC09ZS54LHRoaXMueS09ZS55LHRoaXMuei09ZS56LHRoaXMudy09ZS53LHRoaXN9c3VidHJhY3QoZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueC1lLngsdGhpcy55LWUueSx0aGlzLnotZS56LHRoaXMudy1lLncpfXN1YnRyYWN0VG9SZWYoZSx0KXtyZXR1cm4gdC54PXRoaXMueC1lLngsdC55PXRoaXMueS1lLnksdC56PXRoaXMuei1lLnosdC53PXRoaXMudy1lLncsdH1zdWJ0cmFjdEZyb21GbG9hdHMoZSx0LGkscyl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueC1lLHRoaXMueS10LHRoaXMuei1pLHRoaXMudy1zKX1zdWJ0cmFjdEZyb21GbG9hdHNUb1JlZihlLHQsaSxzLHIpe3JldHVybiByLng9dGhpcy54LWUsci55PXRoaXMueS10LHIuej10aGlzLnotaSxyLnc9dGhpcy53LXMscn1uZWdhdGUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoLXRoaXMueCwtdGhpcy55LC10aGlzLnosLXRoaXMudyl9bmVnYXRlSW5QbGFjZSgpe3JldHVybiB0aGlzLngqPS0xLHRoaXMueSo9LTEsdGhpcy56Kj0tMSx0aGlzLncqPS0xLHRoaXN9bmVnYXRlVG9SZWYoZSl7cmV0dXJuIGUuY29weUZyb21GbG9hdHModGhpcy54Ki0xLHRoaXMueSotMSx0aGlzLnoqLTEsdGhpcy53Ki0xKX1zY2FsZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpcy56Kj1lLHRoaXMudyo9ZSx0aGlzfXNjYWxlKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngqZSx0aGlzLnkqZSx0aGlzLnoqZSx0aGlzLncqZSl9c2NhbGVUb1JlZihlLHQpe3JldHVybiB0Lng9dGhpcy54KmUsdC55PXRoaXMueSplLHQuej10aGlzLnoqZSx0Lnc9dGhpcy53KmUsdH1zY2FsZUFuZEFkZFRvUmVmKGUsdCl7cmV0dXJuIHQueCs9dGhpcy54KmUsdC55Kz10aGlzLnkqZSx0LnorPXRoaXMueiplLHQudys9dGhpcy53KmUsdH1lcXVhbHMoZSl7cmV0dXJuIGUmJnRoaXMueD09PWUueCYmdGhpcy55PT09ZS55JiZ0aGlzLno9PT1lLnomJnRoaXMudz09PWUud31lcXVhbHNXaXRoRXBzaWxvbihlLHQ9eGUpe3JldHVybiBlJiZYLldpdGhpbkVwc2lsb24odGhpcy54LGUueCx0KSYmWC5XaXRoaW5FcHNpbG9uKHRoaXMueSxlLnksdCkmJlguV2l0aGluRXBzaWxvbih0aGlzLnosZS56LHQpJiZYLldpdGhpbkVwc2lsb24odGhpcy53LGUudyx0KX1lcXVhbHNUb0Zsb2F0cyhlLHQsaSxzKXtyZXR1cm4gdGhpcy54PT09ZSYmdGhpcy55PT09dCYmdGhpcy56PT09aSYmdGhpcy53PT09c31tdWx0aXBseUluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCo9ZS54LHRoaXMueSo9ZS55LHRoaXMueio9ZS56LHRoaXMudyo9ZS53LHRoaXN9bXVsdGlwbHkoZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCplLngsdGhpcy55KmUueSx0aGlzLnoqZS56LHRoaXMudyplLncpfW11bHRpcGx5VG9SZWYoZSx0KXtyZXR1cm4gdC54PXRoaXMueCplLngsdC55PXRoaXMueSplLnksdC56PXRoaXMueiplLnosdC53PXRoaXMudyplLncsdH1tdWx0aXBseUJ5RmxvYXRzKGUsdCxpLHMpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngqZSx0aGlzLnkqdCx0aGlzLnoqaSx0aGlzLncqcyl9ZGl2aWRlKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngvZS54LHRoaXMueS9lLnksdGhpcy56L2Uueix0aGlzLncvZS53KX1kaXZpZGVUb1JlZihlLHQpe3JldHVybiB0Lng9dGhpcy54L2UueCx0Lnk9dGhpcy55L2UueSx0Lno9dGhpcy56L2Uueix0Lnc9dGhpcy53L2Uudyx0fWRpdmlkZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMuZGl2aWRlVG9SZWYoZSx0aGlzKX1taW5pbWl6ZUluUGxhY2UoZSl7cmV0dXJuIGUueDx0aGlzLngmJih0aGlzLng9ZS54KSxlLnk8dGhpcy55JiYodGhpcy55PWUueSksZS56PHRoaXMueiYmKHRoaXMuej1lLnopLGUudzx0aGlzLncmJih0aGlzLnc9ZS53KSx0aGlzfW1heGltaXplSW5QbGFjZShlKXtyZXR1cm4gZS54PnRoaXMueCYmKHRoaXMueD1lLngpLGUueT50aGlzLnkmJih0aGlzLnk9ZS55KSxlLno+dGhpcy56JiYodGhpcy56PWUueiksZS53PnRoaXMudyYmKHRoaXMudz1lLncpLHRoaXN9Zmxvb3IoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoTWF0aC5mbG9vcih0aGlzLngpLE1hdGguZmxvb3IodGhpcy55KSxNYXRoLmZsb29yKHRoaXMueiksTWF0aC5mbG9vcih0aGlzLncpKX1mcmFjdCgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngtTWF0aC5mbG9vcih0aGlzLngpLHRoaXMueS1NYXRoLmZsb29yKHRoaXMueSksdGhpcy56LU1hdGguZmxvb3IodGhpcy56KSx0aGlzLnctTWF0aC5mbG9vcih0aGlzLncpKX1sZW5ndGgoKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56K3RoaXMudyp0aGlzLncpfWxlbmd0aFNxdWFyZWQoKXtyZXR1cm4gdGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55K3RoaXMueip0aGlzLnordGhpcy53KnRoaXMud31ub3JtYWxpemUoKXtjb25zdCBlPXRoaXMubGVuZ3RoKCk7cmV0dXJuIGU9PT0wP3RoaXM6dGhpcy5zY2FsZUluUGxhY2UoMS9lKX10b1ZlY3RvcjMoKXtyZXR1cm4gbmV3IHAodGhpcy54LHRoaXMueSx0aGlzLnopfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCx0aGlzLnksdGhpcy56LHRoaXMudyl9Y29weUZyb20oZSl7cmV0dXJuIHRoaXMueD1lLngsdGhpcy55PWUueSx0aGlzLno9ZS56LHRoaXMudz1lLncsdGhpc31jb3B5RnJvbUZsb2F0cyhlLHQsaSxzKXtyZXR1cm4gdGhpcy54PWUsdGhpcy55PXQsdGhpcy56PWksdGhpcy53PXMsdGhpc31zZXQoZSx0LGkscyl7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0LGkscyl9c2V0QWxsKGUpe3JldHVybiB0aGlzLng9dGhpcy55PXRoaXMuej10aGlzLnc9ZSx0aGlzfXN0YXRpYyBGcm9tQXJyYXkoZSx0KXtyZXR1cm4gdHx8KHQ9MCksbmV3IENlKGVbdF0sZVt0KzFdLGVbdCsyXSxlW3QrM10pfXN0YXRpYyBGcm9tQXJyYXlUb1JlZihlLHQsaSl7cmV0dXJuIGkueD1lW3RdLGkueT1lW3QrMV0saS56PWVbdCsyXSxpLnc9ZVt0KzNdLGl9c3RhdGljIEZyb21GbG9hdEFycmF5VG9SZWYoZSx0LGkpe3JldHVybiBDZS5Gcm9tQXJyYXlUb1JlZihlLHQsaSksaX1zdGF0aWMgRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMscil7cmV0dXJuIHIueD1lLHIueT10LHIuej1pLHIudz1zLHJ9c3RhdGljIFplcm8oKXtyZXR1cm4gbmV3IENlKDAsMCwwLDApfXN0YXRpYyBPbmUoKXtyZXR1cm4gbmV3IENlKDEsMSwxLDEpfXN0YXRpYyBnZXQgWmVyb1JlYWRPbmx5KCl7cmV0dXJuIENlLl9aZXJvUmVhZE9ubHl9c3RhdGljIE5vcm1hbGl6ZShlKXtjb25zdCB0PUNlLlplcm8oKTtyZXR1cm4gQ2UuTm9ybWFsaXplVG9SZWYoZSx0KSx0fXN0YXRpYyBOb3JtYWxpemVUb1JlZihlLHQpe3JldHVybiB0LmNvcHlGcm9tKGUpLHQubm9ybWFsaXplKCksdH1zdGF0aWMgTWluaW1pemUoZSx0KXtjb25zdCBpPW5ldyBlLmNvbnN0cnVjdG9yO3JldHVybiBpLmNvcHlGcm9tKGUpLGkubWluaW1pemVJblBsYWNlKHQpLGl9c3RhdGljIE1heGltaXplKGUsdCl7Y29uc3QgaT1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gaS5jb3B5RnJvbShlKSxpLm1heGltaXplSW5QbGFjZSh0KSxpfXN0YXRpYyBEaXN0YW5jZShlLHQpe3JldHVybiBNYXRoLnNxcnQoQ2UuRGlzdGFuY2VTcXVhcmVkKGUsdCkpfXN0YXRpYyBEaXN0YW5jZVNxdWFyZWQoZSx0KXtjb25zdCBpPWUueC10Lngscz1lLnktdC55LHI9ZS56LXQueixuPWUudy10Lnc7cmV0dXJuIGkqaStzKnMrcipyK24qbn1zdGF0aWMgQ2VudGVyKGUsdCl7cmV0dXJuIENlLkNlbnRlclRvUmVmKGUsdCxDZS5aZXJvKCkpfXN0YXRpYyBDZW50ZXJUb1JlZihlLHQsaSl7cmV0dXJuIGkuY29weUZyb21GbG9hdHMoKGUueCt0LngpLzIsKGUueSt0LnkpLzIsKGUueit0LnopLzIsKGUudyt0LncpLzIpfXN0YXRpYyBUcmFuc2Zvcm1Db29yZGluYXRlcyhlLHQpe2NvbnN0IGk9Q2UuWmVybygpO3JldHVybiBDZS5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxpKXtyZXR1cm4gQ2UuVHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYoZS5feCxlLl95LGUuX3osdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihlLHQsaSxzLHIpe2NvbnN0IG49cy5tLGE9ZSpuWzBdK3Qqbls0XStpKm5bOF0rblsxMl0sbz1lKm5bMV0rdCpuWzVdK2kqbls5XStuWzEzXSxoPWUqblsyXSt0Km5bNl0raSpuWzEwXStuWzE0XSxsPWUqblszXSt0Km5bN10raSpuWzExXStuWzE1XTtyZXR1cm4gci54PWEsci55PW8sci56PWgsci53PWwscn1zdGF0aWMgVHJhbnNmb3JtTm9ybWFsKGUsdCl7Y29uc3QgaT1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gQ2UuVHJhbnNmb3JtTm9ybWFsVG9SZWYoZSx0LGkpLGl9c3RhdGljIFRyYW5zZm9ybU5vcm1hbFRvUmVmKGUsdCxpKXtjb25zdCBzPXQubSxyPWUueCpzWzBdK2UueSpzWzRdK2UueipzWzhdLG49ZS54KnNbMV0rZS55KnNbNV0rZS56KnNbOV0sYT1lLngqc1syXStlLnkqc1s2XStlLnoqc1sxMF07cmV0dXJuIGkueD1yLGkueT1uLGkuej1hLGkudz1lLncsaX1zdGF0aWMgVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMscixuKXtjb25zdCBhPXIubTtyZXR1cm4gbi54PWUqYVswXSt0KmFbNF0raSphWzhdLG4ueT1lKmFbMV0rdCphWzVdK2kqYVs5XSxuLno9ZSphWzJdK3QqYVs2XStpKmFbMTBdLG4udz1zLG59c3RhdGljIEZyb21WZWN0b3IzKGUsdD0wKXtyZXR1cm4gbmV3IENlKGUuX3gsZS5feSxlLl96LHQpfX1DZS5fWmVyb1JlYWRPbmx5PUNlLlplcm8oKTtjbGFzcyBae2NvbnN0cnVjdG9yKGU9MCx0PTAsaT0wLHM9MSl7dGhpcy5faXNEaXJ0eT0hMCx0aGlzLl94PWUsdGhpcy5feT10LHRoaXMuX3o9aSx0aGlzLl93PXN9Z2V0IHgoKXtyZXR1cm4gdGhpcy5feH1zZXQgeChlKXt0aGlzLl94PWUsdGhpcy5faXNEaXJ0eT0hMH1nZXQgeSgpe3JldHVybiB0aGlzLl95fXNldCB5KGUpe3RoaXMuX3k9ZSx0aGlzLl9pc0RpcnR5PSEwfWdldCB6KCl7cmV0dXJuIHRoaXMuX3p9c2V0IHooZSl7dGhpcy5fej1lLHRoaXMuX2lzRGlydHk9ITB9Z2V0IHcoKXtyZXR1cm4gdGhpcy5fd31zZXQgdyhlKXt0aGlzLl93PWUsdGhpcy5faXNEaXJ0eT0hMH10b1N0cmluZygpe3JldHVybmB7WDogJHt0aGlzLl94fSBZOiAke3RoaXMuX3l9IFo6ICR7dGhpcy5fen0gVzogJHt0aGlzLl93fX1gfWdldENsYXNzTmFtZSgpe3JldHVybiJRdWF0ZXJuaW9uIn1nZXRIYXNoQ29kZSgpe2NvbnN0IGU9c3QodGhpcy5feCksdD1zdCh0aGlzLl95KSxpPXN0KHRoaXMuX3opLHM9c3QodGhpcy5fdyk7bGV0IHI9ZTtyZXR1cm4gcj1yKjM5N150LHI9ciozOTdeaSxyPXIqMzk3XnMscn1hc0FycmF5KCl7cmV0dXJuW3RoaXMuX3gsdGhpcy5feSx0aGlzLl96LHRoaXMuX3ddfXRvQXJyYXkoZSx0PTApe3JldHVybiBlW3RdPXRoaXMueCxlW3QrMV09dGhpcy55LGVbdCsyXT10aGlzLnosZVt0KzNdPXRoaXMudyx0aGlzfWVxdWFscyhlKXtyZXR1cm4gZSYmdGhpcy5feD09PWUuX3gmJnRoaXMuX3k9PT1lLl95JiZ0aGlzLl96PT09ZS5feiYmdGhpcy5fdz09PWUuX3d9ZXF1YWxzV2l0aEVwc2lsb24oZSx0PXhlKXtyZXR1cm4gZSYmWC5XaXRoaW5FcHNpbG9uKHRoaXMuX3gsZS5feCx0KSYmWC5XaXRoaW5FcHNpbG9uKHRoaXMuX3ksZS5feSx0KSYmWC5XaXRoaW5FcHNpbG9uKHRoaXMuX3osZS5feix0KSYmWC5XaXRoaW5FcHNpbG9uKHRoaXMuX3csZS5fdyx0KX1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94LHRoaXMuX3ksdGhpcy5feix0aGlzLl93KX1jb3B5RnJvbShlKXtyZXR1cm4gdGhpcy54PWUuX3gsdGhpcy55PWUuX3ksdGhpcy56PWUuX3osdGhpcy53PWUuX3csdGhpc31jb3B5RnJvbUZsb2F0cyhlLHQsaSxzKXtyZXR1cm4gdGhpcy54PWUsdGhpcy55PXQsdGhpcy56PWksdGhpcy53PXMsdGhpc31zZXQoZSx0LGkscyl7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0LGkscyl9YWRkKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94K2UuX3gsdGhpcy5feStlLl95LHRoaXMuX3orZS5feix0aGlzLl93K2UuX3cpfWFkZEluUGxhY2UoZSl7cmV0dXJuIHRoaXMuX3grPWUuX3gsdGhpcy5feSs9ZS5feSx0aGlzLl96Kz1lLl96LHRoaXMuX3crPWUuX3csdGhpc31zdWJ0cmFjdChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feC1lLl94LHRoaXMuX3ktZS5feSx0aGlzLl96LWUuX3osdGhpcy5fdy1lLl93KX1zdWJ0cmFjdEluUGxhY2UoZSl7cmV0dXJuIHRoaXMuX3gtPWUuX3gsdGhpcy5feS09ZS5feSx0aGlzLl96LT1lLl96LHRoaXMuX3ctPWUuX3csdGhpc31zY2FsZShlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feCplLHRoaXMuX3kqZSx0aGlzLl96KmUsdGhpcy5fdyplKX1zY2FsZVRvUmVmKGUsdCl7cmV0dXJuIHQueD10aGlzLl94KmUsdC55PXRoaXMuX3kqZSx0Lno9dGhpcy5feiplLHQudz10aGlzLl93KmUsdH1zY2FsZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpcy56Kj1lLHRoaXMudyo9ZSx0aGlzfXNjYWxlQW5kQWRkVG9SZWYoZSx0KXtyZXR1cm4gdC54Kz10aGlzLl94KmUsdC55Kz10aGlzLl95KmUsdC56Kz10aGlzLl96KmUsdC53Kz10aGlzLl93KmUsdH1tdWx0aXBseShlKXtjb25zdCB0PW5ldyB0aGlzLmNvbnN0cnVjdG9yKDAsMCwwLDEpO3JldHVybiB0aGlzLm11bHRpcGx5VG9SZWYoZSx0KSx0fW11bHRpcGx5VG9SZWYoZSx0KXtjb25zdCBpPXRoaXMuX3gqZS5fdyt0aGlzLl95KmUuX3otdGhpcy5feiplLl95K3RoaXMuX3cqZS5feCxzPS10aGlzLl94KmUuX3ordGhpcy5feSplLl93K3RoaXMuX3oqZS5feCt0aGlzLl93KmUuX3kscj10aGlzLl94KmUuX3ktdGhpcy5feSplLl94K3RoaXMuX3oqZS5fdyt0aGlzLl93KmUuX3osbj0tdGhpcy5feCplLl94LXRoaXMuX3kqZS5feS10aGlzLl96KmUuX3ordGhpcy5fdyplLl93O3JldHVybiB0LmNvcHlGcm9tRmxvYXRzKGkscyxyLG4pLHR9bXVsdGlwbHlJblBsYWNlKGUpe3JldHVybiB0aGlzLm11bHRpcGx5VG9SZWYoZSx0aGlzKSx0aGlzfWNvbmp1Z2F0ZVRvUmVmKGUpe3JldHVybiBlLmNvcHlGcm9tRmxvYXRzKC10aGlzLl94LC10aGlzLl95LC10aGlzLl96LHRoaXMuX3cpLGV9Y29uanVnYXRlSW5QbGFjZSgpe3JldHVybiB0aGlzLngqPS0xLHRoaXMueSo9LTEsdGhpcy56Kj0tMSx0aGlzfWNvbmp1Z2F0ZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigtdGhpcy5feCwtdGhpcy5feSwtdGhpcy5feix0aGlzLl93KX1pbnZlcnQoKXtjb25zdCBlPXRoaXMuY29uanVnYXRlKCksdD10aGlzLmxlbmd0aFNxdWFyZWQoKTtyZXR1cm4gdD09MHx8dD09MXx8ZS5zY2FsZUluUGxhY2UoMS90KSxlfWludmVydEluUGxhY2UoKXt0aGlzLmNvbmp1Z2F0ZUluUGxhY2UoKTtjb25zdCBlPXRoaXMubGVuZ3RoU3F1YXJlZCgpO3JldHVybiBlPT0wfHxlPT0xP3RoaXM6KHRoaXMuc2NhbGVJblBsYWNlKDEvZSksdGhpcyl9bGVuZ3RoU3F1YXJlZCgpe3JldHVybiB0aGlzLl94KnRoaXMuX3grdGhpcy5feSp0aGlzLl95K3RoaXMuX3oqdGhpcy5feit0aGlzLl93KnRoaXMuX3d9bGVuZ3RoKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLmxlbmd0aFNxdWFyZWQoKSl9bm9ybWFsaXplKCl7Y29uc3QgZT10aGlzLmxlbmd0aCgpO2lmKGU9PT0wKXJldHVybiB0aGlzO2NvbnN0IHQ9MS9lO3JldHVybiB0aGlzLnNjYWxlSW5QbGFjZSh0KSx0aGlzfW5vcm1hbGl6ZVRvTmV3KCl7Y29uc3QgZT10aGlzLmxlbmd0aCgpO2lmKGU9PT0wKXJldHVybiB0aGlzLmNsb25lKCk7Y29uc3QgdD0xL2U7cmV0dXJuIHRoaXMuc2NhbGUodCl9dG9FdWxlckFuZ2xlcygpe2NvbnN0IGU9cC5aZXJvKCk7cmV0dXJuIHRoaXMudG9FdWxlckFuZ2xlc1RvUmVmKGUpLGV9dG9FdWxlckFuZ2xlc1RvUmVmKGUpe2NvbnN0IHQ9dGhpcy5feixpPXRoaXMuX3gscz10aGlzLl95LHI9dGhpcy5fdyxuPXMqdC1pKnIsYT0uNDk5OTk5OTtpZihuPC1hKWUueT0yKk1hdGguYXRhbjIocyxyKSxlLng9TWF0aC5QSS8yLGUuej0wO2Vsc2UgaWYobj5hKWUueT0yKk1hdGguYXRhbjIocyxyKSxlLng9LU1hdGguUEkvMixlLno9MDtlbHNle2NvbnN0IG89cipyLGg9dCp0LGw9aSppLHU9cypzO2Uuej1NYXRoLmF0YW4yKDIqKGkqcyt0KnIpLC1oLWwrdStvKSxlLng9TWF0aC5hc2luKC0yKm4pLGUueT1NYXRoLmF0YW4yKDIqKHQqaStzKnIpLGgtbC11K28pfXJldHVybiBlfXRvUm90YXRpb25NYXRyaXgoZSl7cmV0dXJuIHguRnJvbVF1YXRlcm5pb25Ub1JlZih0aGlzLGUpLGV9ZnJvbVJvdGF0aW9uTWF0cml4KGUpe3JldHVybiBaLkZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmKGUsdGhpcyksdGhpc31zdGF0aWMgRnJvbVJvdGF0aW9uTWF0cml4KGUpe2NvbnN0IHQ9bmV3IFo7cmV0dXJuIFouRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYoZSx0KSx0fXN0YXRpYyBGcm9tUm90YXRpb25NYXRyaXhUb1JlZihlLHQpe2NvbnN0IGk9ZS5tLHM9aVswXSxyPWlbNF0sbj1pWzhdLGE9aVsxXSxvPWlbNV0saD1pWzldLGw9aVsyXSx1PWlbNl0sZD1pWzEwXSxmPXMrbytkO2xldCBfO3JldHVybiBmPjA/KF89LjUvTWF0aC5zcXJ0KGYrMSksdC53PS4yNS9fLHQueD0odS1oKSpfLHQueT0obi1sKSpfLHQuej0oYS1yKSpfKTpzPm8mJnM+ZD8oXz0yKk1hdGguc3FydCgxK3Mtby1kKSx0Lnc9KHUtaCkvXyx0Lng9LjI1Kl8sdC55PShyK2EpL18sdC56PShuK2wpL18pOm8+ZD8oXz0yKk1hdGguc3FydCgxK28tcy1kKSx0Lnc9KG4tbCkvXyx0Lng9KHIrYSkvXyx0Lnk9LjI1Kl8sdC56PShoK3UpL18pOihfPTIqTWF0aC5zcXJ0KDErZC1zLW8pLHQudz0oYS1yKS9fLHQueD0obitsKS9fLHQueT0oaCt1KS9fLHQuej0uMjUqXyksdH1zdGF0aWMgRG90KGUsdCl7cmV0dXJuIGUuX3gqdC5feCtlLl95KnQuX3krZS5feip0Ll96K2UuX3cqdC5fd31zdGF0aWMgQXJlQ2xvc2UoZSx0LGk9LjEpe2NvbnN0IHM9Wi5Eb3QoZSx0KTtyZXR1cm4gMS1zKnM8PWl9c3RhdGljIFNtb290aFRvUmVmKGUsdCxpLHMscil7bGV0IG49cz09PTA/MTppL3M7cmV0dXJuIG49WC5DbGFtcChuLDAsMSksWi5TbGVycFRvUmVmKGUsdCxuLHIpLHJ9c3RhdGljIFplcm8oKXtyZXR1cm4gbmV3IFooMCwwLDAsMCl9c3RhdGljIEludmVyc2UoZSl7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKC1lLl94LC1lLl95LC1lLl96LGUuX3cpfXN0YXRpYyBJbnZlcnNlVG9SZWYoZSx0KXtyZXR1cm4gdC5zZXQoLWUuX3gsLWUuX3ksLWUuX3osZS5fdyksdH1zdGF0aWMgSWRlbnRpdHkoKXtyZXR1cm4gbmV3IFooMCwwLDAsMSl9c3RhdGljIElzSWRlbnRpdHkoZSl7cmV0dXJuIGUmJmUuX3g9PT0wJiZlLl95PT09MCYmZS5fej09PTAmJmUuX3c9PT0xfXN0YXRpYyBSb3RhdGlvbkF4aXMoZSx0KXtyZXR1cm4gWi5Sb3RhdGlvbkF4aXNUb1JlZihlLHQsbmV3IFopfXN0YXRpYyBSb3RhdGlvbkF4aXNUb1JlZihlLHQsaSl7Y29uc3Qgcz1NYXRoLnNpbih0LzIpO3JldHVybiBlLm5vcm1hbGl6ZSgpLGkudz1NYXRoLmNvcyh0LzIpLGkueD1lLl94KnMsaS55PWUuX3kqcyxpLno9ZS5feipzLGl9c3RhdGljIEZyb21BcnJheShlLHQpe3JldHVybiB0fHwodD0wKSxuZXcgWihlW3RdLGVbdCsxXSxlW3QrMl0sZVt0KzNdKX1zdGF0aWMgRnJvbUFycmF5VG9SZWYoZSx0LGkpe3JldHVybiBpLng9ZVt0XSxpLnk9ZVt0KzFdLGkuej1lW3QrMl0saS53PWVbdCszXSxpfXN0YXRpYyBGcm9tRXVsZXJBbmdsZXMoZSx0LGkpe2NvbnN0IHM9bmV3IFo7cmV0dXJuIFouUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0LGUsaSxzKSxzfXN0YXRpYyBGcm9tRXVsZXJBbmdsZXNUb1JlZihlLHQsaSxzKXtyZXR1cm4gWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHQsZSxpLHMpLHN9c3RhdGljIEZyb21FdWxlclZlY3RvcihlKXtjb25zdCB0PW5ldyBaO3JldHVybiBaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoZS5feSxlLl94LGUuX3osdCksdH1zdGF0aWMgRnJvbUV1bGVyVmVjdG9yVG9SZWYoZSx0KXtyZXR1cm4gWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGUuX3ksZS5feCxlLl96LHQpLHR9c3RhdGljIEZyb21Vbml0VmVjdG9yc1RvUmVmKGUsdCxpKXtjb25zdCBzPXAuRG90KGUsdCkrMTtyZXR1cm4gczx4ZT9NYXRoLmFicyhlLngpPk1hdGguYWJzKGUueik/aS5zZXQoLWUueSxlLngsMCwwKTppLnNldCgwLC1lLnosZS55LDApOihwLkNyb3NzVG9SZWYoZSx0LEQuVmVjdG9yM1swXSksaS5zZXQoRC5WZWN0b3IzWzBdLngsRC5WZWN0b3IzWzBdLnksRC5WZWN0b3IzWzBdLnoscykpLGkubm9ybWFsaXplKCl9c3RhdGljIFJvdGF0aW9uWWF3UGl0Y2hSb2xsKGUsdCxpKXtjb25zdCBzPW5ldyBaO3JldHVybiBaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoZSx0LGkscyksc31zdGF0aWMgUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihlLHQsaSxzKXtjb25zdCByPWkqLjUsbj10Ki41LGE9ZSouNSxvPU1hdGguc2luKHIpLGg9TWF0aC5jb3MociksbD1NYXRoLnNpbihuKSx1PU1hdGguY29zKG4pLGQ9TWF0aC5zaW4oYSksZj1NYXRoLmNvcyhhKTtyZXR1cm4gcy54PWYqbCpoK2QqdSpvLHMueT1kKnUqaC1mKmwqbyxzLno9Zip1Km8tZCpsKmgscy53PWYqdSpoK2QqbCpvLHN9c3RhdGljIFJvdGF0aW9uQWxwaGFCZXRhR2FtbWEoZSx0LGkpe2NvbnN0IHM9bmV3IFo7cmV0dXJuIFouUm90YXRpb25BbHBoYUJldGFHYW1tYVRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIFJvdGF0aW9uQWxwaGFCZXRhR2FtbWFUb1JlZihlLHQsaSxzKXtjb25zdCByPShpK2UpKi41LG49KGktZSkqLjUsYT10Ki41O3JldHVybiBzLng9TWF0aC5jb3MobikqTWF0aC5zaW4oYSkscy55PU1hdGguc2luKG4pKk1hdGguc2luKGEpLHMuej1NYXRoLnNpbihyKSpNYXRoLmNvcyhhKSxzLnc9TWF0aC5jb3MocikqTWF0aC5jb3MoYSksc31zdGF0aWMgUm90YXRpb25RdWF0ZXJuaW9uRnJvbUF4aXMoZSx0LGkpe2NvbnN0IHM9bmV3IFooMCwwLDAsMCk7cmV0dXJuIFouUm90YXRpb25RdWF0ZXJuaW9uRnJvbUF4aXNUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBSb3RhdGlvblF1YXRlcm5pb25Gcm9tQXhpc1RvUmVmKGUsdCxpLHMpe2NvbnN0IHI9Sy5NYXRyaXhbMF07cmV0dXJuIHguRnJvbVhZWkF4ZXNUb1JlZihlLm5vcm1hbGl6ZSgpLHQubm9ybWFsaXplKCksaS5ub3JtYWxpemUoKSxyKSxaLkZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmKHIscyksc31zdGF0aWMgRnJvbUxvb2tEaXJlY3Rpb25MSChlLHQpe2NvbnN0IGk9bmV3IFo7cmV0dXJuIFouRnJvbUxvb2tEaXJlY3Rpb25MSFRvUmVmKGUsdCxpKSxpfXN0YXRpYyBGcm9tTG9va0RpcmVjdGlvbkxIVG9SZWYoZSx0LGkpe2NvbnN0IHM9Sy5NYXRyaXhbMF07cmV0dXJuIHguTG9va0RpcmVjdGlvbkxIVG9SZWYoZSx0LHMpLFouRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYocyxpKSxpfXN0YXRpYyBGcm9tTG9va0RpcmVjdGlvblJIKGUsdCl7Y29uc3QgaT1uZXcgWjtyZXR1cm4gWi5Gcm9tTG9va0RpcmVjdGlvblJIVG9SZWYoZSx0LGkpLGl9c3RhdGljIEZyb21Mb29rRGlyZWN0aW9uUkhUb1JlZihlLHQsaSl7Y29uc3Qgcz1LLk1hdHJpeFswXTtyZXR1cm4geC5Mb29rRGlyZWN0aW9uUkhUb1JlZihlLHQscyksWi5Gcm9tUm90YXRpb25NYXRyaXhUb1JlZihzLGkpfXN0YXRpYyBTbGVycChlLHQsaSl7Y29uc3Qgcz1aLklkZW50aXR5KCk7cmV0dXJuIFouU2xlcnBUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBTbGVycFRvUmVmKGUsdCxpLHMpe2xldCByLG4sYT1lLl94KnQuX3grZS5feSp0Ll95K2UuX3oqdC5feitlLl93KnQuX3csbz0hMTtpZihhPDAmJihvPSEwLGE9LWEpLGE+Ljk5OTk5OSluPTEtaSxyPW8/LWk6aTtlbHNle2NvbnN0IGg9TWF0aC5hY29zKGEpLGw9MS9NYXRoLnNpbihoKTtuPU1hdGguc2luKCgxLWkpKmgpKmwscj1vPy1NYXRoLnNpbihpKmgpKmw6TWF0aC5zaW4oaSpoKSpsfXJldHVybiBzLng9biplLl94K3IqdC5feCxzLnk9biplLl95K3IqdC5feSxzLno9biplLl96K3IqdC5feixzLnc9biplLl93K3IqdC5fdyxzfXN0YXRpYyBIZXJtaXRlKGUsdCxpLHMscil7Y29uc3Qgbj1yKnIsYT1yKm4sbz0yKmEtMypuKzEsaD0tMiphKzMqbixsPWEtMipuK3IsdT1hLW4sZD1lLl94Km8raS5feCpoK3QuX3gqbCtzLl94KnUsZj1lLl95Km8raS5feSpoK3QuX3kqbCtzLl95KnUsXz1lLl96Km8raS5feipoK3QuX3oqbCtzLl96KnUsRT1lLl93Km8raS5fdypoK3QuX3cqbCtzLl93KnU7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKGQsZixfLEUpfXN0YXRpYyBIZXJtaXRlMXN0RGVyaXZhdGl2ZShlLHQsaSxzLHIpe2NvbnN0IG49bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIHRoaXMuSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQsaSxzLHIsbiksbn1zdGF0aWMgSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQsaSxzLHIsbil7Y29uc3QgYT1yKnI7cmV0dXJuIG4ueD0oYS1yKSo2KmUueCsoMyphLTQqcisxKSp0LngrKC1hK3IpKjYqaS54KygzKmEtMipyKSpzLngsbi55PShhLXIpKjYqZS55KygzKmEtNCpyKzEpKnQueSsoLWErcikqNippLnkrKDMqYS0yKnIpKnMueSxuLno9KGEtcikqNiplLnorKDMqYS00KnIrMSkqdC56KygtYStyKSo2KmkueisoMyphLTIqcikqcy56LG4udz0oYS1yKSo2KmUudysoMyphLTQqcisxKSp0LncrKC1hK3IpKjYqaS53KygzKmEtMipyKSpzLncsbn19Y2xhc3MgeHtjb25zdHJ1Y3Rvcigpe3RoaXMuX2lzSWRlbnRpdHk9ITEsdGhpcy5faXNJZGVudGl0eURpcnR5PSEwLHRoaXMuX2lzSWRlbnRpdHkzeDI9ITAsdGhpcy5faXNJZGVudGl0eTN4MkRpcnR5PSEwLHRoaXMudXBkYXRlRmxhZz0tMSxVZS5NYXRyaXhUcmFja1ByZWNpc2lvbkNoYW5nZSYmVWUuTWF0cml4VHJhY2tlZE1hdHJpY2VzLnB1c2godGhpcyksdGhpcy5fbT1uZXcgVWUuTWF0cml4Q3VycmVudFR5cGUoMTYpLHRoaXMubWFya0FzVXBkYXRlZCgpfXN0YXRpYyBnZXQgVXNlNjRCaXRzKCl7cmV0dXJuIFVlLk1hdHJpeFVzZTY0Qml0c31nZXQgbSgpe3JldHVybiB0aGlzLl9tfW1hcmtBc1VwZGF0ZWQoKXt0aGlzLnVwZGF0ZUZsYWc9eC5fVXBkYXRlRmxhZ1NlZWQrKyx0aGlzLl9pc0lkZW50aXR5PSExLHRoaXMuX2lzSWRlbnRpdHkzeDI9ITEsdGhpcy5faXNJZGVudGl0eURpcnR5PSEwLHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eT0hMH1fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZSx0PSExLGk9ITEscz0hMCl7dGhpcy5faXNJZGVudGl0eT1lLHRoaXMuX2lzSWRlbnRpdHkzeDI9ZXx8aSx0aGlzLl9pc0lkZW50aXR5RGlydHk9dGhpcy5faXNJZGVudGl0eT8hMTp0LHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eT10aGlzLl9pc0lkZW50aXR5M3gyPyExOnN9aXNJZGVudGl0eSgpe2lmKHRoaXMuX2lzSWRlbnRpdHlEaXJ0eSl7dGhpcy5faXNJZGVudGl0eURpcnR5PSExO2NvbnN0IGU9dGhpcy5fbTt0aGlzLl9pc0lkZW50aXR5PWVbMF09PT0xJiZlWzFdPT09MCYmZVsyXT09PTAmJmVbM109PT0wJiZlWzRdPT09MCYmZVs1XT09PTEmJmVbNl09PT0wJiZlWzddPT09MCYmZVs4XT09PTAmJmVbOV09PT0wJiZlWzEwXT09PTEmJmVbMTFdPT09MCYmZVsxMl09PT0wJiZlWzEzXT09PTAmJmVbMTRdPT09MCYmZVsxNV09PT0xfXJldHVybiB0aGlzLl9pc0lkZW50aXR5fWlzSWRlbnRpdHlBczN4Migpe3JldHVybiB0aGlzLl9pc0lkZW50aXR5M3gyRGlydHkmJih0aGlzLl9pc0lkZW50aXR5M3gyRGlydHk9ITEsdGhpcy5fbVswXSE9PTF8fHRoaXMuX21bNV0hPT0xfHx0aGlzLl9tWzE1XSE9PTE/dGhpcy5faXNJZGVudGl0eTN4Mj0hMTp0aGlzLl9tWzFdIT09MHx8dGhpcy5fbVsyXSE9PTB8fHRoaXMuX21bM10hPT0wfHx0aGlzLl9tWzRdIT09MHx8dGhpcy5fbVs2XSE9PTB8fHRoaXMuX21bN10hPT0wfHx0aGlzLl9tWzhdIT09MHx8dGhpcy5fbVs5XSE9PTB8fHRoaXMuX21bMTBdIT09MHx8dGhpcy5fbVsxMV0hPT0wfHx0aGlzLl9tWzEyXSE9PTB8fHRoaXMuX21bMTNdIT09MHx8dGhpcy5fbVsxNF0hPT0wP3RoaXMuX2lzSWRlbnRpdHkzeDI9ITE6dGhpcy5faXNJZGVudGl0eTN4Mj0hMCksdGhpcy5faXNJZGVudGl0eTN4Mn1kZXRlcm1pbmFudCgpe2lmKHRoaXMuX2lzSWRlbnRpdHk9PT0hMClyZXR1cm4gMTtjb25zdCBlPXRoaXMuX20sdD1lWzBdLGk9ZVsxXSxzPWVbMl0scj1lWzNdLG49ZVs0XSxhPWVbNV0sbz1lWzZdLGg9ZVs3XSxsPWVbOF0sdT1lWzldLGQ9ZVsxMF0sZj1lWzExXSxfPWVbMTJdLEU9ZVsxM10sbT1lWzE0XSx2PWVbMTVdLFM9ZCp2LW0qZix5PXUqdi1FKmYsQT11Km0tRSpkLEM9bCp2LV8qZixiPWwqbS1kKl8sTT1sKkUtXyp1LEw9KyhhKlMtbyp5K2gqQSksaz0tKG4qUy1vKkMraCpiKSx3PSsobip5LWEqQytoKk0pLGRlPS0obipBLWEqYitvKk0pO3JldHVybiB0KkwraSprK3MqdytyKmRlfXRvQXJyYXkoKXtyZXR1cm4gdGhpcy5fbX1hc0FycmF5KCl7cmV0dXJuIHRoaXMuX219aW52ZXJ0KCl7cmV0dXJuIHRoaXMuaW52ZXJ0VG9SZWYodGhpcyksdGhpc31yZXNldCgpe3JldHVybiB4LkZyb21WYWx1ZXNUb1JlZigwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLHRoaXMpLHRoaXMuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKCExKSx0aGlzfWFkZChlKXtjb25zdCB0PW5ldyB0aGlzLmNvbnN0cnVjdG9yO3JldHVybiB0aGlzLmFkZFRvUmVmKGUsdCksdH1hZGRUb1JlZihlLHQpe2NvbnN0IGk9dGhpcy5fbSxzPXQuX20scj1lLm07Zm9yKGxldCBuPTA7bjwxNjtuKyspc1tuXT1pW25dK3Jbbl07cmV0dXJuIHQubWFya0FzVXBkYXRlZCgpLHR9YWRkVG9TZWxmKGUpe2NvbnN0IHQ9dGhpcy5fbSxpPWUubTtmb3IobGV0IHM9MDtzPDE2O3MrKyl0W3NdKz1pW3NdO3JldHVybiB0aGlzLm1hcmtBc1VwZGF0ZWQoKSx0aGlzfWludmVydFRvUmVmKGUpe2lmKHRoaXMuX2lzSWRlbnRpdHk9PT0hMClyZXR1cm4geC5JZGVudGl0eVRvUmVmKGUpLGU7Y29uc3QgdD10aGlzLl9tLGk9dFswXSxzPXRbMV0scj10WzJdLG49dFszXSxhPXRbNF0sbz10WzVdLGg9dFs2XSxsPXRbN10sdT10WzhdLGQ9dFs5XSxmPXRbMTBdLF89dFsxMV0sRT10WzEyXSxtPXRbMTNdLHY9dFsxNF0sUz10WzE1XSx5PWYqUy12Kl8sQT1kKlMtbSpfLEM9ZCp2LW0qZixiPXUqUy1FKl8sTT11KnYtZipFLEw9dSptLUUqZCxrPSsobyp5LWgqQStsKkMpLHc9LShhKnktaCpiK2wqTSksZGU9KyhhKkEtbypiK2wqTCksY2U9LShhKkMtbypNK2gqTCksc2U9aSprK3MqdytyKmRlK24qY2U7aWYoc2U9PT0wKXJldHVybiBlLmNvcHlGcm9tKHRoaXMpLGU7Y29uc3QgdGU9MS9zZSxGZT1oKlMtdipsLHdlPW8qUy1tKmwsSGU9byp2LW0qaCxLZT1hKlMtRSpsLFllPWEqdi1FKmgscHQ9YSptLUUqbyxodD1oKl8tZipsLHd0PW8qXy1kKmwsc2k9bypmLWQqaCxkcz1hKl8tdSpsLGZzPWEqZi11KmgsX3M9YSpkLXUqbyxYcz0tKHMqeS1yKkErbipDKSxIcz0rKGkqeS1yKmIrbipNKSxLcz0tKGkqQS1zKmIrbipMKSxZcz0rKGkqQy1zKk0rcipMKSxacz0rKHMqRmUtcip3ZStuKkhlKSxxcz0tKGkqRmUtcipLZStuKlllKSxIdD0rKGkqd2UtcypLZStuKnB0KSxLdD0tKGkqSGUtcypZZStyKnB0KSxZdD0tKHMqaHQtcip3dCtuKnNpKSxadD0rKGkqaHQtcipkcytuKmZzKSx3bD0tKGkqd3QtcypkcytuKl9zKSxPbD0rKGkqc2ktcypmcytyKl9zKTtyZXR1cm4geC5Gcm9tVmFsdWVzVG9SZWYoayp0ZSxYcyp0ZSxacyp0ZSxZdCp0ZSx3KnRlLEhzKnRlLHFzKnRlLFp0KnRlLGRlKnRlLEtzKnRlLEh0KnRlLHdsKnRlLGNlKnRlLFlzKnRlLEt0KnRlLE9sKnRlLGUpLGV9YWRkQXRJbmRleChlLHQpe3JldHVybiB0aGlzLl9tW2VdKz10LHRoaXMubWFya0FzVXBkYXRlZCgpLHRoaXN9bXVsdGlwbHlBdEluZGV4KGUsdCl7cmV0dXJuIHRoaXMuX21bZV0qPXQsdGhpcy5tYXJrQXNVcGRhdGVkKCksdGhpc31zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMoZSx0LGkpe3JldHVybiB0aGlzLl9tWzEyXT1lLHRoaXMuX21bMTNdPXQsdGhpcy5fbVsxNF09aSx0aGlzLm1hcmtBc1VwZGF0ZWQoKSx0aGlzfWFkZFRyYW5zbGF0aW9uRnJvbUZsb2F0cyhlLHQsaSl7cmV0dXJuIHRoaXMuX21bMTJdKz1lLHRoaXMuX21bMTNdKz10LHRoaXMuX21bMTRdKz1pLHRoaXMubWFya0FzVXBkYXRlZCgpLHRoaXN9c2V0VHJhbnNsYXRpb24oZSl7cmV0dXJuIHRoaXMuc2V0VHJhbnNsYXRpb25Gcm9tRmxvYXRzKGUuX3gsZS5feSxlLl96KX1nZXRUcmFuc2xhdGlvbigpe3JldHVybiBuZXcgcCh0aGlzLl9tWzEyXSx0aGlzLl9tWzEzXSx0aGlzLl9tWzE0XSl9Z2V0VHJhbnNsYXRpb25Ub1JlZihlKXtyZXR1cm4gZS54PXRoaXMuX21bMTJdLGUueT10aGlzLl9tWzEzXSxlLno9dGhpcy5fbVsxNF0sZX1yZW1vdmVSb3RhdGlvbkFuZFNjYWxpbmcoKXtjb25zdCBlPXRoaXMubTtyZXR1cm4geC5Gcm9tVmFsdWVzVG9SZWYoMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsZVsxMl0sZVsxM10sZVsxNF0sZVsxNV0sdGhpcyksdGhpcy5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZVsxMl09PT0wJiZlWzEzXT09PTAmJmVbMTRdPT09MCYmZVsxNV09PT0xKSx0aGlzfW11bHRpcGx5KGUpe2NvbnN0IHQ9bmV3IHRoaXMuY29uc3RydWN0b3I7cmV0dXJuIHRoaXMubXVsdGlwbHlUb1JlZihlLHQpLHR9Y29weUZyb20oZSl7ZS5jb3B5VG9BcnJheSh0aGlzLl9tKTtjb25zdCB0PWU7cmV0dXJuIHRoaXMudXBkYXRlRmxhZz10LnVwZGF0ZUZsYWcsdGhpcy5fdXBkYXRlSWRlbnRpdHlTdGF0dXModC5faXNJZGVudGl0eSx0Ll9pc0lkZW50aXR5RGlydHksdC5faXNJZGVudGl0eTN4Mix0Ll9pc0lkZW50aXR5M3gyRGlydHkpLHRoaXN9Y29weVRvQXJyYXkoZSx0PTApe2NvbnN0IGk9dGhpcy5fbTtyZXR1cm4gZVt0XT1pWzBdLGVbdCsxXT1pWzFdLGVbdCsyXT1pWzJdLGVbdCszXT1pWzNdLGVbdCs0XT1pWzRdLGVbdCs1XT1pWzVdLGVbdCs2XT1pWzZdLGVbdCs3XT1pWzddLGVbdCs4XT1pWzhdLGVbdCs5XT1pWzldLGVbdCsxMF09aVsxMF0sZVt0KzExXT1pWzExXSxlW3QrMTJdPWlbMTJdLGVbdCsxM109aVsxM10sZVt0KzE0XT1pWzE0XSxlW3QrMTVdPWlbMTVdLHRoaXN9bXVsdGlwbHlUb1JlZihlLHQpe3JldHVybiB0aGlzLl9pc0lkZW50aXR5Pyh0LmNvcHlGcm9tKGUpLHQpOmUuX2lzSWRlbnRpdHk/KHQuY29weUZyb20odGhpcyksdCk6KHRoaXMubXVsdGlwbHlUb0FycmF5KGUsdC5fbSwwKSx0Lm1hcmtBc1VwZGF0ZWQoKSx0KX1tdWx0aXBseVRvQXJyYXkoZSx0LGkpe2NvbnN0IHM9dGhpcy5fbSxyPWUubSxuPXNbMF0sYT1zWzFdLG89c1syXSxoPXNbM10sbD1zWzRdLHU9c1s1XSxkPXNbNl0sZj1zWzddLF89c1s4XSxFPXNbOV0sbT1zWzEwXSx2PXNbMTFdLFM9c1sxMl0seT1zWzEzXSxBPXNbMTRdLEM9c1sxNV0sYj1yWzBdLE09clsxXSxMPXJbMl0saz1yWzNdLHc9cls0XSxkZT1yWzVdLGNlPXJbNl0sc2U9cls3XSx0ZT1yWzhdLEZlPXJbOV0sd2U9clsxMF0sSGU9clsxMV0sS2U9clsxMl0sWWU9clsxM10scHQ9clsxNF0saHQ9clsxNV07cmV0dXJuIHRbaV09bipiK2EqdytvKnRlK2gqS2UsdFtpKzFdPW4qTSthKmRlK28qRmUraCpZZSx0W2krMl09bipMK2EqY2Urbyp3ZStoKnB0LHRbaSszXT1uKmsrYSpzZStvKkhlK2gqaHQsdFtpKzRdPWwqYit1KncrZCp0ZStmKktlLHRbaSs1XT1sKk0rdSpkZStkKkZlK2YqWWUsdFtpKzZdPWwqTCt1KmNlK2Qqd2UrZipwdCx0W2krN109bCprK3Uqc2UrZCpIZStmKmh0LHRbaSs4XT1fKmIrRSp3K20qdGUrdipLZSx0W2krOV09XypNK0UqZGUrbSpGZSt2KlllLHRbaSsxMF09XypMK0UqY2UrbSp3ZSt2KnB0LHRbaSsxMV09XyprK0Uqc2UrbSpIZSt2Kmh0LHRbaSsxMl09UypiK3kqdytBKnRlK0MqS2UsdFtpKzEzXT1TKk0reSpkZStBKkZlK0MqWWUsdFtpKzE0XT1TKkwreSpjZStBKndlK0MqcHQsdFtpKzE1XT1TKmsreSpzZStBKkhlK0MqaHQsdGhpc31lcXVhbHMoZSl7Y29uc3QgdD1lO2lmKCF0KXJldHVybiExO2lmKCh0aGlzLl9pc0lkZW50aXR5fHx0Ll9pc0lkZW50aXR5KSYmIXRoaXMuX2lzSWRlbnRpdHlEaXJ0eSYmIXQuX2lzSWRlbnRpdHlEaXJ0eSlyZXR1cm4gdGhpcy5faXNJZGVudGl0eSYmdC5faXNJZGVudGl0eTtjb25zdCBpPXRoaXMubSxzPXQubTtyZXR1cm4gaVswXT09PXNbMF0mJmlbMV09PT1zWzFdJiZpWzJdPT09c1syXSYmaVszXT09PXNbM10mJmlbNF09PT1zWzRdJiZpWzVdPT09c1s1XSYmaVs2XT09PXNbNl0mJmlbN109PT1zWzddJiZpWzhdPT09c1s4XSYmaVs5XT09PXNbOV0mJmlbMTBdPT09c1sxMF0mJmlbMTFdPT09c1sxMV0mJmlbMTJdPT09c1sxMl0mJmlbMTNdPT09c1sxM10mJmlbMTRdPT09c1sxNF0mJmlbMTVdPT09c1sxNV19Y2xvbmUoKXtjb25zdCBlPW5ldyB0aGlzLmNvbnN0cnVjdG9yO3JldHVybiBlLmNvcHlGcm9tKHRoaXMpLGV9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIk1hdHJpeCJ9Z2V0SGFzaENvZGUoKXtsZXQgZT1zdCh0aGlzLl9tWzBdKTtmb3IobGV0IHQ9MTt0PDE2O3QrKyllPWUqMzk3XnN0KHRoaXMuX21bdF0pO3JldHVybiBlfWRlY29tcG9zZVRvVHJhbnNmb3JtTm9kZShlKXtyZXR1cm4gZS5yb3RhdGlvblF1YXRlcm5pb249ZS5yb3RhdGlvblF1YXRlcm5pb258fG5ldyBaLHRoaXMuZGVjb21wb3NlKGUuc2NhbGluZyxlLnJvdGF0aW9uUXVhdGVybmlvbixlLnBvc2l0aW9uKX1kZWNvbXBvc2UoZSx0LGkscyl7aWYodGhpcy5faXNJZGVudGl0eSlyZXR1cm4gaSYmaS5zZXRBbGwoMCksZSYmZS5zZXRBbGwoMSksdCYmdC5jb3B5RnJvbUZsb2F0cygwLDAsMCwxKSwhMDtjb25zdCByPXRoaXMuX207aWYoaSYmaS5jb3B5RnJvbUZsb2F0cyhyWzEyXSxyWzEzXSxyWzE0XSksZT1lfHxLLlZlY3RvcjNbMF0sZS54PU1hdGguc3FydChyWzBdKnJbMF0rclsxXSpyWzFdK3JbMl0qclsyXSksZS55PU1hdGguc3FydChyWzRdKnJbNF0rcls1XSpyWzVdK3JbNl0qcls2XSksZS56PU1hdGguc3FydChyWzhdKnJbOF0rcls5XSpyWzldK3JbMTBdKnJbMTBdKSxzKXtjb25zdCBuPXMuc2NhbGluZy54PDA/LTE6MSxhPXMuc2NhbGluZy55PDA/LTE6MSxvPXMuc2NhbGluZy56PDA/LTE6MTtlLngqPW4sZS55Kj1hLGUueio9b31lbHNlIHRoaXMuZGV0ZXJtaW5hbnQoKTw9MCYmKGUueSo9LTEpO2lmKGUuX3g9PT0wfHxlLl95PT09MHx8ZS5fej09PTApcmV0dXJuIHQmJnQuY29weUZyb21GbG9hdHMoMCwwLDAsMSksITE7aWYodCl7Y29uc3Qgbj0xL2UuX3gsYT0xL2UuX3ksbz0xL2UuX3o7eC5Gcm9tVmFsdWVzVG9SZWYoclswXSpuLHJbMV0qbixyWzJdKm4sMCxyWzRdKmEscls1XSphLHJbNl0qYSwwLHJbOF0qbyxyWzldKm8sclsxMF0qbywwLDAsMCwwLDEsSy5NYXRyaXhbMF0pLFouRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYoSy5NYXRyaXhbMF0sdCl9cmV0dXJuITB9Z2V0Um93KGUpe2lmKGU8MHx8ZT4zKXJldHVybiBudWxsO2NvbnN0IHQ9ZSo0O3JldHVybiBuZXcgQ2UodGhpcy5fbVt0KzBdLHRoaXMuX21bdCsxXSx0aGlzLl9tW3QrMl0sdGhpcy5fbVt0KzNdKX1nZXRSb3dUb1JlZihlLHQpe2lmKGU+PTAmJmU8Myl7Y29uc3QgaT1lKjQ7dC54PXRoaXMuX21baSswXSx0Lnk9dGhpcy5fbVtpKzFdLHQuej10aGlzLl9tW2krMl0sdC53PXRoaXMuX21baSszXX1yZXR1cm4gdH1zZXRSb3coZSx0KXtyZXR1cm4gdGhpcy5zZXRSb3dGcm9tRmxvYXRzKGUsdC54LHQueSx0LnosdC53KX10cmFuc3Bvc2UoKXtjb25zdCBlPW5ldyB0aGlzLmNvbnN0cnVjdG9yO3JldHVybiB4LlRyYW5zcG9zZVRvUmVmKHRoaXMsZSksZX10cmFuc3Bvc2VUb1JlZihlKXtyZXR1cm4geC5UcmFuc3Bvc2VUb1JlZih0aGlzLGUpLGV9c2V0Um93RnJvbUZsb2F0cyhlLHQsaSxzLHIpe2lmKGU8MHx8ZT4zKXJldHVybiB0aGlzO2NvbnN0IG49ZSo0O3JldHVybiB0aGlzLl9tW24rMF09dCx0aGlzLl9tW24rMV09aSx0aGlzLl9tW24rMl09cyx0aGlzLl9tW24rM109cix0aGlzLm1hcmtBc1VwZGF0ZWQoKSx0aGlzfXNjYWxlKGUpe2NvbnN0IHQ9bmV3IHRoaXMuY29uc3RydWN0b3I7cmV0dXJuIHRoaXMuc2NhbGVUb1JlZihlLHQpLHR9c2NhbGVUb1JlZihlLHQpe2ZvcihsZXQgaT0wO2k8MTY7aSsrKXQuX21baV09dGhpcy5fbVtpXSplO3JldHVybiB0Lm1hcmtBc1VwZGF0ZWQoKSx0fXNjYWxlQW5kQWRkVG9SZWYoZSx0KXtmb3IobGV0IGk9MDtpPDE2O2krKyl0Ll9tW2ldKz10aGlzLl9tW2ldKmU7cmV0dXJuIHQubWFya0FzVXBkYXRlZCgpLHR9dG9Ob3JtYWxNYXRyaXgoZSl7Y29uc3QgdD1LLk1hdHJpeFswXTt0aGlzLmludmVydFRvUmVmKHQpLHQudHJhbnNwb3NlVG9SZWYoZSk7Y29uc3QgaT1lLl9tO3JldHVybiB4LkZyb21WYWx1ZXNUb1JlZihpWzBdLGlbMV0saVsyXSwwLGlbNF0saVs1XSxpWzZdLDAsaVs4XSxpWzldLGlbMTBdLDAsMCwwLDAsMSxlKSxlfWdldFJvdGF0aW9uTWF0cml4KCl7Y29uc3QgZT1uZXcgdGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy5nZXRSb3RhdGlvbk1hdHJpeFRvUmVmKGUpLGV9Z2V0Um90YXRpb25NYXRyaXhUb1JlZihlKXtjb25zdCB0PUsuVmVjdG9yM1swXTtpZighdGhpcy5kZWNvbXBvc2UodCkpcmV0dXJuIHguSWRlbnRpdHlUb1JlZihlKSxlO2NvbnN0IGk9dGhpcy5fbSxzPTEvdC5feCxyPTEvdC5feSxuPTEvdC5fejtyZXR1cm4geC5Gcm9tVmFsdWVzVG9SZWYoaVswXSpzLGlbMV0qcyxpWzJdKnMsMCxpWzRdKnIsaVs1XSpyLGlbNl0qciwwLGlbOF0qbixpWzldKm4saVsxMF0qbiwwLDAsMCwwLDEsZSksZX10b2dnbGVNb2RlbE1hdHJpeEhhbmRJblBsYWNlKCl7Y29uc3QgZT10aGlzLl9tO3JldHVybiBlWzJdKj0tMSxlWzZdKj0tMSxlWzhdKj0tMSxlWzldKj0tMSxlWzE0XSo9LTEsdGhpcy5tYXJrQXNVcGRhdGVkKCksdGhpc310b2dnbGVQcm9qZWN0aW9uTWF0cml4SGFuZEluUGxhY2UoKXtjb25zdCBlPXRoaXMuX207cmV0dXJuIGVbOF0qPS0xLGVbOV0qPS0xLGVbMTBdKj0tMSxlWzExXSo9LTEsdGhpcy5tYXJrQXNVcGRhdGVkKCksdGhpc31zdGF0aWMgRnJvbUFycmF5KGUsdD0wKXtjb25zdCBpPW5ldyB4O3JldHVybiB4LkZyb21BcnJheVRvUmVmKGUsdCxpKSxpfXN0YXRpYyBGcm9tQXJyYXlUb1JlZihlLHQsaSl7Zm9yKGxldCBzPTA7czwxNjtzKyspaS5fbVtzXT1lW3MrdF07cmV0dXJuIGkubWFya0FzVXBkYXRlZCgpLGl9c3RhdGljIEZyb21GbG9hdDMyQXJyYXlUb1JlZlNjYWxlZChlLHQsaSxzKXtmb3IobGV0IHI9MDtyPDE2O3IrKylzLl9tW3JdPWVbcit0XSppO3JldHVybiBzLm1hcmtBc1VwZGF0ZWQoKSxzfXN0YXRpYyBnZXQgSWRlbnRpdHlSZWFkT25seSgpe3JldHVybiB4Ll9JZGVudGl0eVJlYWRPbmx5fXN0YXRpYyBGcm9tVmFsdWVzVG9SZWYoZSx0LGkscyxyLG4sYSxvLGgsbCx1LGQsZixfLEUsbSx2KXtjb25zdCBTPXYuX207U1swXT1lLFNbMV09dCxTWzJdPWksU1szXT1zLFNbNF09cixTWzVdPW4sU1s2XT1hLFNbN109byxTWzhdPWgsU1s5XT1sLFNbMTBdPXUsU1sxMV09ZCxTWzEyXT1mLFNbMTNdPV8sU1sxNF09RSxTWzE1XT1tLHYubWFya0FzVXBkYXRlZCgpfXN0YXRpYyBGcm9tVmFsdWVzKGUsdCxpLHMscixuLGEsbyxoLGwsdSxkLGYsXyxFLG0pe2NvbnN0IHY9bmV3IHgsUz12Ll9tO3JldHVybiBTWzBdPWUsU1sxXT10LFNbMl09aSxTWzNdPXMsU1s0XT1yLFNbNV09bixTWzZdPWEsU1s3XT1vLFNbOF09aCxTWzldPWwsU1sxMF09dSxTWzExXT1kLFNbMTJdPWYsU1sxM109XyxTWzE0XT1FLFNbMTVdPW0sdi5tYXJrQXNVcGRhdGVkKCksdn1zdGF0aWMgQ29tcG9zZShlLHQsaSl7Y29uc3Qgcz1uZXcgeDtyZXR1cm4geC5Db21wb3NlVG9SZWYoZSx0LGkscyksc31zdGF0aWMgQ29tcG9zZVRvUmVmKGUsdCxpLHMpe2NvbnN0IHI9cy5fbSxuPXQuX3gsYT10Ll95LG89dC5feixoPXQuX3csbD1uK24sdT1hK2EsZD1vK28sZj1uKmwsXz1uKnUsRT1uKmQsbT1hKnUsdj1hKmQsUz1vKmQseT1oKmwsQT1oKnUsQz1oKmQsYj1lLl94LE09ZS5feSxMPWUuX3o7cmV0dXJuIHJbMF09KDEtKG0rUykpKmIsclsxXT0oXytDKSpiLHJbMl09KEUtQSkqYixyWzNdPTAscls0XT0oXy1DKSpNLHJbNV09KDEtKGYrUykpKk0scls2XT0odit5KSpNLHJbN109MCxyWzhdPShFK0EpKkwscls5XT0odi15KSpMLHJbMTBdPSgxLShmK20pKSpMLHJbMTFdPTAsclsxMl09aS5feCxyWzEzXT1pLl95LHJbMTRdPWkuX3osclsxNV09MSxzLm1hcmtBc1VwZGF0ZWQoKSxzfXN0YXRpYyBJZGVudGl0eSgpe2NvbnN0IGU9eC5Gcm9tVmFsdWVzKDEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDEpO3JldHVybiBlLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMCksZX1zdGF0aWMgSWRlbnRpdHlUb1JlZihlKXtyZXR1cm4geC5Gcm9tVmFsdWVzVG9SZWYoMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMSxlKSxlLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMCksZX1zdGF0aWMgWmVybygpe2NvbnN0IGU9eC5Gcm9tVmFsdWVzKDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDApO3JldHVybiBlLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSksZX1zdGF0aWMgUm90YXRpb25YKGUpe2NvbnN0IHQ9bmV3IHg7cmV0dXJuIHguUm90YXRpb25YVG9SZWYoZSx0KSx0fXN0YXRpYyBJbnZlcnQoZSl7Y29uc3QgdD1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gZS5pbnZlcnRUb1JlZih0KSx0fXN0YXRpYyBSb3RhdGlvblhUb1JlZihlLHQpe2NvbnN0IGk9TWF0aC5zaW4oZSkscz1NYXRoLmNvcyhlKTtyZXR1cm4geC5Gcm9tVmFsdWVzVG9SZWYoMSwwLDAsMCwwLHMsaSwwLDAsLWkscywwLDAsMCwwLDEsdCksdC5fdXBkYXRlSWRlbnRpdHlTdGF0dXMocz09PTEmJmk9PT0wKSx0fXN0YXRpYyBSb3RhdGlvblkoZSl7Y29uc3QgdD1uZXcgeDtyZXR1cm4geC5Sb3RhdGlvbllUb1JlZihlLHQpLHR9c3RhdGljIFJvdGF0aW9uWVRvUmVmKGUsdCl7Y29uc3QgaT1NYXRoLnNpbihlKSxzPU1hdGguY29zKGUpO3JldHVybiB4LkZyb21WYWx1ZXNUb1JlZihzLDAsLWksMCwwLDEsMCwwLGksMCxzLDAsMCwwLDAsMSx0KSx0Ll91cGRhdGVJZGVudGl0eVN0YXR1cyhzPT09MSYmaT09PTApLHR9c3RhdGljIFJvdGF0aW9uWihlKXtjb25zdCB0PW5ldyB4O3JldHVybiB4LlJvdGF0aW9uWlRvUmVmKGUsdCksdH1zdGF0aWMgUm90YXRpb25aVG9SZWYoZSx0KXtjb25zdCBpPU1hdGguc2luKGUpLHM9TWF0aC5jb3MoZSk7cmV0dXJuIHguRnJvbVZhbHVlc1RvUmVmKHMsaSwwLDAsLWkscywwLDAsMCwwLDEsMCwwLDAsMCwxLHQpLHQuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHM9PT0xJiZpPT09MCksdH1zdGF0aWMgUm90YXRpb25BeGlzKGUsdCl7Y29uc3QgaT1uZXcgeDtyZXR1cm4geC5Sb3RhdGlvbkF4aXNUb1JlZihlLHQsaSksaX1zdGF0aWMgUm90YXRpb25BeGlzVG9SZWYoZSx0LGkpe2NvbnN0IHM9TWF0aC5zaW4oLXQpLHI9TWF0aC5jb3MoLXQpLG49MS1yO2Uubm9ybWFsaXplKCk7Y29uc3QgYT1pLl9tO3JldHVybiBhWzBdPWUuX3gqZS5feCpuK3IsYVsxXT1lLl94KmUuX3kqbi1lLl96KnMsYVsyXT1lLl94KmUuX3oqbitlLl95KnMsYVszXT0wLGFbNF09ZS5feSplLl94Km4rZS5feipzLGFbNV09ZS5feSplLl95Km4rcixhWzZdPWUuX3kqZS5feipuLWUuX3gqcyxhWzddPTAsYVs4XT1lLl96KmUuX3gqbi1lLl95KnMsYVs5XT1lLl96KmUuX3kqbitlLl94KnMsYVsxMF09ZS5feiplLl96Km4rcixhWzExXT0wLGFbMTJdPTAsYVsxM109MCxhWzE0XT0wLGFbMTVdPTEsaS5tYXJrQXNVcGRhdGVkKCksaX1zdGF0aWMgUm90YXRpb25BbGlnblRvUmVmKGUsdCxpKXtjb25zdCBzPXAuRG90KHQsZSkscj1pLl9tO2lmKHM8LTEreGUpclswXT0tMSxyWzFdPTAsclsyXT0wLHJbM109MCxyWzRdPTAscls1XT0tMSxyWzZdPTAscls3XT0wLHJbOF09MCxyWzldPTAsclsxMF09MSxyWzExXT0wO2Vsc2V7Y29uc3Qgbj1wLkNyb3NzKHQsZSksYT0xLygxK3MpO3JbMF09bi5feCpuLl94KmErcyxyWzFdPW4uX3kqbi5feCphLW4uX3osclsyXT1uLl96Km4uX3gqYStuLl95LHJbM109MCxyWzRdPW4uX3gqbi5feSphK24uX3oscls1XT1uLl95Km4uX3kqYStzLHJbNl09bi5feipuLl95KmEtbi5feCxyWzddPTAscls4XT1uLl94Km4uX3oqYS1uLl95LHJbOV09bi5feSpuLl96KmErbi5feCxyWzEwXT1uLl96Km4uX3oqYStzLHJbMTFdPTB9cmV0dXJuIHJbMTJdPTAsclsxM109MCxyWzE0XT0wLHJbMTVdPTEsaS5tYXJrQXNVcGRhdGVkKCksaX1zdGF0aWMgUm90YXRpb25ZYXdQaXRjaFJvbGwoZSx0LGkpe2NvbnN0IHM9bmV3IHg7cmV0dXJuIHguUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBSb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGUsdCxpLHMpe3JldHVybiBaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoZSx0LGksSy5RdWF0ZXJuaW9uWzBdKSxLLlF1YXRlcm5pb25bMF0udG9Sb3RhdGlvbk1hdHJpeChzKSxzfXN0YXRpYyBTY2FsaW5nKGUsdCxpKXtjb25zdCBzPW5ldyB4O3JldHVybiB4LlNjYWxpbmdUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBTY2FsaW5nVG9SZWYoZSx0LGkscyl7cmV0dXJuIHguRnJvbVZhbHVlc1RvUmVmKGUsMCwwLDAsMCx0LDAsMCwwLDAsaSwwLDAsMCwwLDEscykscy5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZT09PTEmJnQ9PT0xJiZpPT09MSksc31zdGF0aWMgVHJhbnNsYXRpb24oZSx0LGkpe2NvbnN0IHM9bmV3IHg7cmV0dXJuIHguVHJhbnNsYXRpb25Ub1JlZihlLHQsaSxzKSxzfXN0YXRpYyBUcmFuc2xhdGlvblRvUmVmKGUsdCxpLHMpe3JldHVybiB4LkZyb21WYWx1ZXNUb1JlZigxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCxlLHQsaSwxLHMpLHMuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKGU9PT0wJiZ0PT09MCYmaT09PTApLHN9c3RhdGljIExlcnAoZSx0LGkpe2NvbnN0IHM9bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIHguTGVycFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIExlcnBUb1JlZihlLHQsaSxzKXtjb25zdCByPXMuX20sbj1lLm0sYT10Lm07Zm9yKGxldCBvPTA7bzwxNjtvKyspcltvXT1uW29dKigxLWkpK2Fbb10qaTtyZXR1cm4gcy5tYXJrQXNVcGRhdGVkKCksc31zdGF0aWMgRGVjb21wb3NlTGVycChlLHQsaSl7Y29uc3Qgcz1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4geC5EZWNvbXBvc2VMZXJwVG9SZWYoZSx0LGkscyksc31zdGF0aWMgRGVjb21wb3NlTGVycFRvUmVmKGUsdCxpLHMpe2NvbnN0IHI9Sy5WZWN0b3IzWzBdLG49Sy5RdWF0ZXJuaW9uWzBdLGE9Sy5WZWN0b3IzWzFdO2UuZGVjb21wb3NlKHIsbixhKTtjb25zdCBvPUsuVmVjdG9yM1syXSxoPUsuUXVhdGVybmlvblsxXSxsPUsuVmVjdG9yM1szXTt0LmRlY29tcG9zZShvLGgsbCk7Y29uc3QgdT1LLlZlY3RvcjNbNF07cC5MZXJwVG9SZWYocixvLGksdSk7Y29uc3QgZD1LLlF1YXRlcm5pb25bMl07Wi5TbGVycFRvUmVmKG4saCxpLGQpO2NvbnN0IGY9Sy5WZWN0b3IzWzVdO3JldHVybiBwLkxlcnBUb1JlZihhLGwsaSxmKSx4LkNvbXBvc2VUb1JlZih1LGQsZixzKSxzfXN0YXRpYyBMb29rQXRMSChlLHQsaSl7Y29uc3Qgcz1uZXcgeDtyZXR1cm4geC5Mb29rQXRMSFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIExvb2tBdExIVG9SZWYoZSx0LGkscyl7Y29uc3Qgcj1LLlZlY3RvcjNbMF0sbj1LLlZlY3RvcjNbMV0sYT1LLlZlY3RvcjNbMl07dC5zdWJ0cmFjdFRvUmVmKGUsYSksYS5ub3JtYWxpemUoKSxwLkNyb3NzVG9SZWYoaSxhLHIpO2NvbnN0IG89ci5sZW5ndGhTcXVhcmVkKCk7bz09PTA/ci54PTE6ci5ub3JtYWxpemVGcm9tTGVuZ3RoKE1hdGguc3FydChvKSkscC5Dcm9zc1RvUmVmKGEscixuKSxuLm5vcm1hbGl6ZSgpO2NvbnN0IGg9LXAuRG90KHIsZSksbD0tcC5Eb3QobixlKSx1PS1wLkRvdChhLGUpO3guRnJvbVZhbHVlc1RvUmVmKHIuX3gsbi5feCxhLl94LDAsci5feSxuLl95LGEuX3ksMCxyLl96LG4uX3osYS5feiwwLGgsbCx1LDEscyl9c3RhdGljIExvb2tBdFJIKGUsdCxpKXtjb25zdCBzPW5ldyB4O3JldHVybiB4Lkxvb2tBdFJIVG9SZWYoZSx0LGkscyksc31zdGF0aWMgTG9va0F0UkhUb1JlZihlLHQsaSxzKXtjb25zdCByPUsuVmVjdG9yM1swXSxuPUsuVmVjdG9yM1sxXSxhPUsuVmVjdG9yM1syXTtlLnN1YnRyYWN0VG9SZWYodCxhKSxhLm5vcm1hbGl6ZSgpLHAuQ3Jvc3NUb1JlZihpLGEscik7Y29uc3Qgbz1yLmxlbmd0aFNxdWFyZWQoKTtvPT09MD9yLng9MTpyLm5vcm1hbGl6ZUZyb21MZW5ndGgoTWF0aC5zcXJ0KG8pKSxwLkNyb3NzVG9SZWYoYSxyLG4pLG4ubm9ybWFsaXplKCk7Y29uc3QgaD0tcC5Eb3QocixlKSxsPS1wLkRvdChuLGUpLHU9LXAuRG90KGEsZSk7cmV0dXJuIHguRnJvbVZhbHVlc1RvUmVmKHIuX3gsbi5feCxhLl94LDAsci5feSxuLl95LGEuX3ksMCxyLl96LG4uX3osYS5feiwwLGgsbCx1LDEscyksc31zdGF0aWMgTG9va0RpcmVjdGlvbkxIKGUsdCl7Y29uc3QgaT1uZXcgeDtyZXR1cm4geC5Mb29rRGlyZWN0aW9uTEhUb1JlZihlLHQsaSksaX1zdGF0aWMgTG9va0RpcmVjdGlvbkxIVG9SZWYoZSx0LGkpe2NvbnN0IHM9Sy5WZWN0b3IzWzBdO3MuY29weUZyb20oZSkscy5zY2FsZUluUGxhY2UoLTEpO2NvbnN0IHI9Sy5WZWN0b3IzWzFdO3JldHVybiBwLkNyb3NzVG9SZWYodCxzLHIpLHguRnJvbVZhbHVlc1RvUmVmKHIuX3gsci5feSxyLl96LDAsdC5feCx0Ll95LHQuX3osMCxzLl94LHMuX3kscy5feiwwLDAsMCwwLDEsaSksaX1zdGF0aWMgTG9va0RpcmVjdGlvblJIKGUsdCl7Y29uc3QgaT1uZXcgeDtyZXR1cm4geC5Mb29rRGlyZWN0aW9uUkhUb1JlZihlLHQsaSksaX1zdGF0aWMgTG9va0RpcmVjdGlvblJIVG9SZWYoZSx0LGkpe2NvbnN0IHM9Sy5WZWN0b3IzWzJdO3JldHVybiBwLkNyb3NzVG9SZWYodCxlLHMpLHguRnJvbVZhbHVlc1RvUmVmKHMuX3gscy5feSxzLl96LDAsdC5feCx0Ll95LHQuX3osMCxlLl94LGUuX3ksZS5feiwwLDAsMCwwLDEsaSksaX1zdGF0aWMgT3J0aG9MSChlLHQsaSxzLHIpe2NvbnN0IG49bmV3IHg7cmV0dXJuIHguT3J0aG9MSFRvUmVmKGUsdCxpLHMsbixyKSxufXN0YXRpYyBPcnRob0xIVG9SZWYoZSx0LGkscyxyLG4pe2NvbnN0IGE9aSxvPXMsaD0yL2UsbD0yL3QsdT0yLyhvLWEpLGQ9LShvK2EpLyhvLWEpO3JldHVybiB4LkZyb21WYWx1ZXNUb1JlZihoLDAsMCwwLDAsbCwwLDAsMCwwLHUsMCwwLDAsZCwxLHIpLG4mJnIubXVsdGlwbHlUb1JlZihxdCxyKSxyLl91cGRhdGVJZGVudGl0eVN0YXR1cyhoPT09MSYmbD09PTEmJnU9PT0xJiZkPT09MCkscn1zdGF0aWMgT3J0aG9PZmZDZW50ZXJMSChlLHQsaSxzLHIsbixhKXtjb25zdCBvPW5ldyB4O3JldHVybiB4Lk9ydGhvT2ZmQ2VudGVyTEhUb1JlZihlLHQsaSxzLHIsbixvLGEpLG99c3RhdGljIE9ydGhvT2ZmQ2VudGVyTEhUb1JlZihlLHQsaSxzLHIsbixhLG8pe2NvbnN0IGg9cixsPW4sdT0yLyh0LWUpLGQ9Mi8ocy1pKSxmPTIvKGwtaCksXz0tKGwraCkvKGwtaCksRT0oZSt0KS8oZS10KSxtPShzK2kpLyhpLXMpO3JldHVybiB4LkZyb21WYWx1ZXNUb1JlZih1LDAsMCwwLDAsZCwwLDAsMCwwLGYsMCxFLG0sXywxLGEpLG8mJmEubXVsdGlwbHlUb1JlZihxdCxhKSxhLm1hcmtBc1VwZGF0ZWQoKSxhfXN0YXRpYyBPcnRob09mZkNlbnRlclJIKGUsdCxpLHMscixuLGEpe2NvbnN0IG89bmV3IHg7cmV0dXJuIHguT3J0aG9PZmZDZW50ZXJSSFRvUmVmKGUsdCxpLHMscixuLG8sYSksb31zdGF0aWMgT3J0aG9PZmZDZW50ZXJSSFRvUmVmKGUsdCxpLHMscixuLGEsbyl7cmV0dXJuIHguT3J0aG9PZmZDZW50ZXJMSFRvUmVmKGUsdCxpLHMscixuLGEsbyksYS5fbVsxMF0qPS0xLGF9c3RhdGljIFBlcnNwZWN0aXZlTEgoZSx0LGkscyxyLG49MCl7Y29uc3QgYT1uZXcgeCxvPWksaD1zLGw9MipvL2UsdT0yKm8vdCxkPShoK28pLyhoLW8pLGY9LTIqaCpvLyhoLW8pLF89TWF0aC50YW4obik7cmV0dXJuIHguRnJvbVZhbHVlc1RvUmVmKGwsMCwwLDAsMCx1LDAsXywwLDAsZCwxLDAsMCxmLDAsYSksciYmYS5tdWx0aXBseVRvUmVmKHF0LGEpLGEuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKCExKSxhfXN0YXRpYyBQZXJzcGVjdGl2ZUZvdkxIKGUsdCxpLHMscixuPTAsYT0hMSl7Y29uc3Qgbz1uZXcgeDtyZXR1cm4geC5QZXJzcGVjdGl2ZUZvdkxIVG9SZWYoZSx0LGkscyxvLCEwLHIsbixhKSxvfXN0YXRpYyBQZXJzcGVjdGl2ZUZvdkxIVG9SZWYoZSx0LGkscyxyLG49ITAsYSxvPTAsaD0hMSl7Y29uc3QgbD1pLHU9cyxkPTEvTWF0aC50YW4oZSouNSksZj1uP2QvdDpkLF89bj9kOmQqdCxFPWgmJmw9PT0wPy0xOnUhPT0wPyh1K2wpLyh1LWwpOjEsbT1oJiZsPT09MD8yKnU6dSE9PTA/LTIqdSpsLyh1LWwpOi0yKmwsdj1NYXRoLnRhbihvKTtyZXR1cm4geC5Gcm9tVmFsdWVzVG9SZWYoZiwwLDAsMCwwLF8sMCx2LDAsMCxFLDEsMCwwLG0sMCxyKSxhJiZyLm11bHRpcGx5VG9SZWYocXQsciksci5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITEpLHJ9c3RhdGljIFBlcnNwZWN0aXZlRm92UmV2ZXJzZUxIVG9SZWYoZSx0LGkscyxyLG49ITAsYSxvPTApe2NvbnN0IGg9MS9NYXRoLnRhbihlKi41KSxsPW4/aC90OmgsdT1uP2g6aCp0LGQ9TWF0aC50YW4obyk7cmV0dXJuIHguRnJvbVZhbHVlc1RvUmVmKGwsMCwwLDAsMCx1LDAsZCwwLDAsLWksMSwwLDAsMSwwLHIpLGEmJnIubXVsdGlwbHlUb1JlZihxdCxyKSxyLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSkscn1zdGF0aWMgUGVyc3BlY3RpdmVGb3ZSSChlLHQsaSxzLHIsbj0wLGE9ITEpe2NvbnN0IG89bmV3IHg7cmV0dXJuIHguUGVyc3BlY3RpdmVGb3ZSSFRvUmVmKGUsdCxpLHMsbywhMCxyLG4sYSksb31zdGF0aWMgUGVyc3BlY3RpdmVGb3ZSSFRvUmVmKGUsdCxpLHMscixuPSEwLGEsbz0wLGg9ITEpe2NvbnN0IGw9aSx1PXMsZD0xL01hdGgudGFuKGUqLjUpLGY9bj9kL3Q6ZCxfPW4/ZDpkKnQsRT1oJiZsPT09MD8xOnUhPT0wPy0odStsKS8odS1sKTotMSxtPWgmJmw9PT0wPzIqdTp1IT09MD8tMip1KmwvKHUtbCk6LTIqbCx2PU1hdGgudGFuKG8pO3JldHVybiB4LkZyb21WYWx1ZXNUb1JlZihmLDAsMCwwLDAsXywwLHYsMCwwLEUsLTEsMCwwLG0sMCxyKSxhJiZyLm11bHRpcGx5VG9SZWYocXQsciksci5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITEpLHJ9c3RhdGljIFBlcnNwZWN0aXZlRm92UmV2ZXJzZVJIVG9SZWYoZSx0LGkscyxyLG49ITAsYSxvPTApe2NvbnN0IGg9MS9NYXRoLnRhbihlKi41KSxsPW4/aC90OmgsdT1uP2g6aCp0LGQ9TWF0aC50YW4obyk7cmV0dXJuIHguRnJvbVZhbHVlc1RvUmVmKGwsMCwwLDAsMCx1LDAsZCwwLDAsLWksLTEsMCwwLC0xLDAsciksYSYmci5tdWx0aXBseVRvUmVmKHF0LHIpLHIuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKCExKSxyfXN0YXRpYyBQZXJzcGVjdGl2ZUZvdldlYlZSVG9SZWYoZSx0LGkscyxyPSExLG4sYT0wKXtjb25zdCBvPXI/LTE6MSxoPU1hdGgudGFuKGUudXBEZWdyZWVzKk1hdGguUEkvMTgwKSxsPU1hdGgudGFuKGUuZG93bkRlZ3JlZXMqTWF0aC5QSS8xODApLHU9TWF0aC50YW4oZS5sZWZ0RGVncmVlcypNYXRoLlBJLzE4MCksZD1NYXRoLnRhbihlLnJpZ2h0RGVncmVlcypNYXRoLlBJLzE4MCksZj0yLyh1K2QpLF89Mi8oaCtsKSxFPU1hdGgudGFuKGEpLG09cy5fbTtyZXR1cm4gbVswXT1mLG1bMV09bVsyXT1tWzNdPW1bNF09MCxtWzVdPV8sbVs2XT0wLG1bN109RSxtWzhdPSh1LWQpKmYqLjUsbVs5XT0tKChoLWwpKl8qLjUpLG1bMTBdPS1pLyh0LWkpLG1bMTFdPTEqbyxtWzEyXT1tWzEzXT1tWzE1XT0wLG1bMTRdPS0oMippKnQpLyhpLXQpLG4mJnMubXVsdGlwbHlUb1JlZihxdCxzKSxzLm1hcmtBc1VwZGF0ZWQoKSxzfXN0YXRpYyBHZXRGaW5hbE1hdHJpeChlLHQsaSxzLHIsbil7Y29uc3QgYT1lLndpZHRoLG89ZS5oZWlnaHQsaD1lLngsbD1lLnksdT14LkZyb21WYWx1ZXMoYS8yLDAsMCwwLDAsLW8vMiwwLDAsMCwwLG4tciwwLGgrYS8yLG8vMitsLHIsMSksZD1uZXcgdC5jb25zdHJ1Y3RvcjtyZXR1cm4gdC5tdWx0aXBseVRvUmVmKGksZCksZC5tdWx0aXBseVRvUmVmKHMsZCksZC5tdWx0aXBseVRvUmVmKHUsZCl9c3RhdGljIEdldEFzTWF0cml4MngyKGUpe2NvbnN0IHQ9ZS5tLGk9W3RbMF0sdFsxXSx0WzRdLHRbNV1dO3JldHVybiBVZS5NYXRyaXhVc2U2NEJpdHM/aTpuZXcgRmxvYXQzMkFycmF5KGkpfXN0YXRpYyBHZXRBc01hdHJpeDN4MyhlKXtjb25zdCB0PWUubSxpPVt0WzBdLHRbMV0sdFsyXSx0WzRdLHRbNV0sdFs2XSx0WzhdLHRbOV0sdFsxMF1dO3JldHVybiBVZS5NYXRyaXhVc2U2NEJpdHM/aTpuZXcgRmxvYXQzMkFycmF5KGkpfXN0YXRpYyBUcmFuc3Bvc2UoZSl7Y29uc3QgdD1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4geC5UcmFuc3Bvc2VUb1JlZihlLHQpLHR9c3RhdGljIFRyYW5zcG9zZVRvUmVmKGUsdCl7Y29uc3QgaT10Ll9tLHM9ZS5tO3JldHVybiBpWzBdPXNbMF0saVsxXT1zWzRdLGlbMl09c1s4XSxpWzNdPXNbMTJdLGlbNF09c1sxXSxpWzVdPXNbNV0saVs2XT1zWzldLGlbN109c1sxM10saVs4XT1zWzJdLGlbOV09c1s2XSxpWzEwXT1zWzEwXSxpWzExXT1zWzE0XSxpWzEyXT1zWzNdLGlbMTNdPXNbN10saVsxNF09c1sxMV0saVsxNV09c1sxNV0sdC5tYXJrQXNVcGRhdGVkKCksdC5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZS5faXNJZGVudGl0eSxlLl9pc0lkZW50aXR5RGlydHkpLHR9c3RhdGljIFJlZmxlY3Rpb24oZSl7Y29uc3QgdD1uZXcgeDtyZXR1cm4geC5SZWZsZWN0aW9uVG9SZWYoZSx0KSx0fXN0YXRpYyBSZWZsZWN0aW9uVG9SZWYoZSx0KXtlLm5vcm1hbGl6ZSgpO2NvbnN0IGk9ZS5ub3JtYWwueCxzPWUubm9ybWFsLnkscj1lLm5vcm1hbC56LG49LTIqaSxhPS0yKnMsbz0tMipyO3JldHVybiB4LkZyb21WYWx1ZXNUb1JlZihuKmkrMSxhKmksbyppLDAsbipzLGEqcysxLG8qcywwLG4qcixhKnIsbypyKzEsMCxuKmUuZCxhKmUuZCxvKmUuZCwxLHQpLHR9c3RhdGljIEZyb21YWVpBeGVzVG9SZWYoZSx0LGkscyl7cmV0dXJuIHguRnJvbVZhbHVlc1RvUmVmKGUuX3gsZS5feSxlLl96LDAsdC5feCx0Ll95LHQuX3osMCxpLl94LGkuX3ksaS5feiwwLDAsMCwwLDEscyksc31zdGF0aWMgRnJvbVF1YXRlcm5pb25Ub1JlZihlLHQpe2NvbnN0IGk9ZS5feCplLl94LHM9ZS5feSplLl95LHI9ZS5feiplLl96LG49ZS5feCplLl95LGE9ZS5feiplLl93LG89ZS5feiplLl94LGg9ZS5feSplLl93LGw9ZS5feSplLl96LHU9ZS5feCplLl93O3JldHVybiB0Ll9tWzBdPTEtMioocytyKSx0Ll9tWzFdPTIqKG4rYSksdC5fbVsyXT0yKihvLWgpLHQuX21bM109MCx0Ll9tWzRdPTIqKG4tYSksdC5fbVs1XT0xLTIqKHIraSksdC5fbVs2XT0yKihsK3UpLHQuX21bN109MCx0Ll9tWzhdPTIqKG8raCksdC5fbVs5XT0yKihsLXUpLHQuX21bMTBdPTEtMioocytpKSx0Ll9tWzExXT0wLHQuX21bMTJdPTAsdC5fbVsxM109MCx0Ll9tWzE0XT0wLHQuX21bMTVdPTEsdC5tYXJrQXNVcGRhdGVkKCksdH19eC5fVXBkYXRlRmxhZ1NlZWQ9MCx4Ll9JZGVudGl0eVJlYWRPbmx5PXguSWRlbnRpdHkoKTtjbGFzcyBLe31LLlZlY3RvcjM9QmUuQnVpbGRUdXBsZSgxMSxwLlplcm8pLEsuTWF0cml4PUJlLkJ1aWxkVHVwbGUoMix4LklkZW50aXR5KSxLLlF1YXRlcm5pb249QmUuQnVpbGRUdXBsZSgzLFouWmVybyk7Y2xhc3MgRHt9RC5WZWN0b3IyPUJlLkJ1aWxkVHVwbGUoMyx2ZS5aZXJvKSxELlZlY3RvcjM9QmUuQnVpbGRUdXBsZSgxMyxwLlplcm8pLEQuVmVjdG9yND1CZS5CdWlsZFR1cGxlKDMsQ2UuWmVybyksRC5RdWF0ZXJuaW9uPUJlLkJ1aWxkVHVwbGUoMixaLlplcm8pLEQuTWF0cml4PUJlLkJ1aWxkVHVwbGUoOCx4LklkZW50aXR5KSxpdCgiQkFCWUxPTi5WZWN0b3IyIix2ZSksaXQoIkJBQllMT04uVmVjdG9yMyIscCksaXQoIkJBQllMT04uVmVjdG9yNCIsQ2UpLGl0KCJCQUJZTE9OLk1hdHJpeCIseCk7Y29uc3QgcXQ9eC5Gcm9tVmFsdWVzKDEsMCwwLDAsMCwxLDAsMCwwLDAsLjUsMCwwLDAsLjUsMSk7Y2xhc3MgS3J7Y29uc3RydWN0b3IoZSx0PSExLGkscyl7dGhpcy5pbml0aWFsaXplKGUsdCxpLHMpfWluaXRpYWxpemUoZSx0PSExLGkscyl7cmV0dXJuIHRoaXMubWFzaz1lLHRoaXMuc2tpcE5leHRPYnNlcnZlcnM9dCx0aGlzLnRhcmdldD1pLHRoaXMuY3VycmVudFRhcmdldD1zLHRoaXN9fWNsYXNzIFlye2NvbnN0cnVjdG9yKGUsdCxpPW51bGwpe3RoaXMuY2FsbGJhY2s9ZSx0aGlzLm1hc2s9dCx0aGlzLnNjb3BlPWksdGhpcy5fd2lsbEJlVW5yZWdpc3RlcmVkPSExLHRoaXMudW5yZWdpc3Rlck9uTmV4dENhbGw9ITF9fWNsYXNzIEZ7Y29uc3RydWN0b3IoZSl7dGhpcy5fb2JzZXJ2ZXJzPW5ldyBBcnJheSx0aGlzLl9udW1PYnNlcnZlcnNNYXJrZWRBc0RlbGV0ZWQ9MCx0aGlzLl9ldmVudFN0YXRlPW5ldyBLcigwKSxlJiYodGhpcy5fb25PYnNlcnZlckFkZGVkPWUpfXN0YXRpYyBGcm9tUHJvbWlzZShlLHQpe2NvbnN0IGk9bmV3IEY7cmV0dXJuIGUudGhlbihzPT57aS5ub3RpZnlPYnNlcnZlcnMocyl9KS5jYXRjaChzPT57aWYodCl0Lm5vdGlmeU9ic2VydmVycyhzKTtlbHNlIHRocm93IHN9KSxpfWdldCBvYnNlcnZlcnMoKXtyZXR1cm4gdGhpcy5fb2JzZXJ2ZXJzfWFkZChlLHQ9LTEsaT0hMSxzPW51bGwscj0hMSl7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3Qgbj1uZXcgWXIoZSx0LHMpO3JldHVybiBuLnVucmVnaXN0ZXJPbk5leHRDYWxsPXIsaT90aGlzLl9vYnNlcnZlcnMudW5zaGlmdChuKTp0aGlzLl9vYnNlcnZlcnMucHVzaChuKSx0aGlzLl9vbk9ic2VydmVyQWRkZWQmJnRoaXMuX29uT2JzZXJ2ZXJBZGRlZChuKSxufWFkZE9uY2UoZSl7cmV0dXJuIHRoaXMuYWRkKGUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsITApfXJlbW92ZShlKXtyZXR1cm4gZSYmdGhpcy5fb2JzZXJ2ZXJzLmluZGV4T2YoZSkhPT0tMT8odGhpcy5fZGVmZXJVbnJlZ2lzdGVyKGUpLCEwKTohMX1yZW1vdmVDYWxsYmFjayhlLHQpe2ZvcihsZXQgaT0wO2k8dGhpcy5fb2JzZXJ2ZXJzLmxlbmd0aDtpKyspe2NvbnN0IHM9dGhpcy5fb2JzZXJ2ZXJzW2ldO2lmKCFzLl93aWxsQmVVbnJlZ2lzdGVyZWQmJnMuY2FsbGJhY2s9PT1lJiYoIXR8fHQ9PT1zLnNjb3BlKSlyZXR1cm4gdGhpcy5fZGVmZXJVbnJlZ2lzdGVyKHMpLCEwfXJldHVybiExfV9kZWZlclVucmVnaXN0ZXIoZSl7dGhpcy5fbnVtT2JzZXJ2ZXJzTWFya2VkQXNEZWxldGVkKyssZS51bnJlZ2lzdGVyT25OZXh0Q2FsbD0hMSxlLl93aWxsQmVVbnJlZ2lzdGVyZWQ9ITAsc2V0VGltZW91dCgoKT0+e3RoaXMuX3JlbW92ZShlKX0sMCl9X3JlbW92ZShlKXtpZighZSlyZXR1cm4hMTtjb25zdCB0PXRoaXMuX29ic2VydmVycy5pbmRleE9mKGUpO3JldHVybiB0IT09LTE/KHRoaXMuX251bU9ic2VydmVyc01hcmtlZEFzRGVsZXRlZC0tLHRoaXMuX29ic2VydmVycy5zcGxpY2UodCwxKSwhMCk6ITF9bWFrZU9ic2VydmVyVG9wUHJpb3JpdHkoZSl7dGhpcy5fcmVtb3ZlKGUpLHRoaXMuX29ic2VydmVycy51bnNoaWZ0KGUpfW1ha2VPYnNlcnZlckJvdHRvbVByaW9yaXR5KGUpe3RoaXMuX3JlbW92ZShlKSx0aGlzLl9vYnNlcnZlcnMucHVzaChlKX1ub3RpZnlPYnNlcnZlcnMoZSx0PS0xLGkscyxyKXtpZighdGhpcy5fb2JzZXJ2ZXJzLmxlbmd0aClyZXR1cm4hMDtjb25zdCBuPXRoaXMuX2V2ZW50U3RhdGU7bi5tYXNrPXQsbi50YXJnZXQ9aSxuLmN1cnJlbnRUYXJnZXQ9cyxuLnNraXBOZXh0T2JzZXJ2ZXJzPSExLG4ubGFzdFJldHVyblZhbHVlPWUsbi51c2VySW5mbz1yO2Zvcihjb25zdCBhIG9mIHRoaXMuX29ic2VydmVycylpZighYS5fd2lsbEJlVW5yZWdpc3RlcmVkJiYoYS5tYXNrJnQmJihhLnVucmVnaXN0ZXJPbk5leHRDYWxsJiZ0aGlzLl9kZWZlclVucmVnaXN0ZXIoYSksYS5zY29wZT9uLmxhc3RSZXR1cm5WYWx1ZT1hLmNhbGxiYWNrLmFwcGx5KGEuc2NvcGUsW2Usbl0pOm4ubGFzdFJldHVyblZhbHVlPWEuY2FsbGJhY2soZSxuKSksbi5za2lwTmV4dE9ic2VydmVycykpcmV0dXJuITE7cmV0dXJuITB9bm90aWZ5T2JzZXJ2ZXIoZSx0LGk9LTEpe2lmKGUuX3dpbGxCZVVucmVnaXN0ZXJlZClyZXR1cm47Y29uc3Qgcz10aGlzLl9ldmVudFN0YXRlO3MubWFzaz1pLHMuc2tpcE5leHRPYnNlcnZlcnM9ITEsZS51bnJlZ2lzdGVyT25OZXh0Q2FsbCYmdGhpcy5fZGVmZXJVbnJlZ2lzdGVyKGUpLGUuY2FsbGJhY2sodCxzKX1oYXNPYnNlcnZlcnMoKXtyZXR1cm4gdGhpcy5fb2JzZXJ2ZXJzLmxlbmd0aC10aGlzLl9udW1PYnNlcnZlcnNNYXJrZWRBc0RlbGV0ZWQ+MH1jbGVhcigpe3RoaXMuX29ic2VydmVycz1uZXcgQXJyYXksdGhpcy5fb25PYnNlcnZlckFkZGVkPW51bGx9Y2xvbmUoKXtjb25zdCBlPW5ldyBGO3JldHVybiBlLl9vYnNlcnZlcnM9dGhpcy5fb2JzZXJ2ZXJzLnNsaWNlKDApLGV9aGFzU3BlY2lmaWNNYXNrKGU9LTEpe2Zvcihjb25zdCB0IG9mIHRoaXMuX29ic2VydmVycylpZih0Lm1hc2smZXx8dC5tYXNrPT09ZSlyZXR1cm4hMDtyZXR1cm4hMX19Y2xhc3MgWnJ7Y29uc3RydWN0b3IoKXt0aGlzLnNhbXBsaW5nTW9kZT0tMSx0aGlzLl91c2VNaXBNYXBzPSEwLHRoaXMuX2NhY2hlZFdyYXBVPW51bGwsdGhpcy5fY2FjaGVkV3JhcFY9bnVsbCx0aGlzLl9jYWNoZWRXcmFwUj1udWxsLHRoaXMuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9bnVsbCx0aGlzLl9jb21wYXJpc29uRnVuY3Rpb249MH1nZXQgd3JhcFUoKXtyZXR1cm4gdGhpcy5fY2FjaGVkV3JhcFV9c2V0IHdyYXBVKGUpe3RoaXMuX2NhY2hlZFdyYXBVPWV9Z2V0IHdyYXBWKCl7cmV0dXJuIHRoaXMuX2NhY2hlZFdyYXBWfXNldCB3cmFwVihlKXt0aGlzLl9jYWNoZWRXcmFwVj1lfWdldCB3cmFwUigpe3JldHVybiB0aGlzLl9jYWNoZWRXcmFwUn1zZXQgd3JhcFIoZSl7dGhpcy5fY2FjaGVkV3JhcFI9ZX1nZXQgYW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbCgpe3JldHVybiB0aGlzLl9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsfXNldCBhbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsKGUpe3RoaXMuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9ZX1nZXQgY29tcGFyaXNvbkZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbXBhcmlzb25GdW5jdGlvbn1zZXQgY29tcGFyaXNvbkZ1bmN0aW9uKGUpe3RoaXMuX2NvbXBhcmlzb25GdW5jdGlvbj1lfWdldCB1c2VNaXBNYXBzKCl7cmV0dXJuIHRoaXMuX3VzZU1pcE1hcHN9c2V0IHVzZU1pcE1hcHMoZSl7dGhpcy5fdXNlTWlwTWFwcz1lfXNldFBhcmFtZXRlcnMoZT0xLHQ9MSxpPTEscz0xLHI9MixuPTApe3JldHVybiB0aGlzLl9jYWNoZWRXcmFwVT1lLHRoaXMuX2NhY2hlZFdyYXBWPXQsdGhpcy5fY2FjaGVkV3JhcFI9aSx0aGlzLl9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPXMsdGhpcy5zYW1wbGluZ01vZGU9cix0aGlzLl9jb21wYXJpc29uRnVuY3Rpb249bix0aGlzfWNvbXBhcmVTYW1wbGVyKGUpe3JldHVybiB0aGlzLl9jYWNoZWRXcmFwVT09PWUuX2NhY2hlZFdyYXBVJiZ0aGlzLl9jYWNoZWRXcmFwVj09PWUuX2NhY2hlZFdyYXBWJiZ0aGlzLl9jYWNoZWRXcmFwUj09PWUuX2NhY2hlZFdyYXBSJiZ0aGlzLl9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPT09ZS5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbCYmdGhpcy5zYW1wbGluZ01vZGU9PT1lLnNhbXBsaW5nTW9kZSYmdGhpcy5fY29tcGFyaXNvbkZ1bmN0aW9uPT09ZS5fY29tcGFyaXNvbkZ1bmN0aW9uJiZ0aGlzLl91c2VNaXBNYXBzPT09ZS5fdXNlTWlwTWFwc319dmFyIE5lOyhmdW5jdGlvbihjKXtjW2MuVW5rbm93bj0wXT0iVW5rbm93biIsY1tjLlVybD0xXT0iVXJsIixjW2MuVGVtcD0yXT0iVGVtcCIsY1tjLlJhdz0zXT0iUmF3IixjW2MuRHluYW1pYz00XT0iRHluYW1pYyIsY1tjLlJlbmRlclRhcmdldD01XT0iUmVuZGVyVGFyZ2V0IixjW2MuTXVsdGlSZW5kZXJUYXJnZXQ9Nl09Ik11bHRpUmVuZGVyVGFyZ2V0IixjW2MuQ3ViZT03XT0iQ3ViZSIsY1tjLkN1YmVSYXc9OF09IkN1YmVSYXciLGNbYy5DdWJlUHJlZmlsdGVyZWQ9OV09IkN1YmVQcmVmaWx0ZXJlZCIsY1tjLlJhdzNEPTEwXT0iUmF3M0QiLGNbYy5SYXcyREFycmF5PTExXT0iUmF3MkRBcnJheSIsY1tjLkRlcHRoU3RlbmNpbD0xMl09IkRlcHRoU3RlbmNpbCIsY1tjLkN1YmVSYXdSR0JEPTEzXT0iQ3ViZVJhd1JHQkQiLGNbYy5EZXB0aD0xNF09IkRlcHRoIn0pKE5lfHwoTmU9e30pKTtjbGFzcyBPdCBleHRlbmRzIFpye2NvbnN0cnVjdG9yKGUsdCxpPSExKXtzdXBlcigpLHRoaXMuaXNSZWFkeT0hMSx0aGlzLmlzQ3ViZT0hMSx0aGlzLmlzM0Q9ITEsdGhpcy5pczJEQXJyYXk9ITEsdGhpcy5pc011bHRpdmlldz0hMSx0aGlzLnVybD0iIix0aGlzLmdlbmVyYXRlTWlwTWFwcz0hMSx0aGlzLnNhbXBsZXM9MCx0aGlzLnR5cGU9LTEsdGhpcy5mb3JtYXQ9LTEsdGhpcy5vbkxvYWRlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkVycm9yT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uUmVidWlsZENhbGxiYWNrPW51bGwsdGhpcy53aWR0aD0wLHRoaXMuaGVpZ2h0PTAsdGhpcy5kZXB0aD0wLHRoaXMuYmFzZVdpZHRoPTAsdGhpcy5iYXNlSGVpZ2h0PTAsdGhpcy5iYXNlRGVwdGg9MCx0aGlzLmludmVydFk9ITEsdGhpcy5faW52ZXJ0VlNjYWxlPSExLHRoaXMuX2Fzc29jaWF0ZWRDaGFubmVsPS0xLHRoaXMuX3NvdXJjZT1OZS5Vbmtub3duLHRoaXMuX2J1ZmZlcj1udWxsLHRoaXMuX2J1ZmZlclZpZXc9bnVsbCx0aGlzLl9idWZmZXJWaWV3QXJyYXk9bnVsbCx0aGlzLl9idWZmZXJWaWV3QXJyYXlBcnJheT1udWxsLHRoaXMuX3NpemU9MCx0aGlzLl9leHRlbnNpb249IiIsdGhpcy5fZmlsZXM9bnVsbCx0aGlzLl93b3JraW5nQ2FudmFzPW51bGwsdGhpcy5fd29ya2luZ0NvbnRleHQ9bnVsbCx0aGlzLl9jYWNoZWRDb29yZGluYXRlc01vZGU9bnVsbCx0aGlzLl9pc0Rpc2FibGVkPSExLHRoaXMuX2NvbXByZXNzaW9uPW51bGwsdGhpcy5fc3BoZXJpY2FsUG9seW5vbWlhbD1udWxsLHRoaXMuX3NwaGVyaWNhbFBvbHlub21pYWxQcm9taXNlPW51bGwsdGhpcy5fc3BoZXJpY2FsUG9seW5vbWlhbENvbXB1dGVkPSExLHRoaXMuX2xvZEdlbmVyYXRpb25TY2FsZT0wLHRoaXMuX2xvZEdlbmVyYXRpb25PZmZzZXQ9MCx0aGlzLl91c2VTUkdCQnVmZmVyPSExLHRoaXMuX2xvZFRleHR1cmVIaWdoPW51bGwsdGhpcy5fbG9kVGV4dHVyZU1pZD1udWxsLHRoaXMuX2xvZFRleHR1cmVMb3c9bnVsbCx0aGlzLl9pc1JHQkQ9ITEsdGhpcy5fbGluZWFyU3BlY3VsYXJMT0Q9ITEsdGhpcy5faXJyYWRpYW5jZVRleHR1cmU9bnVsbCx0aGlzLl9oYXJkd2FyZVRleHR1cmU9bnVsbCx0aGlzLl9tYXhMb2RMZXZlbD1udWxsLHRoaXMuX3JlZmVyZW5jZXM9MSx0aGlzLl9nYW1tYVNwYWNlPW51bGwsdGhpcy5fZW5naW5lPWUsdGhpcy5fc291cmNlPXQsdGhpcy5fdW5pcXVlSWQ9T3QuX0NvdW50ZXIrKyxpfHwodGhpcy5faGFyZHdhcmVUZXh0dXJlPWUuX2NyZWF0ZUhhcmR3YXJlVGV4dHVyZSgpKX1nZXQgdXNlTWlwTWFwcygpe3JldHVybiB0aGlzLmdlbmVyYXRlTWlwTWFwc31zZXQgdXNlTWlwTWFwcyhlKXt0aGlzLmdlbmVyYXRlTWlwTWFwcz1lfWdldCB1bmlxdWVJZCgpe3JldHVybiB0aGlzLl91bmlxdWVJZH1fc2V0VW5pcXVlSWQoZSl7dGhpcy5fdW5pcXVlSWQ9ZX1nZXRFbmdpbmUoKXtyZXR1cm4gdGhpcy5fZW5naW5lfWdldCBzb3VyY2UoKXtyZXR1cm4gdGhpcy5fc291cmNlfWluY3JlbWVudFJlZmVyZW5jZXMoKXt0aGlzLl9yZWZlcmVuY2VzKyt9dXBkYXRlU2l6ZShlLHQsaT0xKXt0aGlzLl9lbmdpbmUudXBkYXRlVGV4dHVyZURpbWVuc2lvbnModGhpcyxlLHQsaSksdGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXQsdGhpcy5kZXB0aD1pLHRoaXMuYmFzZVdpZHRoPWUsdGhpcy5iYXNlSGVpZ2h0PXQsdGhpcy5iYXNlRGVwdGg9aSx0aGlzLl9zaXplPWUqdCppfV9yZWJ1aWxkKCl7dmFyIGU7aWYodGhpcy5pc1JlYWR5PSExLHRoaXMuX2NhY2hlZENvb3JkaW5hdGVzTW9kZT1udWxsLHRoaXMuX2NhY2hlZFdyYXBVPW51bGwsdGhpcy5fY2FjaGVkV3JhcFY9bnVsbCx0aGlzLl9jYWNoZWRXcmFwUj1udWxsLHRoaXMuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9bnVsbCx0aGlzLm9uUmVidWlsZENhbGxiYWNrKXtjb25zdCBpPXRoaXMub25SZWJ1aWxkQ2FsbGJhY2sodGhpcykscz1yPT57ci5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLmlzUmVhZHk9aS5pc1JlYWR5fTtpLmlzQXN5bmM/aS5wcm94eS50aGVuKHMpOnMoaS5wcm94eSk7cmV0dXJufWxldCB0O3N3aXRjaCh0aGlzLnNvdXJjZSl7Y2FzZSBOZS5UZW1wOmJyZWFrO2Nhc2UgTmUuVXJsOnQ9dGhpcy5fZW5naW5lLmNyZWF0ZVRleHR1cmUoKGU9dGhpcy5fb3JpZ2luYWxVcmwpIT09bnVsbCYmZSE9PXZvaWQgMD9lOnRoaXMudXJsLCF0aGlzLmdlbmVyYXRlTWlwTWFwcyx0aGlzLmludmVydFksbnVsbCx0aGlzLnNhbXBsaW5nTW9kZSxpPT57aS5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLmlzUmVhZHk9ITB9LG51bGwsdGhpcy5fYnVmZmVyLHZvaWQgMCx0aGlzLmZvcm1hdCx0aGlzLl9leHRlbnNpb24sdm9pZCAwLHZvaWQgMCx2b2lkIDAsdGhpcy5fdXNlU1JHQkJ1ZmZlcik7cmV0dXJuO2Nhc2UgTmUuUmF3OnQ9dGhpcy5fZW5naW5lLmNyZWF0ZVJhd1RleHR1cmUodGhpcy5fYnVmZmVyVmlldyx0aGlzLmJhc2VXaWR0aCx0aGlzLmJhc2VIZWlnaHQsdGhpcy5mb3JtYXQsdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5pbnZlcnRZLHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2NvbXByZXNzaW9uLHRoaXMudHlwZSx2b2lkIDAsdGhpcy5fdXNlU1JHQkJ1ZmZlciksdC5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLmlzUmVhZHk9ITA7YnJlYWs7Y2FzZSBOZS5SYXczRDp0PXRoaXMuX2VuZ2luZS5jcmVhdGVSYXdUZXh0dXJlM0QodGhpcy5fYnVmZmVyVmlldyx0aGlzLmJhc2VXaWR0aCx0aGlzLmJhc2VIZWlnaHQsdGhpcy5iYXNlRGVwdGgsdGhpcy5mb3JtYXQsdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5pbnZlcnRZLHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2NvbXByZXNzaW9uLHRoaXMudHlwZSksdC5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLmlzUmVhZHk9ITA7YnJlYWs7Y2FzZSBOZS5SYXcyREFycmF5OnQ9dGhpcy5fZW5naW5lLmNyZWF0ZVJhd1RleHR1cmUyREFycmF5KHRoaXMuX2J1ZmZlclZpZXcsdGhpcy5iYXNlV2lkdGgsdGhpcy5iYXNlSGVpZ2h0LHRoaXMuYmFzZURlcHRoLHRoaXMuZm9ybWF0LHRoaXMuZ2VuZXJhdGVNaXBNYXBzLHRoaXMuaW52ZXJ0WSx0aGlzLnNhbXBsaW5nTW9kZSx0aGlzLl9jb21wcmVzc2lvbix0aGlzLnR5cGUpLHQuX3N3YXBBbmREaWUodGhpcywhMSksdGhpcy5pc1JlYWR5PSEwO2JyZWFrO2Nhc2UgTmUuRHluYW1pYzp0PXRoaXMuX2VuZ2luZS5jcmVhdGVEeW5hbWljVGV4dHVyZSh0aGlzLmJhc2VXaWR0aCx0aGlzLmJhc2VIZWlnaHQsdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5zYW1wbGluZ01vZGUpLHQuX3N3YXBBbmREaWUodGhpcywhMSksdGhpcy5fZW5naW5lLnVwZGF0ZUR5bmFtaWNUZXh0dXJlKHRoaXMsdGhpcy5fZW5naW5lLmdldFJlbmRlcmluZ0NhbnZhcygpLHRoaXMuaW52ZXJ0WSx2b2lkIDAsdm9pZCAwLCEwKTticmVhaztjYXNlIE5lLkN1YmU6dD10aGlzLl9lbmdpbmUuY3JlYXRlQ3ViZVRleHR1cmUodGhpcy51cmwsbnVsbCx0aGlzLl9maWxlcywhdGhpcy5nZW5lcmF0ZU1pcE1hcHMsKCk9Pnt0Ll9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT0hMH0sbnVsbCx0aGlzLmZvcm1hdCx0aGlzLl9leHRlbnNpb24sITEsMCwwLG51bGwsdm9pZCAwLHRoaXMuX3VzZVNSR0JCdWZmZXIpO3JldHVybjtjYXNlIE5lLkN1YmVSYXc6dD10aGlzLl9lbmdpbmUuY3JlYXRlUmF3Q3ViZVRleHR1cmUodGhpcy5fYnVmZmVyVmlld0FycmF5LHRoaXMud2lkdGgsdGhpcy5mb3JtYXQsdGhpcy50eXBlLHRoaXMuZ2VuZXJhdGVNaXBNYXBzLHRoaXMuaW52ZXJ0WSx0aGlzLnNhbXBsaW5nTW9kZSx0aGlzLl9jb21wcmVzc2lvbiksdC5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLmlzUmVhZHk9ITA7YnJlYWs7Y2FzZSBOZS5DdWJlUmF3UkdCRDpyZXR1cm47Y2FzZSBOZS5DdWJlUHJlZmlsdGVyZWQ6dD10aGlzLl9lbmdpbmUuY3JlYXRlUHJlZmlsdGVyZWRDdWJlVGV4dHVyZSh0aGlzLnVybCxudWxsLHRoaXMuX2xvZEdlbmVyYXRpb25TY2FsZSx0aGlzLl9sb2RHZW5lcmF0aW9uT2Zmc2V0LGk9PntpJiZpLl9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT0hMH0sbnVsbCx0aGlzLmZvcm1hdCx0aGlzLl9leHRlbnNpb24pLHQuX3NwaGVyaWNhbFBvbHlub21pYWw9dGhpcy5fc3BoZXJpY2FsUG9seW5vbWlhbDtyZXR1cm59fV9zd2FwQW5kRGllKGUsdD0hMCl7dmFyIGk7KGk9dGhpcy5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fGk9PT12b2lkIDB8fGkuc2V0VXNhZ2UoZS5fc291cmNlLHRoaXMuZ2VuZXJhdGVNaXBNYXBzLHRoaXMuaXNDdWJlLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLGUuX2hhcmR3YXJlVGV4dHVyZT10aGlzLl9oYXJkd2FyZVRleHR1cmUsdCYmKGUuX2lzUkdCRD10aGlzLl9pc1JHQkQpLHRoaXMuX2xvZFRleHR1cmVIaWdoJiYoZS5fbG9kVGV4dHVyZUhpZ2gmJmUuX2xvZFRleHR1cmVIaWdoLmRpc3Bvc2UoKSxlLl9sb2RUZXh0dXJlSGlnaD10aGlzLl9sb2RUZXh0dXJlSGlnaCksdGhpcy5fbG9kVGV4dHVyZU1pZCYmKGUuX2xvZFRleHR1cmVNaWQmJmUuX2xvZFRleHR1cmVNaWQuZGlzcG9zZSgpLGUuX2xvZFRleHR1cmVNaWQ9dGhpcy5fbG9kVGV4dHVyZU1pZCksdGhpcy5fbG9kVGV4dHVyZUxvdyYmKGUuX2xvZFRleHR1cmVMb3cmJmUuX2xvZFRleHR1cmVMb3cuZGlzcG9zZSgpLGUuX2xvZFRleHR1cmVMb3c9dGhpcy5fbG9kVGV4dHVyZUxvdyksdGhpcy5faXJyYWRpYW5jZVRleHR1cmUmJihlLl9pcnJhZGlhbmNlVGV4dHVyZSYmZS5faXJyYWRpYW5jZVRleHR1cmUuZGlzcG9zZSgpLGUuX2lycmFkaWFuY2VUZXh0dXJlPXRoaXMuX2lycmFkaWFuY2VUZXh0dXJlKTtjb25zdCBzPXRoaXMuX2VuZ2luZS5nZXRMb2FkZWRUZXh0dXJlc0NhY2hlKCk7bGV0IHI9cy5pbmRleE9mKHRoaXMpO3IhPT0tMSYmcy5zcGxpY2UociwxKSxyPXMuaW5kZXhPZihlKSxyPT09LTEmJnMucHVzaChlKX1kaXNwb3NlKCl7dGhpcy5fcmVmZXJlbmNlcy0tLHRoaXMub25Mb2FkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkVycm9yT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX3JlZmVyZW5jZXM9PT0wJiYodGhpcy5fZW5naW5lLl9yZWxlYXNlVGV4dHVyZSh0aGlzKSx0aGlzLl9oYXJkd2FyZVRleHR1cmU9bnVsbCl9fU90Ll9Db3VudGVyPTA7ZnVuY3Rpb24gamUoKXtyZXR1cm4gdHlwZW9mIHdpbmRvdzwidSJ9ZnVuY3Rpb24gSnMoKXtyZXR1cm4gdHlwZW9mIG5hdmlnYXRvcjwidSJ9ZnVuY3Rpb24gQ2koKXtyZXR1cm4gdHlwZW9mIGRvY3VtZW50PCJ1In1mdW5jdGlvbiBncyhjKXtsZXQgZT0iIix0PWMuZmlyc3RDaGlsZDtmb3IoO3Q7KXQubm9kZVR5cGU9PT0zJiYoZSs9dC50ZXh0Q29udGVudCksdD10Lm5leHRTaWJsaW5nO3JldHVybiBlfWNvbnN0IHBzPXtJc1dpbmRvd09iamVjdEV4aXN0OmplLElzTmF2aWdhdG9yQXZhaWxhYmxlOkpzLElzRG9jdW1lbnRBdmFpbGFibGU6Q2ksR2V0RE9NVGV4dENvbnRlbnQ6Z3N9O2Z1bmN0aW9uICQoYyl7cmV0dXJuYCR7Y30gbmVlZHMgdG8gYmUgaW1wb3J0ZWQgYmVmb3JlIGFzIGl0IGNvbnRhaW5zIGEgc2lkZS1lZmZlY3QgcmVxdWlyZWQgYnkgeW91ciBjb2RlLmB9Y2xhc3MgT3tzdGF0aWMgX0NoZWNrTGltaXQoZSx0KXtsZXQgaT1PLl9Mb2dMaW1pdE91dHB1dHNbZV07cmV0dXJuIGk/aS5jdXJyZW50Kys6KGk9e2xpbWl0OnQsY3VycmVudDoxfSxPLl9Mb2dMaW1pdE91dHB1dHNbZV09aSksaS5jdXJyZW50PD1pLmxpbWl0fXN0YXRpYyBfR2VuZXJhdGVMaW1pdE1lc3NhZ2UoZSx0PTEpe3ZhciBpO2NvbnN0IHM9Ty5fTG9nTGltaXRPdXRwdXRzW2VdO2lmKCFzfHwhTy5NZXNzYWdlTGltaXRSZWFjaGVkKXJldHVybjtjb25zdCByPXRoaXMuX0xldmVsc1t0XTtzLmN1cnJlbnQ9PT1zLmxpbWl0JiZPW3IubmFtZV0oTy5NZXNzYWdlTGltaXRSZWFjaGVkLnJlcGxhY2UoLyVMSU1JVCUvZywiIitzLmxpbWl0KS5yZXBsYWNlKC8lVFlQRSUvZywoaT1yLm5hbWUpIT09bnVsbCYmaSE9PXZvaWQgMD9pOiIiKSl9c3RhdGljIF9BZGRMb2dFbnRyeShlKXtPLl9Mb2dDYWNoZT1lK08uX0xvZ0NhY2hlLE8uT25OZXdDYWNoZUVudHJ5JiZPLk9uTmV3Q2FjaGVFbnRyeShlKX1zdGF0aWMgX0Zvcm1hdE1lc3NhZ2UoZSl7Y29uc3QgdD1zPT5zPDEwPyIwIitzOiIiK3MsaT1uZXcgRGF0ZTtyZXR1cm4iWyIrdChpLmdldEhvdXJzKCkpKyI6Iit0KGkuZ2V0TWludXRlcygpKSsiOiIrdChpLmdldFNlY29uZHMoKSkrIl06ICIrZX1zdGF0aWMgX0xvZ0Rpc2FibGVkKGUsdCl7fXN0YXRpYyBfTG9nRW5hYmxlZChlPTEsdCxpKXtpZihpIT09dm9pZCAwJiYhTy5fQ2hlY2tMaW1pdCh0LGkpKXJldHVybjtjb25zdCBzPU8uX0Zvcm1hdE1lc3NhZ2UodCkscj10aGlzLl9MZXZlbHNbZV07ci5sb2dGdW5jJiZyLmxvZ0Z1bmMoIkJKUyAtICIrcyk7Y29uc3Qgbj1gPGRpdiBzdHlsZT0nY29sb3I6JHtyLmNvbG9yfSc+JHtzfTwvZGl2Pjxicj5gO08uX0FkZExvZ0VudHJ5KG4pLE8uX0dlbmVyYXRlTGltaXRNZXNzYWdlKHQsZSl9c3RhdGljIGdldCBMb2dDYWNoZSgpe3JldHVybiBPLl9Mb2dDYWNoZX1zdGF0aWMgQ2xlYXJMb2dDYWNoZSgpe08uX0xvZ0NhY2hlPSIiLE8uX0xvZ0xpbWl0T3V0cHV0cz17fSxPLmVycm9yc0NvdW50PTB9c3RhdGljIHNldCBMb2dMZXZlbHMoZSl7Ty5Mb2c9Ty5fTG9nRGlzYWJsZWQsTy5XYXJuPU8uX0xvZ0Rpc2FibGVkLE8uRXJyb3I9Ty5fTG9nRGlzYWJsZWQsW08uTWVzc2FnZUxvZ0xldmVsLE8uV2FybmluZ0xvZ0xldmVsLE8uRXJyb3JMb2dMZXZlbF0uZm9yRWFjaCh0PT57aWYoKGUmdCk9PT10KXtjb25zdCBpPXRoaXMuX0xldmVsc1t0XTtPW2kubmFtZV09Ty5fTG9nRW5hYmxlZC5iaW5kKE8sdCl9fSl9fU8uTm9uZUxvZ0xldmVsPTAsTy5NZXNzYWdlTG9nTGV2ZWw9MSxPLldhcm5pbmdMb2dMZXZlbD0yLE8uRXJyb3JMb2dMZXZlbD00LE8uQWxsTG9nTGV2ZWw9NyxPLk1lc3NhZ2VMaW1pdFJlYWNoZWQ9IlRvbyBtYW55ICVUWVBFJXMgKCVMSU1JVCUpLCBubyBtb3JlICVUWVBFJXMgd2lsbCBiZSByZXBvcnRlZCBmb3IgdGhpcyBtZXNzYWdlLiIsTy5fTG9nQ2FjaGU9IiIsTy5fTG9nTGltaXRPdXRwdXRzPXt9LE8uX0xldmVscz1be30se2NvbG9yOiJ3aGl0ZSIsbG9nRnVuYzpjb25zb2xlLmxvZyxuYW1lOiJMb2cifSx7Y29sb3I6Im9yYW5nZSIsbG9nRnVuYzpjb25zb2xlLndhcm4sbmFtZToiV2FybiJ9LHt9LHtjb2xvcjoicmVkIixsb2dGdW5jOmNvbnNvbGUuZXJyb3IsbmFtZToiRXJyb3IifV0sTy5lcnJvcnNDb3VudD0wLE8uTG9nPU8uX0xvZ0VuYWJsZWQuYmluZChPLE8uTWVzc2FnZUxvZ0xldmVsKSxPLldhcm49Ty5fTG9nRW5hYmxlZC5iaW5kKE8sTy5XYXJuaW5nTG9nTGV2ZWwpLE8uRXJyb3I9Ty5fTG9nRW5hYmxlZC5iaW5kKE8sTy5FcnJvckxvZ0xldmVsKTtjb25zdCBxcj0iYXR0cmlidXRlIixqcj0idmFyeWluZyI7Y2xhc3MgSWl7Y29uc3RydWN0b3IoKXt0aGlzLmNoaWxkcmVuPVtdfWlzVmFsaWQoZSl7cmV0dXJuITB9cHJvY2VzcyhlLHQpe3ZhciBpLHMscixuLGEsbztsZXQgaD0iIjtpZih0aGlzLmxpbmUpe2xldCBsPXRoaXMubGluZTtjb25zdCB1PXQucHJvY2Vzc29yO2lmKHUpe3UubGluZVByb2Nlc3NvciYmKGw9dS5saW5lUHJvY2Vzc29yKGwsdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQpKTtjb25zdCBkPShzPShpPXQucHJvY2Vzc29yKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmkuYXR0cmlidXRlS2V5d29yZE5hbWUpIT09bnVsbCYmcyE9PXZvaWQgMD9zOnFyLGY9dC5pc0ZyYWdtZW50JiYoISgocj10LnByb2Nlc3Nvcik9PT1udWxsfHxyPT09dm9pZCAwKSYmci52YXJ5aW5nRnJhZ21lbnRLZXl3b3JkTmFtZSk/KG49dC5wcm9jZXNzb3IpPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi52YXJ5aW5nRnJhZ21lbnRLZXl3b3JkTmFtZTohdC5pc0ZyYWdtZW50JiYoISgoYT10LnByb2Nlc3Nvcik9PT1udWxsfHxhPT09dm9pZCAwKSYmYS52YXJ5aW5nVmVydGV4S2V5d29yZE5hbWUpPyhvPXQucHJvY2Vzc29yKT09PW51bGx8fG89PT12b2lkIDA/dm9pZCAwOm8udmFyeWluZ1ZlcnRleEtleXdvcmROYW1lOmpyOyF0LmlzRnJhZ21lbnQmJnUuYXR0cmlidXRlUHJvY2Vzc29yJiZ0aGlzLmxpbmUuc3RhcnRzV2l0aChkKT9sPXUuYXR0cmlidXRlUHJvY2Vzc29yKHRoaXMubGluZSxlLHQucHJvY2Vzc2luZ0NvbnRleHQpOnUudmFyeWluZ1Byb2Nlc3NvciYmdGhpcy5saW5lLnN0YXJ0c1dpdGgoZik/bD11LnZhcnlpbmdQcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCxlLHQucHJvY2Vzc2luZ0NvbnRleHQpOnUudW5pZm9ybVByb2Nlc3NvciYmdS51bmlmb3JtUmVnZXhwJiZ1LnVuaWZvcm1SZWdleHAudGVzdCh0aGlzLmxpbmUpP3QubG9va0ZvckNsb3NpbmdCcmFja2V0Rm9yVW5pZm9ybUJ1ZmZlcnx8KGw9dS51bmlmb3JtUHJvY2Vzc29yKHRoaXMubGluZSx0LmlzRnJhZ21lbnQsZSx0LnByb2Nlc3NpbmdDb250ZXh0KSk6dS51bmlmb3JtQnVmZmVyUHJvY2Vzc29yJiZ1LnVuaWZvcm1CdWZmZXJSZWdleHAmJnUudW5pZm9ybUJ1ZmZlclJlZ2V4cC50ZXN0KHRoaXMubGluZSk/dC5sb29rRm9yQ2xvc2luZ0JyYWNrZXRGb3JVbmlmb3JtQnVmZmVyfHwobD11LnVuaWZvcm1CdWZmZXJQcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0KSx0Lmxvb2tGb3JDbG9zaW5nQnJhY2tldEZvclVuaWZvcm1CdWZmZXI9ITApOnUudGV4dHVyZVByb2Nlc3NvciYmdS50ZXh0dXJlUmVnZXhwJiZ1LnRleHR1cmVSZWdleHAudGVzdCh0aGlzLmxpbmUpP2w9dS50ZXh0dXJlUHJvY2Vzc29yKHRoaXMubGluZSx0LmlzRnJhZ21lbnQsZSx0LnByb2Nlc3NpbmdDb250ZXh0KToodS51bmlmb3JtUHJvY2Vzc29yfHx1LnVuaWZvcm1CdWZmZXJQcm9jZXNzb3IpJiZ0aGlzLmxpbmUuc3RhcnRzV2l0aCgidW5pZm9ybSIpJiYhdC5sb29rRm9yQ2xvc2luZ0JyYWNrZXRGb3JVbmlmb3JtQnVmZmVyJiYoL3VuaWZvcm1ccysoPzooPzpoaWdocCk/fCg/Omxvd3ApPylccyooXFMrKVxzKyhcUyspXHMqOy8udGVzdCh0aGlzLmxpbmUpP3UudW5pZm9ybVByb2Nlc3NvciYmKGw9dS51bmlmb3JtUHJvY2Vzc29yKHRoaXMubGluZSx0LmlzRnJhZ21lbnQsZSx0LnByb2Nlc3NpbmdDb250ZXh0KSk6dS51bmlmb3JtQnVmZmVyUHJvY2Vzc29yJiYobD11LnVuaWZvcm1CdWZmZXJQcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0KSx0Lmxvb2tGb3JDbG9zaW5nQnJhY2tldEZvclVuaWZvcm1CdWZmZXI9ITApKSx0Lmxvb2tGb3JDbG9zaW5nQnJhY2tldEZvclVuaWZvcm1CdWZmZXImJnRoaXMubGluZS5pbmRleE9mKCJ9IikhPT0tMSYmKHQubG9va0ZvckNsb3NpbmdCcmFja2V0Rm9yVW5pZm9ybUJ1ZmZlcj0hMSx1LmVuZE9mVW5pZm9ybUJ1ZmZlclByb2Nlc3NvciYmKGw9dS5lbmRPZlVuaWZvcm1CdWZmZXJQcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0KSkpfWgrPWwrYFxyCmB9cmV0dXJuIHRoaXMuY2hpbGRyZW4uZm9yRWFjaChsPT57aCs9bC5wcm9jZXNzKGUsdCl9KSx0aGlzLmFkZGl0aW9uYWxEZWZpbmVLZXkmJihlW3RoaXMuYWRkaXRpb25hbERlZmluZUtleV09dGhpcy5hZGRpdGlvbmFsRGVmaW5lVmFsdWV8fCJ0cnVlIiksaH19Y2xhc3MgJHJ7Y29uc3RydWN0b3IoKXt0aGlzLl9saW5lcz1bXX1nZXQgY3VycmVudExpbmUoKXtyZXR1cm4gdGhpcy5fbGluZXNbdGhpcy5saW5lSW5kZXhdfWdldCBjYW5SZWFkKCl7cmV0dXJuIHRoaXMubGluZUluZGV4PHRoaXMuX2xpbmVzLmxlbmd0aC0xfXNldCBsaW5lcyhlKXt0aGlzLl9saW5lcy5sZW5ndGg9MDtmb3IoY29uc3QgdCBvZiBlKXtpZih0WzBdPT09IiMiKXt0aGlzLl9saW5lcy5wdXNoKHQpO2NvbnRpbnVlfWlmKHQudHJpbSgpLnN0YXJ0c1dpdGgoIi8vIikpe3RoaXMuX2xpbmVzLnB1c2godCk7Y29udGludWV9Y29uc3QgaT10LnNwbGl0KCI7Iik7Zm9yKGxldCBzPTA7czxpLmxlbmd0aDtzKyspe2xldCByPWlbc107cj1yLnRyaW0oKSxyJiZ0aGlzLl9saW5lcy5wdXNoKHIrKHMhPT1pLmxlbmd0aC0xPyI7IjoiIikpfX19fWNsYXNzIG1zIGV4dGVuZHMgSWl7cHJvY2VzcyhlLHQpe2ZvcihsZXQgaT0wO2k8dGhpcy5jaGlsZHJlbi5sZW5ndGg7aSsrKXtjb25zdCBzPXRoaXMuY2hpbGRyZW5baV07aWYocy5pc1ZhbGlkKGUpKXJldHVybiBzLnByb2Nlc3MoZSx0KX1yZXR1cm4iIn19Y2xhc3MgUXIgZXh0ZW5kcyBJaXtpc1ZhbGlkKGUpe3JldHVybiB0aGlzLnRlc3RFeHByZXNzaW9uLmlzVHJ1ZShlKX19Y2xhc3MgZXR7aXNUcnVlKGUpe3JldHVybiEwfXN0YXRpYyBwb3N0Zml4VG9JbmZpeChlKXtjb25zdCB0PVtdO2Zvcihjb25zdCBpIG9mIGUpaWYoZXQuX09wZXJhdG9yUHJpb3JpdHlbaV09PT12b2lkIDApdC5wdXNoKGkpO2Vsc2V7Y29uc3Qgcz10W3QubGVuZ3RoLTFdLHI9dFt0Lmxlbmd0aC0yXTt0Lmxlbmd0aC09Mix0LnB1c2goYCgke3J9JHtpfSR7c30pYCl9cmV0dXJuIHRbdC5sZW5ndGgtMV19c3RhdGljIGluZml4VG9Qb3N0Zml4KGUpe2NvbnN0IHQ9W107bGV0IGk9LTE7Y29uc3Qgcz0oKT0+e2g9aC50cmltKCksaCE9PSIiJiYodC5wdXNoKGgpLGg9IiIpfSxyPWw9PntpPGV0Ll9TdGFjay5sZW5ndGgtMSYmKGV0Ll9TdGFja1srK2ldPWwpfSxuPSgpPT5ldC5fU3RhY2tbaV0sYT0oKT0+aT09PS0xPyIhIUlOVkFMSUQgRVhQUkVTU0lPTiEhIjpldC5fU3RhY2tbaS0tXTtsZXQgbz0wLGg9IiI7Zm9yKDtvPGUubGVuZ3RoOyl7Y29uc3QgbD1lLmNoYXJBdChvKSx1PW88ZS5sZW5ndGgtMT9lLnN1YnN0cihvLDIpOiIiO2lmKGw9PT0iKCIpaD0iIixyKGwpO2Vsc2UgaWYobD09PSIpIil7Zm9yKHMoKTtpIT09LTEmJm4oKSE9PSIoIjspdC5wdXNoKGEoKSk7YSgpfWVsc2UgaWYoZXQuX09wZXJhdG9yUHJpb3JpdHlbdV0+MSl7Zm9yKHMoKTtpIT09LTEmJmV0Ll9PcGVyYXRvclByaW9yaXR5W24oKV0+PWV0Ll9PcGVyYXRvclByaW9yaXR5W3VdOyl0LnB1c2goYSgpKTtyKHUpLG8rK31lbHNlIGgrPWw7bysrfWZvcihzKCk7aSE9PS0xOyluKCk9PT0iKCI/YSgpOnQucHVzaChhKCkpO3JldHVybiB0fX1ldC5fT3BlcmF0b3JQcmlvcml0eT17IikiOjAsIigiOjEsInx8IjoyLCImJiI6M30sZXQuX1N0YWNrPVsiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIl07Y2xhc3MgR2kgZXh0ZW5kcyBldHtjb25zdHJ1Y3RvcihlLHQ9ITEpe3N1cGVyKCksdGhpcy5kZWZpbmU9ZSx0aGlzLm5vdD10fWlzVHJ1ZShlKXtsZXQgdD1lW3RoaXMuZGVmaW5lXSE9PXZvaWQgMDtyZXR1cm4gdGhpcy5ub3QmJih0PSF0KSx0fX1jbGFzcyBKciBleHRlbmRzIGV0e2lzVHJ1ZShlKXtyZXR1cm4gdGhpcy5sZWZ0T3BlcmFuZC5pc1RydWUoZSl8fHRoaXMucmlnaHRPcGVyYW5kLmlzVHJ1ZShlKX19Y2xhc3MgZW4gZXh0ZW5kcyBldHtpc1RydWUoZSl7cmV0dXJuIHRoaXMubGVmdE9wZXJhbmQuaXNUcnVlKGUpJiZ0aGlzLnJpZ2h0T3BlcmFuZC5pc1RydWUoZSl9fWNsYXNzIHRuIGV4dGVuZHMgZXR7Y29uc3RydWN0b3IoZSx0LGkpe3N1cGVyKCksdGhpcy5kZWZpbmU9ZSx0aGlzLm9wZXJhbmQ9dCx0aGlzLnRlc3RWYWx1ZT1pfWlzVHJ1ZShlKXtsZXQgdD1lW3RoaXMuZGVmaW5lXTt0PT09dm9pZCAwJiYodD10aGlzLmRlZmluZSk7bGV0IGk9ITE7Y29uc3Qgcz1wYXJzZUludCh0KSxyPXBhcnNlSW50KHRoaXMudGVzdFZhbHVlKTtzd2l0Y2godGhpcy5vcGVyYW5kKXtjYXNlIj4iOmk9cz5yO2JyZWFrO2Nhc2UiPCI6aT1zPHI7YnJlYWs7Y2FzZSI8PSI6aT1zPD1yO2JyZWFrO2Nhc2UiPj0iOmk9cz49cjticmVhaztjYXNlIj09IjppPXM9PT1yO2JyZWFrfXJldHVybiBpfX12YXIgWmU7KGZ1bmN0aW9uKGMpe2NbYy5HTFNMPTBdPSJHTFNMIixjW2MuV0dTTD0xXT0iV0dTTCJ9KShaZXx8KFplPXt9KSk7Y29uc3Qgc249L2RlZmluZWRccyo/XCgoLis/KVwpL2csRXM9L2RlZmluZWRccyo/XFsoLis/KVxdL2csZXI9LyNpbmNsdWRlXHM/PCguKyk+KFwoKC4qKVwpKSooXFsoLiopXF0pKi9nO2NsYXNzIG5pe3N0YXRpYyBJbml0aWFsaXplKGUpe2UucHJvY2Vzc29yJiZlLnByb2Nlc3Nvci5pbml0aWFsaXplU2hhZGVycyYmZS5wcm9jZXNzb3IuaW5pdGlhbGl6ZVNoYWRlcnMoZS5wcm9jZXNzaW5nQ29udGV4dCl9c3RhdGljIFByb2Nlc3MoZSx0LGkscyl7dmFyIHI7ISgocj10LnByb2Nlc3Nvcik9PT1udWxsfHxyPT09dm9pZCAwKSYmci5wcmVQcm9jZXNzU2hhZGVyQ29kZSYmKGU9dC5wcm9jZXNzb3IucHJlUHJvY2Vzc1NoYWRlckNvZGUoZSx0LmlzRnJhZ21lbnQpKSx0aGlzLl9Qcm9jZXNzSW5jbHVkZXMoZSx0LG49Pnt0LnByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlcyYmKG49dC5wcm9jZXNzQ29kZUFmdGVySW5jbHVkZXModC5pc0ZyYWdtZW50PyJmcmFnbWVudCI6InZlcnRleCIsbikpO2NvbnN0IGE9dGhpcy5fUHJvY2Vzc1NoYWRlckNvbnZlcnNpb24obix0LHMpO2koYSxuKX0pfXN0YXRpYyBQcmVQcm9jZXNzKGUsdCxpLHMpe3ZhciByOyEoKHI9dC5wcm9jZXNzb3IpPT09bnVsbHx8cj09PXZvaWQgMCkmJnIucHJlUHJvY2Vzc1NoYWRlckNvZGUmJihlPXQucHJvY2Vzc29yLnByZVByb2Nlc3NTaGFkZXJDb2RlKGUsdC5pc0ZyYWdtZW50KSksdGhpcy5fUHJvY2Vzc0luY2x1ZGVzKGUsdCxuPT57dC5wcm9jZXNzQ29kZUFmdGVySW5jbHVkZXMmJihuPXQucHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzKHQuaXNGcmFnbWVudD8iZnJhZ21lbnQiOiJ2ZXJ0ZXgiLG4pKTtjb25zdCBhPXRoaXMuX0FwcGx5UHJlUHJvY2Vzc2luZyhuLHQscyk7aShhLG4pfSl9c3RhdGljIEZpbmFsaXplKGUsdCxpKXtyZXR1cm4haS5wcm9jZXNzb3J8fCFpLnByb2Nlc3Nvci5maW5hbGl6ZVNoYWRlcnM/e3ZlcnRleENvZGU6ZSxmcmFnbWVudENvZGU6dH06aS5wcm9jZXNzb3IuZmluYWxpemVTaGFkZXJzKGUsdCxpLnByb2Nlc3NpbmdDb250ZXh0KX1zdGF0aWMgX1Byb2Nlc3NQcmVjaXNpb24oZSx0KXt2YXIgaTtpZighKChpPXQucHJvY2Vzc29yKT09PW51bGx8fGk9PT12b2lkIDApJiZpLm5vUHJlY2lzaW9uKXJldHVybiBlO2NvbnN0IHM9dC5zaG91bGRVc2VIaWdoUHJlY2lzaW9uU2hhZGVyO3JldHVybiBlLmluZGV4T2YoInByZWNpc2lvbiBoaWdocCBmbG9hdCIpPT09LTE/cz9lPWBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7CmArZTplPWBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKYCtlOnN8fChlPWUucmVwbGFjZSgicHJlY2lzaW9uIGhpZ2hwIGZsb2F0IiwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQiKSksZX1zdGF0aWMgX0V4dHJhY3RPcGVyYXRpb24oZSl7Y29uc3QgaT0vZGVmaW5lZFwoKC4rKVwpLy5leGVjKGUpO2lmKGkmJmkubGVuZ3RoKXJldHVybiBuZXcgR2koaVsxXS50cmltKCksZVswXT09PSIhIik7Y29uc3Qgcz1bIj09IiwiPj0iLCI8PSIsIjwiLCI+Il07bGV0IHI9IiIsbj0wO2ZvcihyIG9mIHMpaWYobj1lLmluZGV4T2Yociksbj4tMSlicmVhaztpZihuPT09LTEpcmV0dXJuIG5ldyBHaShlKTtjb25zdCBhPWUuc3Vic3RyaW5nKDAsbikudHJpbSgpLG89ZS5zdWJzdHJpbmcobityLmxlbmd0aCkudHJpbSgpO3JldHVybiBuZXcgdG4oYSxyLG8pfXN0YXRpYyBfQnVpbGRTdWJFeHByZXNzaW9uKGUpe2U9ZS5yZXBsYWNlKHNuLCJkZWZpbmVkWyQxXSIpO2NvbnN0IHQ9ZXQuaW5maXhUb1Bvc3RmaXgoZSksaT1bXTtmb3IoY29uc3QgciBvZiB0KWlmKHIhPT0ifHwiJiZyIT09IiYmIilpLnB1c2gocik7ZWxzZSBpZihpLmxlbmd0aD49Mil7bGV0IG49aVtpLmxlbmd0aC0xXSxhPWlbaS5sZW5ndGgtMl07aS5sZW5ndGgtPTI7Y29uc3Qgbz1yPT0iJiYiP25ldyBlbjpuZXcgSnI7dHlwZW9mIG49PSJzdHJpbmciJiYobj1uLnJlcGxhY2UoRXMsImRlZmluZWQoJDEpIikpLHR5cGVvZiBhPT0ic3RyaW5nIiYmKGE9YS5yZXBsYWNlKEVzLCJkZWZpbmVkKCQxKSIpKSxvLmxlZnRPcGVyYW5kPXR5cGVvZiBhPT0ic3RyaW5nIj90aGlzLl9FeHRyYWN0T3BlcmF0aW9uKGEpOmEsby5yaWdodE9wZXJhbmQ9dHlwZW9mIG49PSJzdHJpbmciP3RoaXMuX0V4dHJhY3RPcGVyYXRpb24obik6bixpLnB1c2gobyl9bGV0IHM9aVtpLmxlbmd0aC0xXTtyZXR1cm4gdHlwZW9mIHM9PSJzdHJpbmciJiYocz1zLnJlcGxhY2UoRXMsImRlZmluZWQoJDEpIikpLHR5cGVvZiBzPT0ic3RyaW5nIj90aGlzLl9FeHRyYWN0T3BlcmF0aW9uKHMpOnN9c3RhdGljIF9CdWlsZEV4cHJlc3Npb24oZSx0KXtjb25zdCBpPW5ldyBRcixzPWUuc3Vic3RyaW5nKDAsdCk7bGV0IHI9ZS5zdWJzdHJpbmcodCk7cmV0dXJuIHI9ci5zdWJzdHJpbmcoMCwoci5pbmRleE9mKCIvLyIpKzF8fHIubGVuZ3RoKzEpLTEpLnRyaW0oKSxzPT09IiNpZmRlZiI/aS50ZXN0RXhwcmVzc2lvbj1uZXcgR2kocik6cz09PSIjaWZuZGVmIj9pLnRlc3RFeHByZXNzaW9uPW5ldyBHaShyLCEwKTppLnRlc3RFeHByZXNzaW9uPXRoaXMuX0J1aWxkU3ViRXhwcmVzc2lvbihyKSxpfXN0YXRpYyBfTW92ZUN1cnNvcldpdGhpbklmKGUsdCxpKXtsZXQgcz1lLmN1cnJlbnRMaW5lO2Zvcig7dGhpcy5fTW92ZUN1cnNvcihlLGkpOyl7cz1lLmN1cnJlbnRMaW5lO2NvbnN0IHI9cy5zdWJzdHJpbmcoMCw1KS50b0xvd2VyQ2FzZSgpO2lmKHI9PT0iI2Vsc2UiKXtjb25zdCBuPW5ldyBJaTt0LmNoaWxkcmVuLnB1c2gobiksdGhpcy5fTW92ZUN1cnNvcihlLG4pO3JldHVybn1lbHNlIGlmKHI9PT0iI2VsaWYiKXtjb25zdCBuPXRoaXMuX0J1aWxkRXhwcmVzc2lvbihzLDUpO3QuY2hpbGRyZW4ucHVzaChuKSxpPW59fX1zdGF0aWMgX01vdmVDdXJzb3IoZSx0KXtmb3IoO2UuY2FuUmVhZDspe2UubGluZUluZGV4Kys7Y29uc3QgaT1lLmN1cnJlbnRMaW5lLHI9LygjaWZkZWYpfCgjZWxzZSl8KCNlbGlmKXwoI2VuZGlmKXwoI2lmbmRlZil8KCNpZikvLmV4ZWMoaSk7aWYociYmci5sZW5ndGgpc3dpdGNoKHJbMF0pe2Nhc2UiI2lmZGVmIjp7Y29uc3QgYT1uZXcgbXM7dC5jaGlsZHJlbi5wdXNoKGEpO2NvbnN0IG89dGhpcy5fQnVpbGRFeHByZXNzaW9uKGksNik7YS5jaGlsZHJlbi5wdXNoKG8pLHRoaXMuX01vdmVDdXJzb3JXaXRoaW5JZihlLGEsbyk7YnJlYWt9Y2FzZSIjZWxzZSI6Y2FzZSIjZWxpZiI6cmV0dXJuITA7Y2FzZSIjZW5kaWYiOnJldHVybiExO2Nhc2UiI2lmbmRlZiI6e2NvbnN0IGE9bmV3IG1zO3QuY2hpbGRyZW4ucHVzaChhKTtjb25zdCBvPXRoaXMuX0J1aWxkRXhwcmVzc2lvbihpLDcpO2EuY2hpbGRyZW4ucHVzaChvKSx0aGlzLl9Nb3ZlQ3Vyc29yV2l0aGluSWYoZSxhLG8pO2JyZWFrfWNhc2UiI2lmIjp7Y29uc3QgYT1uZXcgbXMsbz10aGlzLl9CdWlsZEV4cHJlc3Npb24oaSwzKTt0LmNoaWxkcmVuLnB1c2goYSksYS5jaGlsZHJlbi5wdXNoKG8pLHRoaXMuX01vdmVDdXJzb3JXaXRoaW5JZihlLGEsbyk7YnJlYWt9fWVsc2V7Y29uc3Qgbj1uZXcgSWk7aWYobi5saW5lPWksdC5jaGlsZHJlbi5wdXNoKG4pLGlbMF09PT0iIyImJmlbMV09PT0iZCIpe2NvbnN0IGE9aS5yZXBsYWNlKCI7IiwiIikuc3BsaXQoIiAiKTtuLmFkZGl0aW9uYWxEZWZpbmVLZXk9YVsxXSxhLmxlbmd0aD09PTMmJihuLmFkZGl0aW9uYWxEZWZpbmVWYWx1ZT1hWzJdKX19fXJldHVybiExfXN0YXRpYyBfRXZhbHVhdGVQcmVQcm9jZXNzb3JzKGUsdCxpKXtjb25zdCBzPW5ldyBJaSxyPW5ldyAkcjtyZXR1cm4gci5saW5lSW5kZXg9LTEsci5saW5lcz1lLnNwbGl0KGAKYCksdGhpcy5fTW92ZUN1cnNvcihyLHMpLHMucHJvY2Vzcyh0LGkpfXN0YXRpYyBfUHJlcGFyZVByZVByb2Nlc3NvcnMoZSx0KXt2YXIgaTtjb25zdCBzPWUuZGVmaW5lcyxyPXt9O2Zvcihjb25zdCBuIG9mIHMpe2NvbnN0IG89bi5yZXBsYWNlKCIjZGVmaW5lIiwiIikucmVwbGFjZSgiOyIsIiIpLnRyaW0oKS5zcGxpdCgiICIpO3Jbb1swXV09by5sZW5ndGg+MT9vWzFdOiIifXJldHVybigoaT1lLnByb2Nlc3Nvcik9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppLnNoYWRlckxhbmd1YWdlKT09PVplLkdMU0wmJihyLkdMX0VTPSJ0cnVlIiksci5fX1ZFUlNJT05fXz1lLnZlcnNpb24scltlLnBsYXRmb3JtTmFtZV09InRydWUiLHQuX2dldEdsb2JhbERlZmluZXMocikscn1zdGF0aWMgX1Byb2Nlc3NTaGFkZXJDb252ZXJzaW9uKGUsdCxpKXtsZXQgcz10aGlzLl9Qcm9jZXNzUHJlY2lzaW9uKGUsdCk7aWYoIXQucHJvY2Vzc29yfHx0LnByb2Nlc3Nvci5zaGFkZXJMYW5ndWFnZT09PVplLkdMU0wmJnMuaW5kZXhPZigiI3ZlcnNpb24gMyIpIT09LTEmJihzPXMucmVwbGFjZSgiI3ZlcnNpb24gMzAwIGVzIiwiIiksIXQucHJvY2Vzc29yLnBhcnNlR0xFUzMpKXJldHVybiBzO2NvbnN0IHI9dC5kZWZpbmVzLG49dGhpcy5fUHJlcGFyZVByZVByb2Nlc3NvcnModCxpKTtyZXR1cm4gdC5wcm9jZXNzb3IucHJlUHJvY2Vzc29yJiYocz10LnByb2Nlc3Nvci5wcmVQcm9jZXNzb3IocyxyLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0KSkscz10aGlzLl9FdmFsdWF0ZVByZVByb2Nlc3NvcnMocyxuLHQpLHQucHJvY2Vzc29yLnBvc3RQcm9jZXNzb3ImJihzPXQucHJvY2Vzc29yLnBvc3RQcm9jZXNzb3IocyxyLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0LGkpKSxpLl9mZWF0dXJlcy5uZWVkU2hhZGVyQ29kZUlubGluaW5nJiYocz1pLmlubGluZVNoYWRlckNvZGUocykpLHN9c3RhdGljIF9BcHBseVByZVByb2Nlc3NpbmcoZSx0LGkpe3ZhciBzLHI7bGV0IG49ZTtjb25zdCBhPXQuZGVmaW5lcyxvPXRoaXMuX1ByZXBhcmVQcmVQcm9jZXNzb3JzKHQsaSk7cmV0dXJuISgocz10LnByb2Nlc3Nvcik9PT1udWxsfHxzPT09dm9pZCAwKSYmcy5wcmVQcm9jZXNzb3ImJihuPXQucHJvY2Vzc29yLnByZVByb2Nlc3NvcihuLGEsdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQpKSxuPXRoaXMuX0V2YWx1YXRlUHJlUHJvY2Vzc29ycyhuLG8sdCksISgocj10LnByb2Nlc3Nvcik9PT1udWxsfHxyPT09dm9pZCAwKSYmci5wb3N0UHJvY2Vzc29yJiYobj10LnByb2Nlc3Nvci5wb3N0UHJvY2Vzc29yKG4sYSx0LmlzRnJhZ21lbnQsdC5wcm9jZXNzaW5nQ29udGV4dCxpKSksaS5fZmVhdHVyZXMubmVlZFNoYWRlckNvZGVJbmxpbmluZyYmKG49aS5pbmxpbmVTaGFkZXJDb2RlKG4pKSxufXN0YXRpYyBfUHJvY2Vzc0luY2x1ZGVzKGUsdCxpKXtsZXQgcz1lci5leGVjKGUpLHI9bmV3IFN0cmluZyhlKSxuPSExO2Zvcig7cyE9bnVsbDspe2xldCBhPXNbMV07aWYoYS5pbmRleE9mKCJfX2RlY2xfXyIpIT09LTEmJihhPWEucmVwbGFjZSgvX19kZWNsX18vLCIiKSx0LnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnMmJihhPWEucmVwbGFjZSgvVmVydGV4LywiVWJvIiksYT1hLnJlcGxhY2UoL0ZyYWdtZW50LywiVWJvIikpLGE9YSsiRGVjbGFyYXRpb24iKSx0LmluY2x1ZGVzU2hhZGVyc1N0b3JlW2FdKXtsZXQgbz10LmluY2x1ZGVzU2hhZGVyc1N0b3JlW2FdO2lmKHNbMl0pe2NvbnN0IGg9c1szXS5zcGxpdCgiLCIpO2ZvcihsZXQgbD0wO2w8aC5sZW5ndGg7bCs9Mil7Y29uc3QgdT1uZXcgUmVnRXhwKGhbbF0sImciKSxkPWhbbCsxXTtvPW8ucmVwbGFjZSh1LGQpfX1pZihzWzRdKXtjb25zdCBoPXNbNV07aWYoaC5pbmRleE9mKCIuLiIpIT09LTEpe2NvbnN0IGw9aC5zcGxpdCgiLi4iKSx1PXBhcnNlSW50KGxbMF0pO2xldCBkPXBhcnNlSW50KGxbMV0pLGY9by5zbGljZSgwKTtvPSIiLGlzTmFOKGQpJiYoZD10LmluZGV4UGFyYW1ldGVyc1tsWzFdXSk7Zm9yKGxldCBfPXU7XzxkO18rKyl0LnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnN8fChmPWYucmVwbGFjZSgvbGlnaHRce1hcfS4oXHcqKS9nLChFLG0pPT5tKyJ7WH0iKSksbys9Zi5yZXBsYWNlKC9ce1hcfS9nLF8udG9TdHJpbmcoKSkrYApgfWVsc2UgdC5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzfHwobz1vLnJlcGxhY2UoL2xpZ2h0XHtYXH0uKFx3KikvZywobCx1KT0+dSsie1h9IikpLG89by5yZXBsYWNlKC9ce1hcfS9nLGgpfXI9ci5yZXBsYWNlKHNbMF0sbyksbj1ufHxvLmluZGV4T2YoIiNpbmNsdWRlPCIpPj0wfHxvLmluZGV4T2YoIiNpbmNsdWRlIDwiKT49MH1lbHNle2NvbnN0IG89dC5zaGFkZXJzUmVwb3NpdG9yeSsiU2hhZGVyc0luY2x1ZGUvIithKyIuZngiO25pLl9GaWxlVG9vbHNMb2FkRmlsZShvLGg9Pnt0LmluY2x1ZGVzU2hhZGVyc1N0b3JlW2FdPWgsdGhpcy5fUHJvY2Vzc0luY2x1ZGVzKHIsdCxpKX0pO3JldHVybn1zPWVyLmV4ZWMoZSl9bj90aGlzLl9Qcm9jZXNzSW5jbHVkZXMoci50b1N0cmluZygpLHQsaSk6aShyKX1zdGF0aWMgX0ZpbGVUb29sc0xvYWRGaWxlKGUsdCxpLHMscixuKXt0aHJvdyAkKCJGaWxlVG9vbHMiKX19Y2xhc3MgVXtzdGF0aWMgR2V0U2hhZGVyc1JlcG9zaXRvcnkoZT1aZS5HTFNMKXtyZXR1cm4gZT09PVplLkdMU0w/VS5TaGFkZXJzUmVwb3NpdG9yeTpVLlNoYWRlcnNSZXBvc2l0b3J5V0dTTH1zdGF0aWMgR2V0U2hhZGVyc1N0b3JlKGU9WmUuR0xTTCl7cmV0dXJuIGU9PT1aZS5HTFNMP1UuU2hhZGVyc1N0b3JlOlUuU2hhZGVyc1N0b3JlV0dTTH1zdGF0aWMgR2V0SW5jbHVkZXNTaGFkZXJzU3RvcmUoZT1aZS5HTFNMKXtyZXR1cm4gZT09PVplLkdMU0w/VS5JbmNsdWRlc1NoYWRlcnNTdG9yZTpVLkluY2x1ZGVzU2hhZGVyc1N0b3JlV0dTTH19VS5TaGFkZXJzUmVwb3NpdG9yeT0ic3JjL1NoYWRlcnMvIixVLlNoYWRlcnNTdG9yZT17fSxVLkluY2x1ZGVzU2hhZGVyc1N0b3JlPXt9LFUuU2hhZGVyc1JlcG9zaXRvcnlXR1NMPSJzcmMvU2hhZGVyc1dHU0wvIixVLlNoYWRlcnNTdG9yZVdHU0w9e30sVS5JbmNsdWRlc1NoYWRlcnNTdG9yZVdHU0w9e307Y2xhc3MgUGV7Y29uc3RydWN0b3IoZSx0LGkscz1udWxsLHIsbj1udWxsLGE9bnVsbCxvPW51bGwsaD1udWxsLGwsdT0iIixkPVplLkdMU0wpe3ZhciBmLF8sRTt0aGlzLm5hbWU9bnVsbCx0aGlzLmRlZmluZXM9IiIsdGhpcy5vbkNvbXBpbGVkPW51bGwsdGhpcy5vbkVycm9yPW51bGwsdGhpcy5vbkJpbmQ9bnVsbCx0aGlzLnVuaXF1ZUlkPTAsdGhpcy5vbkNvbXBpbGVPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25FcnJvck9ic2VydmFibGU9bmV3IEYsdGhpcy5fb25CaW5kT2JzZXJ2YWJsZT1udWxsLHRoaXMuX3dhc1ByZXZpb3VzbHlSZWFkeT0hMSx0aGlzLl9mb3JjZVJlYmluZE9uTmV4dENhbGw9ITEsdGhpcy5fd2FzUHJldmlvdXNseVVzaW5nSW5zdGFuY2VzPW51bGwsdGhpcy5faXNEaXNwb3NlZD0hMSx0aGlzLl9ib25lc0NvbXB1dGF0aW9uRm9yY2VkVG9DUFU9ITEsdGhpcy5fdW5pZm9ybUJ1ZmZlcnNOYW1lcz17fSx0aGlzLl9tdWx0aVRhcmdldD0hMSx0aGlzLl9zYW1wbGVycz17fSx0aGlzLl9pc1JlYWR5PSExLHRoaXMuX2NvbXBpbGF0aW9uRXJyb3I9IiIsdGhpcy5fYWxsRmFsbGJhY2tzUHJvY2Vzc2VkPSExLHRoaXMuX3VuaWZvcm1zPXt9LHRoaXMuX2tleT0iIix0aGlzLl9mYWxsYmFja3M9bnVsbCx0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlT3ZlcnJpZGU9IiIsdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlT3ZlcnJpZGU9IiIsdGhpcy5fdHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncz1udWxsLHRoaXMuX3BpcGVsaW5lQ29udGV4dD1udWxsLHRoaXMuX3ZlcnRleFNvdXJjZUNvZGU9IiIsdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlPSIiLHRoaXMuX3ZlcnRleFNvdXJjZUNvZGVCZWZvcmVNaWdyYXRpb249IiIsdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlQmVmb3JlTWlncmF0aW9uPSIiLHRoaXMuX3Jhd1ZlcnRleFNvdXJjZUNvZGU9IiIsdGhpcy5fcmF3RnJhZ21lbnRTb3VyY2VDb2RlPSIiLHRoaXMubmFtZT1lLHRoaXMuX2tleT11O2xldCBtLHY9bnVsbDtpZih0LmF0dHJpYnV0ZXMpe2NvbnN0IGs9dDtpZih0aGlzLl9lbmdpbmU9aSx0aGlzLl9hdHRyaWJ1dGVzTmFtZXM9ay5hdHRyaWJ1dGVzLHRoaXMuX3VuaWZvcm1zTmFtZXM9ay51bmlmb3Jtc05hbWVzLmNvbmNhdChrLnNhbXBsZXJzKSx0aGlzLl9zYW1wbGVyTGlzdD1rLnNhbXBsZXJzLnNsaWNlKCksdGhpcy5kZWZpbmVzPWsuZGVmaW5lcyx0aGlzLm9uRXJyb3I9ay5vbkVycm9yLHRoaXMub25Db21waWxlZD1rLm9uQ29tcGlsZWQsdGhpcy5fZmFsbGJhY2tzPWsuZmFsbGJhY2tzLHRoaXMuX2luZGV4UGFyYW1ldGVycz1rLmluZGV4UGFyYW1ldGVycyx0aGlzLl90cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzPWsudHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5nc3x8bnVsbCx0aGlzLl9tdWx0aVRhcmdldD0hIWsubXVsdGlUYXJnZXQsdGhpcy5fc2hhZGVyTGFuZ3VhZ2U9KGY9ay5zaGFkZXJMYW5ndWFnZSkhPT1udWxsJiZmIT09dm9pZCAwP2Y6WmUuR0xTTCxrLnVuaWZvcm1CdWZmZXJzTmFtZXMpe3RoaXMuX3VuaWZvcm1CdWZmZXJzTmFtZXNMaXN0PWsudW5pZm9ybUJ1ZmZlcnNOYW1lcy5zbGljZSgpO2ZvcihsZXQgdz0wO3c8ay51bmlmb3JtQnVmZmVyc05hbWVzLmxlbmd0aDt3KyspdGhpcy5fdW5pZm9ybUJ1ZmZlcnNOYW1lc1trLnVuaWZvcm1CdWZmZXJzTmFtZXNbd11dPXd9dj0oXz1rLnByb2Nlc3NGaW5hbENvZGUpIT09bnVsbCYmXyE9PXZvaWQgMD9fOm51bGwsbT0oRT1rLnByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlcykhPT1udWxsJiZFIT09dm9pZCAwP0U6dm9pZCAwfWVsc2UgdGhpcy5fZW5naW5lPXIsdGhpcy5kZWZpbmVzPW4/PyIiLHRoaXMuX3VuaWZvcm1zTmFtZXM9aS5jb25jYXQocyksdGhpcy5fc2FtcGxlckxpc3Q9cz9zLnNsaWNlKCk6W10sdGhpcy5fYXR0cmlidXRlc05hbWVzPXQsdGhpcy5fdW5pZm9ybUJ1ZmZlcnNOYW1lc0xpc3Q9W10sdGhpcy5fc2hhZGVyTGFuZ3VhZ2U9ZCx0aGlzLm9uRXJyb3I9aCx0aGlzLm9uQ29tcGlsZWQ9byx0aGlzLl9pbmRleFBhcmFtZXRlcnM9bCx0aGlzLl9mYWxsYmFja3M9YTt0aGlzLl9hdHRyaWJ1dGVMb2NhdGlvbkJ5TmFtZT17fSx0aGlzLnVuaXF1ZUlkPVBlLl9VbmlxdWVJZFNlZWQrKztsZXQgUyx5O2NvbnN0IEE9amUoKT90aGlzLl9lbmdpbmUuZ2V0SG9zdERvY3VtZW50KCk6bnVsbDtlLnZlcnRleFNvdXJjZT9TPSJzb3VyY2U6IitlLnZlcnRleFNvdXJjZTplLnZlcnRleEVsZW1lbnQ/KFM9QT9BLmdldEVsZW1lbnRCeUlkKGUudmVydGV4RWxlbWVudCk6bnVsbCxTfHwoUz1lLnZlcnRleEVsZW1lbnQpKTpTPWUudmVydGV4fHxlLGUuZnJhZ21lbnRTb3VyY2U/eT0ic291cmNlOiIrZS5mcmFnbWVudFNvdXJjZTplLmZyYWdtZW50RWxlbWVudD8oeT1BP0EuZ2V0RWxlbWVudEJ5SWQoZS5mcmFnbWVudEVsZW1lbnQpOm51bGwseXx8KHk9ZS5mcmFnbWVudEVsZW1lbnQpKTp5PWUuZnJhZ21lbnR8fGUsdGhpcy5fcHJvY2Vzc2luZ0NvbnRleHQ9dGhpcy5fZW5naW5lLl9nZXRTaGFkZXJQcm9jZXNzaW5nQ29udGV4dCh0aGlzLl9zaGFkZXJMYW5ndWFnZSk7bGV0IEM9e2RlZmluZXM6dGhpcy5kZWZpbmVzLnNwbGl0KGAKYCksaW5kZXhQYXJhbWV0ZXJzOnRoaXMuX2luZGV4UGFyYW1ldGVycyxpc0ZyYWdtZW50OiExLHNob3VsZFVzZUhpZ2hQcmVjaXNpb25TaGFkZXI6dGhpcy5fZW5naW5lLl9zaG91bGRVc2VIaWdoUHJlY2lzaW9uU2hhZGVyLHByb2Nlc3Nvcjp0aGlzLl9lbmdpbmUuX2dldFNoYWRlclByb2Nlc3Nvcih0aGlzLl9zaGFkZXJMYW5ndWFnZSksc3VwcG9ydHNVbmlmb3JtQnVmZmVyczp0aGlzLl9lbmdpbmUuc3VwcG9ydHNVbmlmb3JtQnVmZmVycyxzaGFkZXJzUmVwb3NpdG9yeTpVLkdldFNoYWRlcnNSZXBvc2l0b3J5KHRoaXMuX3NoYWRlckxhbmd1YWdlKSxpbmNsdWRlc1NoYWRlcnNTdG9yZTpVLkdldEluY2x1ZGVzU2hhZGVyc1N0b3JlKHRoaXMuX3NoYWRlckxhbmd1YWdlKSx2ZXJzaW9uOih0aGlzLl9lbmdpbmUudmVyc2lvbioxMDApLnRvU3RyaW5nKCkscGxhdGZvcm1OYW1lOnRoaXMuX2VuZ2luZS5zaGFkZXJQbGF0Zm9ybU5hbWUscHJvY2Vzc2luZ0NvbnRleHQ6dGhpcy5fcHJvY2Vzc2luZ0NvbnRleHQsaXNORENIYWxmWlJhbmdlOnRoaXMuX2VuZ2luZS5pc05EQ0hhbGZaUmFuZ2UsdXNlUmV2ZXJzZURlcHRoQnVmZmVyOnRoaXMuX2VuZ2luZS51c2VSZXZlcnNlRGVwdGhCdWZmZXIscHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzOm19O2NvbnN0IGI9W3ZvaWQgMCx2b2lkIDBdLE09KCk9PntpZihiWzBdJiZiWzFdKXtDLmlzRnJhZ21lbnQ9ITA7Y29uc3Rbayx3XT1iO25pLlByb2Nlc3ModyxDLChkZSxjZSk9Pnt0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVCZWZvcmVNaWdyYXRpb249Y2UsdiYmKGRlPXYoImZyYWdtZW50IixkZSkpO2NvbnN0IHNlPW5pLkZpbmFsaXplKGssZGUsQyk7dGhpcy5fdXNlRmluYWxDb2RlKHNlLnZlcnRleENvZGUsc2UuZnJhZ21lbnRDb2RlLGUpfSx0aGlzLl9lbmdpbmUpfX07dGhpcy5fbG9hZFNoYWRlcihTLCJWZXJ0ZXgiLCIiLGs9PntuaS5Jbml0aWFsaXplKEMpLG5pLlByb2Nlc3MoayxDLCh3LGRlKT0+e3RoaXMuX3Jhd1ZlcnRleFNvdXJjZUNvZGU9ayx0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlQmVmb3JlTWlncmF0aW9uPWRlLHYmJih3PXYoInZlcnRleCIsdykpLGJbMF09dyxNKCl9LHRoaXMuX2VuZ2luZSl9KSx0aGlzLl9sb2FkU2hhZGVyKHksIkZyYWdtZW50IiwiUGl4ZWwiLGs9Pnt0aGlzLl9yYXdGcmFnbWVudFNvdXJjZUNvZGU9ayxiWzFdPWssTSgpfSksQz1udWxsO2NvbnN0IEw9ZnVuY3Rpb24oayl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dCYmdGhpcy5fcGlwZWxpbmVDb250ZXh0W2tdLmFwcGx5KHRoaXMuX3BpcGVsaW5lQ29udGV4dCxhcmd1bWVudHMpLHRoaXN9fTtbIkludD8iLCJVSW50PyIsIkludEFycmF5PyIsIlVJbnRBcnJheT8iLCJBcnJheT8iLCJDb2xvcj8iLCJWZWN0b3I/IiwiRmxvYXQ/IiwiTWF0cmljZXMiLCJNYXRyaXgiLCJNYXRyaXgzeDMiLCJNYXRyaXgyeDIiLCJRdWF0ZXJuaW9uIiwiRGlyZWN0Q29sb3I0Il0uZm9yRWFjaChrPT57Y29uc3Qgdz1gc2V0JHtrfWA7dy5lbmRzV2l0aCgiPyIpP1siIiwyLDMsNF0uZm9yRWFjaChkZT0+e3RoaXNbdy5zbGljZSgwLC0xKStkZV09dGhpc1t3LnNsaWNlKDAsLTEpK2RlXXx8TCh3LnNsaWNlKDAsLTEpK2RlKS5iaW5kKHRoaXMpfSk6dGhpc1t3XT10aGlzW3ddfHxMKHcpLmJpbmQodGhpcyl9KX1zdGF0aWMgZ2V0IFNoYWRlcnNSZXBvc2l0b3J5KCl7cmV0dXJuIFUuU2hhZGVyc1JlcG9zaXRvcnl9c3RhdGljIHNldCBTaGFkZXJzUmVwb3NpdG9yeShlKXtVLlNoYWRlcnNSZXBvc2l0b3J5PWV9Z2V0IG9uQmluZE9ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5fb25CaW5kT2JzZXJ2YWJsZXx8KHRoaXMuX29uQmluZE9ic2VydmFibGU9bmV3IEYpLHRoaXMuX29uQmluZE9ic2VydmFibGV9X3VzZUZpbmFsQ29kZShlLHQsaSl7aWYoaSl7Y29uc3Qgcz1pLnZlcnRleEVsZW1lbnR8fGkudmVydGV4fHxpLnNwZWN0b3JOYW1lfHxpLHI9aS5mcmFnbWVudEVsZW1lbnR8fGkuZnJhZ21lbnR8fGkuc3BlY3Rvck5hbWV8fGk7dGhpcy5fdmVydGV4U291cmNlQ29kZT0odGhpcy5fc2hhZGVyTGFuZ3VhZ2U9PT1aZS5XR1NMPyIvLyI6IiIpKyIjZGVmaW5lIFNIQURFUl9OQU1FIHZlcnRleDoiK3MrYApgK2UsdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlPSh0aGlzLl9zaGFkZXJMYW5ndWFnZT09PVplLldHU0w/Ii8vIjoiIikrIiNkZWZpbmUgU0hBREVSX05BTUUgZnJhZ21lbnQ6IityK2AKYCt0fWVsc2UgdGhpcy5fdmVydGV4U291cmNlQ29kZT1lLHRoaXMuX2ZyYWdtZW50U291cmNlQ29kZT10O3RoaXMuX3ByZXBhcmVFZmZlY3QoKX1nZXQga2V5KCl7cmV0dXJuIHRoaXMuX2tleX1pc1JlYWR5KCl7dHJ5e3JldHVybiB0aGlzLl9pc1JlYWR5SW50ZXJuYWwoKX1jYXRjaHtyZXR1cm4hMX19X2lzUmVhZHlJbnRlcm5hbCgpe3JldHVybiB0aGlzLl9pc1JlYWR5PyEwOnRoaXMuX3BpcGVsaW5lQ29udGV4dD90aGlzLl9waXBlbGluZUNvbnRleHQuaXNSZWFkeTohMX1nZXRFbmdpbmUoKXtyZXR1cm4gdGhpcy5fZW5naW5lfWdldFBpcGVsaW5lQ29udGV4dCgpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHR9Z2V0QXR0cmlidXRlc05hbWVzKCl7cmV0dXJuIHRoaXMuX2F0dHJpYnV0ZXNOYW1lc31nZXRBdHRyaWJ1dGVMb2NhdGlvbihlKXtyZXR1cm4gdGhpcy5fYXR0cmlidXRlc1tlXX1nZXRBdHRyaWJ1dGVMb2NhdGlvbkJ5TmFtZShlKXtyZXR1cm4gdGhpcy5fYXR0cmlidXRlTG9jYXRpb25CeU5hbWVbZV19Z2V0QXR0cmlidXRlc0NvdW50KCl7cmV0dXJuIHRoaXMuX2F0dHJpYnV0ZXMubGVuZ3RofWdldFVuaWZvcm1JbmRleChlKXtyZXR1cm4gdGhpcy5fdW5pZm9ybXNOYW1lcy5pbmRleE9mKGUpfWdldFVuaWZvcm0oZSl7cmV0dXJuIHRoaXMuX3VuaWZvcm1zW2VdfWdldFNhbXBsZXJzKCl7cmV0dXJuIHRoaXMuX3NhbXBsZXJMaXN0fWdldFVuaWZvcm1OYW1lcygpe3JldHVybiB0aGlzLl91bmlmb3Jtc05hbWVzfWdldFVuaWZvcm1CdWZmZXJzTmFtZXMoKXtyZXR1cm4gdGhpcy5fdW5pZm9ybUJ1ZmZlcnNOYW1lc0xpc3R9Z2V0SW5kZXhQYXJhbWV0ZXJzKCl7cmV0dXJuIHRoaXMuX2luZGV4UGFyYW1ldGVyc31nZXRDb21waWxhdGlvbkVycm9yKCl7cmV0dXJuIHRoaXMuX2NvbXBpbGF0aW9uRXJyb3J9YWxsRmFsbGJhY2tzUHJvY2Vzc2VkKCl7cmV0dXJuIHRoaXMuX2FsbEZhbGxiYWNrc1Byb2Nlc3NlZH1leGVjdXRlV2hlbkNvbXBpbGVkKGUpe2lmKHRoaXMuaXNSZWFkeSgpKXtlKHRoaXMpO3JldHVybn10aGlzLm9uQ29tcGlsZU9ic2VydmFibGUuYWRkKHQ9PntlKHQpfSksKCF0aGlzLl9waXBlbGluZUNvbnRleHR8fHRoaXMuX3BpcGVsaW5lQ29udGV4dC5pc0FzeW5jKSYmc2V0VGltZW91dCgoKT0+e3RoaXMuX2NoZWNrSXNSZWFkeShudWxsKX0sMTYpfV9jaGVja0lzUmVhZHkoZSl7dHJ5e2lmKHRoaXMuX2lzUmVhZHlJbnRlcm5hbCgpKXJldHVybn1jYXRjaCh0KXt0aGlzLl9wcm9jZXNzQ29tcGlsYXRpb25FcnJvcnModCxlKTtyZXR1cm59dGhpcy5faXNEaXNwb3NlZHx8c2V0VGltZW91dCgoKT0+e3RoaXMuX2NoZWNrSXNSZWFkeShlKX0sMTYpfV9sb2FkU2hhZGVyKGUsdCxpLHMpe2lmKHR5cGVvZiBIVE1MRWxlbWVudDwidSImJmUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCl7Y29uc3QgYT1ncyhlKTtzKGEpO3JldHVybn1pZihlLnN1YnN0cigwLDcpPT09InNvdXJjZToiKXtzKGUuc3Vic3RyKDcpKTtyZXR1cm59aWYoZS5zdWJzdHIoMCw3KT09PSJiYXNlNjQ6Iil7Y29uc3QgYT13aW5kb3cuYXRvYihlLnN1YnN0cig3KSk7cyhhKTtyZXR1cm59Y29uc3Qgcj1VLkdldFNoYWRlcnNTdG9yZSh0aGlzLl9zaGFkZXJMYW5ndWFnZSk7aWYocltlK3QrIlNoYWRlciJdKXtzKHJbZSt0KyJTaGFkZXIiXSk7cmV0dXJufWlmKGkmJnJbZStpKyJTaGFkZXIiXSl7cyhyW2UraSsiU2hhZGVyIl0pO3JldHVybn1sZXQgbjtlWzBdPT09Ii4ifHxlWzBdPT09Ii8ifHxlLmluZGV4T2YoImh0dHAiKT4tMT9uPWU6bj1VLkdldFNoYWRlcnNSZXBvc2l0b3J5KHRoaXMuX3NoYWRlckxhbmd1YWdlKStlLHRoaXMuX2VuZ2luZS5fbG9hZEZpbGUobisiLiIrdC50b0xvd2VyQ2FzZSgpKyIuZngiLHMpfWdldCB2ZXJ0ZXhTb3VyY2VDb2RlKCl7dmFyIGUsdDtyZXR1cm4gdGhpcy5fdmVydGV4U291cmNlQ29kZU92ZXJyaWRlJiZ0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVPdmVycmlkZT90aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlT3ZlcnJpZGU6KHQ9KGU9dGhpcy5fcGlwZWxpbmVDb250ZXh0KT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuX2dldFZlcnRleFNoYWRlckNvZGUoKSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6dGhpcy5fdmVydGV4U291cmNlQ29kZX1nZXQgZnJhZ21lbnRTb3VyY2VDb2RlKCl7dmFyIGUsdDtyZXR1cm4gdGhpcy5fdmVydGV4U291cmNlQ29kZU92ZXJyaWRlJiZ0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVPdmVycmlkZT90aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVPdmVycmlkZToodD0oZT10aGlzLl9waXBlbGluZUNvbnRleHQpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5fZ2V0RnJhZ21lbnRTaGFkZXJDb2RlKCkpIT09bnVsbCYmdCE9PXZvaWQgMD90OnRoaXMuX2ZyYWdtZW50U291cmNlQ29kZX1nZXQgdmVydGV4U291cmNlQ29kZUJlZm9yZU1pZ3JhdGlvbigpe3JldHVybiB0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlQmVmb3JlTWlncmF0aW9ufWdldCBmcmFnbWVudFNvdXJjZUNvZGVCZWZvcmVNaWdyYXRpb24oKXtyZXR1cm4gdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlQmVmb3JlTWlncmF0aW9ufWdldCByYXdWZXJ0ZXhTb3VyY2VDb2RlKCl7cmV0dXJuIHRoaXMuX3Jhd1ZlcnRleFNvdXJjZUNvZGV9Z2V0IHJhd0ZyYWdtZW50U291cmNlQ29kZSgpe3JldHVybiB0aGlzLl9yYXdGcmFnbWVudFNvdXJjZUNvZGV9X3JlYnVpbGRQcm9ncmFtKGUsdCxpLHMpe3RoaXMuX2lzUmVhZHk9ITEsdGhpcy5fdmVydGV4U291cmNlQ29kZU92ZXJyaWRlPWUsdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlT3ZlcnJpZGU9dCx0aGlzLm9uRXJyb3I9KHIsbik9PntzJiZzKG4pfSx0aGlzLm9uQ29tcGlsZWQ9KCk9Pntjb25zdCByPXRoaXMuZ2V0RW5naW5lKCkuc2NlbmVzO2lmKHIpZm9yKGxldCBuPTA7bjxyLmxlbmd0aDtuKyspcltuXS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSg2Myk7dGhpcy5fcGlwZWxpbmVDb250ZXh0Ll9oYW5kbGVzU3BlY3RvclJlYnVpbGRDYWxsYmFjayhpKX0sdGhpcy5fZmFsbGJhY2tzPW51bGwsdGhpcy5fcHJlcGFyZUVmZmVjdCgpfV9wcmVwYXJlRWZmZWN0KCl7Y29uc3QgZT10aGlzLl9hdHRyaWJ1dGVzTmFtZXMsdD10aGlzLmRlZmluZXMsaT10aGlzLl9waXBlbGluZUNvbnRleHQ7dGhpcy5faXNSZWFkeT0hMTt0cnl7Y29uc3Qgcz10aGlzLl9lbmdpbmU7dGhpcy5fcGlwZWxpbmVDb250ZXh0PXMuY3JlYXRlUGlwZWxpbmVDb250ZXh0KHRoaXMuX3Byb2Nlc3NpbmdDb250ZXh0KSx0aGlzLl9waXBlbGluZUNvbnRleHQuX25hbWU9dGhpcy5fa2V5O2NvbnN0IHI9dGhpcy5fcmVidWlsZFByb2dyYW0uYmluZCh0aGlzKTt0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlT3ZlcnJpZGUmJnRoaXMuX2ZyYWdtZW50U291cmNlQ29kZU92ZXJyaWRlP3MuX3ByZXBhcmVQaXBlbGluZUNvbnRleHQodGhpcy5fcGlwZWxpbmVDb250ZXh0LHRoaXMuX3ZlcnRleFNvdXJjZUNvZGVPdmVycmlkZSx0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVPdmVycmlkZSwhMCx0aGlzLl9yYXdWZXJ0ZXhTb3VyY2VDb2RlLHRoaXMuX3Jhd0ZyYWdtZW50U291cmNlQ29kZSxyLG51bGwsdGhpcy5fdHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncyx0aGlzLl9rZXkpOnMuX3ByZXBhcmVQaXBlbGluZUNvbnRleHQodGhpcy5fcGlwZWxpbmVDb250ZXh0LHRoaXMuX3ZlcnRleFNvdXJjZUNvZGUsdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlLCExLHRoaXMuX3Jhd1ZlcnRleFNvdXJjZUNvZGUsdGhpcy5fcmF3RnJhZ21lbnRTb3VyY2VDb2RlLHIsdCx0aGlzLl90cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzLHRoaXMuX2tleSkscy5fZXhlY3V0ZVdoZW5SZW5kZXJpbmdTdGF0ZUlzQ29tcGlsZWQodGhpcy5fcGlwZWxpbmVDb250ZXh0LCgpPT57aWYodGhpcy5fYXR0cmlidXRlcz1bXSx0aGlzLl9waXBlbGluZUNvbnRleHQuX2ZpbGxFZmZlY3RJbmZvcm1hdGlvbih0aGlzLHRoaXMuX3VuaWZvcm1CdWZmZXJzTmFtZXMsdGhpcy5fdW5pZm9ybXNOYW1lcyx0aGlzLl91bmlmb3Jtcyx0aGlzLl9zYW1wbGVyTGlzdCx0aGlzLl9zYW1wbGVycyxlLHRoaXMuX2F0dHJpYnV0ZXMpLGUpZm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspe2NvbnN0IGE9ZVtuXTt0aGlzLl9hdHRyaWJ1dGVMb2NhdGlvbkJ5TmFtZVthXT10aGlzLl9hdHRyaWJ1dGVzW25dfXMuYmluZFNhbXBsZXJzKHRoaXMpLHRoaXMuX2NvbXBpbGF0aW9uRXJyb3I9IiIsdGhpcy5faXNSZWFkeT0hMCx0aGlzLm9uQ29tcGlsZWQmJnRoaXMub25Db21waWxlZCh0aGlzKSx0aGlzLm9uQ29tcGlsZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMub25Db21waWxlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX2ZhbGxiYWNrcyYmdGhpcy5fZmFsbGJhY2tzLnVuQmluZE1lc2goKSxpJiZ0aGlzLmdldEVuZ2luZSgpLl9kZWxldGVQaXBlbGluZUNvbnRleHQoaSl9KSx0aGlzLl9waXBlbGluZUNvbnRleHQuaXNBc3luYyYmdGhpcy5fY2hlY2tJc1JlYWR5KGkpfWNhdGNoKHMpe3RoaXMuX3Byb2Nlc3NDb21waWxhdGlvbkVycm9ycyhzLGkpfX1fZ2V0U2hhZGVyQ29kZUFuZEVycm9yTGluZShlLHQsaSl7Y29uc3Qgcz1pPy9GUkFHTUVOVCBTSEFERVIgRVJST1I6IDA6KFxkKz8pOi86L1ZFUlRFWCBTSEFERVIgRVJST1I6IDA6KFxkKz8pOi87bGV0IHI9bnVsbDtpZih0JiZlKXtjb25zdCBuPXQubWF0Y2gocyk7aWYobiYmbi5sZW5ndGg9PT0yKXtjb25zdCBhPXBhcnNlSW50KG5bMV0pLG89ZS5zcGxpdChgCmAsLTEpO28ubGVuZ3RoPj1hJiYocj1gT2ZmZW5kaW5nIGxpbmUgWyR7YX1dIGluICR7aT8iZnJhZ21lbnQiOiJ2ZXJ0ZXgifSBjb2RlOiAke29bYS0xXX1gKX19cmV0dXJuW2Uscl19X3Byb2Nlc3NDb21waWxhdGlvbkVycm9ycyhlLHQ9bnVsbCl7dmFyIGkscyxyO3RoaXMuX2NvbXBpbGF0aW9uRXJyb3I9ZS5tZXNzYWdlO2NvbnN0IG49dGhpcy5fYXR0cmlidXRlc05hbWVzLGE9dGhpcy5fZmFsbGJhY2tzO2lmKE8uRXJyb3IoIlVuYWJsZSB0byBjb21waWxlIGVmZmVjdDoiKSxPLkVycm9yKCJVbmlmb3JtczogIit0aGlzLl91bmlmb3Jtc05hbWVzLm1hcChmdW5jdGlvbihoKXtyZXR1cm4iICIraH0pKSxPLkVycm9yKCJBdHRyaWJ1dGVzOiAiK24ubWFwKGZ1bmN0aW9uKGgpe3JldHVybiIgIitofSkpLE8uRXJyb3IoYERlZmluZXM6XHIKYCt0aGlzLmRlZmluZXMpLFBlLkxvZ1NoYWRlckNvZGVPbkNvbXBpbGF0aW9uRXJyb3Ipe2xldCBoPW51bGwsbD1udWxsLHU9bnVsbDshKChpPXRoaXMuX3BpcGVsaW5lQ29udGV4dCk9PT1udWxsfHxpPT09dm9pZCAwKSYmaS5fZ2V0VmVydGV4U2hhZGVyQ29kZSgpJiYoW3UsaF09dGhpcy5fZ2V0U2hhZGVyQ29kZUFuZEVycm9yTGluZSh0aGlzLl9waXBlbGluZUNvbnRleHQuX2dldFZlcnRleFNoYWRlckNvZGUoKSx0aGlzLl9jb21waWxhdGlvbkVycm9yLCExKSx1JiYoTy5FcnJvcigiVmVydGV4IGNvZGU6IiksTy5FcnJvcih1KSkpLCEoKHM9dGhpcy5fcGlwZWxpbmVDb250ZXh0KT09PW51bGx8fHM9PT12b2lkIDApJiZzLl9nZXRGcmFnbWVudFNoYWRlckNvZGUoKSYmKFt1LGxdPXRoaXMuX2dldFNoYWRlckNvZGVBbmRFcnJvckxpbmUoKHI9dGhpcy5fcGlwZWxpbmVDb250ZXh0KT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIuX2dldEZyYWdtZW50U2hhZGVyQ29kZSgpLHRoaXMuX2NvbXBpbGF0aW9uRXJyb3IsITApLHUmJihPLkVycm9yKCJGcmFnbWVudCBjb2RlOiIpLE8uRXJyb3IodSkpKSxoJiZPLkVycm9yKGgpLGwmJk8uRXJyb3IobCl9Ty5FcnJvcigiRXJyb3I6ICIrdGhpcy5fY29tcGlsYXRpb25FcnJvcik7Y29uc3Qgbz0oKT0+e3RoaXMub25FcnJvciYmdGhpcy5vbkVycm9yKHRoaXMsdGhpcy5fY29tcGlsYXRpb25FcnJvciksdGhpcy5vbkVycm9yT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9O3QmJih0aGlzLl9waXBlbGluZUNvbnRleHQ9dCx0aGlzLl9pc1JlYWR5PSEwLG8oKSksYT8odGhpcy5fcGlwZWxpbmVDb250ZXh0PW51bGwsYS5oYXNNb3JlRmFsbGJhY2tzPyh0aGlzLl9hbGxGYWxsYmFja3NQcm9jZXNzZWQ9ITEsTy5FcnJvcigiVHJ5aW5nIG5leHQgZmFsbGJhY2suIiksdGhpcy5kZWZpbmVzPWEucmVkdWNlKHRoaXMuZGVmaW5lcyx0aGlzKSx0aGlzLl9wcmVwYXJlRWZmZWN0KCkpOih0aGlzLl9hbGxGYWxsYmFja3NQcm9jZXNzZWQ9ITAsbygpLHRoaXMub25FcnJvck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9mYWxsYmFja3MmJnRoaXMuX2ZhbGxiYWNrcy51bkJpbmRNZXNoKCkpKToodGhpcy5fYWxsRmFsbGJhY2tzUHJvY2Vzc2VkPSEwLHR8fG8oKSl9Z2V0IGlzU3VwcG9ydGVkKCl7cmV0dXJuIHRoaXMuX2NvbXBpbGF0aW9uRXJyb3I9PT0iIn1fYmluZFRleHR1cmUoZSx0KXt0aGlzLl9lbmdpbmUuX2JpbmRUZXh0dXJlKHRoaXMuX3NhbXBsZXJzW2VdLHQsZSl9c2V0VGV4dHVyZShlLHQpe3RoaXMuX2VuZ2luZS5zZXRUZXh0dXJlKHRoaXMuX3NhbXBsZXJzW2VdLHRoaXMuX3VuaWZvcm1zW2VdLHQsZSl9c2V0RGVwdGhTdGVuY2lsVGV4dHVyZShlLHQpe3RoaXMuX2VuZ2luZS5zZXREZXB0aFN0ZW5jaWxUZXh0dXJlKHRoaXMuX3NhbXBsZXJzW2VdLHRoaXMuX3VuaWZvcm1zW2VdLHQsZSl9c2V0VGV4dHVyZUFycmF5KGUsdCl7Y29uc3QgaT1lKyJFeCI7aWYodGhpcy5fc2FtcGxlckxpc3QuaW5kZXhPZihpKyIwIik9PT0tMSl7Y29uc3Qgcz10aGlzLl9zYW1wbGVyTGlzdC5pbmRleE9mKGUpO2ZvcihsZXQgbj0xO248dC5sZW5ndGg7bisrKXtjb25zdCBhPWkrKG4tMSkudG9TdHJpbmcoKTt0aGlzLl9zYW1wbGVyTGlzdC5zcGxpY2UocytuLDAsYSl9bGV0IHI9MDtmb3IoY29uc3QgbiBvZiB0aGlzLl9zYW1wbGVyTGlzdCl0aGlzLl9zYW1wbGVyc1tuXT1yLHIrPTF9dGhpcy5fZW5naW5lLnNldFRleHR1cmVBcnJheSh0aGlzLl9zYW1wbGVyc1tlXSx0aGlzLl91bmlmb3Jtc1tlXSx0LGUpfXNldFRleHR1cmVGcm9tUG9zdFByb2Nlc3MoZSx0KXt0aGlzLl9lbmdpbmUuc2V0VGV4dHVyZUZyb21Qb3N0UHJvY2Vzcyh0aGlzLl9zYW1wbGVyc1tlXSx0LGUpfXNldFRleHR1cmVGcm9tUG9zdFByb2Nlc3NPdXRwdXQoZSx0KXt0aGlzLl9lbmdpbmUuc2V0VGV4dHVyZUZyb21Qb3N0UHJvY2Vzc091dHB1dCh0aGlzLl9zYW1wbGVyc1tlXSx0LGUpfWJpbmRVbmlmb3JtQnVmZmVyKGUsdCl7Y29uc3QgaT10aGlzLl91bmlmb3JtQnVmZmVyc05hbWVzW3RdO2k9PT12b2lkIDB8fFBlLl9CYXNlQ2FjaGVbaV09PT1lJiZ0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnVzZVVCT0JpbmRpbmdDYWNoZXx8KFBlLl9CYXNlQ2FjaGVbaV09ZSx0aGlzLl9lbmdpbmUuYmluZFVuaWZvcm1CdWZmZXJCYXNlKGUsaSx0KSl9YmluZFVuaWZvcm1CbG9jayhlLHQpe3RoaXMuX2VuZ2luZS5iaW5kVW5pZm9ybUJsb2NrKHRoaXMuX3BpcGVsaW5lQ29udGV4dCxlLHQpfXNldEZsb2F0QXJyYXkoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEFycmF5KGUsdCksdGhpc31zZXRGbG9hdEFycmF5MihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0QXJyYXkyKGUsdCksdGhpc31zZXRGbG9hdEFycmF5MyhlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0QXJyYXkzKGUsdCksdGhpc31zZXRGbG9hdEFycmF5NChlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0QXJyYXk0KGUsdCksdGhpc31zZXRCb29sKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnQoZSx0PzE6MCksdGhpc31kaXNwb3NlKCl7dmFyIGU7KGU9dGhpcy5fcGlwZWxpbmVDb250ZXh0KT09PW51bGx8fGU9PT12b2lkIDB8fGUuZGlzcG9zZSgpLHRoaXMuX2VuZ2luZS5fcmVsZWFzZUVmZmVjdCh0aGlzKSx0aGlzLl9pc0Rpc3Bvc2VkPSEwfXN0YXRpYyBSZWdpc3RlclNoYWRlcihlLHQsaSxzPVplLkdMU0wpe3QmJihVLkdldFNoYWRlcnNTdG9yZShzKVtgJHtlfVBpeGVsU2hhZGVyYF09dCksaSYmKFUuR2V0U2hhZGVyc1N0b3JlKHMpW2Ake2V9VmVydGV4U2hhZGVyYF09aSl9c3RhdGljIFJlc2V0Q2FjaGUoKXtQZS5fQmFzZUNhY2hlPXt9fX1QZS5Mb2dTaGFkZXJDb2RlT25Db21waWxhdGlvbkVycm9yPSEwLFBlLl9VbmlxdWVJZFNlZWQ9MCxQZS5fQmFzZUNhY2hlPXt9LFBlLlNoYWRlcnNTdG9yZT1VLlNoYWRlcnNTdG9yZSxQZS5JbmNsdWRlc1NoYWRlcnNTdG9yZT1VLkluY2x1ZGVzU2hhZGVyc1N0b3JlO2NsYXNzIHJue2NvbnN0cnVjdG9yKGU9ITApe3RoaXMuX2lzRGVwdGhUZXN0RGlydHk9ITEsdGhpcy5faXNEZXB0aE1hc2tEaXJ0eT0hMSx0aGlzLl9pc0RlcHRoRnVuY0RpcnR5PSExLHRoaXMuX2lzQ3VsbEZhY2VEaXJ0eT0hMSx0aGlzLl9pc0N1bGxEaXJ0eT0hMSx0aGlzLl9pc1pPZmZzZXREaXJ0eT0hMSx0aGlzLl9pc0Zyb250RmFjZURpcnR5PSExLGUmJnRoaXMucmVzZXQoKX1nZXQgaXNEaXJ0eSgpe3JldHVybiB0aGlzLl9pc0RlcHRoRnVuY0RpcnR5fHx0aGlzLl9pc0RlcHRoVGVzdERpcnR5fHx0aGlzLl9pc0RlcHRoTWFza0RpcnR5fHx0aGlzLl9pc0N1bGxGYWNlRGlydHl8fHRoaXMuX2lzQ3VsbERpcnR5fHx0aGlzLl9pc1pPZmZzZXREaXJ0eXx8dGhpcy5faXNGcm9udEZhY2VEaXJ0eX1nZXQgek9mZnNldCgpe3JldHVybiB0aGlzLl96T2Zmc2V0fXNldCB6T2Zmc2V0KGUpe3RoaXMuX3pPZmZzZXQhPT1lJiYodGhpcy5fek9mZnNldD1lLHRoaXMuX2lzWk9mZnNldERpcnR5PSEwKX1nZXQgek9mZnNldFVuaXRzKCl7cmV0dXJuIHRoaXMuX3pPZmZzZXRVbml0c31zZXQgek9mZnNldFVuaXRzKGUpe3RoaXMuX3pPZmZzZXRVbml0cyE9PWUmJih0aGlzLl96T2Zmc2V0VW5pdHM9ZSx0aGlzLl9pc1pPZmZzZXREaXJ0eT0hMCl9Z2V0IGN1bGxGYWNlKCl7cmV0dXJuIHRoaXMuX2N1bGxGYWNlfXNldCBjdWxsRmFjZShlKXt0aGlzLl9jdWxsRmFjZSE9PWUmJih0aGlzLl9jdWxsRmFjZT1lLHRoaXMuX2lzQ3VsbEZhY2VEaXJ0eT0hMCl9Z2V0IGN1bGwoKXtyZXR1cm4gdGhpcy5fY3VsbH1zZXQgY3VsbChlKXt0aGlzLl9jdWxsIT09ZSYmKHRoaXMuX2N1bGw9ZSx0aGlzLl9pc0N1bGxEaXJ0eT0hMCl9Z2V0IGRlcHRoRnVuYygpe3JldHVybiB0aGlzLl9kZXB0aEZ1bmN9c2V0IGRlcHRoRnVuYyhlKXt0aGlzLl9kZXB0aEZ1bmMhPT1lJiYodGhpcy5fZGVwdGhGdW5jPWUsdGhpcy5faXNEZXB0aEZ1bmNEaXJ0eT0hMCl9Z2V0IGRlcHRoTWFzaygpe3JldHVybiB0aGlzLl9kZXB0aE1hc2t9c2V0IGRlcHRoTWFzayhlKXt0aGlzLl9kZXB0aE1hc2shPT1lJiYodGhpcy5fZGVwdGhNYXNrPWUsdGhpcy5faXNEZXB0aE1hc2tEaXJ0eT0hMCl9Z2V0IGRlcHRoVGVzdCgpe3JldHVybiB0aGlzLl9kZXB0aFRlc3R9c2V0IGRlcHRoVGVzdChlKXt0aGlzLl9kZXB0aFRlc3QhPT1lJiYodGhpcy5fZGVwdGhUZXN0PWUsdGhpcy5faXNEZXB0aFRlc3REaXJ0eT0hMCl9Z2V0IGZyb250RmFjZSgpe3JldHVybiB0aGlzLl9mcm9udEZhY2V9c2V0IGZyb250RmFjZShlKXt0aGlzLl9mcm9udEZhY2UhPT1lJiYodGhpcy5fZnJvbnRGYWNlPWUsdGhpcy5faXNGcm9udEZhY2VEaXJ0eT0hMCl9cmVzZXQoKXt0aGlzLl9kZXB0aE1hc2s9ITAsdGhpcy5fZGVwdGhUZXN0PSEwLHRoaXMuX2RlcHRoRnVuYz1udWxsLHRoaXMuX2N1bGxGYWNlPW51bGwsdGhpcy5fY3VsbD1udWxsLHRoaXMuX3pPZmZzZXQ9MCx0aGlzLl96T2Zmc2V0VW5pdHM9MCx0aGlzLl9mcm9udEZhY2U9bnVsbCx0aGlzLl9pc0RlcHRoVGVzdERpcnR5PSEwLHRoaXMuX2lzRGVwdGhNYXNrRGlydHk9ITAsdGhpcy5faXNEZXB0aEZ1bmNEaXJ0eT0hMSx0aGlzLl9pc0N1bGxGYWNlRGlydHk9ITEsdGhpcy5faXNDdWxsRGlydHk9ITEsdGhpcy5faXNaT2Zmc2V0RGlydHk9ITAsdGhpcy5faXNGcm9udEZhY2VEaXJ0eT0hMX1hcHBseShlKXt0aGlzLmlzRGlydHkmJih0aGlzLl9pc0N1bGxEaXJ0eSYmKHRoaXMuY3VsbD9lLmVuYWJsZShlLkNVTExfRkFDRSk6ZS5kaXNhYmxlKGUuQ1VMTF9GQUNFKSx0aGlzLl9pc0N1bGxEaXJ0eT0hMSksdGhpcy5faXNDdWxsRmFjZURpcnR5JiYoZS5jdWxsRmFjZSh0aGlzLmN1bGxGYWNlKSx0aGlzLl9pc0N1bGxGYWNlRGlydHk9ITEpLHRoaXMuX2lzRGVwdGhNYXNrRGlydHkmJihlLmRlcHRoTWFzayh0aGlzLmRlcHRoTWFzayksdGhpcy5faXNEZXB0aE1hc2tEaXJ0eT0hMSksdGhpcy5faXNEZXB0aFRlc3REaXJ0eSYmKHRoaXMuZGVwdGhUZXN0P2UuZW5hYmxlKGUuREVQVEhfVEVTVCk6ZS5kaXNhYmxlKGUuREVQVEhfVEVTVCksdGhpcy5faXNEZXB0aFRlc3REaXJ0eT0hMSksdGhpcy5faXNEZXB0aEZ1bmNEaXJ0eSYmKGUuZGVwdGhGdW5jKHRoaXMuZGVwdGhGdW5jKSx0aGlzLl9pc0RlcHRoRnVuY0RpcnR5PSExKSx0aGlzLl9pc1pPZmZzZXREaXJ0eSYmKHRoaXMuek9mZnNldHx8dGhpcy56T2Zmc2V0VW5pdHM/KGUuZW5hYmxlKGUuUE9MWUdPTl9PRkZTRVRfRklMTCksZS5wb2x5Z29uT2Zmc2V0KHRoaXMuek9mZnNldCx0aGlzLnpPZmZzZXRVbml0cykpOmUuZGlzYWJsZShlLlBPTFlHT05fT0ZGU0VUX0ZJTEwpLHRoaXMuX2lzWk9mZnNldERpcnR5PSExKSx0aGlzLl9pc0Zyb250RmFjZURpcnR5JiYoZS5mcm9udEZhY2UodGhpcy5mcm9udEZhY2UpLHRoaXMuX2lzRnJvbnRGYWNlRGlydHk9ITEpKX19Y2xhc3MgTHR7Y29uc3RydWN0b3IoKXt0aGlzLnJlc2V0KCl9cmVzZXQoKXt0aGlzLmVuYWJsZWQ9ITEsdGhpcy5tYXNrPTI1NSx0aGlzLmZ1bmM9THQuQUxXQVlTLHRoaXMuZnVuY1JlZj0xLHRoaXMuZnVuY01hc2s9MjU1LHRoaXMub3BTdGVuY2lsRmFpbD1MdC5LRUVQLHRoaXMub3BEZXB0aEZhaWw9THQuS0VFUCx0aGlzLm9wU3RlbmNpbERlcHRoUGFzcz1MdC5SRVBMQUNFfWdldCBzdGVuY2lsRnVuYygpe3JldHVybiB0aGlzLmZ1bmN9c2V0IHN0ZW5jaWxGdW5jKGUpe3RoaXMuZnVuYz1lfWdldCBzdGVuY2lsRnVuY1JlZigpe3JldHVybiB0aGlzLmZ1bmNSZWZ9c2V0IHN0ZW5jaWxGdW5jUmVmKGUpe3RoaXMuZnVuY1JlZj1lfWdldCBzdGVuY2lsRnVuY01hc2soKXtyZXR1cm4gdGhpcy5mdW5jTWFza31zZXQgc3RlbmNpbEZ1bmNNYXNrKGUpe3RoaXMuZnVuY01hc2s9ZX1nZXQgc3RlbmNpbE9wU3RlbmNpbEZhaWwoKXtyZXR1cm4gdGhpcy5vcFN0ZW5jaWxGYWlsfXNldCBzdGVuY2lsT3BTdGVuY2lsRmFpbChlKXt0aGlzLm9wU3RlbmNpbEZhaWw9ZX1nZXQgc3RlbmNpbE9wRGVwdGhGYWlsKCl7cmV0dXJuIHRoaXMub3BEZXB0aEZhaWx9c2V0IHN0ZW5jaWxPcERlcHRoRmFpbChlKXt0aGlzLm9wRGVwdGhGYWlsPWV9Z2V0IHN0ZW5jaWxPcFN0ZW5jaWxEZXB0aFBhc3MoKXtyZXR1cm4gdGhpcy5vcFN0ZW5jaWxEZXB0aFBhc3N9c2V0IHN0ZW5jaWxPcFN0ZW5jaWxEZXB0aFBhc3MoZSl7dGhpcy5vcFN0ZW5jaWxEZXB0aFBhc3M9ZX1nZXQgc3RlbmNpbE1hc2soKXtyZXR1cm4gdGhpcy5tYXNrfXNldCBzdGVuY2lsTWFzayhlKXt0aGlzLm1hc2s9ZX1nZXQgc3RlbmNpbFRlc3QoKXtyZXR1cm4gdGhpcy5lbmFibGVkfXNldCBzdGVuY2lsVGVzdChlKXt0aGlzLmVuYWJsZWQ9ZX19THQuQUxXQVlTPTUxOSxMdC5LRUVQPTc2ODAsTHQuUkVQTEFDRT03NjgxO2NsYXNzIG5ue2NvbnN0cnVjdG9yKCl7dGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnM9bmV3IEFycmF5KDQpLHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzPW5ldyBBcnJheSgyKSx0aGlzLl9ibGVuZENvbnN0YW50cz1uZXcgQXJyYXkoNCksdGhpcy5faXNCbGVuZENvbnN0YW50c0RpcnR5PSExLHRoaXMuX2FscGhhQmxlbmQ9ITEsdGhpcy5faXNBbHBoYUJsZW5kRGlydHk9ITEsdGhpcy5faXNCbGVuZEZ1bmN0aW9uUGFyYW1ldGVyc0RpcnR5PSExLHRoaXMuX2lzQmxlbmRFcXVhdGlvblBhcmFtZXRlcnNEaXJ0eT0hMSx0aGlzLnJlc2V0KCl9Z2V0IGlzRGlydHkoKXtyZXR1cm4gdGhpcy5faXNBbHBoYUJsZW5kRGlydHl8fHRoaXMuX2lzQmxlbmRGdW5jdGlvblBhcmFtZXRlcnNEaXJ0eXx8dGhpcy5faXNCbGVuZEVxdWF0aW9uUGFyYW1ldGVyc0RpcnR5fWdldCBhbHBoYUJsZW5kKCl7cmV0dXJuIHRoaXMuX2FscGhhQmxlbmR9c2V0IGFscGhhQmxlbmQoZSl7dGhpcy5fYWxwaGFCbGVuZCE9PWUmJih0aGlzLl9hbHBoYUJsZW5kPWUsdGhpcy5faXNBbHBoYUJsZW5kRGlydHk9ITApfXNldEFscGhhQmxlbmRDb25zdGFudHMoZSx0LGkscyl7dGhpcy5fYmxlbmRDb25zdGFudHNbMF09PT1lJiZ0aGlzLl9ibGVuZENvbnN0YW50c1sxXT09PXQmJnRoaXMuX2JsZW5kQ29uc3RhbnRzWzJdPT09aSYmdGhpcy5fYmxlbmRDb25zdGFudHNbM109PT1zfHwodGhpcy5fYmxlbmRDb25zdGFudHNbMF09ZSx0aGlzLl9ibGVuZENvbnN0YW50c1sxXT10LHRoaXMuX2JsZW5kQ29uc3RhbnRzWzJdPWksdGhpcy5fYmxlbmRDb25zdGFudHNbM109cyx0aGlzLl9pc0JsZW5kQ29uc3RhbnRzRGlydHk9ITApfXNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnMoZSx0LGkscyl7dGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMF09PT1lJiZ0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1sxXT09PXQmJnRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzJdPT09aSYmdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbM109PT1zfHwodGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMF09ZSx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1sxXT10LHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzJdPWksdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbM109cyx0aGlzLl9pc0JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzRGlydHk9ITApfXNldEFscGhhRXF1YXRpb25QYXJhbWV0ZXJzKGUsdCl7dGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnNbMF09PT1lJiZ0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1sxXT09PXR8fCh0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1swXT1lLHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzFdPXQsdGhpcy5faXNCbGVuZEVxdWF0aW9uUGFyYW1ldGVyc0RpcnR5PSEwKX1yZXNldCgpe3RoaXMuX2FscGhhQmxlbmQ9ITEsdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMF09bnVsbCx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1sxXT1udWxsLHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzJdPW51bGwsdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbM109bnVsbCx0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1swXT1udWxsLHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzFdPW51bGwsdGhpcy5fYmxlbmRDb25zdGFudHNbMF09bnVsbCx0aGlzLl9ibGVuZENvbnN0YW50c1sxXT1udWxsLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzJdPW51bGwsdGhpcy5fYmxlbmRDb25zdGFudHNbM109bnVsbCx0aGlzLl9pc0FscGhhQmxlbmREaXJ0eT0hMCx0aGlzLl9pc0JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzRGlydHk9ITEsdGhpcy5faXNCbGVuZEVxdWF0aW9uUGFyYW1ldGVyc0RpcnR5PSExLHRoaXMuX2lzQmxlbmRDb25zdGFudHNEaXJ0eT0hMX1hcHBseShlKXt0aGlzLmlzRGlydHkmJih0aGlzLl9pc0FscGhhQmxlbmREaXJ0eSYmKHRoaXMuX2FscGhhQmxlbmQ/ZS5lbmFibGUoZS5CTEVORCk6ZS5kaXNhYmxlKGUuQkxFTkQpLHRoaXMuX2lzQWxwaGFCbGVuZERpcnR5PSExKSx0aGlzLl9pc0JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzRGlydHkmJihlLmJsZW5kRnVuY1NlcGFyYXRlKHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzBdLHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzFdLHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzJdLHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzNdKSx0aGlzLl9pc0JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzRGlydHk9ITEpLHRoaXMuX2lzQmxlbmRFcXVhdGlvblBhcmFtZXRlcnNEaXJ0eSYmKGUuYmxlbmRFcXVhdGlvblNlcGFyYXRlKHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzBdLHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzFdKSx0aGlzLl9pc0JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzRGlydHk9ITEpLHRoaXMuX2lzQmxlbmRDb25zdGFudHNEaXJ0eSYmKGUuYmxlbmRDb2xvcih0aGlzLl9ibGVuZENvbnN0YW50c1swXSx0aGlzLl9ibGVuZENvbnN0YW50c1sxXSx0aGlzLl9ibGVuZENvbnN0YW50c1syXSx0aGlzLl9ibGVuZENvbnN0YW50c1szXSksdGhpcy5faXNCbGVuZENvbnN0YW50c0RpcnR5PSExKSl9fWNsYXNzIGFue2NvbnN0cnVjdG9yKCl7dGhpcy5zaGFkZXJMYW5ndWFnZT1aZS5HTFNMfXBvc3RQcm9jZXNzb3IoZSx0LGkscyxyKXtpZighci5nZXRDYXBzKCkuZHJhd0J1ZmZlcnNFeHRlbnNpb24pe2NvbnN0IG49LyNleHRlbnNpb24uK0dMX0VYVF9kcmF3X2J1ZmZlcnMuKyhlbmFibGV8cmVxdWlyZSkvZztlPWUucmVwbGFjZShuLCIiKX1yZXR1cm4gZX19Y2xhc3Mgb257Y29uc3RydWN0b3IoKXt0aGlzLnNoYWRlckxhbmd1YWdlPVplLkdMU0x9YXR0cmlidXRlUHJvY2Vzc29yKGUpe3JldHVybiBlLnJlcGxhY2UoImF0dHJpYnV0ZSIsImluIil9dmFyeWluZ1Byb2Nlc3NvcihlLHQpe3JldHVybiBlLnJlcGxhY2UoInZhcnlpbmciLHQ/ImluIjoib3V0Iil9cG9zdFByb2Nlc3NvcihlLHQsaSl7Y29uc3Qgcz1lLnNlYXJjaCgvI2V4dGVuc2lvbi4rR0xfRVhUX2RyYXdfYnVmZmVycy4rcmVxdWlyZS8pIT09LTEscj0vI2V4dGVuc2lvbi4rKEdMX09WUl9tdWx0aXZpZXcyfEdMX09FU19zdGFuZGFyZF9kZXJpdmF0aXZlc3xHTF9FWFRfc2hhZGVyX3RleHR1cmVfbG9kfEdMX0VYVF9mcmFnX2RlcHRofEdMX0VYVF9kcmF3X2J1ZmZlcnMpLisoZW5hYmxlfHJlcXVpcmUpL2c7aWYoZT1lLnJlcGxhY2UociwiIiksZT1lLnJlcGxhY2UoL3RleHR1cmUyRFxzKlwoL2csInRleHR1cmUoIiksaSllPWUucmVwbGFjZSgvdGV4dHVyZTJETG9kRVhUXHMqXCgvZywidGV4dHVyZUxvZCgiKSxlPWUucmVwbGFjZSgvdGV4dHVyZUN1YmVMb2RFWFRccypcKC9nLCJ0ZXh0dXJlTG9kKCIpLGU9ZS5yZXBsYWNlKC90ZXh0dXJlQ3ViZVxzKlwoL2csInRleHR1cmUoIiksZT1lLnJlcGxhY2UoL2dsX0ZyYWdEZXB0aEVYVC9nLCJnbF9GcmFnRGVwdGgiKSxlPWUucmVwbGFjZSgvZ2xfRnJhZ0NvbG9yL2csImdsRnJhZ0NvbG9yIiksZT1lLnJlcGxhY2UoL2dsX0ZyYWdEYXRhL2csImdsRnJhZ0RhdGEiKSxlPWUucmVwbGFjZSgvdm9pZFxzKz9tYWluXHMqXCgvZywocz8iIjpgbGF5b3V0KGxvY2F0aW9uID0gMCkgb3V0IHZlYzQgZ2xGcmFnQ29sb3I7CmApKyJ2b2lkIG1haW4oIik7ZWxzZSBpZih0LmluZGV4T2YoIiNkZWZpbmUgTVVMVElWSUVXIikhPT0tMSlyZXR1cm5gI2V4dGVuc2lvbiBHTF9PVlJfbXVsdGl2aWV3MiA6IHJlcXVpcmUKbGF5b3V0IChudW1fdmlld3MgPSAyKSBpbjsKYCtlO3JldHVybiBlfX1jbGFzcyBQaXtjb25zdHJ1Y3Rvcigpe3RoaXMucmVmZXJlbmNlcz0wLHRoaXMuY2FwYWNpdHk9MCx0aGlzLmlzMzJCaXRzPSExLHRoaXMudW5pcXVlSWQ9UGkuX0NvdW50ZXIrK31nZXQgdW5kZXJseWluZ1Jlc291cmNlKCl7cmV0dXJuIG51bGx9fVBpLl9Db3VudGVyPTA7Y2xhc3MgRGkgZXh0ZW5kcyBQaXtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuX2J1ZmZlcj1lfWdldCB1bmRlcmx5aW5nUmVzb3VyY2UoKXtyZXR1cm4gdGhpcy5fYnVmZmVyfX1jb25zdCBobj1bIkludCIsIkludDIiLCJJbnQzIiwiSW50NCIsIlVJbnQiLCJVSW50MiIsIlVJbnQzIiwiVUludDQiLCJWZWN0b3IyIiwiVmVjdG9yMyIsIlZlY3RvcjQiLCJGbG9hdDIiLCJGbG9hdCIsIkZsb2F0MyIsIkZsb2F0NCIsIlF1YXRlcm5pb24iLCJDb2xvcjMiLCJDb2xvcjQiLCJEaXJlY3RDb2xvcjQiXTtjbGFzcyBsbntjb25zdHJ1Y3Rvcigpe3RoaXMuX3ZhbHVlQ2FjaGU9e30sdGhpcy52ZXJ0ZXhDb21waWxhdGlvbkVycm9yPW51bGwsdGhpcy5mcmFnbWVudENvbXBpbGF0aW9uRXJyb3I9bnVsbCx0aGlzLnByb2dyYW1MaW5rRXJyb3I9bnVsbCx0aGlzLnByb2dyYW1WYWxpZGF0aW9uRXJyb3I9bnVsbDtjb25zdCBlPVtdLHQ9ZnVuY3Rpb24oKXtlLmxlbmd0aD0wLEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGUsYXJndW1lbnRzKSxlWzBdPXRoaXMuX3VuaWZvcm1zW2VbMF1dfSxpPXM9Pntjb25zdCByPWhuLmluY2x1ZGVzKHMuc3Vic3RyaW5nKDMpKSYmIkZsb2F0TiI7aWYocil7Y29uc3Qgbj10aGlzW2BfY2FjaGUke3J9YF07cmV0dXJuIGZ1bmN0aW9uKCl7Y29uc3QgYT10aGlzLmVuZ2luZVtzXTt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxuLmFwcGx5KHRoaXMsYXJndW1lbnRzKSYmKGEuYXBwbHkodGhpcy5lbmdpbmUsZSl8fCh0aGlzLl92YWx1ZUNhY2hlW2FyZ3VtZW50c1swXV09bnVsbCkpfX1lbHNlIHJldHVybiBmdW5jdGlvbigpe2NvbnN0IG49dGhpcy5lbmdpbmVbc107dC5hcHBseSh0aGlzLGFyZ3VtZW50cyksYXJndW1lbnRzWzFdIT09dm9pZCAwJiYodGhpcy5fdmFsdWVDYWNoZVthcmd1bWVudHNbMF1dPW51bGwsbi5hcHBseSh0aGlzLmVuZ2luZSxlKSl9fTtbIkludD8iLCJVSW50PyIsIkludEFycmF5PyIsIlVJbnRBcnJheT8iLCJBcnJheT8iLCJGbG9hdD8iLCJNYXRyaWNlcyIsIk1hdHJpeDN4MyIsIk1hdHJpeDJ4MiJdLmZvckVhY2gocz0+e2NvbnN0IHI9YHNldCR7c31gO3RoaXNbcl18fChyLmVuZHNXaXRoKCI/Iik/WyIiLDIsMyw0XS5mb3JFYWNoKG49Pnt0aGlzW3Iuc2xpY2UoMCwtMSkrbl09dGhpc1tyLnNsaWNlKDAsLTEpK25dfHxpKHIuc2xpY2UoMCwtMSkrbikuYmluZCh0aGlzKX0pOnRoaXNbcl09dGhpc1tyXXx8aShyKS5iaW5kKHRoaXMpKX0pfWdldCBpc0FzeW5jKCl7cmV0dXJuIHRoaXMuaXNQYXJhbGxlbENvbXBpbGVkfWdldCBpc1JlYWR5KCl7cmV0dXJuIHRoaXMucHJvZ3JhbT90aGlzLmlzUGFyYWxsZWxDb21waWxlZD90aGlzLmVuZ2luZS5faXNSZW5kZXJpbmdTdGF0ZUNvbXBpbGVkKHRoaXMpOiEwOiExfV9oYW5kbGVzU3BlY3RvclJlYnVpbGRDYWxsYmFjayhlKXtlJiZ0aGlzLnByb2dyYW0mJmUodGhpcy5wcm9ncmFtKX1fZmlsbEVmZmVjdEluZm9ybWF0aW9uKGUsdCxpLHMscixuLGEsbyl7Y29uc3QgaD10aGlzLmVuZ2luZTtpZihoLnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnMpZm9yKGNvbnN0IGQgaW4gdCllLmJpbmRVbmlmb3JtQmxvY2soZCx0W2RdKTt0aGlzLmVuZ2luZS5nZXRVbmlmb3Jtcyh0aGlzLGkpLmZvckVhY2goKGQsZik9PntzW2lbZl1dPWR9KSx0aGlzLl91bmlmb3Jtcz1zO2xldCB1O2Zvcih1PTA7dTxyLmxlbmd0aDt1KyspZS5nZXRVbmlmb3JtKHJbdV0pPT1udWxsJiYoci5zcGxpY2UodSwxKSx1LS0pO3IuZm9yRWFjaCgoZCxmKT0+e25bZF09Zn0pO2Zvcihjb25zdCBkIG9mIGguZ2V0QXR0cmlidXRlcyh0aGlzLGEpKW8ucHVzaChkKX1kaXNwb3NlKCl7dGhpcy5fdW5pZm9ybXM9e319X2NhY2hlTWF0cml4KGUsdCl7Y29uc3QgaT10aGlzLl92YWx1ZUNhY2hlW2VdLHM9dC51cGRhdGVGbGFnO3JldHVybiBpIT09dm9pZCAwJiZpPT09cz8hMToodGhpcy5fdmFsdWVDYWNoZVtlXT1zLCEwKX1fY2FjaGVGbG9hdE4oZSx0LGkscyxyKXtsZXQgbj10aGlzLl92YWx1ZUNhY2hlW2FyZ3VtZW50c1swXV07aWYoIW58fG4ubGVuZ3RoIT09YXJndW1lbnRzLmxlbmd0aC0xKXJldHVybiBuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSx0aGlzLl92YWx1ZUNhY2hlW2FyZ3VtZW50c1swXV09biwhMDtsZXQgYT0hMTtmb3IobGV0IG89MDtvPG4ubGVuZ3RoOysrbyluW29dIT09YXJndW1lbnRzW28rMV0mJihuW29dPWFyZ3VtZW50c1tvKzFdLGE9ITApO3JldHVybiBhfV9jYWNoZUZsb2F0MihlLHQsaSl7cmV0dXJuIHRoaXMuX2NhY2hlRmxvYXROKGUsdCxpKX1fY2FjaGVGbG9hdDMoZSx0LGkscyl7cmV0dXJuIHRoaXMuX2NhY2hlRmxvYXROKGUsdCxpLHMpfV9jYWNoZUZsb2F0NChlLHQsaSxzLHIpe3JldHVybiB0aGlzLl9jYWNoZUZsb2F0TihlLHQsaSxzLHIpfXNldE1hdHJpeChlLHQpe3RoaXMuX2NhY2hlTWF0cml4KGUsdCkmJih0aGlzLmVuZ2luZS5zZXRNYXRyaWNlcyh0aGlzLl91bmlmb3Jtc1tlXSx0LnRvQXJyYXkoKSl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX1zZXRWZWN0b3IyKGUsdCl7dGhpcy5zZXRGbG9hdDIoZSx0LngsdC55KX1zZXRWZWN0b3IzKGUsdCl7dGhpcy5zZXRGbG9hdDMoZSx0LngsdC55LHQueil9c2V0VmVjdG9yNChlLHQpe3RoaXMuc2V0RmxvYXQ0KGUsdC54LHQueSx0LnosdC53KX1zZXRRdWF0ZXJuaW9uKGUsdCl7dGhpcy5zZXRGbG9hdDQoZSx0LngsdC55LHQueix0LncpfXNldENvbG9yMyhlLHQpe3RoaXMuc2V0RmxvYXQzKGUsdC5yLHQuZyx0LmIpfXNldENvbG9yNChlLHQsaSl7dGhpcy5zZXRGbG9hdDQoZSx0LnIsdC5nLHQuYixpKX1zZXREaXJlY3RDb2xvcjQoZSx0KXt0aGlzLnNldEZsb2F0NChlLHQucix0LmcsdC5iLHQuYSl9X2dldFZlcnRleFNoYWRlckNvZGUoKXtyZXR1cm4gdGhpcy52ZXJ0ZXhTaGFkZXI/dGhpcy5lbmdpbmUuX2dldFNoYWRlclNvdXJjZSh0aGlzLnZlcnRleFNoYWRlcik6bnVsbH1fZ2V0RnJhZ21lbnRTaGFkZXJDb2RlKCl7cmV0dXJuIHRoaXMuZnJhZ21lbnRTaGFkZXI/dGhpcy5lbmdpbmUuX2dldFNoYWRlclNvdXJjZSh0aGlzLmZyYWdtZW50U2hhZGVyKTpudWxsfX1jbGFzcyB0cntjb25zdHJ1Y3RvcihlPW51bGwsdCl7aWYodGhpcy5fTVNBQVJlbmRlckJ1ZmZlcj1udWxsLHRoaXMuX2NvbnRleHQ9dCwhZSYmKGU9dC5jcmVhdGVUZXh0dXJlKCksIWUpKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSB3ZWJHTCB0ZXh0dXJlIik7dGhpcy5zZXQoZSl9Z2V0IHVuZGVybHlpbmdSZXNvdXJjZSgpe3JldHVybiB0aGlzLl93ZWJHTFRleHR1cmV9c2V0VXNhZ2UoKXt9c2V0KGUpe3RoaXMuX3dlYkdMVGV4dHVyZT1lfXJlc2V0KCl7dGhpcy5fd2ViR0xUZXh0dXJlPW51bGwsdGhpcy5fTVNBQVJlbmRlckJ1ZmZlcj1udWxsfXJlbGVhc2UoKXt0aGlzLl9NU0FBUmVuZGVyQnVmZmVyJiYodGhpcy5fY29udGV4dC5kZWxldGVSZW5kZXJidWZmZXIodGhpcy5fTVNBQVJlbmRlckJ1ZmZlciksdGhpcy5fTVNBQVJlbmRlckJ1ZmZlcj1udWxsKSx0aGlzLl93ZWJHTFRleHR1cmUmJnRoaXMuX2NvbnRleHQuZGVsZXRlVGV4dHVyZSh0aGlzLl93ZWJHTFRleHR1cmUpLHRoaXMucmVzZXQoKX19Y2xhc3MgbWl7Y29uc3RydWN0b3IoZSx0PSEwKXt0aGlzLmVmZmVjdD1udWxsLHRoaXMuZGVmaW5lcz1udWxsLHRoaXMuZHJhd0NvbnRleHQ9ZS5jcmVhdGVEcmF3Q29udGV4dCgpLHQmJih0aGlzLm1hdGVyaWFsQ29udGV4dD1lLmNyZWF0ZU1hdGVyaWFsQ29udGV4dCgpKX1zdGF0aWMgSXNXcmFwcGVyKGUpe3JldHVybiBlLmdldFBpcGVsaW5lQ29udGV4dD09PXZvaWQgMH1zdGF0aWMgR2V0RWZmZWN0KGUpe3JldHVybiBlLmdldFBpcGVsaW5lQ29udGV4dD09PXZvaWQgMD9lLmVmZmVjdDplfXNldEVmZmVjdChlLHQsaT0hMCl7dmFyIHM7dGhpcy5lZmZlY3Q9ZSx0IT09dm9pZCAwJiYodGhpcy5kZWZpbmVzPXQpLGkmJigocz10aGlzLmRyYXdDb250ZXh0KT09PW51bGx8fHM9PT12b2lkIDB8fHMucmVzZXQoKSl9ZGlzcG9zZSgpe3ZhciBlOyhlPXRoaXMuZHJhd0NvbnRleHQpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5kaXNwb3NlKCl9fWNsYXNzIGNue2NvbnN0cnVjdG9yKGU9ITApe3RoaXMuX2lzU3RlbmNpbFRlc3REaXJ0eT0hMSx0aGlzLl9pc1N0ZW5jaWxNYXNrRGlydHk9ITEsdGhpcy5faXNTdGVuY2lsRnVuY0RpcnR5PSExLHRoaXMuX2lzU3RlbmNpbE9wRGlydHk9ITEsdGhpcy51c2VTdGVuY2lsR2xvYmFsT25seT0hMSxlJiZ0aGlzLnJlc2V0KCl9Z2V0IGlzRGlydHkoKXtyZXR1cm4gdGhpcy5faXNTdGVuY2lsVGVzdERpcnR5fHx0aGlzLl9pc1N0ZW5jaWxNYXNrRGlydHl8fHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eXx8dGhpcy5faXNTdGVuY2lsT3BEaXJ0eX1nZXQgZnVuYygpe3JldHVybiB0aGlzLl9mdW5jfXNldCBmdW5jKGUpe3RoaXMuX2Z1bmMhPT1lJiYodGhpcy5fZnVuYz1lLHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eT0hMCl9Z2V0IGZ1bmNSZWYoKXtyZXR1cm4gdGhpcy5fZnVuY1JlZn1zZXQgZnVuY1JlZihlKXt0aGlzLl9mdW5jUmVmIT09ZSYmKHRoaXMuX2Z1bmNSZWY9ZSx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHk9ITApfWdldCBmdW5jTWFzaygpe3JldHVybiB0aGlzLl9mdW5jTWFza31zZXQgZnVuY01hc2soZSl7dGhpcy5fZnVuY01hc2shPT1lJiYodGhpcy5fZnVuY01hc2s9ZSx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHk9ITApfWdldCBvcFN0ZW5jaWxGYWlsKCl7cmV0dXJuIHRoaXMuX29wU3RlbmNpbEZhaWx9c2V0IG9wU3RlbmNpbEZhaWwoZSl7dGhpcy5fb3BTdGVuY2lsRmFpbCE9PWUmJih0aGlzLl9vcFN0ZW5jaWxGYWlsPWUsdGhpcy5faXNTdGVuY2lsT3BEaXJ0eT0hMCl9Z2V0IG9wRGVwdGhGYWlsKCl7cmV0dXJuIHRoaXMuX29wRGVwdGhGYWlsfXNldCBvcERlcHRoRmFpbChlKXt0aGlzLl9vcERlcHRoRmFpbCE9PWUmJih0aGlzLl9vcERlcHRoRmFpbD1lLHRoaXMuX2lzU3RlbmNpbE9wRGlydHk9ITApfWdldCBvcFN0ZW5jaWxEZXB0aFBhc3MoKXtyZXR1cm4gdGhpcy5fb3BTdGVuY2lsRGVwdGhQYXNzfXNldCBvcFN0ZW5jaWxEZXB0aFBhc3MoZSl7dGhpcy5fb3BTdGVuY2lsRGVwdGhQYXNzIT09ZSYmKHRoaXMuX29wU3RlbmNpbERlcHRoUGFzcz1lLHRoaXMuX2lzU3RlbmNpbE9wRGlydHk9ITApfWdldCBtYXNrKCl7cmV0dXJuIHRoaXMuX21hc2t9c2V0IG1hc2soZSl7dGhpcy5fbWFzayE9PWUmJih0aGlzLl9tYXNrPWUsdGhpcy5faXNTdGVuY2lsTWFza0RpcnR5PSEwKX1nZXQgZW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfXNldCBlbmFibGVkKGUpe3RoaXMuX2VuYWJsZWQhPT1lJiYodGhpcy5fZW5hYmxlZD1lLHRoaXMuX2lzU3RlbmNpbFRlc3REaXJ0eT0hMCl9cmVzZXQoKXt2YXIgZTt0aGlzLnN0ZW5jaWxNYXRlcmlhbD12b2lkIDAsKGU9dGhpcy5zdGVuY2lsR2xvYmFsKT09PW51bGx8fGU9PT12b2lkIDB8fGUucmVzZXQoKSx0aGlzLl9pc1N0ZW5jaWxUZXN0RGlydHk9ITAsdGhpcy5faXNTdGVuY2lsTWFza0RpcnR5PSEwLHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eT0hMCx0aGlzLl9pc1N0ZW5jaWxPcERpcnR5PSEwfWFwcGx5KGUpe3ZhciB0O2lmKCFlKXJldHVybjtjb25zdCBpPSF0aGlzLnVzZVN0ZW5jaWxHbG9iYWxPbmx5JiYhISghKCh0PXRoaXMuc3RlbmNpbE1hdGVyaWFsKT09PW51bGx8fHQ9PT12b2lkIDApJiZ0LmVuYWJsZWQpO3RoaXMuZW5hYmxlZD1pP3RoaXMuc3RlbmNpbE1hdGVyaWFsLmVuYWJsZWQ6dGhpcy5zdGVuY2lsR2xvYmFsLmVuYWJsZWQsdGhpcy5mdW5jPWk/dGhpcy5zdGVuY2lsTWF0ZXJpYWwuZnVuYzp0aGlzLnN0ZW5jaWxHbG9iYWwuZnVuYyx0aGlzLmZ1bmNSZWY9aT90aGlzLnN0ZW5jaWxNYXRlcmlhbC5mdW5jUmVmOnRoaXMuc3RlbmNpbEdsb2JhbC5mdW5jUmVmLHRoaXMuZnVuY01hc2s9aT90aGlzLnN0ZW5jaWxNYXRlcmlhbC5mdW5jTWFzazp0aGlzLnN0ZW5jaWxHbG9iYWwuZnVuY01hc2ssdGhpcy5vcFN0ZW5jaWxGYWlsPWk/dGhpcy5zdGVuY2lsTWF0ZXJpYWwub3BTdGVuY2lsRmFpbDp0aGlzLnN0ZW5jaWxHbG9iYWwub3BTdGVuY2lsRmFpbCx0aGlzLm9wRGVwdGhGYWlsPWk/dGhpcy5zdGVuY2lsTWF0ZXJpYWwub3BEZXB0aEZhaWw6dGhpcy5zdGVuY2lsR2xvYmFsLm9wRGVwdGhGYWlsLHRoaXMub3BTdGVuY2lsRGVwdGhQYXNzPWk/dGhpcy5zdGVuY2lsTWF0ZXJpYWwub3BTdGVuY2lsRGVwdGhQYXNzOnRoaXMuc3RlbmNpbEdsb2JhbC5vcFN0ZW5jaWxEZXB0aFBhc3MsdGhpcy5tYXNrPWk/dGhpcy5zdGVuY2lsTWF0ZXJpYWwubWFzazp0aGlzLnN0ZW5jaWxHbG9iYWwubWFzayx0aGlzLmlzRGlydHkmJih0aGlzLl9pc1N0ZW5jaWxUZXN0RGlydHkmJih0aGlzLmVuYWJsZWQ/ZS5lbmFibGUoZS5TVEVOQ0lMX1RFU1QpOmUuZGlzYWJsZShlLlNURU5DSUxfVEVTVCksdGhpcy5faXNTdGVuY2lsVGVzdERpcnR5PSExKSx0aGlzLl9pc1N0ZW5jaWxNYXNrRGlydHkmJihlLnN0ZW5jaWxNYXNrKHRoaXMubWFzayksdGhpcy5faXNTdGVuY2lsTWFza0RpcnR5PSExKSx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHkmJihlLnN0ZW5jaWxGdW5jKHRoaXMuZnVuYyx0aGlzLmZ1bmNSZWYsdGhpcy5mdW5jTWFzayksdGhpcy5faXNTdGVuY2lsRnVuY0RpcnR5PSExKSx0aGlzLl9pc1N0ZW5jaWxPcERpcnR5JiYoZS5zdGVuY2lsT3AodGhpcy5vcFN0ZW5jaWxGYWlsLHRoaXMub3BEZXB0aEZhaWwsdGhpcy5vcFN0ZW5jaWxEZXB0aFBhc3MpLHRoaXMuX2lzU3RlbmNpbE9wRGlydHk9ITEpKX19Y2xhc3MgYWl7c3RhdGljIGdldCBOb3coKXtyZXR1cm4gcHMuSXNXaW5kb3dPYmplY3RFeGlzdCgpJiZ3aW5kb3cucGVyZm9ybWFuY2UmJndpbmRvdy5wZXJmb3JtYW5jZS5ub3c/d2luZG93LnBlcmZvcm1hbmNlLm5vdygpOkRhdGUubm93KCl9fWNsYXNzIHVue31jbGFzcyBvZXtjb25zdHJ1Y3RvcihlLHQsaSxzKXt0aGlzLl9uYW1lPSJXZWJHTCIsdGhpcy5mb3JjZVBPVFRleHR1cmVzPSExLHRoaXMuaXNGdWxsc2NyZWVuPSExLHRoaXMuY3VsbEJhY2tGYWNlcz1udWxsLHRoaXMucmVuZGVyRXZlbkluQmFja2dyb3VuZD0hMCx0aGlzLnByZXZlbnRDYWNoZVdpcGVCZXR3ZWVuRnJhbWVzPSExLHRoaXMudmFsaWRhdGVTaGFkZXJQcm9ncmFtcz0hMSx0aGlzLl91c2VSZXZlcnNlRGVwdGhCdWZmZXI9ITEsdGhpcy5pc05EQ0hhbGZaUmFuZ2U9ITEsdGhpcy5oYXNPcmlnaW5Cb3R0b21MZWZ0PSEwLHRoaXMuZGlzYWJsZVVuaWZvcm1CdWZmZXJzPSExLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9mcmFtZUlkPTAsdGhpcy5fdW5pZm9ybUJ1ZmZlcnM9bmV3IEFycmF5LHRoaXMuX3N0b3JhZ2VCdWZmZXJzPW5ldyBBcnJheSx0aGlzLl93ZWJHTFZlcnNpb249MSx0aGlzLl93aW5kb3dJc0JhY2tncm91bmQ9ITEsdGhpcy5faGlnaFByZWNpc2lvblNoYWRlcnNBbGxvd2VkPSEwLHRoaXMuX2JhZE9TPSExLHRoaXMuX2JhZERlc2t0b3BPUz0hMSx0aGlzLl9yZW5kZXJpbmdRdWV1ZUxhdW5jaGVkPSExLHRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzPW5ldyBBcnJheSx0aGlzLm9uQ29udGV4dExvc3RPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25Db250ZXh0UmVzdG9yZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX2NvbnRleHRXYXNMb3N0PSExLHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3Q9ITEsdGhpcy5kaXNhYmxlVmVydGV4QXJyYXlPYmplY3RzPSExLHRoaXMuX2NvbG9yV3JpdGU9ITAsdGhpcy5fY29sb3JXcml0ZUNoYW5nZWQ9ITAsdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGU9bmV3IHJuLHRoaXMuX3N0ZW5jaWxTdGF0ZUNvbXBvc2VyPW5ldyBjbix0aGlzLl9zdGVuY2lsU3RhdGU9bmV3IEx0LHRoaXMuX2FscGhhU3RhdGU9bmV3IG5uLHRoaXMuX2FscGhhTW9kZT0xLHRoaXMuX2FscGhhRXF1YXRpb249MCx0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGU9bmV3IEFycmF5LHRoaXMuX3JlbmRlclRhcmdldFdyYXBwZXJDYWNoZT1uZXcgQXJyYXksdGhpcy5fYWN0aXZlQ2hhbm5lbD0wLHRoaXMuX2N1cnJlbnRUZXh0dXJlQ2hhbm5lbD0tMSx0aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGU9e30sdGhpcy5fY29tcGlsZWRFZmZlY3RzPXt9LHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWQ9W10sdGhpcy5fdWludEluZGljZXNDdXJyZW50bHlTZXQ9ITEsdGhpcy5fY3VycmVudEJvdW5kQnVmZmVyPW5ldyBBcnJheSx0aGlzLl9jdXJyZW50RnJhbWVidWZmZXI9bnVsbCx0aGlzLl9kdW1teUZyYW1lYnVmZmVyPW51bGwsdGhpcy5fY3VycmVudEJ1ZmZlclBvaW50ZXJzPW5ldyBBcnJheSx0aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnM9bmV3IEFycmF5LHRoaXMuX2N1cnJlbnRJbnN0YW5jZUJ1ZmZlcnM9bmV3IEFycmF5LHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3M9ITEsdGhpcy5fbXVzdFdpcGVWZXJ0ZXhBdHRyaWJ1dGVzPSExLHRoaXMuX25leHRGcmVlVGV4dHVyZVNsb3RzPW5ldyBBcnJheSx0aGlzLl9tYXhTaW11bHRhbmVvdXNUZXh0dXJlcz0wLHRoaXMuX21heE1TQUFTYW1wbGVzT3ZlcnJpZGU9bnVsbCx0aGlzLl9hY3RpdmVSZXF1ZXN0cz1uZXcgQXJyYXksdGhpcy5hZGFwdFRvRGV2aWNlUmF0aW89ITEsdGhpcy5fbGFzdERldmljZVBpeGVsUmF0aW89MSx0aGlzLl90cmFuc2Zvcm1UZXh0dXJlVXJsPW51bGwsdGhpcy5ob3N0SW5mb3JtYXRpb249e2lzTW9iaWxlOiExfSx0aGlzLnByZW11bHRpcGxpZWRBbHBoYT0hMCx0aGlzLm9uQmVmb3JlVGV4dHVyZUluaXRPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX2lzV2ViR1BVPSExLHRoaXMuX3NuYXBzaG90UmVuZGVyaW5nTW9kZT0wLHRoaXMuX3VzZUV4YWN0U3JnYkNvbnZlcnNpb25zPSExLHRoaXMuX3ZpZXdwb3J0Q2FjaGVkPXt4OjAseTowLHo6MCx3OjB9LHRoaXMuX3VucGFja0ZsaXBZQ2FjaGVkPW51bGwsdGhpcy5lbmFibGVVbnBhY2tGbGlwWUNhY2hlZD0hMCx0aGlzLl9ib3VuZFVuaWZvcm1zPXt9LHRoaXMuc3RhcnRUaW1lPWFpLk5vdztsZXQgcj1udWxsO2lmKGk9aXx8e30sdGhpcy5fY3JlYXRpb25PcHRpb25zPWksdGhpcy5hZGFwdFRvRGV2aWNlUmF0aW89cz8/ITEsdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXIuc3RlbmNpbEdsb2JhbD10aGlzLl9zdGVuY2lsU3RhdGUsVWUuU2V0TWF0cml4UHJlY2lzaW9uKCEhaS51c2VIaWdoUHJlY2lzaW9uTWF0cml4KSwhZSlyZXR1cm47aWYocz1zfHxpLmFkYXB0VG9EZXZpY2VSYXRpb3x8ITEsZS5nZXRDb250ZXh0KXtpZihyPWUsdGhpcy5fcmVuZGVyaW5nQ2FudmFzPXIsdCE9PXZvaWQgMCYmKGkuYW50aWFsaWFzPXQpLGkuZGV0ZXJtaW5pc3RpY0xvY2tzdGVwPT09dm9pZCAwJiYoaS5kZXRlcm1pbmlzdGljTG9ja3N0ZXA9ITEpLGkubG9ja3N0ZXBNYXhTdGVwcz09PXZvaWQgMCYmKGkubG9ja3N0ZXBNYXhTdGVwcz00KSxpLnRpbWVTdGVwPT09dm9pZCAwJiYoaS50aW1lU3RlcD0xLzYwKSxpLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj09PXZvaWQgMCYmKGkucHJlc2VydmVEcmF3aW5nQnVmZmVyPSExKSxpLmF1ZGlvRW5naW5lPT09dm9pZCAwJiYoaS5hdWRpb0VuZ2luZT0hMCksaS5hdWRpb0VuZ2luZU9wdGlvbnMhPT12b2lkIDAmJmkuYXVkaW9FbmdpbmVPcHRpb25zLmF1ZGlvQ29udGV4dCE9PXZvaWQgMCYmKHRoaXMuX2F1ZGlvQ29udGV4dD1pLmF1ZGlvRW5naW5lT3B0aW9ucy5hdWRpb0NvbnRleHQpLGkuYXVkaW9FbmdpbmVPcHRpb25zIT09dm9pZCAwJiZpLmF1ZGlvRW5naW5lT3B0aW9ucy5hdWRpb0Rlc3RpbmF0aW9uIT09dm9pZCAwJiYodGhpcy5fYXVkaW9EZXN0aW5hdGlvbj1pLmF1ZGlvRW5naW5lT3B0aW9ucy5hdWRpb0Rlc3RpbmF0aW9uKSxpLnN0ZW5jaWw9PT12b2lkIDAmJihpLnN0ZW5jaWw9ITApLGkucHJlbXVsdGlwbGllZEFscGhhPT09ITEmJih0aGlzLnByZW11bHRpcGxpZWRBbHBoYT0hMSksaS54ckNvbXBhdGlibGU9PT12b2lkIDAmJihpLnhyQ29tcGF0aWJsZT0hMCksaS51c2VFeGFjdFNyZ2JDb252ZXJzaW9ucyE9PXZvaWQgMCYmKHRoaXMuX3VzZUV4YWN0U3JnYkNvbnZlcnNpb25zPWkudXNlRXhhY3RTcmdiQ29udmVyc2lvbnMpLHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3Q9ISFpLmRvTm90SGFuZGxlQ29udGV4dExvc3QsbmF2aWdhdG9yJiZuYXZpZ2F0b3IudXNlckFnZW50KXt0aGlzLl9jaGVja0Zvck1vYmlsZT0oKT0+e2NvbnN0IGw9bmF2aWdhdG9yLnVzZXJBZ2VudDt0aGlzLmhvc3RJbmZvcm1hdGlvbi5pc01vYmlsZT1sLmluZGV4T2YoIk1vYmlsZSIpIT09LTF8fGwuaW5kZXhPZigiTWFjIikhPT0tMSYmQ2koKSYmIm9udG91Y2hlbmQiaW4gZG9jdW1lbnR9LHRoaXMuX2NoZWNrRm9yTW9iaWxlKCksamUoKSYmd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsdGhpcy5fY2hlY2tGb3JNb2JpbGUpO2NvbnN0IGg9bmF2aWdhdG9yLnVzZXJBZ2VudDtmb3IoY29uc3QgbCBvZiBvZS5FeGNlcHRpb25MaXN0KXtjb25zdCB1PWwua2V5LGQ9bC50YXJnZXRzO2lmKG5ldyBSZWdFeHAodSkudGVzdChoKSl7aWYobC5jYXB0dXJlJiZsLmNhcHR1cmVDb25zdHJhaW50KXtjb25zdCBfPWwuY2FwdHVyZSxFPWwuY2FwdHVyZUNvbnN0cmFpbnQsdj1uZXcgUmVnRXhwKF8pLmV4ZWMoaCk7aWYodiYmdi5sZW5ndGg+MCYmcGFyc2VJbnQodlt2Lmxlbmd0aC0xXSk+PUUpY29udGludWV9Zm9yKGNvbnN0IF8gb2YgZClzd2l0Y2goXyl7Y2FzZSJ1bmlmb3JtQnVmZmVyIjp0aGlzLmRpc2FibGVVbmlmb3JtQnVmZmVycz0hMDticmVhaztjYXNlInZhbyI6dGhpcy5kaXNhYmxlVmVydGV4QXJyYXlPYmplY3RzPSEwO2JyZWFrO2Nhc2UiYW50aWFsaWFzIjppLmFudGlhbGlhcz0hMTticmVhaztjYXNlIm1heE1TQUFTYW1wbGVzIjp0aGlzLl9tYXhNU0FBU2FtcGxlc092ZXJyaWRlPTE7YnJlYWt9fX19aWYodGhpcy5fZG9Ob3RIYW5kbGVDb250ZXh0TG9zdHx8KHRoaXMuX29uQ29udGV4dExvc3Q9aD0+e2gucHJldmVudERlZmF1bHQoKSx0aGlzLl9jb250ZXh0V2FzTG9zdD0hMCxPLldhcm4oIldlYkdMIGNvbnRleHQgbG9zdC4iKSx0aGlzLm9uQ29udGV4dExvc3RPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX0sdGhpcy5fb25Db250ZXh0UmVzdG9yZWQ9KCk9Pnt0aGlzLl9yZXN0b3JlRW5naW5lQWZ0ZXJDb250ZXh0TG9zdCh0aGlzLl9pbml0R0xDb250ZXh0LmJpbmQodGhpcykpfSxyLmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dGxvc3QiLHRoaXMuX29uQ29udGV4dExvc3QsITEpLHIuYWRkRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0cmVzdG9yZWQiLHRoaXMuX29uQ29udGV4dFJlc3RvcmVkLCExKSxpLnBvd2VyUHJlZmVyZW5jZT0iaGlnaC1wZXJmb3JtYW5jZSIpLHRoaXMuX2JhZERlc2t0b3BPUz0vXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHRoaXMuX2JhZERlc2t0b3BPUyYmKGkueHJDb21wYXRpYmxlPSExKSwhaS5kaXNhYmxlV2ViR0wyU3VwcG9ydCl0cnl7dGhpcy5fZ2w9ci5nZXRDb250ZXh0KCJ3ZWJnbDIiLGkpfHxyLmdldENvbnRleHQoImV4cGVyaW1lbnRhbC13ZWJnbDIiLGkpLHRoaXMuX2dsJiYodGhpcy5fd2ViR0xWZXJzaW9uPTIsdGhpcy5fc2hhZGVyUGxhdGZvcm1OYW1lPSJXRUJHTDIiLHRoaXMuX2dsLmRlbGV0ZVF1ZXJ5fHwodGhpcy5fd2ViR0xWZXJzaW9uPTEsdGhpcy5fc2hhZGVyUGxhdGZvcm1OYW1lPSJXRUJHTDEiKSl9Y2F0Y2h7fWlmKCF0aGlzLl9nbCl7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJUaGUgcHJvdmlkZWQgY2FudmFzIGlzIG51bGwgb3IgdW5kZWZpbmVkLiIpO3RyeXt0aGlzLl9nbD1yLmdldENvbnRleHQoIndlYmdsIixpKXx8ci5nZXRDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wiLGkpfWNhdGNoe3Rocm93IG5ldyBFcnJvcigiV2ViR0wgbm90IHN1cHBvcnRlZCIpfX1pZighdGhpcy5fZ2wpdGhyb3cgbmV3IEVycm9yKCJXZWJHTCBub3Qgc3VwcG9ydGVkIil9ZWxzZXt0aGlzLl9nbD1lLHRoaXMuX3JlbmRlcmluZ0NhbnZhcz10aGlzLl9nbC5jYW52YXMsdGhpcy5fZ2wucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlPyh0aGlzLl93ZWJHTFZlcnNpb249Mix0aGlzLl9zaGFkZXJQbGF0Zm9ybU5hbWU9IldFQkdMMiIpOnRoaXMuX3NoYWRlclBsYXRmb3JtTmFtZT0iV0VCR0wxIjtjb25zdCBoPXRoaXMuX2dsLmdldENvbnRleHRBdHRyaWJ1dGVzKCk7aCYmKGkuc3RlbmNpbD1oLnN0ZW5jaWwpfXRoaXMuX2dsLnBpeGVsU3RvcmVpKHRoaXMuX2dsLlVOUEFDS19DT0xPUlNQQUNFX0NPTlZFUlNJT05fV0VCR0wsdGhpcy5fZ2wuTk9ORSksaS51c2VIaWdoUHJlY2lzaW9uRmxvYXRzIT09dm9pZCAwJiYodGhpcy5faGlnaFByZWNpc2lvblNoYWRlcnNBbGxvd2VkPWkudXNlSGlnaFByZWNpc2lvbkZsb2F0cyk7Y29uc3Qgbj1qZSgpJiZ3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSxhPWkubGltaXREZXZpY2VSYXRpb3x8bjt0aGlzLl9oYXJkd2FyZVNjYWxpbmdMZXZlbD1zPzEvTWF0aC5taW4oYSxuKToxLHRoaXMuX2xhc3REZXZpY2VQaXhlbFJhdGlvPW4sdGhpcy5yZXNpemUoKSx0aGlzLl9pc1N0ZW5jaWxFbmFibGU9ISFpLnN0ZW5jaWwsdGhpcy5faW5pdEdMQ29udGV4dCgpLHRoaXMuX2luaXRGZWF0dXJlcygpO2ZvcihsZXQgaD0wO2g8dGhpcy5fY2Fwcy5tYXhWZXJ0ZXhBdHRyaWJzO2grKyl0aGlzLl9jdXJyZW50QnVmZmVyUG9pbnRlcnNbaF09bmV3IHVuO3RoaXMuX3NoYWRlclByb2Nlc3Nvcj10aGlzLndlYkdMVmVyc2lvbj4xP25ldyBvbjpuZXcgYW4sdGhpcy5fYmFkT1M9L2lQYWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfHwvaVBob25lL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtjb25zdCBvPWBCYWJ5bG9uLmpzIHYke29lLlZlcnNpb259YDtjb25zb2xlLmxvZyhvK2AgLSAke3RoaXMuZGVzY3JpcHRpb259YCksdGhpcy5fcmVuZGVyaW5nQ2FudmFzJiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMuc2V0QXR0cmlidXRlJiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMuc2V0QXR0cmlidXRlKCJkYXRhLWVuZ2luZSIsbyl9c3RhdGljIGdldCBOcG1QYWNrYWdlKCl7cmV0dXJuImJhYnlsb25qc0A1LjQzLjAifXN0YXRpYyBnZXQgVmVyc2lvbigpe3JldHVybiI1LjQzLjAifWdldCBkZXNjcmlwdGlvbigpe2xldCBlPXRoaXMubmFtZSt0aGlzLndlYkdMVmVyc2lvbjtyZXR1cm4gdGhpcy5fY2Fwcy5wYXJhbGxlbFNoYWRlckNvbXBpbGUmJihlKz0iIC0gUGFyYWxsZWwgc2hhZGVyIGNvbXBpbGF0aW9uIiksZX1nZXQgbmFtZSgpe3JldHVybiB0aGlzLl9uYW1lfXNldCBuYW1lKGUpe3RoaXMuX25hbWU9ZX1nZXQgdmVyc2lvbigpe3JldHVybiB0aGlzLl93ZWJHTFZlcnNpb259c3RhdGljIGdldCBTaGFkZXJzUmVwb3NpdG9yeSgpe3JldHVybiBQZS5TaGFkZXJzUmVwb3NpdG9yeX1zdGF0aWMgc2V0IFNoYWRlcnNSZXBvc2l0b3J5KGUpe1BlLlNoYWRlcnNSZXBvc2l0b3J5PWV9X2dldFNoYWRlclByb2Nlc3NvcihlKXtyZXR1cm4gdGhpcy5fc2hhZGVyUHJvY2Vzc29yfWdldCB1c2VSZXZlcnNlRGVwdGhCdWZmZXIoKXtyZXR1cm4gdGhpcy5fdXNlUmV2ZXJzZURlcHRoQnVmZmVyfXNldCB1c2VSZXZlcnNlRGVwdGhCdWZmZXIoZSl7ZSE9PXRoaXMuX3VzZVJldmVyc2VEZXB0aEJ1ZmZlciYmKHRoaXMuX3VzZVJldmVyc2VEZXB0aEJ1ZmZlcj1lLGU/dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jPTUxODp0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9NTE1KX1nZXQgZnJhbWVJZCgpe3JldHVybiB0aGlzLl9mcmFtZUlkfWdldCBzdXBwb3J0c1VuaWZvcm1CdWZmZXJzKCl7cmV0dXJuIHRoaXMud2ViR0xWZXJzaW9uPjEmJiF0aGlzLmRpc2FibGVVbmlmb3JtQnVmZmVyc31nZXRDcmVhdGlvbk9wdGlvbnMoKXtyZXR1cm4gdGhpcy5fY3JlYXRpb25PcHRpb25zfWdldCBfc2hvdWxkVXNlSGlnaFByZWNpc2lvblNoYWRlcigpe3JldHVybiEhKHRoaXMuX2NhcHMuaGlnaFByZWNpc2lvblNoYWRlclN1cHBvcnRlZCYmdGhpcy5faGlnaFByZWNpc2lvblNoYWRlcnNBbGxvd2VkKX1nZXQgbmVlZFBPVFRleHR1cmVzKCl7cmV0dXJuIHRoaXMuX3dlYkdMVmVyc2lvbjwyfHx0aGlzLmZvcmNlUE9UVGV4dHVyZXN9Z2V0IGFjdGl2ZVJlbmRlckxvb3BzKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzfWdldCBkb05vdEhhbmRsZUNvbnRleHRMb3N0KCl7cmV0dXJuIHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3R9c2V0IGRvTm90SGFuZGxlQ29udGV4dExvc3QoZSl7dGhpcy5fZG9Ob3RIYW5kbGVDb250ZXh0TG9zdD1lfWdldCBfc3VwcG9ydHNIYXJkd2FyZVRleHR1cmVSZXNjYWxpbmcoKXtyZXR1cm4hMX1zZXQgZnJhbWVidWZmZXJEaW1lbnNpb25zT2JqZWN0KGUpe3RoaXMuX2ZyYW1lYnVmZmVyRGltZW5zaW9uc09iamVjdD1lfWdldCBjdXJyZW50Vmlld3BvcnQoKXtyZXR1cm4gdGhpcy5fY2FjaGVkVmlld3BvcnR9Z2V0IGVtcHR5VGV4dHVyZSgpe3JldHVybiB0aGlzLl9lbXB0eVRleHR1cmV8fCh0aGlzLl9lbXB0eVRleHR1cmU9dGhpcy5jcmVhdGVSYXdUZXh0dXJlKG5ldyBVaW50OEFycmF5KDQpLDEsMSw1LCExLCExLDEpKSx0aGlzLl9lbXB0eVRleHR1cmV9Z2V0IGVtcHR5VGV4dHVyZTNEKCl7cmV0dXJuIHRoaXMuX2VtcHR5VGV4dHVyZTNEfHwodGhpcy5fZW1wdHlUZXh0dXJlM0Q9dGhpcy5jcmVhdGVSYXdUZXh0dXJlM0QobmV3IFVpbnQ4QXJyYXkoNCksMSwxLDEsNSwhMSwhMSwxKSksdGhpcy5fZW1wdHlUZXh0dXJlM0R9Z2V0IGVtcHR5VGV4dHVyZTJEQXJyYXkoKXtyZXR1cm4gdGhpcy5fZW1wdHlUZXh0dXJlMkRBcnJheXx8KHRoaXMuX2VtcHR5VGV4dHVyZTJEQXJyYXk9dGhpcy5jcmVhdGVSYXdUZXh0dXJlMkRBcnJheShuZXcgVWludDhBcnJheSg0KSwxLDEsMSw1LCExLCExLDEpKSx0aGlzLl9lbXB0eVRleHR1cmUyREFycmF5fWdldCBlbXB0eUN1YmVUZXh0dXJlKCl7aWYoIXRoaXMuX2VtcHR5Q3ViZVRleHR1cmUpe2NvbnN0IGU9bmV3IFVpbnQ4QXJyYXkoNCksdD1bZSxlLGUsZSxlLGVdO3RoaXMuX2VtcHR5Q3ViZVRleHR1cmU9dGhpcy5jcmVhdGVSYXdDdWJlVGV4dHVyZSh0LDEsNSwwLCExLCExLDEpfXJldHVybiB0aGlzLl9lbXB0eUN1YmVUZXh0dXJlfWdldCBpc1dlYkdQVSgpe3JldHVybiB0aGlzLl9pc1dlYkdQVX1nZXQgc2hhZGVyUGxhdGZvcm1OYW1lKCl7cmV0dXJuIHRoaXMuX3NoYWRlclBsYXRmb3JtTmFtZX1nZXQgc25hcHNob3RSZW5kZXJpbmcoKXtyZXR1cm4hMX1zZXQgc25hcHNob3RSZW5kZXJpbmcoZSl7fWdldCBzbmFwc2hvdFJlbmRlcmluZ01vZGUoKXtyZXR1cm4gdGhpcy5fc25hcHNob3RSZW5kZXJpbmdNb2RlfXNldCBzbmFwc2hvdFJlbmRlcmluZ01vZGUoZSl7dGhpcy5fc25hcHNob3RSZW5kZXJpbmdNb2RlPWV9Z2V0IHVzZUV4YWN0U3JnYkNvbnZlcnNpb25zKCl7cmV0dXJuIHRoaXMuX3VzZUV4YWN0U3JnYkNvbnZlcnNpb25zfXNuYXBzaG90UmVuZGVyaW5nUmVzZXQoKXt0aGlzLnNuYXBzaG90UmVuZGVyaW5nPSExfXN0YXRpYyBfQ3JlYXRlQ2FudmFzKGUsdCl7aWYodHlwZW9mIGRvY3VtZW50PiJ1IilyZXR1cm4gbmV3IE9mZnNjcmVlbkNhbnZhcyhlLHQpO2NvbnN0IGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7cmV0dXJuIGkud2lkdGg9ZSxpLmhlaWdodD10LGl9Y3JlYXRlQ2FudmFzKGUsdCl7cmV0dXJuIG9lLl9DcmVhdGVDYW52YXMoZSx0KX1jcmVhdGVDYW52YXNJbWFnZSgpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKX1fcmVzdG9yZUVuZ2luZUFmdGVyQ29udGV4dExvc3QoZSl7c2V0VGltZW91dChhc3luYygpPT57dmFyIHQ7dGhpcy5fZHVtbXlGcmFtZWJ1ZmZlcj1udWxsO2NvbnN0IGk9dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhUZXN0LHM9dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jLHI9dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhNYXNrLG49dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxUZXN0O2F3YWl0IGUoKSx0aGlzLndpcGVDYWNoZXMoITApLHRoaXMuX3JlYnVpbGRFZmZlY3RzKCksKHQ9dGhpcy5fcmVidWlsZENvbXB1dGVFZmZlY3RzKT09PW51bGx8fHQ9PT12b2lkIDB8fHQuY2FsbCh0aGlzKSx0aGlzLl9yZWJ1aWxkQnVmZmVycygpLHRoaXMuX3JlYnVpbGRJbnRlcm5hbFRleHR1cmVzKCksdGhpcy5fcmVidWlsZFJlbmRlclRhcmdldFdyYXBwZXJzKCksdGhpcy53aXBlQ2FjaGVzKCEwKSx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aFRlc3Q9aSx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9cyx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aE1hc2s9cix0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbFRlc3Q9bixPLldhcm4odGhpcy5uYW1lKyIgY29udGV4dCBzdWNjZXNzZnVsbHkgcmVzdG9yZWQuIiksdGhpcy5vbkNvbnRleHRSZXN0b3JlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX2NvbnRleHRXYXNMb3N0PSExfSwwKX1fc2hhcmVkSW5pdChlLHQsaSl7dGhpcy5fcmVuZGVyaW5nQ2FudmFzPWV9X2dldFNoYWRlclByb2Nlc3NpbmdDb250ZXh0KGUpe3JldHVybiBudWxsfV9yZWJ1aWxkSW50ZXJuYWxUZXh0dXJlcygpe2NvbnN0IGU9dGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLnNsaWNlKCk7Zm9yKGNvbnN0IHQgb2YgZSl0Ll9yZWJ1aWxkKCl9X3JlYnVpbGRSZW5kZXJUYXJnZXRXcmFwcGVycygpe2NvbnN0IGU9dGhpcy5fcmVuZGVyVGFyZ2V0V3JhcHBlckNhY2hlLnNsaWNlKCk7Zm9yKGNvbnN0IHQgb2YgZSl0Ll9yZWJ1aWxkKCl9X3JlYnVpbGRFZmZlY3RzKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fY29tcGlsZWRFZmZlY3RzKXtjb25zdCB0PXRoaXMuX2NvbXBpbGVkRWZmZWN0c1tlXTt0Ll9waXBlbGluZUNvbnRleHQ9bnVsbCx0Ll93YXNQcmV2aW91c2x5UmVhZHk9ITEsdC5fcHJlcGFyZUVmZmVjdCgpfVBlLlJlc2V0Q2FjaGUoKX1hcmVBbGxFZmZlY3RzUmVhZHkoKXtmb3IoY29uc3QgZSBpbiB0aGlzLl9jb21waWxlZEVmZmVjdHMpaWYoIXRoaXMuX2NvbXBpbGVkRWZmZWN0c1tlXS5pc1JlYWR5KCkpcmV0dXJuITE7cmV0dXJuITB9X3JlYnVpbGRCdWZmZXJzKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fdW5pZm9ybUJ1ZmZlcnMpZS5fcmVidWlsZCgpO2Zvcihjb25zdCBlIG9mIHRoaXMuX3N0b3JhZ2VCdWZmZXJzKWUuX3JlYnVpbGQoKX1faW5pdEdMQ29udGV4dCgpe3ZhciBlO3RoaXMuX2NhcHM9e21heFRleHR1cmVzSW1hZ2VVbml0czp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpLG1heENvbWJpbmVkVGV4dHVyZXNJbWFnZVVuaXRzOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfQ09NQklORURfVEVYVFVSRV9JTUFHRV9VTklUUyksbWF4VmVydGV4VGV4dHVyZUltYWdlVW5pdHM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9WRVJURVhfVEVYVFVSRV9JTUFHRV9VTklUUyksbWF4VGV4dHVyZVNpemU6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9URVhUVVJFX1NJWkUpLG1heFNhbXBsZXM6dGhpcy5fd2ViR0xWZXJzaW9uPjE/dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9TQU1QTEVTKToxLG1heEN1YmVtYXBUZXh0dXJlU2l6ZTp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX0NVQkVfTUFQX1RFWFRVUkVfU0laRSksbWF4UmVuZGVyVGV4dHVyZVNpemU6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9SRU5ERVJCVUZGRVJfU0laRSksbWF4VmVydGV4QXR0cmliczp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX1ZFUlRFWF9BVFRSSUJTKSxtYXhWYXJ5aW5nVmVjdG9yczp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX1ZBUllJTkdfVkVDVE9SUyksbWF4RnJhZ21lbnRVbmlmb3JtVmVjdG9yczp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX0ZSQUdNRU5UX1VOSUZPUk1fVkVDVE9SUyksbWF4VmVydGV4VW5pZm9ybVZlY3RvcnM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9WRVJURVhfVU5JRk9STV9WRUNUT1JTKSxwYXJhbGxlbFNoYWRlckNvbXBpbGU6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJLSFJfcGFyYWxsZWxfc2hhZGVyX2NvbXBpbGUiKXx8dm9pZCAwLHN0YW5kYXJkRGVyaXZhdGl2ZXM6dGhpcy5fd2ViR0xWZXJzaW9uPjF8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIikhPT1udWxsLG1heEFuaXNvdHJvcHk6MSxhc3RjOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2FzdGMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2FzdGMiKSxicHRjOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX3RleHR1cmVfY29tcHJlc3Npb25fYnB0YyIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQktJVF9FWFRfdGV4dHVyZV9jb21wcmVzc2lvbl9icHRjIiksczN0Yzp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjIiksczN0Y19zcmdiOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNfc3JnYiIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y19zcmdiIikscHZydGM6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjIiksZXRjMTp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMxIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMxIiksZXRjMjp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YyIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9lczNfMCIpLHRleHR1cmVBbmlzb3Ryb3BpY0ZpbHRlckV4dGVuc2lvbjp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQktJVF9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJNT1pfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIiksdWludEluZGljZXM6dGhpcy5fd2ViR0xWZXJzaW9uPjF8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX2VsZW1lbnRfaW5kZXhfdWludCIpIT09bnVsbCxmcmFnbWVudERlcHRoU3VwcG9ydGVkOnRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF9mcmFnX2RlcHRoIikhPT1udWxsLGhpZ2hQcmVjaXNpb25TaGFkZXJTdXBwb3J0ZWQ6ITEsdGltZXJRdWVyeTp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF9kaXNqb2ludF90aW1lcl9xdWVyeV93ZWJnbDIiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfZGlzam9pbnRfdGltZXJfcXVlcnkiKSxzdXBwb3J0T2NjbHVzaW9uUXVlcnk6dGhpcy5fd2ViR0xWZXJzaW9uPjEsY2FuVXNlVGltZXN0YW1wRm9yVGltZXJRdWVyeTohMSxkcmF3QnVmZmVyc0V4dGVuc2lvbjohMSxtYXhNU0FBU2FtcGxlczoxLGNvbG9yQnVmZmVyRmxvYXQ6ISEodGhpcy5fd2ViR0xWZXJzaW9uPjEmJnRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCIpKSx0ZXh0dXJlRmxvYXQ6ISEodGhpcy5fd2ViR0xWZXJzaW9uPjF8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3RleHR1cmVfZmxvYXQiKSksdGV4dHVyZUhhbGZGbG9hdDohISh0aGlzLl93ZWJHTFZlcnNpb24+MXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0IikpLHRleHR1cmVIYWxmRmxvYXRSZW5kZXI6ITEsdGV4dHVyZUZsb2F0TGluZWFyRmlsdGVyaW5nOiExLHRleHR1cmVGbG9hdFJlbmRlcjohMSx0ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nOiExLHZlcnRleEFycmF5T2JqZWN0OiExLGluc3RhbmNlZEFycmF5czohMSx0ZXh0dXJlTE9EOiEhKHRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF9zaGFkZXJfdGV4dHVyZV9sb2QiKSksYmxlbmRNaW5NYXg6ITEsbXVsdGl2aWV3OnRoaXMuX2dsLmdldEV4dGVuc2lvbigiT1ZSX211bHRpdmlldzIiKSxvY3VsdXNNdWx0aXZpZXc6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPQ1VMVVNfbXVsdGl2aWV3IiksZGVwdGhUZXh0dXJlRXh0ZW5zaW9uOiExLGNhblVzZUdMSW5zdGFuY2VJRDp0aGlzLl93ZWJHTFZlcnNpb24+MSxjYW5Vc2VHTFZlcnRleElEOnRoaXMuX3dlYkdMVmVyc2lvbj4xLHN1cHBvcnRDb21wdXRlU2hhZGVyczohMSxzdXBwb3J0U1JHQkJ1ZmZlcnM6ITEsc3VwcG9ydFRyYW5zZm9ybUZlZWRiYWNrczp0aGlzLl93ZWJHTFZlcnNpb24+MSx0ZXh0dXJlTWF4TGV2ZWw6dGhpcy5fd2ViR0xWZXJzaW9uPjEsdGV4dHVyZTJEQXJyYXlNYXhMYXllckNvdW50OnRoaXMuX3dlYkdMVmVyc2lvbj4xPzI1NjoxMjh9LHRoaXMuX2dsVmVyc2lvbj10aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuVkVSU0lPTik7Y29uc3QgdD10aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2RlYnVnX3JlbmRlcmVyX2luZm8iKTtpZih0IT1udWxsJiYodGhpcy5fZ2xSZW5kZXJlcj10aGlzLl9nbC5nZXRQYXJhbWV0ZXIodC5VTk1BU0tFRF9SRU5ERVJFUl9XRUJHTCksdGhpcy5fZ2xWZW5kb3I9dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHQuVU5NQVNLRURfVkVORE9SX1dFQkdMKSksdGhpcy5fZ2xWZW5kb3J8fCh0aGlzLl9nbFZlbmRvcj10aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuVkVORE9SKXx8IlVua25vd24gdmVuZG9yIiksdGhpcy5fZ2xSZW5kZXJlcnx8KHRoaXMuX2dsUmVuZGVyZXI9dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLlJFTkRFUkVSKXx8IlVua25vd24gcmVuZGVyZXIiKSx0aGlzLl9nbC5IQUxGX0ZMT0FUX09FUyE9PTM2MTkzJiYodGhpcy5fZ2wuSEFMRl9GTE9BVF9PRVM9MzYxOTMpLHRoaXMuX2dsLlJHQkExNkYhPT0zNDg0MiYmKHRoaXMuX2dsLlJHQkExNkY9MzQ4NDIpLHRoaXMuX2dsLlJHQkEzMkYhPT0zNDgzNiYmKHRoaXMuX2dsLlJHQkEzMkY9MzQ4MzYpLHRoaXMuX2dsLkRFUFRIMjRfU1RFTkNJTDghPT0zNTA1NiYmKHRoaXMuX2dsLkRFUFRIMjRfU1RFTkNJTDg9MzUwNTYpLHRoaXMuX2NhcHMudGltZXJRdWVyeSYmKHRoaXMuX3dlYkdMVmVyc2lvbj09PTEmJih0aGlzLl9nbC5nZXRRdWVyeT10aGlzLl9jYXBzLnRpbWVyUXVlcnkuZ2V0UXVlcnlFWFQuYmluZCh0aGlzLl9jYXBzLnRpbWVyUXVlcnkpKSx0aGlzLl9jYXBzLmNhblVzZVRpbWVzdGFtcEZvclRpbWVyUXVlcnk9KChlPXRoaXMuX2dsLmdldFF1ZXJ5KHRoaXMuX2NhcHMudGltZXJRdWVyeS5USU1FU1RBTVBfRVhULHRoaXMuX2NhcHMudGltZXJRdWVyeS5RVUVSWV9DT1VOVEVSX0JJVFNfRVhUKSkhPT1udWxsJiZlIT09dm9pZCAwP2U6MCk+MCksdGhpcy5fY2Fwcy5tYXhBbmlzb3Ryb3B5PXRoaXMuX2NhcHMudGV4dHVyZUFuaXNvdHJvcGljRmlsdGVyRXh0ZW5zaW9uP3RoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9jYXBzLnRleHR1cmVBbmlzb3Ryb3BpY0ZpbHRlckV4dGVuc2lvbi5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpOjAsdGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmc9ISEodGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXQmJnRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyIikpLHRoaXMuX2NhcHMudGV4dHVyZUZsb2F0UmVuZGVyPSEhKHRoaXMuX2NhcHMudGV4dHVyZUZsb2F0JiZ0aGlzLl9jYW5SZW5kZXJUb0Zsb2F0RnJhbWVidWZmZXIoKSksdGhpcy5fY2Fwcy50ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nPSEhKHRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9jYXBzLnRleHR1cmVIYWxmRmxvYXQmJnRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXIiKSksdGhpcy5fY2Fwcy5hc3RjJiYodGhpcy5fZ2wuQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ180eDRfS0hSPXRoaXMuX2NhcHMuYXN0Yy5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzR4NF9LSFIpLHRoaXMuX2NhcHMuYnB0YyYmKHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9CUFRDX1VOT1JNX0VYVD10aGlzLl9jYXBzLmJwdGMuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX0JQVENfVU5PUk1fRVhUKSx0aGlzLl9jYXBzLnMzdGNfc3JnYiYmKHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQl9TM1RDX0RYVDFfRVhUPXRoaXMuX2NhcHMuczN0Y19zcmdiLkNPTVBSRVNTRURfU1JHQl9TM1RDX0RYVDFfRVhULHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDFfRVhUPXRoaXMuX2NhcHMuczN0Y19zcmdiLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDFfRVhULHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDVfRVhUPXRoaXMuX2NhcHMuczN0Y19zcmdiLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDVfRVhUKSx0aGlzLl9jYXBzLmV0YzImJih0aGlzLl9nbC5DT01QUkVTU0VEX1NSR0I4X0VUQzI9dGhpcy5fY2Fwcy5ldGMyLkNPTVBSRVNTRURfU1JHQjhfRVRDMix0aGlzLl9nbC5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9FVEMyX0VBQz10aGlzLl9jYXBzLmV0YzIuQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfRVRDMl9FQUMpLHRoaXMuX3dlYkdMVmVyc2lvbj4xJiZ0aGlzLl9nbC5IQUxGX0ZMT0FUX09FUyE9PTUxMzEmJih0aGlzLl9nbC5IQUxGX0ZMT0FUX09FUz01MTMxKSx0aGlzLl9jYXBzLnRleHR1cmVIYWxmRmxvYXRSZW5kZXI9dGhpcy5fY2Fwcy50ZXh0dXJlSGFsZkZsb2F0JiZ0aGlzLl9jYW5SZW5kZXJUb0hhbGZGbG9hdEZyYW1lYnVmZmVyKCksdGhpcy5fd2ViR0xWZXJzaW9uPjEpdGhpcy5fY2Fwcy5kcmF3QnVmZmVyc0V4dGVuc2lvbj0hMCx0aGlzLl9jYXBzLm1heE1TQUFTYW1wbGVzPXRoaXMuX21heE1TQUFTYW1wbGVzT3ZlcnJpZGUhPT1udWxsP3RoaXMuX21heE1TQUFTYW1wbGVzT3ZlcnJpZGU6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9TQU1QTEVTKTtlbHNle2NvbnN0IGk9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9kcmF3X2J1ZmZlcnMiKTtpZihpIT09bnVsbCl7dGhpcy5fY2Fwcy5kcmF3QnVmZmVyc0V4dGVuc2lvbj0hMCx0aGlzLl9nbC5kcmF3QnVmZmVycz1pLmRyYXdCdWZmZXJzV0VCR0wuYmluZChpKSx0aGlzLl9nbC5EUkFXX0ZSQU1FQlVGRkVSPXRoaXMuX2dsLkZSQU1FQlVGRkVSO2ZvcihsZXQgcz0wO3M8MTY7cysrKXRoaXMuX2dsWyJDT0xPUl9BVFRBQ0hNRU5UIitzKyJfV0VCR0wiXT1pWyJDT0xPUl9BVFRBQ0hNRU5UIitzKyJfV0VCR0wiXX19aWYodGhpcy5fd2ViR0xWZXJzaW9uPjEpdGhpcy5fY2Fwcy5kZXB0aFRleHR1cmVFeHRlbnNpb249ITA7ZWxzZXtjb25zdCBpPXRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfZGVwdGhfdGV4dHVyZSIpO2khPW51bGwmJih0aGlzLl9jYXBzLmRlcHRoVGV4dHVyZUV4dGVuc2lvbj0hMCx0aGlzLl9nbC5VTlNJR05FRF9JTlRfMjRfOD1pLlVOU0lHTkVEX0lOVF8yNF84X1dFQkdMKX1pZih0aGlzLmRpc2FibGVWZXJ0ZXhBcnJheU9iamVjdHMpdGhpcy5fY2Fwcy52ZXJ0ZXhBcnJheU9iamVjdD0hMTtlbHNlIGlmKHRoaXMuX3dlYkdMVmVyc2lvbj4xKXRoaXMuX2NhcHMudmVydGV4QXJyYXlPYmplY3Q9ITA7ZWxzZXtjb25zdCBpPXRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3ZlcnRleF9hcnJheV9vYmplY3QiKTtpIT1udWxsJiYodGhpcy5fY2Fwcy52ZXJ0ZXhBcnJheU9iamVjdD0hMCx0aGlzLl9nbC5jcmVhdGVWZXJ0ZXhBcnJheT1pLmNyZWF0ZVZlcnRleEFycmF5T0VTLmJpbmQoaSksdGhpcy5fZ2wuYmluZFZlcnRleEFycmF5PWkuYmluZFZlcnRleEFycmF5T0VTLmJpbmQoaSksdGhpcy5fZ2wuZGVsZXRlVmVydGV4QXJyYXk9aS5kZWxldGVWZXJ0ZXhBcnJheU9FUy5iaW5kKGkpKX1pZih0aGlzLl93ZWJHTFZlcnNpb24+MSl0aGlzLl9jYXBzLmluc3RhbmNlZEFycmF5cz0hMDtlbHNle2NvbnN0IGk9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIik7aSE9bnVsbD8odGhpcy5fY2Fwcy5pbnN0YW5jZWRBcnJheXM9ITAsdGhpcy5fZ2wuZHJhd0FycmF5c0luc3RhbmNlZD1pLmRyYXdBcnJheXNJbnN0YW5jZWRBTkdMRS5iaW5kKGkpLHRoaXMuX2dsLmRyYXdFbGVtZW50c0luc3RhbmNlZD1pLmRyYXdFbGVtZW50c0luc3RhbmNlZEFOR0xFLmJpbmQoaSksdGhpcy5fZ2wudmVydGV4QXR0cmliRGl2aXNvcj1pLnZlcnRleEF0dHJpYkRpdmlzb3JBTkdMRS5iaW5kKGkpKTp0aGlzLl9jYXBzLmluc3RhbmNlZEFycmF5cz0hMX1pZih0aGlzLl9nbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQpe2NvbnN0IGk9dGhpcy5fZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KHRoaXMuX2dsLlZFUlRFWF9TSEFERVIsdGhpcy5fZ2wuSElHSF9GTE9BVCkscz10aGlzLl9nbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQodGhpcy5fZ2wuRlJBR01FTlRfU0hBREVSLHRoaXMuX2dsLkhJR0hfRkxPQVQpO2kmJnMmJih0aGlzLl9jYXBzLmhpZ2hQcmVjaXNpb25TaGFkZXJTdXBwb3J0ZWQ9aS5wcmVjaXNpb24hPT0wJiZzLnByZWNpc2lvbiE9PTApfWlmKHRoaXMuX3dlYkdMVmVyc2lvbj4xKXRoaXMuX2NhcHMuYmxlbmRNaW5NYXg9ITA7ZWxzZXtjb25zdCBpPXRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX2JsZW5kX21pbm1heCIpO2khPW51bGwmJih0aGlzLl9jYXBzLmJsZW5kTWluTWF4PSEwLHRoaXMuX2dsLk1BWD1pLk1BWF9FWFQsdGhpcy5fZ2wuTUlOPWkuTUlOX0VYVCl9aWYoIXRoaXMuX2NhcHMuc3VwcG9ydFNSR0JCdWZmZXJzKXtpZih0aGlzLl93ZWJHTFZlcnNpb24+MSl0aGlzLl9jYXBzLnN1cHBvcnRTUkdCQnVmZmVycz0hMDtlbHNle2NvbnN0IGk9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfc1JHQiIpO2khPW51bGwmJih0aGlzLl9jYXBzLnN1cHBvcnRTUkdCQnVmZmVycz0hMCx0aGlzLl9nbC5TUkdCPWkuU1JHQl9FWFQsdGhpcy5fZ2wuU1JHQjg9aS5TUkdCX0FMUEhBX0VYVCx0aGlzLl9nbC5TUkdCOF9BTFBIQTg9aS5TUkdCX0FMUEhBX0VYVCl9dGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnM9dGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnMmJiEhKHRoaXMuX2NyZWF0aW9uT3B0aW9ucyYmdGhpcy5fY3JlYXRpb25PcHRpb25zLmZvcmNlU1JHQkJ1ZmZlclN1cHBvcnRTdGF0ZSl9dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhUZXN0PSEwLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoRnVuYz10aGlzLl9nbC5MRVFVQUwsdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhNYXNrPSEwLHRoaXMuX21heFNpbXVsdGFuZW91c1RleHR1cmVzPXRoaXMuX2NhcHMubWF4Q29tYmluZWRUZXh0dXJlc0ltYWdlVW5pdHM7Zm9yKGxldCBpPTA7aTx0aGlzLl9tYXhTaW11bHRhbmVvdXNUZXh0dXJlcztpKyspdGhpcy5fbmV4dEZyZWVUZXh0dXJlU2xvdHMucHVzaChpKX1faW5pdEZlYXR1cmVzKCl7dGhpcy5fZmVhdHVyZXM9e2ZvcmNlQml0bWFwT3ZlckhUTUxJbWFnZUVsZW1lbnQ6ITEsc3VwcG9ydFJlbmRlckFuZENvcHlUb0xvZEZvckZsb2F0VGV4dHVyZXM6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxzdXBwb3J0RGVwdGhTdGVuY2lsVGV4dHVyZTp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHN1cHBvcnRTaGFkb3dTYW1wbGVyczp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHVuaWZvcm1CdWZmZXJIYXJkQ2hlY2tNYXRyaXg6ITEsYWxsb3dUZXh0dXJlUHJlZmlsdGVyaW5nOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsdHJhY2tVYm9zSW5GcmFtZTohMSxjaGVja1Vib3NDb250ZW50QmVmb3JlVXBsb2FkOiExLHN1cHBvcnRDU006dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxiYXNpc05lZWRzUE9UOnRoaXMuX3dlYkdMVmVyc2lvbj09PTEsc3VwcG9ydDNEVGV4dHVyZXM6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxuZWVkVHlwZVN1ZmZpeEluU2hhZGVyQ29uc3RhbnRzOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsc3VwcG9ydE1TQUE6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxzdXBwb3J0U1NBTzI6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxzdXBwb3J0RXh0ZW5kZWRUZXh0dXJlRm9ybWF0czp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHN1cHBvcnRTd2l0Y2hDYXNlSW5TaGFkZXI6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxzdXBwb3J0U3luY1RleHR1cmVSZWFkOiEwLG5lZWRzSW52ZXJ0aW5nQml0bWFwOiEwLHVzZVVCT0JpbmRpbmdDYWNoZTohMCxuZWVkU2hhZGVyQ29kZUlubGluaW5nOiExLG5lZWRUb0Fsd2F5c0JpbmRVbmlmb3JtQnVmZmVyczohMSxzdXBwb3J0UmVuZGVyUGFzc2VzOiExLHN1cHBvcnRTcHJpdGVJbnN0YW5jaW5nOiEwLF9jb2xsZWN0VWJvc1VwZGF0ZWRJbkZyYW1lOiExfX1nZXQgd2ViR0xWZXJzaW9uKCl7cmV0dXJuIHRoaXMuX3dlYkdMVmVyc2lvbn1nZXRDbGFzc05hbWUoKXtyZXR1cm4iVGhpbkVuZ2luZSJ9Z2V0IGlzU3RlbmNpbEVuYWJsZSgpe3JldHVybiB0aGlzLl9pc1N0ZW5jaWxFbmFibGV9X3ByZXBhcmVXb3JraW5nQ2FudmFzKCl7aWYodGhpcy5fd29ya2luZ0NhbnZhcylyZXR1cm47dGhpcy5fd29ya2luZ0NhbnZhcz10aGlzLmNyZWF0ZUNhbnZhcygxLDEpO2NvbnN0IGU9dGhpcy5fd29ya2luZ0NhbnZhcy5nZXRDb250ZXh0KCIyZCIpO2UmJih0aGlzLl93b3JraW5nQ29udGV4dD1lKX1yZXNldFRleHR1cmVDYWNoZSgpe2Zvcihjb25zdCBlIGluIHRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5fYm91bmRUZXh0dXJlc0NhY2hlLGUpJiYodGhpcy5fYm91bmRUZXh0dXJlc0NhY2hlW2VdPW51bGwpO3RoaXMuX2N1cnJlbnRUZXh0dXJlQ2hhbm5lbD0tMX1nZXRJbmZvKCl7cmV0dXJuIHRoaXMuZ2V0R2xJbmZvKCl9Z2V0R2xJbmZvKCl7cmV0dXJue3ZlbmRvcjp0aGlzLl9nbFZlbmRvcixyZW5kZXJlcjp0aGlzLl9nbFJlbmRlcmVyLHZlcnNpb246dGhpcy5fZ2xWZXJzaW9ufX1zZXRIYXJkd2FyZVNjYWxpbmdMZXZlbChlKXt0aGlzLl9oYXJkd2FyZVNjYWxpbmdMZXZlbD1lLHRoaXMucmVzaXplKCl9Z2V0SGFyZHdhcmVTY2FsaW5nTGV2ZWwoKXtyZXR1cm4gdGhpcy5faGFyZHdhcmVTY2FsaW5nTGV2ZWx9Z2V0TG9hZGVkVGV4dHVyZXNDYWNoZSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGV9Z2V0Q2Fwcygpe3JldHVybiB0aGlzLl9jYXBzfXN0b3BSZW5kZXJMb29wKGUpe2lmKCFlKXt0aGlzLl9hY3RpdmVSZW5kZXJMb29wcz1bXTtyZXR1cm59Y29uc3QgdD10aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5pbmRleE9mKGUpO3Q+PTAmJnRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzLnNwbGljZSh0LDEpfV9yZW5kZXJMb29wKCl7aWYoIXRoaXMuX2NvbnRleHRXYXNMb3N0KXtsZXQgZT0hMDtpZighdGhpcy5yZW5kZXJFdmVuSW5CYWNrZ3JvdW5kJiZ0aGlzLl93aW5kb3dJc0JhY2tncm91bmQmJihlPSExKSxlKXt0aGlzLmJlZ2luRnJhbWUoKTtmb3IobGV0IHQ9MDt0PHRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzLmxlbmd0aDt0Kyspe2NvbnN0IGk9dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHNbdF07aSgpfXRoaXMuZW5kRnJhbWUoKX19dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMubGVuZ3RoPjA/dGhpcy5fZnJhbWVIYW5kbGVyPXRoaXMuX3F1ZXVlTmV3RnJhbWUodGhpcy5fYm91bmRSZW5kZXJGdW5jdGlvbix0aGlzLmdldEhvc3RXaW5kb3coKSk6dGhpcy5fcmVuZGVyaW5nUXVldWVMYXVuY2hlZD0hMX1nZXRSZW5kZXJpbmdDYW52YXMoKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nQ2FudmFzfWdldEF1ZGlvQ29udGV4dCgpe3JldHVybiB0aGlzLl9hdWRpb0NvbnRleHR9Z2V0QXVkaW9EZXN0aW5hdGlvbigpe3JldHVybiB0aGlzLl9hdWRpb0Rlc3RpbmF0aW9ufWdldEhvc3RXaW5kb3coKXtyZXR1cm4gamUoKT90aGlzLl9yZW5kZXJpbmdDYW52YXMmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcy5vd25lckRvY3VtZW50JiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldz90aGlzLl9yZW5kZXJpbmdDYW52YXMub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldzp3aW5kb3c6bnVsbH1nZXRSZW5kZXJXaWR0aChlPSExKXtyZXR1cm4hZSYmdGhpcy5fY3VycmVudFJlbmRlclRhcmdldD90aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0LndpZHRoOnRoaXMuX2ZyYW1lYnVmZmVyRGltZW5zaW9uc09iamVjdD90aGlzLl9mcmFtZWJ1ZmZlckRpbWVuc2lvbnNPYmplY3QuZnJhbWVidWZmZXJXaWR0aDp0aGlzLl9nbC5kcmF3aW5nQnVmZmVyV2lkdGh9Z2V0UmVuZGVySGVpZ2h0KGU9ITEpe3JldHVybiFlJiZ0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0P3RoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQuaGVpZ2h0OnRoaXMuX2ZyYW1lYnVmZmVyRGltZW5zaW9uc09iamVjdD90aGlzLl9mcmFtZWJ1ZmZlckRpbWVuc2lvbnNPYmplY3QuZnJhbWVidWZmZXJIZWlnaHQ6dGhpcy5fZ2wuZHJhd2luZ0J1ZmZlckhlaWdodH1fcXVldWVOZXdGcmFtZShlLHQpe3JldHVybiBvZS5RdWV1ZU5ld0ZyYW1lKGUsdCl9cnVuUmVuZGVyTG9vcChlKXt0aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5pbmRleE9mKGUpPT09LTEmJih0aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5wdXNoKGUpLHRoaXMuX3JlbmRlcmluZ1F1ZXVlTGF1bmNoZWR8fCh0aGlzLl9yZW5kZXJpbmdRdWV1ZUxhdW5jaGVkPSEwLHRoaXMuX2JvdW5kUmVuZGVyRnVuY3Rpb249dGhpcy5fcmVuZGVyTG9vcC5iaW5kKHRoaXMpLHRoaXMuX2ZyYW1lSGFuZGxlcj10aGlzLl9xdWV1ZU5ld0ZyYW1lKHRoaXMuX2JvdW5kUmVuZGVyRnVuY3Rpb24sdGhpcy5nZXRIb3N0V2luZG93KCkpKSl9Y2xlYXIoZSx0LGkscz0hMSl7Y29uc3Qgcj10aGlzLnN0ZW5jaWxTdGF0ZUNvbXBvc2VyLnVzZVN0ZW5jaWxHbG9iYWxPbmx5O3RoaXMuc3RlbmNpbFN0YXRlQ29tcG9zZXIudXNlU3RlbmNpbEdsb2JhbE9ubHk9ITAsdGhpcy5hcHBseVN0YXRlcygpLHRoaXMuc3RlbmNpbFN0YXRlQ29tcG9zZXIudXNlU3RlbmNpbEdsb2JhbE9ubHk9cjtsZXQgbj0wO3QmJmUmJih0aGlzLl9nbC5jbGVhckNvbG9yKGUucixlLmcsZS5iLGUuYSE9PXZvaWQgMD9lLmE6MSksbnw9dGhpcy5fZ2wuQ09MT1JfQlVGRkVSX0JJVCksaSYmKHRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyPyh0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9dGhpcy5fZ2wuR0VRVUFMLHRoaXMuX2dsLmNsZWFyRGVwdGgoMCkpOnRoaXMuX2dsLmNsZWFyRGVwdGgoMSksbnw9dGhpcy5fZ2wuREVQVEhfQlVGRkVSX0JJVCkscyYmKHRoaXMuX2dsLmNsZWFyU3RlbmNpbCgwKSxufD10aGlzLl9nbC5TVEVOQ0lMX0JVRkZFUl9CSVQpLHRoaXMuX2dsLmNsZWFyKG4pfV92aWV3cG9ydChlLHQsaSxzKXsoZSE9PXRoaXMuX3ZpZXdwb3J0Q2FjaGVkLnh8fHQhPT10aGlzLl92aWV3cG9ydENhY2hlZC55fHxpIT09dGhpcy5fdmlld3BvcnRDYWNoZWQuenx8cyE9PXRoaXMuX3ZpZXdwb3J0Q2FjaGVkLncpJiYodGhpcy5fdmlld3BvcnRDYWNoZWQueD1lLHRoaXMuX3ZpZXdwb3J0Q2FjaGVkLnk9dCx0aGlzLl92aWV3cG9ydENhY2hlZC56PWksdGhpcy5fdmlld3BvcnRDYWNoZWQudz1zLHRoaXMuX2dsLnZpZXdwb3J0KGUsdCxpLHMpKX1zZXRWaWV3cG9ydChlLHQsaSl7Y29uc3Qgcz10fHx0aGlzLmdldFJlbmRlcldpZHRoKCkscj1pfHx0aGlzLmdldFJlbmRlckhlaWdodCgpLG49ZS54fHwwLGE9ZS55fHwwO3RoaXMuX2NhY2hlZFZpZXdwb3J0PWUsdGhpcy5fdmlld3BvcnQobipzLGEqcixzKmUud2lkdGgsciplLmhlaWdodCl9YmVnaW5GcmFtZSgpe31lbmRGcmFtZSgpe3RoaXMuX2JhZE9TJiZ0aGlzLmZsdXNoRnJhbWVidWZmZXIoKSx0aGlzLl9mcmFtZUlkKyt9cmVzaXplKGU9ITEpe2xldCB0LGk7aWYodGhpcy5hZGFwdFRvRGV2aWNlUmF0aW8pe2NvbnN0IHM9amUoKSYmd2luZG93LmRldmljZVBpeGVsUmF0aW98fDEscj10aGlzLl9sYXN0RGV2aWNlUGl4ZWxSYXRpby9zO3RoaXMuX2xhc3REZXZpY2VQaXhlbFJhdGlvPXMsdGhpcy5faGFyZHdhcmVTY2FsaW5nTGV2ZWwqPXJ9amUoKT8odD10aGlzLl9yZW5kZXJpbmdDYW52YXM/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLmNsaWVudFdpZHRofHx0aGlzLl9yZW5kZXJpbmdDYW52YXMud2lkdGg6d2luZG93LmlubmVyV2lkdGgsaT10aGlzLl9yZW5kZXJpbmdDYW52YXM/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLmNsaWVudEhlaWdodHx8dGhpcy5fcmVuZGVyaW5nQ2FudmFzLmhlaWdodDp3aW5kb3cuaW5uZXJIZWlnaHQpOih0PXRoaXMuX3JlbmRlcmluZ0NhbnZhcz90aGlzLl9yZW5kZXJpbmdDYW52YXMud2lkdGg6MTAwLGk9dGhpcy5fcmVuZGVyaW5nQ2FudmFzP3RoaXMuX3JlbmRlcmluZ0NhbnZhcy5oZWlnaHQ6MTAwKSx0aGlzLnNldFNpemUodC90aGlzLl9oYXJkd2FyZVNjYWxpbmdMZXZlbCxpL3RoaXMuX2hhcmR3YXJlU2NhbGluZ0xldmVsLGUpfXNldFNpemUoZSx0LGk9ITEpe3JldHVybiF0aGlzLl9yZW5kZXJpbmdDYW52YXN8fChlPWV8MCx0PXR8MCwhaSYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLndpZHRoPT09ZSYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLmhlaWdodD09PXQpPyExOih0aGlzLl9yZW5kZXJpbmdDYW52YXMud2lkdGg9ZSx0aGlzLl9yZW5kZXJpbmdDYW52YXMuaGVpZ2h0PXQsITApfWJpbmRGcmFtZWJ1ZmZlcihlLHQ9MCxpLHMscixuPTAsYT0wKXt2YXIgbyxoLGwsdSxkO2NvbnN0IGY9ZTt0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0JiZ0aGlzLnVuQmluZEZyYW1lYnVmZmVyKHRoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQpLHRoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQ9ZSx0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKGYuX01TQUFGcmFtZWJ1ZmZlcj9mLl9NU0FBRnJhbWVidWZmZXI6Zi5fZnJhbWVidWZmZXIpO2NvbnN0IF89dGhpcy5fZ2w7ZS5pczJEQXJyYXk/Xy5mcmFtZWJ1ZmZlclRleHR1cmVMYXllcihfLkZSQU1FQlVGRkVSLF8uQ09MT1JfQVRUQUNITUVOVDAsKG89ZS50ZXh0dXJlLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8bz09PXZvaWQgMD92b2lkIDA6by51bmRlcmx5aW5nUmVzb3VyY2UsbixhKTplLmlzQ3ViZSYmXy5mcmFtZWJ1ZmZlclRleHR1cmUyRChfLkZSQU1FQlVGRkVSLF8uQ09MT1JfQVRUQUNITUVOVDAsXy5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grdCwoaD1lLnRleHR1cmUuX2hhcmR3YXJlVGV4dHVyZSk9PT1udWxsfHxoPT09dm9pZCAwP3ZvaWQgMDpoLnVuZGVybHlpbmdSZXNvdXJjZSxuKTtjb25zdCBFPWUuX2RlcHRoU3RlbmNpbFRleHR1cmU7aWYoRSl7Y29uc3QgbT1lLl9kZXB0aFN0ZW5jaWxUZXh0dXJlV2l0aFN0ZW5jaWw/Xy5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQ6Xy5ERVBUSF9BVFRBQ0hNRU5UO2UuaXMyREFycmF5P18uZnJhbWVidWZmZXJUZXh0dXJlTGF5ZXIoXy5GUkFNRUJVRkZFUixtLChsPUUuX2hhcmR3YXJlVGV4dHVyZSk9PT1udWxsfHxsPT09dm9pZCAwP3ZvaWQgMDpsLnVuZGVybHlpbmdSZXNvdXJjZSxuLGEpOmUuaXNDdWJlP18uZnJhbWVidWZmZXJUZXh0dXJlMkQoXy5GUkFNRUJVRkZFUixtLF8uVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK3QsKHU9RS5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fHU9PT12b2lkIDA/dm9pZCAwOnUudW5kZXJseWluZ1Jlc291cmNlLG4pOl8uZnJhbWVidWZmZXJUZXh0dXJlMkQoXy5GUkFNRUJVRkZFUixtLF8uVEVYVFVSRV8yRCwoZD1FLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8ZD09PXZvaWQgMD92b2lkIDA6ZC51bmRlcmx5aW5nUmVzb3VyY2Usbil9dGhpcy5fY2FjaGVkVmlld3BvcnQmJiFyP3RoaXMuc2V0Vmlld3BvcnQodGhpcy5fY2FjaGVkVmlld3BvcnQsaSxzKTooaXx8KGk9ZS53aWR0aCxuJiYoaT1pL01hdGgucG93KDIsbikpKSxzfHwocz1lLmhlaWdodCxuJiYocz1zL01hdGgucG93KDIsbikpKSx0aGlzLl92aWV3cG9ydCgwLDAsaSxzKSksdGhpcy53aXBlQ2FjaGVzKCl9c2V0U3RhdGUoZSx0PTAsaSxzPSExLHIsbixhPTApe3ZhciBvLGg7KHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmN1bGwhPT1lfHxpKSYmKHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmN1bGw9ZSk7Y29uc3QgbD0hKChoPShvPXRoaXMuY3VsbEJhY2tGYWNlcykhPT1udWxsJiZvIT09dm9pZCAwP286cikhPT1udWxsJiZoIT09dm9pZCAwKXx8aD90aGlzLl9nbC5CQUNLOnRoaXMuX2dsLkZST05UOyh0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5jdWxsRmFjZSE9PWx8fGkpJiYodGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuY3VsbEZhY2U9bCksdGhpcy5zZXRaT2Zmc2V0KHQpLHRoaXMuc2V0Wk9mZnNldFVuaXRzKGEpO2NvbnN0IHU9cz90aGlzLl9nbC5DVzp0aGlzLl9nbC5DQ1c7KHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmZyb250RmFjZSE9PXV8fGkpJiYodGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZnJvbnRGYWNlPXUpLHRoaXMuX3N0ZW5jaWxTdGF0ZUNvbXBvc2VyLnN0ZW5jaWxNYXRlcmlhbD1ufWdldERlcHRoQnVmZmVyKCl7cmV0dXJuIHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoVGVzdH1zZXREZXB0aEJ1ZmZlcihlKXt0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aFRlc3Q9ZX1zZXRaT2Zmc2V0KGUpe3RoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLnpPZmZzZXQ9dGhpcy51c2VSZXZlcnNlRGVwdGhCdWZmZXI/LWU6ZX1nZXRaT2Zmc2V0KCl7Y29uc3QgZT10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS56T2Zmc2V0O3JldHVybiB0aGlzLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcj8tZTplfXNldFpPZmZzZXRVbml0cyhlKXt0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS56T2Zmc2V0VW5pdHM9dGhpcy51c2VSZXZlcnNlRGVwdGhCdWZmZXI/LWU6ZX1nZXRaT2Zmc2V0VW5pdHMoKXtjb25zdCBlPXRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLnpPZmZzZXRVbml0cztyZXR1cm4gdGhpcy51c2VSZXZlcnNlRGVwdGhCdWZmZXI/LWU6ZX1fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihlKXt0aGlzLl9jdXJyZW50RnJhbWVidWZmZXIhPT1lJiYodGhpcy5fZ2wuYmluZEZyYW1lYnVmZmVyKHRoaXMuX2dsLkZSQU1FQlVGRkVSLGUpLHRoaXMuX2N1cnJlbnRGcmFtZWJ1ZmZlcj1lKX1fY3VycmVudEZyYW1lQnVmZmVySXNEZWZhdWx0RnJhbWVCdWZmZXIoKXtyZXR1cm4gdGhpcy5fY3VycmVudEZyYW1lYnVmZmVyPT09bnVsbH1nZW5lcmF0ZU1pcG1hcHMoZSl7dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJELGUsITApLHRoaXMuX2dsLmdlbmVyYXRlTWlwbWFwKHRoaXMuX2dsLlRFWFRVUkVfMkQpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8yRCxudWxsKX11bkJpbmRGcmFtZWJ1ZmZlcihlLHQ9ITEsaSl7dmFyIHM7Y29uc3Qgcj1lO3RoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQ9bnVsbDtjb25zdCBuPXRoaXMuX2dsO2lmKHIuX01TQUFGcmFtZWJ1ZmZlcil7aWYoZS5pc011bHRpKXt0aGlzLnVuQmluZE11bHRpQ29sb3JBdHRhY2htZW50RnJhbWVidWZmZXIoZSx0LGkpO3JldHVybn1uLmJpbmRGcmFtZWJ1ZmZlcihuLlJFQURfRlJBTUVCVUZGRVIsci5fTVNBQUZyYW1lYnVmZmVyKSxuLmJpbmRGcmFtZWJ1ZmZlcihuLkRSQVdfRlJBTUVCVUZGRVIsci5fZnJhbWVidWZmZXIpLG4uYmxpdEZyYW1lYnVmZmVyKDAsMCxlLndpZHRoLGUuaGVpZ2h0LDAsMCxlLndpZHRoLGUuaGVpZ2h0LG4uQ09MT1JfQlVGRkVSX0JJVCxuLk5FQVJFU1QpfSEoKHM9ZS50ZXh0dXJlKT09PW51bGx8fHM9PT12b2lkIDApJiZzLmdlbmVyYXRlTWlwTWFwcyYmIXQmJiFlLmlzQ3ViZSYmdGhpcy5nZW5lcmF0ZU1pcG1hcHMoZS50ZXh0dXJlKSxpJiYoci5fTVNBQUZyYW1lYnVmZmVyJiZ0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKHIuX2ZyYW1lYnVmZmVyKSxpKCkpLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobnVsbCl9Zmx1c2hGcmFtZWJ1ZmZlcigpe3RoaXMuX2dsLmZsdXNoKCl9cmVzdG9yZURlZmF1bHRGcmFtZWJ1ZmZlcigpe3RoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQ/dGhpcy51bkJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0KTp0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKG51bGwpLHRoaXMuX2NhY2hlZFZpZXdwb3J0JiZ0aGlzLnNldFZpZXdwb3J0KHRoaXMuX2NhY2hlZFZpZXdwb3J0KSx0aGlzLndpcGVDYWNoZXMoKX1fcmVzZXRWZXJ0ZXhCdWZmZXJCaW5kaW5nKCl7dGhpcy5iaW5kQXJyYXlCdWZmZXIobnVsbCksdGhpcy5fY2FjaGVkVmVydGV4QnVmZmVycz1udWxsfWNyZWF0ZVZlcnRleEJ1ZmZlcihlKXtyZXR1cm4gdGhpcy5fY3JlYXRlVmVydGV4QnVmZmVyKGUsdGhpcy5fZ2wuU1RBVElDX0RSQVcpfV9jcmVhdGVWZXJ0ZXhCdWZmZXIoZSx0KXtjb25zdCBpPXRoaXMuX2dsLmNyZWF0ZUJ1ZmZlcigpO2lmKCFpKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSB2ZXJ0ZXggYnVmZmVyIik7Y29uc3Qgcz1uZXcgRGkoaSk7cmV0dXJuIHRoaXMuYmluZEFycmF5QnVmZmVyKHMpLGUgaW5zdGFuY2VvZiBBcnJheT90aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUixuZXcgRmxvYXQzMkFycmF5KGUpLHQpOnRoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLGUsdCksdGhpcy5fcmVzZXRWZXJ0ZXhCdWZmZXJCaW5kaW5nKCkscy5yZWZlcmVuY2VzPTEsc31jcmVhdGVEeW5hbWljVmVydGV4QnVmZmVyKGUpe3JldHVybiB0aGlzLl9jcmVhdGVWZXJ0ZXhCdWZmZXIoZSx0aGlzLl9nbC5EWU5BTUlDX0RSQVcpfV9yZXNldEluZGV4QnVmZmVyQmluZGluZygpe3RoaXMuYmluZEluZGV4QnVmZmVyKG51bGwpLHRoaXMuX2NhY2hlZEluZGV4QnVmZmVyPW51bGx9Y3JlYXRlSW5kZXhCdWZmZXIoZSx0KXtjb25zdCBpPXRoaXMuX2dsLmNyZWF0ZUJ1ZmZlcigpLHM9bmV3IERpKGkpO2lmKCFpKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBpbmRleCBidWZmZXIiKTt0aGlzLmJpbmRJbmRleEJ1ZmZlcihzKTtjb25zdCByPXRoaXMuX25vcm1hbGl6ZUluZGV4RGF0YShlKTtyZXR1cm4gdGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUixyLHQ/dGhpcy5fZ2wuRFlOQU1JQ19EUkFXOnRoaXMuX2dsLlNUQVRJQ19EUkFXKSx0aGlzLl9yZXNldEluZGV4QnVmZmVyQmluZGluZygpLHMucmVmZXJlbmNlcz0xLHMuaXMzMkJpdHM9ci5CWVRFU19QRVJfRUxFTUVOVD09PTQsc31fbm9ybWFsaXplSW5kZXhEYXRhKGUpe2lmKGUuQllURVNfUEVSX0VMRU1FTlQ9PT0yKXJldHVybiBlO2lmKHRoaXMuX2NhcHMudWludEluZGljZXMpe2lmKGUgaW5zdGFuY2VvZiBVaW50MzJBcnJheSlyZXR1cm4gZTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKylpZihlW2ldPj02NTUzNSlyZXR1cm4gbmV3IFVpbnQzMkFycmF5KGUpO3JldHVybiBuZXcgVWludDE2QXJyYXkoZSl9cmV0dXJuIG5ldyBVaW50MTZBcnJheShlKX1iaW5kQXJyYXlCdWZmZXIoZSl7dGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzc3x8dGhpcy5fdW5iaW5kVmVydGV4QXJyYXlPYmplY3QoKSx0aGlzLl9iaW5kQnVmZmVyKGUsdGhpcy5fZ2wuQVJSQVlfQlVGRkVSKX1iaW5kVW5pZm9ybUJsb2NrKGUsdCxpKXtjb25zdCBzPWUucHJvZ3JhbSxyPXRoaXMuX2dsLmdldFVuaWZvcm1CbG9ja0luZGV4KHMsdCk7dGhpcy5fZ2wudW5pZm9ybUJsb2NrQmluZGluZyhzLHIsaSl9YmluZEluZGV4QnVmZmVyKGUpe3RoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3N8fHRoaXMuX3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCksdGhpcy5fYmluZEJ1ZmZlcihlLHRoaXMuX2dsLkVMRU1FTlRfQVJSQVlfQlVGRkVSKX1fYmluZEJ1ZmZlcihlLHQpeyh0aGlzLl92YW9SZWNvcmRJblByb2dyZXNzfHx0aGlzLl9jdXJyZW50Qm91bmRCdWZmZXJbdF0hPT1lKSYmKHRoaXMuX2dsLmJpbmRCdWZmZXIodCxlP2UudW5kZXJseWluZ1Jlc291cmNlOm51bGwpLHRoaXMuX2N1cnJlbnRCb3VuZEJ1ZmZlclt0XT1lKX11cGRhdGVBcnJheUJ1ZmZlcihlKXt0aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUiwwLGUpfV92ZXJ0ZXhBdHRyaWJQb2ludGVyKGUsdCxpLHMscixuLGEpe2NvbnN0IG89dGhpcy5fY3VycmVudEJ1ZmZlclBvaW50ZXJzW3RdO2lmKCFvKXJldHVybjtsZXQgaD0hMTtvLmFjdGl2ZT8oby5idWZmZXIhPT1lJiYoby5idWZmZXI9ZSxoPSEwKSxvLnNpemUhPT1pJiYoby5zaXplPWksaD0hMCksby50eXBlIT09cyYmKG8udHlwZT1zLGg9ITApLG8ubm9ybWFsaXplZCE9PXImJihvLm5vcm1hbGl6ZWQ9cixoPSEwKSxvLnN0cmlkZSE9PW4mJihvLnN0cmlkZT1uLGg9ITApLG8ub2Zmc2V0IT09YSYmKG8ub2Zmc2V0PWEsaD0hMCkpOihoPSEwLG8uYWN0aXZlPSEwLG8uaW5kZXg9dCxvLnNpemU9aSxvLnR5cGU9cyxvLm5vcm1hbGl6ZWQ9cixvLnN0cmlkZT1uLG8ub2Zmc2V0PWEsby5idWZmZXI9ZSksKGh8fHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3MpJiYodGhpcy5iaW5kQXJyYXlCdWZmZXIoZSkscz09PXRoaXMuX2dsLlVOU0lHTkVEX0lOVHx8cz09PXRoaXMuX2dsLklOVD90aGlzLl9nbC52ZXJ0ZXhBdHRyaWJJUG9pbnRlcih0LGkscyxuLGEpOnRoaXMuX2dsLnZlcnRleEF0dHJpYlBvaW50ZXIodCxpLHMscixuLGEpKX1fYmluZEluZGV4QnVmZmVyV2l0aENhY2hlKGUpe2UhPW51bGwmJnRoaXMuX2NhY2hlZEluZGV4QnVmZmVyIT09ZSYmKHRoaXMuX2NhY2hlZEluZGV4QnVmZmVyPWUsdGhpcy5iaW5kSW5kZXhCdWZmZXIoZSksdGhpcy5fdWludEluZGljZXNDdXJyZW50bHlTZXQ9ZS5pczMyQml0cyl9X2JpbmRWZXJ0ZXhCdWZmZXJzQXR0cmlidXRlcyhlLHQsaSl7Y29uc3Qgcz10LmdldEF0dHJpYnV0ZXNOYW1lcygpO3RoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3N8fHRoaXMuX3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCksdGhpcy51bmJpbmRBbGxBdHRyaWJ1dGVzKCk7Zm9yKGxldCByPTA7cjxzLmxlbmd0aDtyKyspe2NvbnN0IG49dC5nZXRBdHRyaWJ1dGVMb2NhdGlvbihyKTtpZihuPj0wKXtjb25zdCBhPXNbcl07bGV0IG89bnVsbDtpZihpJiYobz1pW2FdKSxvfHwobz1lW2FdKSwhbyljb250aW51ZTt0aGlzLl9nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShuKSx0aGlzLl92YW9SZWNvcmRJblByb2dyZXNzfHwodGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZFtuXT0hMCk7Y29uc3QgaD1vLmdldEJ1ZmZlcigpO2gmJih0aGlzLl92ZXJ0ZXhBdHRyaWJQb2ludGVyKGgsbixvLmdldFNpemUoKSxvLnR5cGUsby5ub3JtYWxpemVkLG8uYnl0ZVN0cmlkZSxvLmJ5dGVPZmZzZXQpLG8uZ2V0SXNJbnN0YW5jZWQoKSYmKHRoaXMuX2dsLnZlcnRleEF0dHJpYkRpdmlzb3IobixvLmdldEluc3RhbmNlRGl2aXNvcigpKSx0aGlzLl92YW9SZWNvcmRJblByb2dyZXNzfHwodGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLnB1c2gobiksdGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVycy5wdXNoKGgpKSkpfX19cmVjb3JkVmVydGV4QXJyYXlPYmplY3QoZSx0LGkscyl7Y29uc3Qgcj10aGlzLl9nbC5jcmVhdGVWZXJ0ZXhBcnJheSgpO2lmKCFyKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBWQU8iKTtyZXR1cm4gdGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzcz0hMCx0aGlzLl9nbC5iaW5kVmVydGV4QXJyYXkociksdGhpcy5fbXVzdFdpcGVWZXJ0ZXhBdHRyaWJ1dGVzPSEwLHRoaXMuX2JpbmRWZXJ0ZXhCdWZmZXJzQXR0cmlidXRlcyhlLGkscyksdGhpcy5iaW5kSW5kZXhCdWZmZXIodCksdGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzcz0hMSx0aGlzLl9nbC5iaW5kVmVydGV4QXJyYXkobnVsbCkscn1iaW5kVmVydGV4QXJyYXlPYmplY3QoZSx0KXt0aGlzLl9jYWNoZWRWZXJ0ZXhBcnJheU9iamVjdCE9PWUmJih0aGlzLl9jYWNoZWRWZXJ0ZXhBcnJheU9iamVjdD1lLHRoaXMuX2dsLmJpbmRWZXJ0ZXhBcnJheShlKSx0aGlzLl9jYWNoZWRWZXJ0ZXhCdWZmZXJzPW51bGwsdGhpcy5fY2FjaGVkSW5kZXhCdWZmZXI9bnVsbCx0aGlzLl91aW50SW5kaWNlc0N1cnJlbnRseVNldD10IT1udWxsJiZ0LmlzMzJCaXRzLHRoaXMuX211c3RXaXBlVmVydGV4QXR0cmlidXRlcz0hMCl9YmluZEJ1ZmZlcnNEaXJlY3RseShlLHQsaSxzLHIpe2lmKHRoaXMuX2NhY2hlZFZlcnRleEJ1ZmZlcnMhPT1lfHx0aGlzLl9jYWNoZWRFZmZlY3RGb3JWZXJ0ZXhCdWZmZXJzIT09cil7dGhpcy5fY2FjaGVkVmVydGV4QnVmZmVycz1lLHRoaXMuX2NhY2hlZEVmZmVjdEZvclZlcnRleEJ1ZmZlcnM9cjtjb25zdCBuPXIuZ2V0QXR0cmlidXRlc0NvdW50KCk7dGhpcy5fdW5iaW5kVmVydGV4QXJyYXlPYmplY3QoKSx0aGlzLnVuYmluZEFsbEF0dHJpYnV0ZXMoKTtsZXQgYT0wO2ZvcihsZXQgbz0wO288bjtvKyspaWYobzxpLmxlbmd0aCl7Y29uc3QgaD1yLmdldEF0dHJpYnV0ZUxvY2F0aW9uKG8pO2g+PTAmJih0aGlzLl9nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShoKSx0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW2hdPSEwLHRoaXMuX3ZlcnRleEF0dHJpYlBvaW50ZXIoZSxoLGlbb10sdGhpcy5fZ2wuRkxPQVQsITEscyxhKSksYSs9aVtvXSo0fX10aGlzLl9iaW5kSW5kZXhCdWZmZXJXaXRoQ2FjaGUodCl9X3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCl7dGhpcy5fY2FjaGVkVmVydGV4QXJyYXlPYmplY3QmJih0aGlzLl9jYWNoZWRWZXJ0ZXhBcnJheU9iamVjdD1udWxsLHRoaXMuX2dsLmJpbmRWZXJ0ZXhBcnJheShudWxsKSl9YmluZEJ1ZmZlcnMoZSx0LGkscyl7KHRoaXMuX2NhY2hlZFZlcnRleEJ1ZmZlcnMhPT1lfHx0aGlzLl9jYWNoZWRFZmZlY3RGb3JWZXJ0ZXhCdWZmZXJzIT09aSkmJih0aGlzLl9jYWNoZWRWZXJ0ZXhCdWZmZXJzPWUsdGhpcy5fY2FjaGVkRWZmZWN0Rm9yVmVydGV4QnVmZmVycz1pLHRoaXMuX2JpbmRWZXJ0ZXhCdWZmZXJzQXR0cmlidXRlcyhlLGkscykpLHRoaXMuX2JpbmRJbmRleEJ1ZmZlcldpdGhDYWNoZSh0KX11bmJpbmRJbnN0YW5jZUF0dHJpYnV0ZXMoKXtsZXQgZTtmb3IobGV0IHQ9MCxpPXRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5sZW5ndGg7dDxpO3QrKyl7Y29uc3Qgcz10aGlzLl9jdXJyZW50SW5zdGFuY2VCdWZmZXJzW3RdO2UhPXMmJnMucmVmZXJlbmNlcyYmKGU9cyx0aGlzLmJpbmRBcnJheUJ1ZmZlcihzKSk7Y29uc3Qgcj10aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnNbdF07dGhpcy5fZ2wudmVydGV4QXR0cmliRGl2aXNvcihyLDApfXRoaXMuX2N1cnJlbnRJbnN0YW5jZUJ1ZmZlcnMubGVuZ3RoPTAsdGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLmxlbmd0aD0wfXJlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdChlKXt0aGlzLl9nbC5kZWxldGVWZXJ0ZXhBcnJheShlKX1fcmVsZWFzZUJ1ZmZlcihlKXtyZXR1cm4gZS5yZWZlcmVuY2VzLS0sZS5yZWZlcmVuY2VzPT09MD8odGhpcy5fZGVsZXRlQnVmZmVyKGUpLCEwKTohMX1fZGVsZXRlQnVmZmVyKGUpe3RoaXMuX2dsLmRlbGV0ZUJ1ZmZlcihlLnVuZGVybHlpbmdSZXNvdXJjZSl9dXBkYXRlQW5kQmluZEluc3RhbmNlc0J1ZmZlcihlLHQsaSl7aWYodGhpcy5iaW5kQXJyYXlCdWZmZXIoZSksdCYmdGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5BUlJBWV9CVUZGRVIsMCx0KSxpWzBdLmluZGV4IT09dm9pZCAwKXRoaXMuYmluZEluc3RhbmNlc0J1ZmZlcihlLGksITApO2Vsc2UgZm9yKGxldCBzPTA7czw0O3MrKyl7Y29uc3Qgcj1pW3NdO3RoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbcl18fCh0aGlzLl9nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShyKSx0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW3JdPSEwKSx0aGlzLl92ZXJ0ZXhBdHRyaWJQb2ludGVyKGUsciw0LHRoaXMuX2dsLkZMT0FULCExLDY0LHMqMTYpLHRoaXMuX2dsLnZlcnRleEF0dHJpYkRpdmlzb3IociwxKSx0aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnMucHVzaChyKSx0aGlzLl9jdXJyZW50SW5zdGFuY2VCdWZmZXJzLnB1c2goZSl9fWJpbmRJbnN0YW5jZXNCdWZmZXIoZSx0LGk9ITApe3RoaXMuYmluZEFycmF5QnVmZmVyKGUpO2xldCBzPTA7aWYoaSlmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3Qgbj10W3JdO3MrPW4uYXR0cmlidXRlU2l6ZSo0fWZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKXtjb25zdCBuPXRbcl07bi5pbmRleD09PXZvaWQgMCYmKG4uaW5kZXg9dGhpcy5fY3VycmVudEVmZmVjdC5nZXRBdHRyaWJ1dGVMb2NhdGlvbkJ5TmFtZShuLmF0dHJpYnV0ZU5hbWUpKSwhKG4uaW5kZXg8MCkmJih0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW24uaW5kZXhdfHwodGhpcy5fZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobi5pbmRleCksdGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZFtuLmluZGV4XT0hMCksdGhpcy5fdmVydGV4QXR0cmliUG9pbnRlcihlLG4uaW5kZXgsbi5hdHRyaWJ1dGVTaXplLG4uYXR0cmlidXRlVHlwZXx8dGhpcy5fZ2wuRkxPQVQsbi5ub3JtYWxpemVkfHwhMSxzLG4ub2Zmc2V0KSx0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKG4uaW5kZXgsbi5kaXZpc29yPT09dm9pZCAwPzE6bi5kaXZpc29yKSx0aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnMucHVzaChuLmluZGV4KSx0aGlzLl9jdXJyZW50SW5zdGFuY2VCdWZmZXJzLnB1c2goZSkpfX1kaXNhYmxlSW5zdGFuY2VBdHRyaWJ1dGVCeU5hbWUoZSl7aWYoIXRoaXMuX2N1cnJlbnRFZmZlY3QpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fY3VycmVudEVmZmVjdC5nZXRBdHRyaWJ1dGVMb2NhdGlvbkJ5TmFtZShlKTt0aGlzLmRpc2FibGVJbnN0YW5jZUF0dHJpYnV0ZSh0KX1kaXNhYmxlSW5zdGFuY2VBdHRyaWJ1dGUoZSl7bGV0IHQ9ITEsaTtmb3IoOyhpPXRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5pbmRleE9mKGUpKSE9PS0xOyl0aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnMuc3BsaWNlKGksMSksdGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVycy5zcGxpY2UoaSwxKSx0PSEwLGk9dGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLmluZGV4T2YoZSk7dCYmKHRoaXMuX2dsLnZlcnRleEF0dHJpYkRpdmlzb3IoZSwwKSx0aGlzLmRpc2FibGVBdHRyaWJ1dGVCeUluZGV4KGUpKX1kaXNhYmxlQXR0cmlidXRlQnlJbmRleChlKXt0aGlzLl9nbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoZSksdGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZFtlXT0hMSx0aGlzLl9jdXJyZW50QnVmZmVyUG9pbnRlcnNbZV0uYWN0aXZlPSExfWRyYXcoZSx0LGkscyl7dGhpcy5kcmF3RWxlbWVudHNUeXBlKGU/MDoxLHQsaSxzKX1kcmF3UG9pbnRDbG91ZHMoZSx0LGkpe3RoaXMuZHJhd0FycmF5c1R5cGUoMixlLHQsaSl9ZHJhd1VuSW5kZXhlZChlLHQsaSxzKXt0aGlzLmRyYXdBcnJheXNUeXBlKGU/MDoxLHQsaSxzKX1kcmF3RWxlbWVudHNUeXBlKGUsdCxpLHMpe3RoaXMuYXBwbHlTdGF0ZXMoKSx0aGlzLl9yZXBvcnREcmF3Q2FsbCgpO2NvbnN0IHI9dGhpcy5fZHJhd01vZGUoZSksbj10aGlzLl91aW50SW5kaWNlc0N1cnJlbnRseVNldD90aGlzLl9nbC5VTlNJR05FRF9JTlQ6dGhpcy5fZ2wuVU5TSUdORURfU0hPUlQsYT10aGlzLl91aW50SW5kaWNlc0N1cnJlbnRseVNldD80OjI7cz90aGlzLl9nbC5kcmF3RWxlbWVudHNJbnN0YW5jZWQocixpLG4sdCphLHMpOnRoaXMuX2dsLmRyYXdFbGVtZW50cyhyLGksbix0KmEpfWRyYXdBcnJheXNUeXBlKGUsdCxpLHMpe3RoaXMuYXBwbHlTdGF0ZXMoKSx0aGlzLl9yZXBvcnREcmF3Q2FsbCgpO2NvbnN0IHI9dGhpcy5fZHJhd01vZGUoZSk7cz90aGlzLl9nbC5kcmF3QXJyYXlzSW5zdGFuY2VkKHIsdCxpLHMpOnRoaXMuX2dsLmRyYXdBcnJheXMocix0LGkpfV9kcmF3TW9kZShlKXtzd2l0Y2goZSl7Y2FzZSAwOnJldHVybiB0aGlzLl9nbC5UUklBTkdMRVM7Y2FzZSAyOnJldHVybiB0aGlzLl9nbC5QT0lOVFM7Y2FzZSAxOnJldHVybiB0aGlzLl9nbC5MSU5FUztjYXNlIDM6cmV0dXJuIHRoaXMuX2dsLlBPSU5UUztjYXNlIDQ6cmV0dXJuIHRoaXMuX2dsLkxJTkVTO2Nhc2UgNTpyZXR1cm4gdGhpcy5fZ2wuTElORV9MT09QO2Nhc2UgNjpyZXR1cm4gdGhpcy5fZ2wuTElORV9TVFJJUDtjYXNlIDc6cmV0dXJuIHRoaXMuX2dsLlRSSUFOR0xFX1NUUklQO2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuVFJJQU5HTEVfRkFOO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlRSSUFOR0xFU319X3JlcG9ydERyYXdDYWxsKCl7fV9yZWxlYXNlRWZmZWN0KGUpe3RoaXMuX2NvbXBpbGVkRWZmZWN0c1tlLl9rZXldJiZkZWxldGUgdGhpcy5fY29tcGlsZWRFZmZlY3RzW2UuX2tleV07Y29uc3QgdD1lLmdldFBpcGVsaW5lQ29udGV4dCgpO3QmJnRoaXMuX2RlbGV0ZVBpcGVsaW5lQ29udGV4dCh0KX1fZGVsZXRlUGlwZWxpbmVDb250ZXh0KGUpe2NvbnN0IHQ9ZTt0JiZ0LnByb2dyYW0mJih0LnByb2dyYW0uX19TUEVDVE9SX3JlYnVpbGRQcm9ncmFtPW51bGwsdGhpcy5fZ2wuZGVsZXRlUHJvZ3JhbSh0LnByb2dyYW0pKX1fZ2V0R2xvYmFsRGVmaW5lcyhlKXtpZihlKXt0aGlzLmlzTkRDSGFsZlpSYW5nZT9lLklTX05EQ19IQUxGX1pSQU5HRT0iIjpkZWxldGUgZS5JU19ORENfSEFMRl9aUkFOR0UsdGhpcy51c2VSZXZlcnNlRGVwdGhCdWZmZXI/ZS5VU0VfUkVWRVJTRV9ERVBUSEJVRkZFUj0iIjpkZWxldGUgZS5VU0VfUkVWRVJTRV9ERVBUSEJVRkZFUix0aGlzLnVzZUV4YWN0U3JnYkNvbnZlcnNpb25zP2UuVVNFX0VYQUNUX1NSR0JfQ09OVkVSU0lPTlM9IiI6ZGVsZXRlIGUuVVNFX0VYQUNUX1NSR0JfQ09OVkVSU0lPTlM7cmV0dXJufWVsc2V7bGV0IHQ9IiI7cmV0dXJuIHRoaXMuaXNORENIYWxmWlJhbmdlJiYodCs9IiNkZWZpbmUgSVNfTkRDX0hBTEZfWlJBTkdFIiksdGhpcy51c2VSZXZlcnNlRGVwdGhCdWZmZXImJih0JiYodCs9YApgKSx0Kz0iI2RlZmluZSBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUiIpLHRoaXMudXNlRXhhY3RTcmdiQ29udmVyc2lvbnMmJih0JiYodCs9YApgKSx0Kz0iI2RlZmluZSBVU0VfRVhBQ1RfU1JHQl9DT05WRVJTSU9OUyIpLHR9fWNyZWF0ZUVmZmVjdChlLHQsaSxzLHIsbixhLG8saCxsPVplLkdMU0wpe3ZhciB1O2NvbnN0IGQ9ZS52ZXJ0ZXhFbGVtZW50fHxlLnZlcnRleHx8ZS52ZXJ0ZXhUb2tlbnx8ZS52ZXJ0ZXhTb3VyY2V8fGUsZj1lLmZyYWdtZW50RWxlbWVudHx8ZS5mcmFnbWVudHx8ZS5mcmFnbWVudFRva2VufHxlLmZyYWdtZW50U291cmNlfHxlLF89dGhpcy5fZ2V0R2xvYmFsRGVmaW5lcygpO2xldCBFPSh1PXI/P3QuZGVmaW5lcykhPT1udWxsJiZ1IT09dm9pZCAwP3U6IiI7XyYmKEUrPV8pO2NvbnN0IG09ZCsiKyIrZisiQCIrRTtpZih0aGlzLl9jb21waWxlZEVmZmVjdHNbbV0pe2NvbnN0IFM9dGhpcy5fY29tcGlsZWRFZmZlY3RzW21dO3JldHVybiBhJiZTLmlzUmVhZHkoKSYmYShTKSxTfWNvbnN0IHY9bmV3IFBlKGUsdCxpLHMsdGhpcyxyLG4sYSxvLGgsbSxsKTtyZXR1cm4gdGhpcy5fY29tcGlsZWRFZmZlY3RzW21dPXYsdn1zdGF0aWMgX0NvbmNhdGVuYXRlU2hhZGVyKGUsdCxpPSIiKXtyZXR1cm4gaSsodD90K2AKYDoiIikrZX1fY29tcGlsZVNoYWRlcihlLHQsaSxzKXtyZXR1cm4gdGhpcy5fY29tcGlsZVJhd1NoYWRlcihvZS5fQ29uY2F0ZW5hdGVTaGFkZXIoZSxpLHMpLHQpfV9jb21waWxlUmF3U2hhZGVyKGUsdCl7Y29uc3QgaT10aGlzLl9nbCxzPWkuY3JlYXRlU2hhZGVyKHQ9PT0idmVydGV4Ij9pLlZFUlRFWF9TSEFERVI6aS5GUkFHTUVOVF9TSEFERVIpO2lmKCFzKXtsZXQgcj1pLk5PX0VSUk9SLG49aS5OT19FUlJPUjtmb3IoOyhuPWkuZ2V0RXJyb3IoKSkhPT1pLk5PX0VSUk9SOylyPW47dGhyb3cgbmV3IEVycm9yKGBTb21ldGhpbmcgd2VudCB3cm9uZyB3aGlsZSBjcmVhdGluZyBhIGdsICR7dH0gc2hhZGVyIG9iamVjdC4gZ2wgZXJyb3I9JHtyfSwgZ2wgaXNDb250ZXh0TG9zdD0ke2kuaXNDb250ZXh0TG9zdCgpfSwgX2NvbnRleHRXYXNMb3N0PSR7dGhpcy5fY29udGV4dFdhc0xvc3R9YCl9cmV0dXJuIGkuc2hhZGVyU291cmNlKHMsZSksaS5jb21waWxlU2hhZGVyKHMpLHN9X2dldFNoYWRlclNvdXJjZShlKXtyZXR1cm4gdGhpcy5fZ2wuZ2V0U2hhZGVyU291cmNlKGUpfWNyZWF0ZVJhd1NoYWRlclByb2dyYW0oZSx0LGkscyxyPW51bGwpe3M9c3x8dGhpcy5fZ2w7Y29uc3Qgbj10aGlzLl9jb21waWxlUmF3U2hhZGVyKHQsInZlcnRleCIpLGE9dGhpcy5fY29tcGlsZVJhd1NoYWRlcihpLCJmcmFnbWVudCIpO3JldHVybiB0aGlzLl9jcmVhdGVTaGFkZXJQcm9ncmFtKGUsbixhLHMscil9Y3JlYXRlU2hhZGVyUHJvZ3JhbShlLHQsaSxzLHIsbj1udWxsKXtyPXJ8fHRoaXMuX2dsO2NvbnN0IGE9dGhpcy5fd2ViR0xWZXJzaW9uPjE/YCN2ZXJzaW9uIDMwMCBlcwojZGVmaW5lIFdFQkdMMiAKYDoiIixvPXRoaXMuX2NvbXBpbGVTaGFkZXIodCwidmVydGV4IixzLGEpLGg9dGhpcy5fY29tcGlsZVNoYWRlcihpLCJmcmFnbWVudCIscyxhKTtyZXR1cm4gdGhpcy5fY3JlYXRlU2hhZGVyUHJvZ3JhbShlLG8saCxyLG4pfWlubGluZVNoYWRlckNvZGUoZSl7cmV0dXJuIGV9Y3JlYXRlUGlwZWxpbmVDb250ZXh0KGUpe2NvbnN0IHQ9bmV3IGxuO3JldHVybiB0LmVuZ2luZT10aGlzLHRoaXMuX2NhcHMucGFyYWxsZWxTaGFkZXJDb21waWxlJiYodC5pc1BhcmFsbGVsQ29tcGlsZWQ9ITApLHR9Y3JlYXRlTWF0ZXJpYWxDb250ZXh0KCl7fWNyZWF0ZURyYXdDb250ZXh0KCl7fV9jcmVhdGVTaGFkZXJQcm9ncmFtKGUsdCxpLHMscj1udWxsKXtjb25zdCBuPXMuY3JlYXRlUHJvZ3JhbSgpO2lmKGUucHJvZ3JhbT1uLCFuKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBwcm9ncmFtIik7cmV0dXJuIHMuYXR0YWNoU2hhZGVyKG4sdCkscy5hdHRhY2hTaGFkZXIobixpKSxzLmxpbmtQcm9ncmFtKG4pLGUuY29udGV4dD1zLGUudmVydGV4U2hhZGVyPXQsZS5mcmFnbWVudFNoYWRlcj1pLGUuaXNQYXJhbGxlbENvbXBpbGVkfHx0aGlzLl9maW5hbGl6ZVBpcGVsaW5lQ29udGV4dChlKSxufV9maW5hbGl6ZVBpcGVsaW5lQ29udGV4dChlKXtjb25zdCB0PWUuY29udGV4dCxpPWUudmVydGV4U2hhZGVyLHM9ZS5mcmFnbWVudFNoYWRlcixyPWUucHJvZ3JhbTtpZighdC5nZXRQcm9ncmFtUGFyYW1ldGVyKHIsdC5MSU5LX1NUQVRVUykpe2lmKCF0aGlzLl9nbC5nZXRTaGFkZXJQYXJhbWV0ZXIoaSx0aGlzLl9nbC5DT01QSUxFX1NUQVRVUykpe2NvbnN0IG89dGhpcy5fZ2wuZ2V0U2hhZGVySW5mb0xvZyhpKTtpZihvKXRocm93IGUudmVydGV4Q29tcGlsYXRpb25FcnJvcj1vLG5ldyBFcnJvcigiVkVSVEVYIFNIQURFUiAiK28pfWlmKCF0aGlzLl9nbC5nZXRTaGFkZXJQYXJhbWV0ZXIocyx0aGlzLl9nbC5DT01QSUxFX1NUQVRVUykpe2NvbnN0IG89dGhpcy5fZ2wuZ2V0U2hhZGVySW5mb0xvZyhzKTtpZihvKXRocm93IGUuZnJhZ21lbnRDb21waWxhdGlvbkVycm9yPW8sbmV3IEVycm9yKCJGUkFHTUVOVCBTSEFERVIgIitvKX1jb25zdCBhPXQuZ2V0UHJvZ3JhbUluZm9Mb2cocik7aWYoYSl0aHJvdyBlLnByb2dyYW1MaW5rRXJyb3I9YSxuZXcgRXJyb3IoYSl9aWYodGhpcy52YWxpZGF0ZVNoYWRlclByb2dyYW1zJiYodC52YWxpZGF0ZVByb2dyYW0ociksIXQuZ2V0UHJvZ3JhbVBhcmFtZXRlcihyLHQuVkFMSURBVEVfU1RBVFVTKSkpe2NvbnN0IG89dC5nZXRQcm9ncmFtSW5mb0xvZyhyKTtpZihvKXRocm93IGUucHJvZ3JhbVZhbGlkYXRpb25FcnJvcj1vLG5ldyBFcnJvcihvKX10LmRlbGV0ZVNoYWRlcihpKSx0LmRlbGV0ZVNoYWRlcihzKSxlLnZlcnRleFNoYWRlcj12b2lkIDAsZS5mcmFnbWVudFNoYWRlcj12b2lkIDAsZS5vbkNvbXBpbGVkJiYoZS5vbkNvbXBpbGVkKCksZS5vbkNvbXBpbGVkPXZvaWQgMCl9X3ByZXBhcmVQaXBlbGluZUNvbnRleHQoZSx0LGkscyxyLG4sYSxvLGgsbCl7Y29uc3QgdT1lO3M/dS5wcm9ncmFtPXRoaXMuY3JlYXRlUmF3U2hhZGVyUHJvZ3JhbSh1LHQsaSx2b2lkIDAsaCk6dS5wcm9ncmFtPXRoaXMuY3JlYXRlU2hhZGVyUHJvZ3JhbSh1LHQsaSxvLHZvaWQgMCxoKSx1LnByb2dyYW0uX19TUEVDVE9SX3JlYnVpbGRQcm9ncmFtPWF9X2lzUmVuZGVyaW5nU3RhdGVDb21waWxlZChlKXtjb25zdCB0PWU7cmV0dXJuIHRoaXMuX2dsLmdldFByb2dyYW1QYXJhbWV0ZXIodC5wcm9ncmFtLHRoaXMuX2NhcHMucGFyYWxsZWxTaGFkZXJDb21waWxlLkNPTVBMRVRJT05fU1RBVFVTX0tIUik/KHRoaXMuX2ZpbmFsaXplUGlwZWxpbmVDb250ZXh0KHQpLCEwKTohMX1fZXhlY3V0ZVdoZW5SZW5kZXJpbmdTdGF0ZUlzQ29tcGlsZWQoZSx0KXtjb25zdCBpPWU7aWYoIWkuaXNQYXJhbGxlbENvbXBpbGVkKXt0KCk7cmV0dXJufWNvbnN0IHM9aS5vbkNvbXBpbGVkO3M/aS5vbkNvbXBpbGVkPSgpPT57cygpLHQoKX06aS5vbkNvbXBpbGVkPXR9Z2V0VW5pZm9ybXMoZSx0KXtjb25zdCBpPW5ldyBBcnJheSxzPWU7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspaS5wdXNoKHRoaXMuX2dsLmdldFVuaWZvcm1Mb2NhdGlvbihzLnByb2dyYW0sdFtyXSkpO3JldHVybiBpfWdldEF0dHJpYnV0ZXMoZSx0KXtjb25zdCBpPVtdLHM9ZTtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl0cnl7aS5wdXNoKHRoaXMuX2dsLmdldEF0dHJpYkxvY2F0aW9uKHMucHJvZ3JhbSx0W3JdKSl9Y2F0Y2h7aS5wdXNoKC0xKX1yZXR1cm4gaX1lbmFibGVFZmZlY3QoZSl7ZT1lIT09bnVsbCYmbWkuSXNXcmFwcGVyKGUpP2UuZWZmZWN0OmUsISghZXx8ZT09PXRoaXMuX2N1cnJlbnRFZmZlY3QpJiYodGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXIuc3RlbmNpbE1hdGVyaWFsPXZvaWQgMCxlPWUsdGhpcy5iaW5kU2FtcGxlcnMoZSksdGhpcy5fY3VycmVudEVmZmVjdD1lLGUub25CaW5kJiZlLm9uQmluZChlKSxlLl9vbkJpbmRPYnNlcnZhYmxlJiZlLl9vbkJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSl9c2V0SW50KGUsdCl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0xaShlLHQpLCEwKTohMX1zZXRJbnQyKGUsdCxpKXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTJpKGUsdCxpKSwhMCk6ITF9c2V0SW50MyhlLHQsaSxzKXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTNpKGUsdCxpLHMpLCEwKTohMX1zZXRJbnQ0KGUsdCxpLHMscil7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm00aShlLHQsaSxzLHIpLCEwKTohMX1zZXRJbnRBcnJheShlLHQpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtMWl2KGUsdCksITApOiExfXNldEludEFycmF5MihlLHQpe3JldHVybiFlfHx0Lmxlbmd0aCUyIT09MD8hMToodGhpcy5fZ2wudW5pZm9ybTJpdihlLHQpLCEwKX1zZXRJbnRBcnJheTMoZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglMyE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm0zaXYoZSx0KSwhMCl9c2V0SW50QXJyYXk0KGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoJTQhPT0wPyExOih0aGlzLl9nbC51bmlmb3JtNGl2KGUsdCksITApfXNldFVJbnQoZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTF1aShlLHQpLCEwKTohMX1zZXRVSW50MihlLHQsaSl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0ydWkoZSx0LGkpLCEwKTohMX1zZXRVSW50MyhlLHQsaSxzKXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTN1aShlLHQsaSxzKSwhMCk6ITF9c2V0VUludDQoZSx0LGkscyxyKXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTR1aShlLHQsaSxzLHIpLCEwKTohMX1zZXRVSW50QXJyYXkoZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTF1aXYoZSx0KSwhMCk6ITF9c2V0VUludEFycmF5MihlLHQpe3JldHVybiFlfHx0Lmxlbmd0aCUyIT09MD8hMToodGhpcy5fZ2wudW5pZm9ybTJ1aXYoZSx0KSwhMCl9c2V0VUludEFycmF5MyhlLHQpe3JldHVybiFlfHx0Lmxlbmd0aCUzIT09MD8hMToodGhpcy5fZ2wudW5pZm9ybTN1aXYoZSx0KSwhMCl9c2V0VUludEFycmF5NChlLHQpe3JldHVybiFlfHx0Lmxlbmd0aCU0IT09MD8hMToodGhpcy5fZ2wudW5pZm9ybTR1aXYoZSx0KSwhMCl9c2V0QXJyYXkoZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGg8MT8hMToodGhpcy5fZ2wudW5pZm9ybTFmdihlLHQpLCEwKX1zZXRBcnJheTIoZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglMiE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm0yZnYoZSx0KSwhMCl9c2V0QXJyYXkzKGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoJTMhPT0wPyExOih0aGlzLl9nbC51bmlmb3JtM2Z2KGUsdCksITApfXNldEFycmF5NChlLHQpe3JldHVybiFlfHx0Lmxlbmd0aCU0IT09MD8hMToodGhpcy5fZ2wudW5pZm9ybTRmdihlLHQpLCEwKX1zZXRNYXRyaWNlcyhlLHQpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtTWF0cml4NGZ2KGUsITEsdCksITApOiExfXNldE1hdHJpeDN4MyhlLHQpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtTWF0cml4M2Z2KGUsITEsdCksITApOiExfXNldE1hdHJpeDJ4MihlLHQpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtTWF0cml4MmZ2KGUsITEsdCksITApOiExfXNldEZsb2F0KGUsdCl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0xZihlLHQpLCEwKTohMX1zZXRGbG9hdDIoZSx0LGkpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtMmYoZSx0LGkpLCEwKTohMX1zZXRGbG9hdDMoZSx0LGkscyl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0zZihlLHQsaSxzKSwhMCk6ITF9c2V0RmxvYXQ0KGUsdCxpLHMscil7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm00ZihlLHQsaSxzLHIpLCEwKTohMX1hcHBseVN0YXRlcygpe2lmKHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmFwcGx5KHRoaXMuX2dsKSx0aGlzLl9zdGVuY2lsU3RhdGVDb21wb3Nlci5hcHBseSh0aGlzLl9nbCksdGhpcy5fYWxwaGFTdGF0ZS5hcHBseSh0aGlzLl9nbCksdGhpcy5fY29sb3JXcml0ZUNoYW5nZWQpe3RoaXMuX2NvbG9yV3JpdGVDaGFuZ2VkPSExO2NvbnN0IGU9dGhpcy5fY29sb3JXcml0ZTt0aGlzLl9nbC5jb2xvck1hc2soZSxlLGUsZSl9fXNldENvbG9yV3JpdGUoZSl7ZSE9PXRoaXMuX2NvbG9yV3JpdGUmJih0aGlzLl9jb2xvcldyaXRlQ2hhbmdlZD0hMCx0aGlzLl9jb2xvcldyaXRlPWUpfWdldENvbG9yV3JpdGUoKXtyZXR1cm4gdGhpcy5fY29sb3JXcml0ZX1nZXQgZGVwdGhDdWxsaW5nU3RhdGUoKXtyZXR1cm4gdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGV9Z2V0IGFscGhhU3RhdGUoKXtyZXR1cm4gdGhpcy5fYWxwaGFTdGF0ZX1nZXQgc3RlbmNpbFN0YXRlKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZX1nZXQgc3RlbmNpbFN0YXRlQ29tcG9zZXIoKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXJ9Y2xlYXJJbnRlcm5hbFRleHR1cmVzQ2FjaGUoKXt0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGUubGVuZ3RoPTB9d2lwZUNhY2hlcyhlKXt0aGlzLnByZXZlbnRDYWNoZVdpcGVCZXR3ZWVuRnJhbWVzJiYhZXx8KHRoaXMuX2N1cnJlbnRFZmZlY3Q9bnVsbCx0aGlzLl92aWV3cG9ydENhY2hlZC54PTAsdGhpcy5fdmlld3BvcnRDYWNoZWQueT0wLHRoaXMuX3ZpZXdwb3J0Q2FjaGVkLno9MCx0aGlzLl92aWV3cG9ydENhY2hlZC53PTAsdGhpcy5fdW5iaW5kVmVydGV4QXJyYXlPYmplY3QoKSxlJiYodGhpcy5fY3VycmVudFByb2dyYW09bnVsbCx0aGlzLnJlc2V0VGV4dHVyZUNhY2hlKCksdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXIucmVzZXQoKSx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5yZXNldCgpLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoRnVuYz10aGlzLl9nbC5MRVFVQUwsdGhpcy5fYWxwaGFTdGF0ZS5yZXNldCgpLHRoaXMuX2FscGhhTW9kZT0xLHRoaXMuX2FscGhhRXF1YXRpb249MCx0aGlzLl9jb2xvcldyaXRlPSEwLHRoaXMuX2NvbG9yV3JpdGVDaGFuZ2VkPSEwLHRoaXMuX3VucGFja0ZsaXBZQ2FjaGVkPW51bGwsdGhpcy5fZ2wucGl4ZWxTdG9yZWkodGhpcy5fZ2wuVU5QQUNLX0NPTE9SU1BBQ0VfQ09OVkVSU0lPTl9XRUJHTCx0aGlzLl9nbC5OT05FKSx0aGlzLl9nbC5waXhlbFN0b3JlaSh0aGlzLl9nbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsMCksdGhpcy5fbXVzdFdpcGVWZXJ0ZXhBdHRyaWJ1dGVzPSEwLHRoaXMudW5iaW5kQWxsQXR0cmlidXRlcygpKSx0aGlzLl9yZXNldFZlcnRleEJ1ZmZlckJpbmRpbmcoKSx0aGlzLl9jYWNoZWRJbmRleEJ1ZmZlcj1udWxsLHRoaXMuX2NhY2hlZEVmZmVjdEZvclZlcnRleEJ1ZmZlcnM9bnVsbCx0aGlzLmJpbmRJbmRleEJ1ZmZlcihudWxsKSl9X2dldFNhbXBsaW5nUGFyYW1ldGVycyhlLHQpe2NvbnN0IGk9dGhpcy5fZ2w7bGV0IHM9aS5ORUFSRVNULHI9aS5ORUFSRVNUO3N3aXRjaChlKXtjYXNlIDExOnM9aS5MSU5FQVIsdD9yPWkuTElORUFSX01JUE1BUF9ORUFSRVNUOnI9aS5MSU5FQVI7YnJlYWs7Y2FzZSAzOnM9aS5MSU5FQVIsdD9yPWkuTElORUFSX01JUE1BUF9MSU5FQVI6cj1pLkxJTkVBUjticmVhaztjYXNlIDg6cz1pLk5FQVJFU1QsdD9yPWkuTkVBUkVTVF9NSVBNQVBfTElORUFSOnI9aS5ORUFSRVNUO2JyZWFrO2Nhc2UgNDpzPWkuTkVBUkVTVCx0P3I9aS5ORUFSRVNUX01JUE1BUF9ORUFSRVNUOnI9aS5ORUFSRVNUO2JyZWFrO2Nhc2UgNTpzPWkuTkVBUkVTVCx0P3I9aS5MSU5FQVJfTUlQTUFQX05FQVJFU1Q6cj1pLkxJTkVBUjticmVhaztjYXNlIDY6cz1pLk5FQVJFU1QsdD9yPWkuTElORUFSX01JUE1BUF9MSU5FQVI6cj1pLkxJTkVBUjticmVhaztjYXNlIDc6cz1pLk5FQVJFU1Qscj1pLkxJTkVBUjticmVhaztjYXNlIDE6cz1pLk5FQVJFU1Qscj1pLk5FQVJFU1Q7YnJlYWs7Y2FzZSA5OnM9aS5MSU5FQVIsdD9yPWkuTkVBUkVTVF9NSVBNQVBfTkVBUkVTVDpyPWkuTkVBUkVTVDticmVhaztjYXNlIDEwOnM9aS5MSU5FQVIsdD9yPWkuTkVBUkVTVF9NSVBNQVBfTElORUFSOnI9aS5ORUFSRVNUO2JyZWFrO2Nhc2UgMjpzPWkuTElORUFSLHI9aS5MSU5FQVI7YnJlYWs7Y2FzZSAxMjpzPWkuTElORUFSLHI9aS5ORUFSRVNUO2JyZWFrfXJldHVybnttaW46cixtYWc6c319X2NyZWF0ZVRleHR1cmUoKXtjb25zdCBlPXRoaXMuX2dsLmNyZWF0ZVRleHR1cmUoKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgdGV4dHVyZSIpO3JldHVybiBlfV9jcmVhdGVIYXJkd2FyZVRleHR1cmUoKXtyZXR1cm4gbmV3IHRyKHRoaXMuX2NyZWF0ZVRleHR1cmUoKSx0aGlzLl9nbCl9X2NyZWF0ZUludGVybmFsVGV4dHVyZShlLHQsaT0hMCxzPU5lLlVua25vd24pe3ZhciByO2xldCBuPSExLGE9MCxvPTMsaD01LGw9ITEsdT0xO3QhPT12b2lkIDAmJnR5cGVvZiB0PT0ib2JqZWN0Ij8obj0hIXQuZ2VuZXJhdGVNaXBNYXBzLGE9dC50eXBlPT09dm9pZCAwPzA6dC50eXBlLG89dC5zYW1wbGluZ01vZGU9PT12b2lkIDA/Mzp0LnNhbXBsaW5nTW9kZSxoPXQuZm9ybWF0PT09dm9pZCAwPzU6dC5mb3JtYXQsbD10LnVzZVNSR0JCdWZmZXI9PT12b2lkIDA/ITE6dC51c2VTUkdCQnVmZmVyLHU9KHI9dC5zYW1wbGVzKSE9PW51bGwmJnIhPT12b2lkIDA/cjoxKTpuPSEhdCxsJiYobD10aGlzLl9jYXBzLnN1cHBvcnRTUkdCQnVmZmVycyYmKHRoaXMud2ViR0xWZXJzaW9uPjF8fHRoaXMuaXNXZWJHUFUpKSwoYT09PTEmJiF0aGlzLl9jYXBzLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZ3x8YT09PTImJiF0aGlzLl9jYXBzLnRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmcpJiYobz0xKSxhPT09MSYmIXRoaXMuX2NhcHMudGV4dHVyZUZsb2F0JiYoYT0wLE8uV2FybigiRmxvYXQgdGV4dHVyZXMgYXJlIG5vdCBzdXBwb3J0ZWQuIFR5cGUgZm9yY2VkIHRvIFRFWFRVUkVUWVBFX1VOU0lHTkVEX0JZVEUiKSk7Y29uc3QgZD10aGlzLl9nbCxmPW5ldyBPdCh0aGlzLHMpLF89ZS53aWR0aHx8ZSxFPWUuaGVpZ2h0fHxlLG09ZS5sYXllcnN8fDAsdj10aGlzLl9nZXRTYW1wbGluZ1BhcmFtZXRlcnMobyxuKSxTPW0hPT0wP2QuVEVYVFVSRV8yRF9BUlJBWTpkLlRFWFRVUkVfMkQseT10aGlzLl9nZXRSR0JBQnVmZmVySW50ZXJuYWxTaXplZEZvcm1hdChhLGgsbCksQT10aGlzLl9nZXRJbnRlcm5hbEZvcm1hdChoKSxDPXRoaXMuX2dldFdlYkdMVGV4dHVyZVR5cGUoYSk7cmV0dXJuIHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoUyxmKSxtIT09MD8oZi5pczJEQXJyYXk9ITAsZC50ZXhJbWFnZTNEKFMsMCx5LF8sRSxtLDAsQSxDLG51bGwpKTpkLnRleEltYWdlMkQoUywwLHksXyxFLDAsQSxDLG51bGwpLGQudGV4UGFyYW1ldGVyaShTLGQuVEVYVFVSRV9NQUdfRklMVEVSLHYubWFnKSxkLnRleFBhcmFtZXRlcmkoUyxkLlRFWFRVUkVfTUlOX0ZJTFRFUix2Lm1pbiksZC50ZXhQYXJhbWV0ZXJpKFMsZC5URVhUVVJFX1dSQVBfUyxkLkNMQU1QX1RPX0VER0UpLGQudGV4UGFyYW1ldGVyaShTLGQuVEVYVFVSRV9XUkFQX1QsZC5DTEFNUF9UT19FREdFKSxuJiZ0aGlzLl9nbC5nZW5lcmF0ZU1pcG1hcChTKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KFMsbnVsbCksZi5fdXNlU1JHQkJ1ZmZlcj1sLGYuYmFzZVdpZHRoPV8sZi5iYXNlSGVpZ2h0PUUsZi53aWR0aD1fLGYuaGVpZ2h0PUUsZi5kZXB0aD1tLGYuaXNSZWFkeT0hMCxmLnNhbXBsZXM9dSxmLmdlbmVyYXRlTWlwTWFwcz1uLGYuc2FtcGxpbmdNb2RlPW8sZi50eXBlPWEsZi5mb3JtYXQ9aCx0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGUucHVzaChmKSxmfV9nZXRVc2VTUkdCQnVmZmVyKGUsdCl7cmV0dXJuIGUmJnRoaXMuX2NhcHMuc3VwcG9ydFNSR0JCdWZmZXJzJiYodGhpcy53ZWJHTFZlcnNpb24+MXx8dGhpcy5pc1dlYkdQVXx8dCl9X2NyZWF0ZVRleHR1cmVCYXNlKGUsdCxpLHMscj0zLG49bnVsbCxhPW51bGwsbyxoLGw9bnVsbCx1PW51bGwsZD1udWxsLGY9bnVsbCxfLEUsbSl7ZT1lfHwiIjtjb25zdCB2PWUuc3Vic3RyKDAsNSk9PT0iZGF0YToiLFM9ZS5zdWJzdHIoMCw1KT09PSJibG9iOiIseT12JiZlLmluZGV4T2YoIjtiYXNlNjQsIikhPT0tMSxBPXV8fG5ldyBPdCh0aGlzLE5lLlVybCksQz1lO3RoaXMuX3RyYW5zZm9ybVRleHR1cmVVcmwmJiF5JiYhdSYmIWwmJihlPXRoaXMuX3RyYW5zZm9ybVRleHR1cmVVcmwoZSkpLEMhPT1lJiYoQS5fb3JpZ2luYWxVcmw9Qyk7Y29uc3QgYj1lLmxhc3RJbmRleE9mKCIuIik7bGV0IE09Znx8KGI+LTE/ZS5zdWJzdHJpbmcoYikudG9Mb3dlckNhc2UoKToiIiksTD1udWxsO00uaW5kZXhPZigiPyIpPi0xJiYoTT1NLnNwbGl0KCI/IilbMF0pO2Zvcihjb25zdCBjZSBvZiBvZS5fVGV4dHVyZUxvYWRlcnMpaWYoY2UuY2FuTG9hZChNLF8pKXtMPWNlO2JyZWFrfXMmJnMuYWRkUGVuZGluZ0RhdGEoQSksQS51cmw9ZSxBLmdlbmVyYXRlTWlwTWFwcz0hdCxBLnNhbXBsaW5nTW9kZT1yLEEuaW52ZXJ0WT1pLEEuX3VzZVNSR0JCdWZmZXI9dGhpcy5fZ2V0VXNlU1JHQkJ1ZmZlcighIW0sdCksdGhpcy5fZG9Ob3RIYW5kbGVDb250ZXh0TG9zdHx8KEEuX2J1ZmZlcj1sKTtsZXQgdz1udWxsO24mJiF1JiYodz1BLm9uTG9hZGVkT2JzZXJ2YWJsZS5hZGQobikpLHV8fHRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZS5wdXNoKEEpO2NvbnN0IGRlPShjZSxzZSk9PntzJiZzLnJlbW92ZVBlbmRpbmdEYXRhKEEpLGU9PT1DPyh3JiZBLm9uTG9hZGVkT2JzZXJ2YWJsZS5yZW1vdmUodyksZmUuVXNlRmFsbGJhY2tUZXh0dXJlJiZ0aGlzLl9jcmVhdGVUZXh0dXJlQmFzZShmZS5GYWxsYmFja1RleHR1cmUsdCxBLmludmVydFkscyxyLG51bGwsYSxvLGgsbCxBKSxjZT0oY2V8fCJVbmtub3duIGVycm9yIikrKGZlLlVzZUZhbGxiYWNrVGV4dHVyZT8iIC0gRmFsbGJhY2sgdGV4dHVyZSB3YXMgdXNlZCI6IiIpLEEub25FcnJvck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHttZXNzYWdlOmNlLGV4Y2VwdGlvbjpzZX0pLGEmJmEoY2Usc2UpKTooTy5XYXJuKGBGYWlsZWQgdG8gbG9hZCAke2V9LCBmYWxsaW5nIGJhY2sgdG8gJHtDfWApLHRoaXMuX2NyZWF0ZVRleHR1cmVCYXNlKEMsdCxBLmludmVydFkscyxyLG4sYSxvLGgsbCxBLGQsZixfLEUsbSkpfTtpZihMKXtjb25zdCBjZT1zZT0+e0wubG9hZERhdGEoc2UsQSwodGUsRmUsd2UsSGUsS2UsWWUpPT57WWU/ZGUoIlRleHR1cmVMb2FkZXIgZmFpbGVkIHRvIGxvYWQgZGF0YSIpOm8oQSxNLHMse3dpZHRoOnRlLGhlaWdodDpGZX0sQS5pbnZlcnRZLCF3ZSxIZSwoKT0+KEtlKCksITEpLHIpfSxFKX07bD9sIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/Y2UobmV3IFVpbnQ4QXJyYXkobCkpOkFycmF5QnVmZmVyLmlzVmlldyhsKT9jZShsKTphJiZhKCJVbmFibGUgdG8gbG9hZDogb25seSBBcnJheUJ1ZmZlciBvciBBcnJheUJ1ZmZlclZpZXcgaXMgc3VwcG9ydGVkIixudWxsKTp0aGlzLl9sb2FkRmlsZShlLHNlPT5jZShuZXcgVWludDhBcnJheShzZSkpLHZvaWQgMCxzP3Mub2ZmbGluZVByb3ZpZGVyOnZvaWQgMCwhMCwoc2UsdGUpPT57ZGUoIlVuYWJsZSB0byBsb2FkICIrKHNlJiZzZS5yZXNwb25zZVVSTCx0ZSkpfSl9ZWxzZXtjb25zdCBjZT1zZT0+e1MmJiF0aGlzLl9kb05vdEhhbmRsZUNvbnRleHRMb3N0JiYoQS5fYnVmZmVyPXNlKSxvKEEsTSxzLHNlLEEuaW52ZXJ0WSx0LCExLGgscil9OyF2fHx5P2wmJih0eXBlb2YgbC5kZWNvZGluZz09InN0cmluZyJ8fGwuY2xvc2UpP2NlKGwpOm9lLl9GaWxlVG9vbHNMb2FkSW1hZ2UoZSxjZSxkZSxzP3Mub2ZmbGluZVByb3ZpZGVyOm51bGwsXyxBLmludmVydFkmJnRoaXMuX2ZlYXR1cmVzLm5lZWRzSW52ZXJ0aW5nQml0bWFwP3tpbWFnZU9yaWVudGF0aW9uOiJmbGlwWSJ9OnZvaWQgMCk6dHlwZW9mIGw9PSJzdHJpbmcifHxsIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fEFycmF5QnVmZmVyLmlzVmlldyhsKXx8bCBpbnN0YW5jZW9mIEJsb2I/b2UuX0ZpbGVUb29sc0xvYWRJbWFnZShsLGNlLGRlLHM/cy5vZmZsaW5lUHJvdmlkZXI6bnVsbCxfLEEuaW52ZXJ0WSYmdGhpcy5fZmVhdHVyZXMubmVlZHNJbnZlcnRpbmdCaXRtYXA/e2ltYWdlT3JpZW50YXRpb246ImZsaXBZIn06dm9pZCAwKTpsJiZjZShsKX1yZXR1cm4gQX1jcmVhdGVUZXh0dXJlKGUsdCxpLHMscj0zLG49bnVsbCxhPW51bGwsbz1udWxsLGg9bnVsbCxsPW51bGwsdT1udWxsLGQsZixfLEUpe3JldHVybiB0aGlzLl9jcmVhdGVUZXh0dXJlQmFzZShlLHQsaSxzLHIsbixhLHRoaXMuX3ByZXBhcmVXZWJHTFRleHR1cmUuYmluZCh0aGlzKSwobSx2LFMseSxBLEMpPT57Y29uc3QgYj10aGlzLl9nbCxNPVMud2lkdGg9PT1tJiZTLmhlaWdodD09PXYsTD1sP3RoaXMuX2dldEludGVybmFsRm9ybWF0KGwsQS5fdXNlU1JHQkJ1ZmZlcik6eT09PSIuanBnIiYmIUEuX3VzZVNSR0JCdWZmZXI/Yi5SR0I6QS5fdXNlU1JHQkJ1ZmZlcj9iLlNSR0I4X0FMUEhBODpiLlJHQkE7bGV0IGs9bD90aGlzLl9nZXRJbnRlcm5hbEZvcm1hdChsKTp5PT09Ii5qcGciJiYhQS5fdXNlU1JHQkJ1ZmZlcj9iLlJHQjpiLlJHQkE7aWYoQS5fdXNlU1JHQkJ1ZmZlciYmdGhpcy53ZWJHTFZlcnNpb249PT0xJiYoaz1MKSxNKXJldHVybiBiLnRleEltYWdlMkQoYi5URVhUVVJFXzJELDAsTCxrLGIuVU5TSUdORURfQllURSxTKSwhMTtjb25zdCB3PXRoaXMuX2NhcHMubWF4VGV4dHVyZVNpemU7aWYoUy53aWR0aD53fHxTLmhlaWdodD53fHwhdGhpcy5fc3VwcG9ydHNIYXJkd2FyZVRleHR1cmVSZXNjYWxpbmcpcmV0dXJuIHRoaXMuX3ByZXBhcmVXb3JraW5nQ2FudmFzKCksIXRoaXMuX3dvcmtpbmdDYW52YXN8fCF0aGlzLl93b3JraW5nQ29udGV4dHx8KHRoaXMuX3dvcmtpbmdDYW52YXMud2lkdGg9bSx0aGlzLl93b3JraW5nQ2FudmFzLmhlaWdodD12LHRoaXMuX3dvcmtpbmdDb250ZXh0LmRyYXdJbWFnZShTLDAsMCxTLndpZHRoLFMuaGVpZ2h0LDAsMCxtLHYpLGIudGV4SW1hZ2UyRChiLlRFWFRVUkVfMkQsMCxMLGssYi5VTlNJR05FRF9CWVRFLHRoaXMuX3dvcmtpbmdDYW52YXMpLEEud2lkdGg9bSxBLmhlaWdodD12KSwhMTt7Y29uc3QgZGU9bmV3IE90KHRoaXMsTmUuVGVtcCk7dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShiLlRFWFRVUkVfMkQsZGUsITApLGIudGV4SW1hZ2UyRChiLlRFWFRVUkVfMkQsMCxMLGssYi5VTlNJR05FRF9CWVRFLFMpLHRoaXMuX3Jlc2NhbGVUZXh0dXJlKGRlLEEscyxMLCgpPT57dGhpcy5fcmVsZWFzZVRleHR1cmUoZGUpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoYi5URVhUVVJFXzJELEEsITApLEMoKX0pfXJldHVybiEwfSxvLGgsbCx1LGQsZixFKX1zdGF0aWMgX0ZpbGVUb29sc0xvYWRJbWFnZShlLHQsaSxzLHIsbil7dGhyb3cgJCgiRmlsZVRvb2xzIil9X3Jlc2NhbGVUZXh0dXJlKGUsdCxpLHMscil7fWNyZWF0ZVJhd1RleHR1cmUoZSx0LGkscyxyLG4sYSxvPW51bGwsaD0wLGw9MCx1PSExKXt0aHJvdyAkKCJFbmdpbmUuUmF3VGV4dHVyZSIpfWNyZWF0ZVJhd0N1YmVUZXh0dXJlKGUsdCxpLHMscixuLGEsbz1udWxsKXt0aHJvdyAkKCJFbmdpbmUuUmF3VGV4dHVyZSIpfWNyZWF0ZVJhd1RleHR1cmUzRChlLHQsaSxzLHIsbixhLG8saD1udWxsLGw9MCl7dGhyb3cgJCgiRW5naW5lLlJhd1RleHR1cmUiKX1jcmVhdGVSYXdUZXh0dXJlMkRBcnJheShlLHQsaSxzLHIsbixhLG8saD1udWxsLGw9MCl7dGhyb3cgJCgiRW5naW5lLlJhd1RleHR1cmUiKX1fdW5wYWNrRmxpcFkoZSl7dGhpcy5fdW5wYWNrRmxpcFlDYWNoZWQhPT1lJiYodGhpcy5fZ2wucGl4ZWxTdG9yZWkodGhpcy5fZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCxlPzE6MCksdGhpcy5lbmFibGVVbnBhY2tGbGlwWUNhY2hlZCYmKHRoaXMuX3VucGFja0ZsaXBZQ2FjaGVkPWUpKX1fZ2V0VW5wYWNrQWxpZ25lbWVudCgpe3JldHVybiB0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuVU5QQUNLX0FMSUdOTUVOVCl9X2dldFRleHR1cmVUYXJnZXQoZSl7cmV0dXJuIGUuaXNDdWJlP3RoaXMuX2dsLlRFWFRVUkVfQ1VCRV9NQVA6ZS5pczNEP3RoaXMuX2dsLlRFWFRVUkVfM0Q6ZS5pczJEQXJyYXl8fGUuaXNNdWx0aXZpZXc/dGhpcy5fZ2wuVEVYVFVSRV8yRF9BUlJBWTp0aGlzLl9nbC5URVhUVVJFXzJEfXVwZGF0ZVRleHR1cmVTYW1wbGluZ01vZGUoZSx0LGk9ITEpe2NvbnN0IHM9dGhpcy5fZ2V0VGV4dHVyZVRhcmdldCh0KSxyPXRoaXMuX2dldFNhbXBsaW5nUGFyYW1ldGVycyhlLHQuZ2VuZXJhdGVNaXBNYXBzfHxpKTt0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihzLHRoaXMuX2dsLlRFWFRVUkVfTUFHX0ZJTFRFUixyLm1hZyx0KSx0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihzLHRoaXMuX2dsLlRFWFRVUkVfTUlOX0ZJTFRFUixyLm1pbiksaSYmKHQuZ2VuZXJhdGVNaXBNYXBzPSEwLHRoaXMuX2dsLmdlbmVyYXRlTWlwbWFwKHMpKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHMsbnVsbCksdC5zYW1wbGluZ01vZGU9ZX11cGRhdGVUZXh0dXJlRGltZW5zaW9ucyhlLHQsaSxzPTEpe311cGRhdGVUZXh0dXJlV3JhcHBpbmdNb2RlKGUsdCxpPW51bGwscz1udWxsKXtjb25zdCByPXRoaXMuX2dldFRleHR1cmVUYXJnZXQoZSk7dCE9PW51bGwmJih0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihyLHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9TLHRoaXMuX2dldFRleHR1cmVXcmFwTW9kZSh0KSxlKSxlLl9jYWNoZWRXcmFwVT10KSxpIT09bnVsbCYmKHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKHIsdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1QsdGhpcy5fZ2V0VGV4dHVyZVdyYXBNb2RlKGkpLGUpLGUuX2NhY2hlZFdyYXBWPWkpLChlLmlzMkRBcnJheXx8ZS5pczNEKSYmcyE9PW51bGwmJih0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihyLHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9SLHRoaXMuX2dldFRleHR1cmVXcmFwTW9kZShzKSxlKSxlLl9jYWNoZWRXcmFwUj1zKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHIsbnVsbCl9X3NldHVwRGVwdGhTdGVuY2lsVGV4dHVyZShlLHQsaSxzLHIsbj0xKXtjb25zdCBhPXQud2lkdGh8fHQsbz10LmhlaWdodHx8dCxoPXQubGF5ZXJzfHwwO2UuYmFzZVdpZHRoPWEsZS5iYXNlSGVpZ2h0PW8sZS53aWR0aD1hLGUuaGVpZ2h0PW8sZS5pczJEQXJyYXk9aD4wLGUuZGVwdGg9aCxlLmlzUmVhZHk9ITAsZS5zYW1wbGVzPW4sZS5nZW5lcmF0ZU1pcE1hcHM9ITEsZS5zYW1wbGluZ01vZGU9cz8yOjEsZS50eXBlPTAsZS5fY29tcGFyaXNvbkZ1bmN0aW9uPXI7Y29uc3QgbD10aGlzLl9nbCx1PXRoaXMuX2dldFRleHR1cmVUYXJnZXQoZSksZD10aGlzLl9nZXRTYW1wbGluZ1BhcmFtZXRlcnMoZS5zYW1wbGluZ01vZGUsITEpO2wudGV4UGFyYW1ldGVyaSh1LGwuVEVYVFVSRV9NQUdfRklMVEVSLGQubWFnKSxsLnRleFBhcmFtZXRlcmkodSxsLlRFWFRVUkVfTUlOX0ZJTFRFUixkLm1pbiksbC50ZXhQYXJhbWV0ZXJpKHUsbC5URVhUVVJFX1dSQVBfUyxsLkNMQU1QX1RPX0VER0UpLGwudGV4UGFyYW1ldGVyaSh1LGwuVEVYVFVSRV9XUkFQX1QsbC5DTEFNUF9UT19FREdFKSx0aGlzLndlYkdMVmVyc2lvbj4xJiYocj09PTA/KGwudGV4UGFyYW1ldGVyaSh1LGwuVEVYVFVSRV9DT01QQVJFX0ZVTkMsNTE1KSxsLnRleFBhcmFtZXRlcmkodSxsLlRFWFRVUkVfQ09NUEFSRV9NT0RFLGwuTk9ORSkpOihsLnRleFBhcmFtZXRlcmkodSxsLlRFWFRVUkVfQ09NUEFSRV9GVU5DLHIpLGwudGV4UGFyYW1ldGVyaSh1LGwuVEVYVFVSRV9DT01QQVJFX01PREUsbC5DT01QQVJFX1JFRl9UT19URVhUVVJFKSkpfV91cGxvYWRDb21wcmVzc2VkRGF0YVRvVGV4dHVyZURpcmVjdGx5KGUsdCxpLHMscixuPTAsYT0wKXtjb25zdCBvPXRoaXMuX2dsO2xldCBoPW8uVEVYVFVSRV8yRDtpZihlLmlzQ3ViZSYmKGg9by5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grbiksZS5fdXNlU1JHQkJ1ZmZlcilzd2l0Y2godCl7Y2FzZSAzNzQ5MjpjYXNlIDM2MTk2OnRoaXMuX2NhcHMuZXRjMj90PW8uQ09NUFJFU1NFRF9TUkdCOF9FVEMyOmUuX3VzZVNSR0JCdWZmZXI9ITE7YnJlYWs7Y2FzZSAzNzQ5Njp0aGlzLl9jYXBzLmV0YzI/dD1vLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0VUQzJfRUFDOmUuX3VzZVNSR0JCdWZmZXI9ITE7YnJlYWs7Y2FzZSAzNjQ5Mjp0PW8uQ09NUFJFU1NFRF9TUkdCX0FMUEhBX0JQVENfVU5PUk1fRVhUO2JyZWFrO2Nhc2UgMzc4MDg6dD1vLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfNHg0X0tIUjticmVhaztjYXNlIDMzNzc2OnRoaXMuX2NhcHMuczN0Y19zcmdiP3Q9by5DT01QUkVTU0VEX1NSR0JfUzNUQ19EWFQxX0VYVDplLl91c2VTUkdCQnVmZmVyPSExO2JyZWFrO2Nhc2UgMzM3Nzc6dGhpcy5fY2Fwcy5zM3RjX3NyZ2I/dD1vLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDFfRVhUOmUuX3VzZVNSR0JCdWZmZXI9ITE7YnJlYWs7Y2FzZSAzMzc3OTp0aGlzLl9jYXBzLnMzdGNfc3JnYj90PW8uQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUNV9FWFQ6ZS5fdXNlU1JHQkJ1ZmZlcj0hMTticmVhaztkZWZhdWx0OmUuX3VzZVNSR0JCdWZmZXI9ITE7YnJlYWt9dGhpcy5fZ2wuY29tcHJlc3NlZFRleEltYWdlMkQoaCxhLHQsaSxzLDAscil9X3VwbG9hZERhdGFUb1RleHR1cmVEaXJlY3RseShlLHQsaT0wLHM9MCxyLG49ITEpe2NvbnN0IGE9dGhpcy5fZ2wsbz10aGlzLl9nZXRXZWJHTFRleHR1cmVUeXBlKGUudHlwZSksaD10aGlzLl9nZXRJbnRlcm5hbEZvcm1hdChlLmZvcm1hdCksbD1yPT09dm9pZCAwP3RoaXMuX2dldFJHQkFCdWZmZXJJbnRlcm5hbFNpemVkRm9ybWF0KGUudHlwZSxlLmZvcm1hdCxlLl91c2VTUkdCQnVmZmVyKTp0aGlzLl9nZXRJbnRlcm5hbEZvcm1hdChyLGUuX3VzZVNSR0JCdWZmZXIpO3RoaXMuX3VucGFja0ZsaXBZKGUuaW52ZXJ0WSk7bGV0IHU9YS5URVhUVVJFXzJEO2UuaXNDdWJlJiYodT1hLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCtpKTtjb25zdCBkPU1hdGgucm91bmQoTWF0aC5sb2coZS53aWR0aCkqTWF0aC5MT0cyRSksZj1NYXRoLnJvdW5kKE1hdGgubG9nKGUuaGVpZ2h0KSpNYXRoLkxPRzJFKSxfPW4/ZS53aWR0aDpNYXRoLnBvdygyLE1hdGgubWF4KGQtcywwKSksRT1uP2UuaGVpZ2h0Ok1hdGgucG93KDIsTWF0aC5tYXgoZi1zLDApKTthLnRleEltYWdlMkQodSxzLGwsXyxFLDAsaCxvLHQpfXVwZGF0ZVRleHR1cmVEYXRhKGUsdCxpLHMscixuLGE9MCxvPTAsaD0hMSl7Y29uc3QgbD10aGlzLl9nbCx1PXRoaXMuX2dldFdlYkdMVGV4dHVyZVR5cGUoZS50eXBlKSxkPXRoaXMuX2dldEludGVybmFsRm9ybWF0KGUuZm9ybWF0KTt0aGlzLl91bnBhY2tGbGlwWShlLmludmVydFkpO2xldCBmPWwuVEVYVFVSRV8yRCxfPWwuVEVYVFVSRV8yRDtlLmlzQ3ViZSYmKF89bC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grYSxmPWwuVEVYVFVSRV9DVUJFX01BUCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShmLGUsITApLGwudGV4U3ViSW1hZ2UyRChfLG8saSxzLHIsbixkLHUsdCksaCYmdGhpcy5fZ2wuZ2VuZXJhdGVNaXBtYXAoXyksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShmLG51bGwpfV91cGxvYWRBcnJheUJ1ZmZlclZpZXdUb1RleHR1cmUoZSx0LGk9MCxzPTApe2NvbnN0IHI9dGhpcy5fZ2wsbj1lLmlzQ3ViZT9yLlRFWFRVUkVfQ1VCRV9NQVA6ci5URVhUVVJFXzJEO3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkobixlLCEwKSx0aGlzLl91cGxvYWREYXRhVG9UZXh0dXJlRGlyZWN0bHkoZSx0LGkscyksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShuLG51bGwsITApfV9wcmVwYXJlV2ViR0xUZXh0dXJlQ29udGludWF0aW9uKGUsdCxpLHMscil7Y29uc3Qgbj10aGlzLl9nbDtpZighbilyZXR1cm47Y29uc3QgYT10aGlzLl9nZXRTYW1wbGluZ1BhcmFtZXRlcnMociwhaSk7bi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV8yRCxuLlRFWFRVUkVfTUFHX0ZJTFRFUixhLm1hZyksbi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV8yRCxuLlRFWFRVUkVfTUlOX0ZJTFRFUixhLm1pbiksIWkmJiFzJiZuLmdlbmVyYXRlTWlwbWFwKG4uVEVYVFVSRV8yRCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShuLlRFWFRVUkVfMkQsbnVsbCksdCYmdC5yZW1vdmVQZW5kaW5nRGF0YShlKSxlLm9uTG9hZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksZS5vbkxvYWRlZE9ic2VydmFibGUuY2xlYXIoKX1fcHJlcGFyZVdlYkdMVGV4dHVyZShlLHQsaSxzLHIsbixhLG8saD0zKXtjb25zdCBsPXRoaXMuZ2V0Q2FwcygpLm1heFRleHR1cmVTaXplLHU9TWF0aC5taW4obCx0aGlzLm5lZWRQT1RUZXh0dXJlcz9vZS5HZXRFeHBvbmVudE9mVHdvKHMud2lkdGgsbCk6cy53aWR0aCksZD1NYXRoLm1pbihsLHRoaXMubmVlZFBPVFRleHR1cmVzP29lLkdldEV4cG9uZW50T2ZUd28ocy5oZWlnaHQsbCk6cy5oZWlnaHQpLGY9dGhpcy5fZ2w7aWYoZil7aWYoIWUuX2hhcmR3YXJlVGV4dHVyZSl7aSYmaS5yZW1vdmVQZW5kaW5nRGF0YShlKTtyZXR1cm59dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShmLlRFWFRVUkVfMkQsZSwhMCksdGhpcy5fdW5wYWNrRmxpcFkocj09PXZvaWQgMD8hMDohIXIpLGUuYmFzZVdpZHRoPXMud2lkdGgsZS5iYXNlSGVpZ2h0PXMuaGVpZ2h0LGUud2lkdGg9dSxlLmhlaWdodD1kLGUuaXNSZWFkeT0hMCwhbyh1LGQscyx0LGUsKCk9Pnt0aGlzLl9wcmVwYXJlV2ViR0xUZXh0dXJlQ29udGludWF0aW9uKGUsaSxuLGEsaCl9KSYmdGhpcy5fcHJlcGFyZVdlYkdMVGV4dHVyZUNvbnRpbnVhdGlvbihlLGksbixhLGgpfX1fc2V0dXBGcmFtZWJ1ZmZlckRlcHRoQXR0YWNobWVudHMoZSx0LGkscyxyPTEpe2NvbnN0IG49dGhpcy5fZ2w7aWYoZSYmdClyZXR1cm4gdGhpcy5fY3JlYXRlUmVuZGVyQnVmZmVyKGkscyxyLG4uREVQVEhfU1RFTkNJTCxuLkRFUFRIMjRfU1RFTkNJTDgsbi5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQpO2lmKHQpe2xldCBhPW4uREVQVEhfQ09NUE9ORU5UMTY7cmV0dXJuIHRoaXMuX3dlYkdMVmVyc2lvbj4xJiYoYT1uLkRFUFRIX0NPTVBPTkVOVDMyRiksdGhpcy5fY3JlYXRlUmVuZGVyQnVmZmVyKGkscyxyLGEsYSxuLkRFUFRIX0FUVEFDSE1FTlQpfXJldHVybiBlP3RoaXMuX2NyZWF0ZVJlbmRlckJ1ZmZlcihpLHMscixuLlNURU5DSUxfSU5ERVg4LG4uU1RFTkNJTF9JTkRFWDgsbi5TVEVOQ0lMX0FUVEFDSE1FTlQpOm51bGx9X2NyZWF0ZVJlbmRlckJ1ZmZlcihlLHQsaSxzLHIsbixhPSEwKXtjb25zdCBoPXRoaXMuX2dsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO3JldHVybiB0aGlzLl91cGRhdGVSZW5kZXJCdWZmZXIoaCxlLHQsaSxzLHIsbixhKX1fdXBkYXRlUmVuZGVyQnVmZmVyKGUsdCxpLHMscixuLGEsbz0hMCl7Y29uc3QgaD10aGlzLl9nbDtyZXR1cm4gaC5iaW5kUmVuZGVyYnVmZmVyKGguUkVOREVSQlVGRkVSLGUpLHM+MSYmaC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGU/aC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUoaC5SRU5ERVJCVUZGRVIscyxuLHQsaSk6aC5yZW5kZXJidWZmZXJTdG9yYWdlKGguUkVOREVSQlVGRkVSLHIsdCxpKSxoLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGguRlJBTUVCVUZGRVIsYSxoLlJFTkRFUkJVRkZFUixlKSxvJiZoLmJpbmRSZW5kZXJidWZmZXIoaC5SRU5ERVJCVUZGRVIsbnVsbCksZX1fcmVsZWFzZVRleHR1cmUoZSl7dmFyIHQ7dGhpcy5fZGVsZXRlVGV4dHVyZSgodD1lLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC51bmRlcmx5aW5nUmVzb3VyY2UpLHRoaXMudW5iaW5kQWxsVGV4dHVyZXMoKTtjb25zdCBpPXRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZS5pbmRleE9mKGUpO2khPT0tMSYmdGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLnNwbGljZShpLDEpLGUuX2xvZFRleHR1cmVIaWdoJiZlLl9sb2RUZXh0dXJlSGlnaC5kaXNwb3NlKCksZS5fbG9kVGV4dHVyZU1pZCYmZS5fbG9kVGV4dHVyZU1pZC5kaXNwb3NlKCksZS5fbG9kVGV4dHVyZUxvdyYmZS5fbG9kVGV4dHVyZUxvdy5kaXNwb3NlKCksZS5faXJyYWRpYW5jZVRleHR1cmUmJmUuX2lycmFkaWFuY2VUZXh0dXJlLmRpc3Bvc2UoKX1fcmVsZWFzZVJlbmRlclRhcmdldFdyYXBwZXIoZSl7Y29uc3QgdD10aGlzLl9yZW5kZXJUYXJnZXRXcmFwcGVyQ2FjaGUuaW5kZXhPZihlKTt0IT09LTEmJnRoaXMuX3JlbmRlclRhcmdldFdyYXBwZXJDYWNoZS5zcGxpY2UodCwxKX1fZGVsZXRlVGV4dHVyZShlKXtlJiZ0aGlzLl9nbC5kZWxldGVUZXh0dXJlKGUpfV9zZXRQcm9ncmFtKGUpe3RoaXMuX2N1cnJlbnRQcm9ncmFtIT09ZSYmKHRoaXMuX2dsLnVzZVByb2dyYW0oZSksdGhpcy5fY3VycmVudFByb2dyYW09ZSl9YmluZFNhbXBsZXJzKGUpe2NvbnN0IHQ9ZS5nZXRQaXBlbGluZUNvbnRleHQoKTt0aGlzLl9zZXRQcm9ncmFtKHQucHJvZ3JhbSk7Y29uc3QgaT1lLmdldFNhbXBsZXJzKCk7Zm9yKGxldCBzPTA7czxpLmxlbmd0aDtzKyspe2NvbnN0IHI9ZS5nZXRVbmlmb3JtKGlbc10pO3ImJih0aGlzLl9ib3VuZFVuaWZvcm1zW3NdPXIpfXRoaXMuX2N1cnJlbnRFZmZlY3Q9bnVsbH1fYWN0aXZhdGVDdXJyZW50VGV4dHVyZSgpe3RoaXMuX2N1cnJlbnRUZXh0dXJlQ2hhbm5lbCE9PXRoaXMuX2FjdGl2ZUNoYW5uZWwmJih0aGlzLl9nbC5hY3RpdmVUZXh0dXJlKHRoaXMuX2dsLlRFWFRVUkUwK3RoaXMuX2FjdGl2ZUNoYW5uZWwpLHRoaXMuX2N1cnJlbnRUZXh0dXJlQ2hhbm5lbD10aGlzLl9hY3RpdmVDaGFubmVsKX1fYmluZFRleHR1cmVEaXJlY3RseShlLHQsaT0hMSxzPSExKXt2YXIgcixuO2xldCBhPSExO2NvbnN0IG89dCYmdC5fYXNzb2NpYXRlZENoYW5uZWw+LTE7aWYoaSYmbyYmKHRoaXMuX2FjdGl2ZUNoYW5uZWw9dC5fYXNzb2NpYXRlZENoYW5uZWwpLHRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZVt0aGlzLl9hY3RpdmVDaGFubmVsXSE9PXR8fHMpe2lmKHRoaXMuX2FjdGl2YXRlQ3VycmVudFRleHR1cmUoKSx0JiZ0LmlzTXVsdGl2aWV3KXRocm93IGNvbnNvbGUuZXJyb3IoZSx0KSwiX2JpbmRUZXh0dXJlRGlyZWN0bHkgY2FsbGVkIHdpdGggYSBtdWx0aXZpZXcgdGV4dHVyZSEiO3RoaXMuX2dsLmJpbmRUZXh0dXJlKGUsKG49KHI9dD09bnVsbD92b2lkIDA6dC5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIudW5kZXJseWluZ1Jlc291cmNlKSE9PW51bGwmJm4hPT12b2lkIDA/bjpudWxsKSx0aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGVbdGhpcy5fYWN0aXZlQ2hhbm5lbF09dCx0JiYodC5fYXNzb2NpYXRlZENoYW5uZWw9dGhpcy5fYWN0aXZlQ2hhbm5lbCl9ZWxzZSBpJiYoYT0hMCx0aGlzLl9hY3RpdmF0ZUN1cnJlbnRUZXh0dXJlKCkpO3JldHVybiBvJiYhaSYmdGhpcy5fYmluZFNhbXBsZXJVbmlmb3JtVG9DaGFubmVsKHQuX2Fzc29jaWF0ZWRDaGFubmVsLHRoaXMuX2FjdGl2ZUNoYW5uZWwpLGF9X2JpbmRUZXh0dXJlKGUsdCxpKXtpZihlPT09dm9pZCAwKXJldHVybjt0JiYodC5fYXNzb2NpYXRlZENoYW5uZWw9ZSksdGhpcy5fYWN0aXZlQ2hhbm5lbD1lO2NvbnN0IHM9dD90aGlzLl9nZXRUZXh0dXJlVGFyZ2V0KHQpOnRoaXMuX2dsLlRFWFRVUkVfMkQ7dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShzLHQpfXVuYmluZEFsbFRleHR1cmVzKCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl9tYXhTaW11bHRhbmVvdXNUZXh0dXJlcztlKyspdGhpcy5fYWN0aXZlQ2hhbm5lbD1lLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8yRCxudWxsKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfQ1VCRV9NQVAsbnVsbCksdGhpcy53ZWJHTFZlcnNpb24+MSYmKHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8zRCxudWxsKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkRfQVJSQVksbnVsbCkpfXNldFRleHR1cmUoZSx0LGkscyl7ZSE9PXZvaWQgMCYmKHQmJih0aGlzLl9ib3VuZFVuaWZvcm1zW2VdPXQpLHRoaXMuX3NldFRleHR1cmUoZSxpKSl9X2JpbmRTYW1wbGVyVW5pZm9ybVRvQ2hhbm5lbChlLHQpe2NvbnN0IGk9dGhpcy5fYm91bmRVbmlmb3Jtc1tlXTshaXx8aS5fY3VycmVudFN0YXRlPT09dHx8KHRoaXMuX2dsLnVuaWZvcm0xaShpLHQpLGkuX2N1cnJlbnRTdGF0ZT10KX1fZ2V0VGV4dHVyZVdyYXBNb2RlKGUpe3N3aXRjaChlKXtjYXNlIDE6cmV0dXJuIHRoaXMuX2dsLlJFUEVBVDtjYXNlIDA6cmV0dXJuIHRoaXMuX2dsLkNMQU1QX1RPX0VER0U7Y2FzZSAyOnJldHVybiB0aGlzLl9nbC5NSVJST1JFRF9SRVBFQVR9cmV0dXJuIHRoaXMuX2dsLlJFUEVBVH1fc2V0VGV4dHVyZShlLHQsaT0hMSxzPSExLHI9IiIpe2lmKCF0KXJldHVybiB0aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGVbZV0hPW51bGwmJih0aGlzLl9hY3RpdmVDaGFubmVsPWUsdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJELG51bGwpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV9DVUJFX01BUCxudWxsKSx0aGlzLndlYkdMVmVyc2lvbj4xJiYodGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzNELG51bGwpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8yRF9BUlJBWSxudWxsKSkpLCExO2lmKHQudmlkZW8pdGhpcy5fYWN0aXZlQ2hhbm5lbD1lLHQudXBkYXRlKCk7ZWxzZSBpZih0LmRlbGF5TG9hZFN0YXRlPT09NClyZXR1cm4gdC5kZWxheUxvYWQoKSwhMTtsZXQgbjtzP249dC5kZXB0aFN0ZW5jaWxUZXh0dXJlOnQuaXNSZWFkeSgpP249dC5nZXRJbnRlcm5hbFRleHR1cmUoKTp0LmlzQ3ViZT9uPXRoaXMuZW1wdHlDdWJlVGV4dHVyZTp0LmlzM0Q/bj10aGlzLmVtcHR5VGV4dHVyZTNEOnQuaXMyREFycmF5P249dGhpcy5lbXB0eVRleHR1cmUyREFycmF5Om49dGhpcy5lbXB0eVRleHR1cmUsIWkmJm4mJihuLl9hc3NvY2lhdGVkQ2hhbm5lbD1lKTtsZXQgYT0hMDt0aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGVbZV09PT1uJiYoaXx8dGhpcy5fYmluZFNhbXBsZXJVbmlmb3JtVG9DaGFubmVsKG4uX2Fzc29jaWF0ZWRDaGFubmVsLGUpLGE9ITEpLHRoaXMuX2FjdGl2ZUNoYW5uZWw9ZTtjb25zdCBvPXRoaXMuX2dldFRleHR1cmVUYXJnZXQobik7aWYoYSYmdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShvLG4saSksbiYmIW4uaXNNdWx0aXZpZXcpe2lmKG4uaXNDdWJlJiZuLl9jYWNoZWRDb29yZGluYXRlc01vZGUhPT10LmNvb3JkaW5hdGVzTW9kZSl7bi5fY2FjaGVkQ29vcmRpbmF0ZXNNb2RlPXQuY29vcmRpbmF0ZXNNb2RlO2NvbnN0IGg9dC5jb29yZGluYXRlc01vZGUhPT0zJiZ0LmNvb3JkaW5hdGVzTW9kZSE9PTU/MTowO3Qud3JhcFU9aCx0LndyYXBWPWh9bi5fY2FjaGVkV3JhcFUhPT10LndyYXBVJiYobi5fY2FjaGVkV3JhcFU9dC53cmFwVSx0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihvLHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9TLHRoaXMuX2dldFRleHR1cmVXcmFwTW9kZSh0LndyYXBVKSxuKSksbi5fY2FjaGVkV3JhcFYhPT10LndyYXBWJiYobi5fY2FjaGVkV3JhcFY9dC53cmFwVix0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihvLHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9ULHRoaXMuX2dldFRleHR1cmVXcmFwTW9kZSh0LndyYXBWKSxuKSksbi5pczNEJiZuLl9jYWNoZWRXcmFwUiE9PXQud3JhcFImJihuLl9jYWNoZWRXcmFwUj10LndyYXBSLHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKG8sdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1IsdGhpcy5fZ2V0VGV4dHVyZVdyYXBNb2RlKHQud3JhcFIpLG4pKSx0aGlzLl9zZXRBbmlzb3Ryb3BpY0xldmVsKG8sbix0LmFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWwpfXJldHVybiEwfXNldFRleHR1cmVBcnJheShlLHQsaSxzKXtpZighKGU9PT12b2lkIDB8fCF0KSl7KCF0aGlzLl90ZXh0dXJlVW5pdHN8fHRoaXMuX3RleHR1cmVVbml0cy5sZW5ndGghPT1pLmxlbmd0aCkmJih0aGlzLl90ZXh0dXJlVW5pdHM9bmV3IEludDMyQXJyYXkoaS5sZW5ndGgpKTtmb3IobGV0IHI9MDtyPGkubGVuZ3RoO3IrKyl7Y29uc3Qgbj1pW3JdLmdldEludGVybmFsVGV4dHVyZSgpO24/KHRoaXMuX3RleHR1cmVVbml0c1tyXT1lK3Isbi5fYXNzb2NpYXRlZENoYW5uZWw9ZStyKTp0aGlzLl90ZXh0dXJlVW5pdHNbcl09LTF9dGhpcy5fZ2wudW5pZm9ybTFpdih0LHRoaXMuX3RleHR1cmVVbml0cyk7Zm9yKGxldCByPTA7cjxpLmxlbmd0aDtyKyspdGhpcy5fc2V0VGV4dHVyZSh0aGlzLl90ZXh0dXJlVW5pdHNbcl0saVtyXSwhMCl9fV9zZXRBbmlzb3Ryb3BpY0xldmVsKGUsdCxpKXtjb25zdCBzPXRoaXMuX2NhcHMudGV4dHVyZUFuaXNvdHJvcGljRmlsdGVyRXh0ZW5zaW9uO3Quc2FtcGxpbmdNb2RlIT09MTEmJnQuc2FtcGxpbmdNb2RlIT09MyYmdC5zYW1wbGluZ01vZGUhPT0yJiYoaT0xKSxzJiZ0Ll9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsIT09aSYmKHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJGbG9hdChlLHMuVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQsTWF0aC5taW4oaSx0aGlzLl9jYXBzLm1heEFuaXNvdHJvcHkpLHQpLHQuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9aSl9X3NldFRleHR1cmVQYXJhbWV0ZXJGbG9hdChlLHQsaSxzKXt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGUscywhMCwhMCksdGhpcy5fZ2wudGV4UGFyYW1ldGVyZihlLHQsaSl9X3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKGUsdCxpLHMpe3MmJnRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoZSxzLCEwLCEwKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJpKGUsdCxpKX11bmJpbmRBbGxBdHRyaWJ1dGVzKCl7aWYodGhpcy5fbXVzdFdpcGVWZXJ0ZXhBdHRyaWJ1dGVzKXt0aGlzLl9tdXN0V2lwZVZlcnRleEF0dHJpYnV0ZXM9ITE7Zm9yKGxldCBlPTA7ZTx0aGlzLl9jYXBzLm1heFZlcnRleEF0dHJpYnM7ZSsrKXRoaXMuZGlzYWJsZUF0dHJpYnV0ZUJ5SW5kZXgoZSk7cmV0dXJufWZvcihsZXQgZT0wLHQ9dGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZC5sZW5ndGg7ZTx0O2UrKyllPj10aGlzLl9jYXBzLm1heFZlcnRleEF0dHJpYnN8fCF0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW2VdfHx0aGlzLmRpc2FibGVBdHRyaWJ1dGVCeUluZGV4KGUpfXJlbGVhc2VFZmZlY3RzKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fY29tcGlsZWRFZmZlY3RzKXtjb25zdCB0PXRoaXMuX2NvbXBpbGVkRWZmZWN0c1tlXS5nZXRQaXBlbGluZUNvbnRleHQoKTt0aGlzLl9kZWxldGVQaXBlbGluZUNvbnRleHQodCl9dGhpcy5fY29tcGlsZWRFZmZlY3RzPXt9fWRpc3Bvc2UoKXt2YXIgZTt0aGlzLnN0b3BSZW5kZXJMb29wKCksdGhpcy5vbkJlZm9yZVRleHR1cmVJbml0T2JzZXJ2YWJsZSYmdGhpcy5vbkJlZm9yZVRleHR1cmVJbml0T2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX2VtcHR5VGV4dHVyZSYmKHRoaXMuX3JlbGVhc2VUZXh0dXJlKHRoaXMuX2VtcHR5VGV4dHVyZSksdGhpcy5fZW1wdHlUZXh0dXJlPW51bGwpLHRoaXMuX2VtcHR5Q3ViZVRleHR1cmUmJih0aGlzLl9yZWxlYXNlVGV4dHVyZSh0aGlzLl9lbXB0eUN1YmVUZXh0dXJlKSx0aGlzLl9lbXB0eUN1YmVUZXh0dXJlPW51bGwpLHRoaXMuX2R1bW15RnJhbWVidWZmZXImJnRoaXMuX2dsLmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuX2R1bW15RnJhbWVidWZmZXIpLHRoaXMucmVsZWFzZUVmZmVjdHMoKSwoZT10aGlzLnJlbGVhc2VDb21wdXRlRWZmZWN0cyk9PT1udWxsfHxlPT09dm9pZCAwfHxlLmNhbGwodGhpcyksdGhpcy51bmJpbmRBbGxBdHRyaWJ1dGVzKCksdGhpcy5fYm91bmRVbmlmb3Jtcz17fSxqZSgpJiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMmJih0aGlzLl9kb05vdEhhbmRsZUNvbnRleHRMb3N0fHwodGhpcy5fcmVuZGVyaW5nQ2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dGxvc3QiLHRoaXMuX29uQ29udGV4dExvc3QpLHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRyZXN0b3JlZCIsdGhpcy5fb25Db250ZXh0UmVzdG9yZWQpKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVzaXplIix0aGlzLl9jaGVja0Zvck1vYmlsZSkpLHRoaXMuX3dvcmtpbmdDYW52YXM9bnVsbCx0aGlzLl93b3JraW5nQ29udGV4dD1udWxsLHRoaXMuX2N1cnJlbnRCdWZmZXJQb2ludGVycy5sZW5ndGg9MCx0aGlzLl9yZW5kZXJpbmdDYW52YXM9bnVsbCx0aGlzLl9jdXJyZW50UHJvZ3JhbT1udWxsLHRoaXMuX2JvdW5kUmVuZGVyRnVuY3Rpb249bnVsbCxQZS5SZXNldENhY2hlKCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fYWN0aXZlUmVxdWVzdHMpdC5hYm9ydCgpO3RoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmNsZWFyKCl9YXR0YWNoQ29udGV4dExvc3RFdmVudChlKXt0aGlzLl9yZW5kZXJpbmdDYW52YXMmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRsb3N0IixlLCExKX1hdHRhY2hDb250ZXh0UmVzdG9yZWRFdmVudChlKXt0aGlzLl9yZW5kZXJpbmdDYW52YXMmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRyZXN0b3JlZCIsZSwhMSl9Z2V0RXJyb3IoKXtyZXR1cm4gdGhpcy5fZ2wuZ2V0RXJyb3IoKX1fY2FuUmVuZGVyVG9GbG9hdEZyYW1lYnVmZmVyKCl7cmV0dXJuIHRoaXMuX3dlYkdMVmVyc2lvbj4xP3RoaXMuX2NhcHMuY29sb3JCdWZmZXJGbG9hdDp0aGlzLl9jYW5SZW5kZXJUb0ZyYW1lYnVmZmVyKDEpfV9jYW5SZW5kZXJUb0hhbGZGbG9hdEZyYW1lYnVmZmVyKCl7cmV0dXJuIHRoaXMuX3dlYkdMVmVyc2lvbj4xP3RoaXMuX2NhcHMuY29sb3JCdWZmZXJGbG9hdDp0aGlzLl9jYW5SZW5kZXJUb0ZyYW1lYnVmZmVyKDIpfV9jYW5SZW5kZXJUb0ZyYW1lYnVmZmVyKGUpe2NvbnN0IHQ9dGhpcy5fZ2w7Zm9yKDt0LmdldEVycm9yKCkhPT10Lk5PX0VSUk9SOyk7bGV0IGk9ITA7Y29uc3Qgcz10LmNyZWF0ZVRleHR1cmUoKTt0LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCxzKSx0LnRleEltYWdlMkQodC5URVhUVVJFXzJELDAsdGhpcy5fZ2V0UkdCQUJ1ZmZlckludGVybmFsU2l6ZWRGb3JtYXQoZSksMSwxLDAsdC5SR0JBLHRoaXMuX2dldFdlYkdMVGV4dHVyZVR5cGUoZSksbnVsbCksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfTUlOX0ZJTFRFUix0Lk5FQVJFU1QpLHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX01BR19GSUxURVIsdC5ORUFSRVNUKTtjb25zdCByPXQuY3JlYXRlRnJhbWVidWZmZXIoKTt0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLHIpLHQuZnJhbWVidWZmZXJUZXh0dXJlMkQodC5GUkFNRUJVRkZFUix0LkNPTE9SX0FUVEFDSE1FTlQwLHQuVEVYVFVSRV8yRCxzLDApO2NvbnN0IG49dC5jaGVja0ZyYW1lYnVmZmVyU3RhdHVzKHQuRlJBTUVCVUZGRVIpO2lmKGk9aSYmbj09PXQuRlJBTUVCVUZGRVJfQ09NUExFVEUsaT1pJiZ0LmdldEVycm9yKCk9PT10Lk5PX0VSUk9SLGkmJih0LmNsZWFyKHQuQ09MT1JfQlVGRkVSX0JJVCksaT1pJiZ0LmdldEVycm9yKCk9PT10Lk5PX0VSUk9SKSxpKXt0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLG51bGwpO2NvbnN0IGE9dC5SR0JBLG89dC5VTlNJR05FRF9CWVRFLGg9bmV3IFVpbnQ4QXJyYXkoNCk7dC5yZWFkUGl4ZWxzKDAsMCwxLDEsYSxvLGgpLGk9aSYmdC5nZXRFcnJvcigpPT09dC5OT19FUlJPUn1mb3IodC5kZWxldGVUZXh0dXJlKHMpLHQuZGVsZXRlRnJhbWVidWZmZXIociksdC5iaW5kRnJhbWVidWZmZXIodC5GUkFNRUJVRkZFUixudWxsKTshaSYmdC5nZXRFcnJvcigpIT09dC5OT19FUlJPUjspO3JldHVybiBpfV9nZXRXZWJHTFRleHR1cmVUeXBlKGUpe2lmKHRoaXMuX3dlYkdMVmVyc2lvbj09PTEpe3N3aXRjaChlKXtjYXNlIDE6cmV0dXJuIHRoaXMuX2dsLkZMT0FUO2Nhc2UgMjpyZXR1cm4gdGhpcy5fZ2wuSEFMRl9GTE9BVF9PRVM7Y2FzZSAwOnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9CWVRFO2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlRfNF80XzRfNDtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX1NIT1JUXzVfNV81XzE7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlRfNV82XzV9cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX0JZVEV9c3dpdGNoKGUpe2Nhc2UgMzpyZXR1cm4gdGhpcy5fZ2wuQllURTtjYXNlIDA6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX0JZVEU7Y2FzZSA0OnJldHVybiB0aGlzLl9nbC5TSE9SVDtjYXNlIDU6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX1NIT1JUO2Nhc2UgNjpyZXR1cm4gdGhpcy5fZ2wuSU5UO2Nhc2UgNzpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfSU5UO2Nhc2UgMTpyZXR1cm4gdGhpcy5fZ2wuRkxPQVQ7Y2FzZSAyOnJldHVybiB0aGlzLl9nbC5IQUxGX0ZMT0FUO2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlRfNF80XzRfNDtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX1NIT1JUXzVfNV81XzE7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlRfNV82XzU7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfSU5UXzJfMTBfMTBfMTBfUkVWO2Nhc2UgMTI6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX0lOVF8yNF84O2Nhc2UgMTM6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX0lOVF8xMEZfMTFGXzExRl9SRVY7Y2FzZSAxNDpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfSU5UXzVfOV85XzlfUkVWO2Nhc2UgMTU6cmV0dXJuIHRoaXMuX2dsLkZMT0FUXzMyX1VOU0lHTkVEX0lOVF8yNF84X1JFVn1yZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfQllURX1fZ2V0SW50ZXJuYWxGb3JtYXQoZSx0PSExKXtsZXQgaT10P3RoaXMuX2dsLlNSR0I4X0FMUEhBODp0aGlzLl9nbC5SR0JBO3N3aXRjaChlKXtjYXNlIDA6aT10aGlzLl9nbC5BTFBIQTticmVhaztjYXNlIDE6aT10aGlzLl9nbC5MVU1JTkFOQ0U7YnJlYWs7Y2FzZSAyOmk9dGhpcy5fZ2wuTFVNSU5BTkNFX0FMUEhBO2JyZWFrO2Nhc2UgNjppPXRoaXMuX2dsLlJFRDticmVhaztjYXNlIDc6aT10aGlzLl9nbC5SRzticmVhaztjYXNlIDQ6aT10P3RoaXMuX2dsLlNSR0I6dGhpcy5fZ2wuUkdCO2JyZWFrO2Nhc2UgNTppPXQ/dGhpcy5fZ2wuU1JHQjhfQUxQSEE4OnRoaXMuX2dsLlJHQkE7YnJlYWt9aWYodGhpcy5fd2ViR0xWZXJzaW9uPjEpc3dpdGNoKGUpe2Nhc2UgODppPXRoaXMuX2dsLlJFRF9JTlRFR0VSO2JyZWFrO2Nhc2UgOTppPXRoaXMuX2dsLlJHX0lOVEVHRVI7YnJlYWs7Y2FzZSAxMDppPXRoaXMuX2dsLlJHQl9JTlRFR0VSO2JyZWFrO2Nhc2UgMTE6aT10aGlzLl9nbC5SR0JBX0lOVEVHRVI7YnJlYWt9cmV0dXJuIGl9X2dldFJHQkFCdWZmZXJJbnRlcm5hbFNpemVkRm9ybWF0KGUsdCxpPSExKXtpZih0aGlzLl93ZWJHTFZlcnNpb249PT0xKXtpZih0IT09dm9pZCAwKXN3aXRjaCh0KXtjYXNlIDA6cmV0dXJuIHRoaXMuX2dsLkFMUEhBO2Nhc2UgMTpyZXR1cm4gdGhpcy5fZ2wuTFVNSU5BTkNFO2Nhc2UgMjpyZXR1cm4gdGhpcy5fZ2wuTFVNSU5BTkNFX0FMUEhBO2Nhc2UgNDpyZXR1cm4gaT90aGlzLl9nbC5TUkdCOnRoaXMuX2dsLlJHQn1yZXR1cm4gdGhpcy5fZ2wuUkdCQX1zd2l0Y2goZSl7Y2FzZSAzOnN3aXRjaCh0KXtjYXNlIDY6cmV0dXJuIHRoaXMuX2dsLlI4X1NOT1JNO2Nhc2UgNzpyZXR1cm4gdGhpcy5fZ2wuUkc4X1NOT1JNO2Nhc2UgNDpyZXR1cm4gdGhpcy5fZ2wuUkdCOF9TTk9STTtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlI4STtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlJHOEk7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuUkdCOEk7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuUkdCQThJO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkE4X1NOT1JNfWNhc2UgMDpzd2l0Y2godCl7Y2FzZSA2OnJldHVybiB0aGlzLl9nbC5SODtjYXNlIDc6cmV0dXJuIHRoaXMuX2dsLlJHODtjYXNlIDQ6cmV0dXJuIGk/dGhpcy5fZ2wuU1JHQjg6dGhpcy5fZ2wuUkdCODtjYXNlIDU6cmV0dXJuIGk/dGhpcy5fZ2wuU1JHQjhfQUxQSEE4OnRoaXMuX2dsLlJHQkE4O2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuUjhVSTtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlJHOFVJO2Nhc2UgMTA6cmV0dXJuIHRoaXMuX2dsLlJHQjhVSTtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5SR0JBOFVJO2Nhc2UgMDpyZXR1cm4gdGhpcy5fZ2wuQUxQSEE7Y2FzZSAxOnJldHVybiB0aGlzLl9nbC5MVU1JTkFOQ0U7Y2FzZSAyOnJldHVybiB0aGlzLl9nbC5MVU1JTkFOQ0VfQUxQSEE7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQTh9Y2FzZSA0OnN3aXRjaCh0KXtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlIxNkk7Y2FzZSA5OnJldHVybiB0aGlzLl9nbC5SRzE2STtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5SR0IxNkk7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuUkdCQTE2STtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBMTZJfWNhc2UgNTpzd2l0Y2godCl7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5SMTZVSTtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlJHMTZVSTtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5SR0IxNlVJO2Nhc2UgMTE6cmV0dXJuIHRoaXMuX2dsLlJHQkExNlVJO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkExNlVJfWNhc2UgNjpzd2l0Y2godCl7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5SMzJJO2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuUkczMkk7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuUkdCMzJJO2Nhc2UgMTE6cmV0dXJuIHRoaXMuX2dsLlJHQkEzMkk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQTMySX1jYXNlIDc6c3dpdGNoKHQpe2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuUjMyVUk7Y2FzZSA5OnJldHVybiB0aGlzLl9nbC5SRzMyVUk7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuUkdCMzJVSTtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5SR0JBMzJVSTtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBMzJVSX1jYXNlIDE6c3dpdGNoKHQpe2Nhc2UgNjpyZXR1cm4gdGhpcy5fZ2wuUjMyRjtjYXNlIDc6cmV0dXJuIHRoaXMuX2dsLlJHMzJGO2Nhc2UgNDpyZXR1cm4gdGhpcy5fZ2wuUkdCMzJGO2Nhc2UgNTpyZXR1cm4gdGhpcy5fZ2wuUkdCQTMyRjtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBMzJGfWNhc2UgMjpzd2l0Y2godCl7Y2FzZSA2OnJldHVybiB0aGlzLl9nbC5SMTZGO2Nhc2UgNzpyZXR1cm4gdGhpcy5fZ2wuUkcxNkY7Y2FzZSA0OnJldHVybiB0aGlzLl9nbC5SR0IxNkY7Y2FzZSA1OnJldHVybiB0aGlzLl9nbC5SR0JBMTZGO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkExNkZ9Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuUkdCNTY1O2Nhc2UgMTM6cmV0dXJuIHRoaXMuX2dsLlIxMUZfRzExRl9CMTBGO2Nhc2UgMTQ6cmV0dXJuIHRoaXMuX2dsLlJHQjlfRTU7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5SR0JBNDtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlJHQjVfQTE7Y2FzZSAxMTpzd2l0Y2godCl7Y2FzZSA1OnJldHVybiB0aGlzLl9nbC5SR0IxMF9BMjtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5SR0IxMF9BMlVJO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQjEwX0EyfX1yZXR1cm4gaT90aGlzLl9nbC5TUkdCOF9BTFBIQTg6dGhpcy5fZ2wuUkdCQTh9X2dldFJHQkFNdWx0aVNhbXBsZUJ1ZmZlckZvcm1hdChlKXtyZXR1cm4gZT09PTE/dGhpcy5fZ2wuUkdCQTMyRjplPT09Mj90aGlzLl9nbC5SR0JBMTZGOnRoaXMuX2dsLlJHQkE4fV9sb2FkRmlsZShlLHQsaSxzLHIsbil7Y29uc3QgYT1vZS5fRmlsZVRvb2xzTG9hZEZpbGUoZSx0LGkscyxyLG4pO3JldHVybiB0aGlzLl9hY3RpdmVSZXF1ZXN0cy5wdXNoKGEpLGEub25Db21wbGV0ZU9ic2VydmFibGUuYWRkKG89Pnt0aGlzLl9hY3RpdmVSZXF1ZXN0cy5zcGxpY2UodGhpcy5fYWN0aXZlUmVxdWVzdHMuaW5kZXhPZihvKSwxKX0pLGF9c3RhdGljIF9GaWxlVG9vbHNMb2FkRmlsZShlLHQsaSxzLHIsbil7dGhyb3cgJCgiRmlsZVRvb2xzIil9cmVhZFBpeGVscyhlLHQsaSxzLHI9ITAsbj0hMCl7Y29uc3QgYT1yPzQ6MyxvPXI/dGhpcy5fZ2wuUkdCQTp0aGlzLl9nbC5SR0IsaD1uZXcgVWludDhBcnJheShzKmkqYSk7cmV0dXJuIG4mJnRoaXMuZmx1c2hGcmFtZWJ1ZmZlcigpLHRoaXMuX2dsLnJlYWRQaXhlbHMoZSx0LGkscyxvLHRoaXMuX2dsLlVOU0lHTkVEX0JZVEUsaCksUHJvbWlzZS5yZXNvbHZlKGgpfXN0YXRpYyBnZXQgSXNTdXBwb3J0ZWRBc3luYygpe3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5pc1N1cHBvcnRlZCgpKX1zdGF0aWMgZ2V0IElzU3VwcG9ydGVkKCl7cmV0dXJuIHRoaXMuaXNTdXBwb3J0ZWQoKX1zdGF0aWMgaXNTdXBwb3J0ZWQoKXtpZih0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0IT09bnVsbClyZXR1cm4hdGhpcy5fSGFzTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDtpZih0aGlzLl9Jc1N1cHBvcnRlZD09PW51bGwpdHJ5e2NvbnN0IGU9dGhpcy5fQ3JlYXRlQ2FudmFzKDEsMSksdD1lLmdldENvbnRleHQoIndlYmdsIil8fGUuZ2V0Q29udGV4dCgiZXhwZXJpbWVudGFsLXdlYmdsIik7dGhpcy5fSXNTdXBwb3J0ZWQ9dCE9bnVsbCYmISF3aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0fWNhdGNoe3RoaXMuX0lzU3VwcG9ydGVkPSExfXJldHVybiB0aGlzLl9Jc1N1cHBvcnRlZH1zdGF0aWMgZ2V0IEhhc01ham9yUGVyZm9ybWFuY2VDYXZlYXQoKXtpZih0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PT09bnVsbCl0cnl7Y29uc3QgZT10aGlzLl9DcmVhdGVDYW52YXMoMSwxKSx0PWUuZ2V0Q29udGV4dCgid2ViZ2wiLHtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiEwfSl8fGUuZ2V0Q29udGV4dCgiZXhwZXJpbWVudGFsLXdlYmdsIix7ZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDohMH0pO3RoaXMuX0hhc01ham9yUGVyZm9ybWFuY2VDYXZlYXQ9IXR9Y2F0Y2h7dGhpcy5fSGFzTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD0hMX1yZXR1cm4gdGhpcy5fSGFzTWFqb3JQZXJmb3JtYW5jZUNhdmVhdH1zdGF0aWMgQ2VpbGluZ1BPVChlKXtyZXR1cm4gZS0tLGV8PWU+PjEsZXw9ZT4+MixlfD1lPj40LGV8PWU+PjgsZXw9ZT4+MTYsZSsrLGV9c3RhdGljIEZsb29yUE9UKGUpe3JldHVybiBlPWV8ZT4+MSxlPWV8ZT4+MixlPWV8ZT4+NCxlPWV8ZT4+OCxlPWV8ZT4+MTYsZS0oZT4+MSl9c3RhdGljIE5lYXJlc3RQT1QoZSl7Y29uc3QgdD1vZS5DZWlsaW5nUE9UKGUpLGk9b2UuRmxvb3JQT1QoZSk7cmV0dXJuIHQtZT5lLWk/aTp0fXN0YXRpYyBHZXRFeHBvbmVudE9mVHdvKGUsdCxpPTIpe2xldCBzO3N3aXRjaChpKXtjYXNlIDE6cz1vZS5GbG9vclBPVChlKTticmVhaztjYXNlIDI6cz1vZS5OZWFyZXN0UE9UKGUpO2JyZWFrO2Nhc2UgMzpkZWZhdWx0OnM9b2UuQ2VpbGluZ1BPVChlKTticmVha31yZXR1cm4gTWF0aC5taW4ocyx0KX1zdGF0aWMgUXVldWVOZXdGcmFtZShlLHQpe2lmKGplKCkpe2NvbnN0e3JlcXVlc3RQb3N0QW5pbWF0aW9uRnJhbWU6aSxyZXF1ZXN0QW5pbWF0aW9uRnJhbWU6c309dHx8d2luZG93O2lmKHR5cGVvZiBpPT0iZnVuY3Rpb24iKXJldHVybiBpKGUpO2lmKHR5cGVvZiBzPT0iZnVuY3Rpb24iKXJldHVybiBzKGUpfWVsc2UgaWYodHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZT09ImZ1bmN0aW9uIilyZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGUpO3JldHVybiBzZXRUaW1lb3V0KGUsMTYpfWdldEhvc3REb2N1bWVudCgpe3JldHVybiB0aGlzLl9yZW5kZXJpbmdDYW52YXMmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcy5vd25lckRvY3VtZW50P3RoaXMuX3JlbmRlcmluZ0NhbnZhcy5vd25lckRvY3VtZW50OkNpKCk/ZG9jdW1lbnQ6bnVsbH19b2UuRXhjZXB0aW9uTGlzdD1be2tleToiQ2hyb21lLzYzLjAiLGNhcHR1cmU6IjYzXFwuMFxcLjMyMzlcXC4oXFxkKykiLGNhcHR1cmVDb25zdHJhaW50OjEwOCx0YXJnZXRzOlsidW5pZm9ybUJ1ZmZlciJdfSx7a2V5OiJGaXJlZm94LzU4IixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidW5pZm9ybUJ1ZmZlciJdfSx7a2V5OiJGaXJlZm94LzU5IixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidW5pZm9ybUJ1ZmZlciJdfSx7a2V5OiJDaHJvbWUvNzIuKz9Nb2JpbGUiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJ2YW8iXX0se2tleToiQ2hyb21lLzczLis/TW9iaWxlIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidmFvIl19LHtrZXk6IkNocm9tZS83NC4rP01vYmlsZSIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbInZhbyJdfSx7a2V5OiJNYWMgT1MuK0Nocm9tZS83MSIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbInZhbyJdfSx7a2V5OiJNYWMgT1MuK0Nocm9tZS83MiIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbInZhbyJdfSx7a2V5OiJNYWMgT1MuK0Nocm9tZSIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbInVuaWZvcm1CdWZmZXIiXX0se2tleToiLipBcHBsZVdlYktpdC4qKDE1LjQpLipTYWZhcmkiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJhbnRpYWxpYXMiLCJtYXhNU0FBU2FtcGxlcyJdfSx7a2V5OiIuKigxNS40KS4qQXBwbGVXZWJLaXQuKlNhZmFyaSIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbImFudGlhbGlhcyIsIm1heE1TQUFTYW1wbGVzIl19XSxvZS5fVGV4dHVyZUxvYWRlcnM9W10sb2UuQ29sbGlzaW9uc0Vwc2lsb249LjAwMSxvZS5fSXNTdXBwb3J0ZWQ9bnVsbCxvZS5fSGFzTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD1udWxsO2NsYXNzIGRue2NvbnN0cnVjdG9yKGU9MzApe3RoaXMuX2VuYWJsZWQ9ITAsdGhpcy5fcm9sbGluZ0ZyYW1lVGltZT1uZXcgZm4oZSl9c2FtcGxlRnJhbWUoZT1haS5Ob3cpe2lmKHRoaXMuX2VuYWJsZWQpe2lmKHRoaXMuX2xhc3RGcmFtZVRpbWVNcyE9bnVsbCl7Y29uc3QgdD1lLXRoaXMuX2xhc3RGcmFtZVRpbWVNczt0aGlzLl9yb2xsaW5nRnJhbWVUaW1lLmFkZCh0KX10aGlzLl9sYXN0RnJhbWVUaW1lTXM9ZX19Z2V0IGF2ZXJhZ2VGcmFtZVRpbWUoKXtyZXR1cm4gdGhpcy5fcm9sbGluZ0ZyYW1lVGltZS5hdmVyYWdlfWdldCBhdmVyYWdlRnJhbWVUaW1lVmFyaWFuY2UoKXtyZXR1cm4gdGhpcy5fcm9sbGluZ0ZyYW1lVGltZS52YXJpYW5jZX1nZXQgaW5zdGFudGFuZW91c0ZyYW1lVGltZSgpe3JldHVybiB0aGlzLl9yb2xsaW5nRnJhbWVUaW1lLmhpc3RvcnkoMCl9Z2V0IGF2ZXJhZ2VGUFMoKXtyZXR1cm4gMWUzL3RoaXMuX3JvbGxpbmdGcmFtZVRpbWUuYXZlcmFnZX1nZXQgaW5zdGFudGFuZW91c0ZQUygpe2NvbnN0IGU9dGhpcy5fcm9sbGluZ0ZyYW1lVGltZS5oaXN0b3J5KDApO3JldHVybiBlPT09MD8wOjFlMy9lfWdldCBpc1NhdHVyYXRlZCgpe3JldHVybiB0aGlzLl9yb2xsaW5nRnJhbWVUaW1lLmlzU2F0dXJhdGVkKCl9ZW5hYmxlKCl7dGhpcy5fZW5hYmxlZD0hMH1kaXNhYmxlKCl7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLl9sYXN0RnJhbWVUaW1lTXM9bnVsbH1nZXQgaXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9cmVzZXQoKXt0aGlzLl9sYXN0RnJhbWVUaW1lTXM9bnVsbCx0aGlzLl9yb2xsaW5nRnJhbWVUaW1lLnJlc2V0KCl9fWNsYXNzIGZue2NvbnN0cnVjdG9yKGUpe3RoaXMuX3NhbXBsZXM9bmV3IEFycmF5KGUpLHRoaXMucmVzZXQoKX1hZGQoZSl7bGV0IHQ7aWYodGhpcy5pc1NhdHVyYXRlZCgpKXtjb25zdCBpPXRoaXMuX3NhbXBsZXNbdGhpcy5fcG9zXTt0PWktdGhpcy5hdmVyYWdlLHRoaXMuYXZlcmFnZS09dC8odGhpcy5fc2FtcGxlQ291bnQtMSksdGhpcy5fbTItPXQqKGktdGhpcy5hdmVyYWdlKX1lbHNlIHRoaXMuX3NhbXBsZUNvdW50Kys7dD1lLXRoaXMuYXZlcmFnZSx0aGlzLmF2ZXJhZ2UrPXQvdGhpcy5fc2FtcGxlQ291bnQsdGhpcy5fbTIrPXQqKGUtdGhpcy5hdmVyYWdlKSx0aGlzLnZhcmlhbmNlPXRoaXMuX20yLyh0aGlzLl9zYW1wbGVDb3VudC0xKSx0aGlzLl9zYW1wbGVzW3RoaXMuX3Bvc109ZSx0aGlzLl9wb3MrKyx0aGlzLl9wb3MlPXRoaXMuX3NhbXBsZXMubGVuZ3RofWhpc3RvcnkoZSl7aWYoZT49dGhpcy5fc2FtcGxlQ291bnR8fGU+PXRoaXMuX3NhbXBsZXMubGVuZ3RoKXJldHVybiAwO2NvbnN0IHQ9dGhpcy5fd3JhcFBvc2l0aW9uKHRoaXMuX3Bvcy0xKTtyZXR1cm4gdGhpcy5fc2FtcGxlc1t0aGlzLl93cmFwUG9zaXRpb24odC1lKV19aXNTYXR1cmF0ZWQoKXtyZXR1cm4gdGhpcy5fc2FtcGxlQ291bnQ+PXRoaXMuX3NhbXBsZXMubGVuZ3RofXJlc2V0KCl7dGhpcy5hdmVyYWdlPTAsdGhpcy52YXJpYW5jZT0wLHRoaXMuX3NhbXBsZUNvdW50PTAsdGhpcy5fcG9zPTAsdGhpcy5fbTI9MH1fd3JhcFBvc2l0aW9uKGUpe2NvbnN0IHQ9dGhpcy5fc2FtcGxlcy5sZW5ndGg7cmV0dXJuKGUldCt0KSV0fX1jbGFzcyBSdHtjb25zdHJ1Y3Rvcigpe3RoaXMuX3N0YXJ0TW9uaXRvcmluZ1RpbWU9MCx0aGlzLl9taW49MCx0aGlzLl9tYXg9MCx0aGlzLl9hdmVyYWdlPTAsdGhpcy5fbGFzdFNlY0F2ZXJhZ2U9MCx0aGlzLl9jdXJyZW50PTAsdGhpcy5fdG90YWxWYWx1ZUNvdW50PTAsdGhpcy5fdG90YWxBY2N1bXVsYXRlZD0wLHRoaXMuX2xhc3RTZWNBY2N1bXVsYXRlZD0wLHRoaXMuX2xhc3RTZWNUaW1lPTAsdGhpcy5fbGFzdFNlY1ZhbHVlQ291bnQ9MH1nZXQgbWluKCl7cmV0dXJuIHRoaXMuX21pbn1nZXQgbWF4KCl7cmV0dXJuIHRoaXMuX21heH1nZXQgYXZlcmFnZSgpe3JldHVybiB0aGlzLl9hdmVyYWdlfWdldCBsYXN0U2VjQXZlcmFnZSgpe3JldHVybiB0aGlzLl9sYXN0U2VjQXZlcmFnZX1nZXQgY3VycmVudCgpe3JldHVybiB0aGlzLl9jdXJyZW50fWdldCB0b3RhbCgpe3JldHVybiB0aGlzLl90b3RhbEFjY3VtdWxhdGVkfWdldCBjb3VudCgpe3JldHVybiB0aGlzLl90b3RhbFZhbHVlQ291bnR9ZmV0Y2hOZXdGcmFtZSgpe3RoaXMuX3RvdGFsVmFsdWVDb3VudCsrLHRoaXMuX2N1cnJlbnQ9MCx0aGlzLl9sYXN0U2VjVmFsdWVDb3VudCsrfWFkZENvdW50KGUsdCl7UnQuRW5hYmxlZCYmKHRoaXMuX2N1cnJlbnQrPWUsdCYmdGhpcy5fZmV0Y2hSZXN1bHQoKSl9YmVnaW5Nb25pdG9yaW5nKCl7UnQuRW5hYmxlZCYmKHRoaXMuX3N0YXJ0TW9uaXRvcmluZ1RpbWU9YWkuTm93KX1lbmRNb25pdG9yaW5nKGU9ITApe2lmKCFSdC5FbmFibGVkKXJldHVybjtlJiZ0aGlzLmZldGNoTmV3RnJhbWUoKTtjb25zdCB0PWFpLk5vdzt0aGlzLl9jdXJyZW50PXQtdGhpcy5fc3RhcnRNb25pdG9yaW5nVGltZSxlJiZ0aGlzLl9mZXRjaFJlc3VsdCgpfV9mZXRjaFJlc3VsdCgpe3RoaXMuX3RvdGFsQWNjdW11bGF0ZWQrPXRoaXMuX2N1cnJlbnQsdGhpcy5fbGFzdFNlY0FjY3VtdWxhdGVkKz10aGlzLl9jdXJyZW50LHRoaXMuX21pbj1NYXRoLm1pbih0aGlzLl9taW4sdGhpcy5fY3VycmVudCksdGhpcy5fbWF4PU1hdGgubWF4KHRoaXMuX21heCx0aGlzLl9jdXJyZW50KSx0aGlzLl9hdmVyYWdlPXRoaXMuX3RvdGFsQWNjdW11bGF0ZWQvdGhpcy5fdG90YWxWYWx1ZUNvdW50O2NvbnN0IGU9YWkuTm93O2UtdGhpcy5fbGFzdFNlY1RpbWU+MWUzJiYodGhpcy5fbGFzdFNlY0F2ZXJhZ2U9dGhpcy5fbGFzdFNlY0FjY3VtdWxhdGVkL3RoaXMuX2xhc3RTZWNWYWx1ZUNvdW50LHRoaXMuX2xhc3RTZWNUaW1lPWUsdGhpcy5fbGFzdFNlY0FjY3VtdWxhdGVkPTAsdGhpcy5fbGFzdFNlY1ZhbHVlQ291bnQ9MCl9fVJ0LkVuYWJsZWQ9ITAsb2UucHJvdG90eXBlLnNldEFscGhhQ29uc3RhbnRzPWZ1bmN0aW9uKGMsZSx0LGkpe3RoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZENvbnN0YW50cyhjLGUsdCxpKX0sb2UucHJvdG90eXBlLnNldEFscGhhTW9kZT1mdW5jdGlvbihjLGU9ITEpe2lmKHRoaXMuX2FscGhhTW9kZSE9PWMpe3N3aXRjaChjKXtjYXNlIDA6dGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSExO2JyZWFrO2Nhc2UgNzp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgODp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDI6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLlNSQ19BTFBIQSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDY6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuWkVSTyx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDE6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLlNSQ19BTFBIQSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuWkVSTyx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDM6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLlpFUk8sdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19DT0xPUix0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSA0OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5EU1RfQ09MT1IsdGhpcy5fZ2wuWkVSTyx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSA1OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5TUkNfQUxQSEEsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19DT0xPUix0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSA5OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5DT05TVEFOVF9DT0xPUix0aGlzLl9nbC5PTkVfTUlOVVNfQ09OU1RBTlRfQ09MT1IsdGhpcy5fZ2wuQ09OU1RBTlRfQUxQSEEsdGhpcy5fZ2wuT05FX01JTlVTX0NPTlNUQU5UX0FMUEhBKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxMDp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQ09MT1IsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDExOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDEyOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5EU1RfQUxQSEEsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLlpFUk8sdGhpcy5fZ2wuWkVSTyksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTM6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORV9NSU5VU19EU1RfQ09MT1IsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19DT0xPUix0aGlzLl9nbC5PTkVfTUlOVVNfRFNUX0FMUEhBLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDE0OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTU6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLlpFUk8pLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDE2OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkVfTUlOVVNfRFNUX0NPTE9SLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQ09MT1IsdGhpcy5fZ2wuWkVSTyx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDE3OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5TUkNfQUxQSEEsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrfWV8fCh0aGlzLmRlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoTWFzaz1jPT09MCksdGhpcy5fYWxwaGFNb2RlPWN9fSxvZS5wcm90b3R5cGUuZ2V0QWxwaGFNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FscGhhTW9kZX0sb2UucHJvdG90eXBlLnNldEFscGhhRXF1YXRpb249ZnVuY3Rpb24oYyl7aWYodGhpcy5fYWxwaGFFcXVhdGlvbiE9PWMpe3N3aXRjaChjKXtjYXNlIDA6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUVxdWF0aW9uUGFyYW1ldGVycygzMjc3NCwzMjc3NCk7YnJlYWs7Y2FzZSAxOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFFcXVhdGlvblBhcmFtZXRlcnMoMzI3NzgsMzI3NzgpO2JyZWFrO2Nhc2UgMjp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhRXF1YXRpb25QYXJhbWV0ZXJzKDMyNzc5LDMyNzc5KTticmVhaztjYXNlIDM6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUVxdWF0aW9uUGFyYW1ldGVycygzMjc3NiwzMjc3Nik7YnJlYWs7Y2FzZSA0OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFFcXVhdGlvblBhcmFtZXRlcnMoMzI3NzUsMzI3NzUpO2JyZWFrO2Nhc2UgNTp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhRXF1YXRpb25QYXJhbWV0ZXJzKDMyNzc1LDMyNzc0KTticmVha310aGlzLl9hbHBoYUVxdWF0aW9uPWN9fSxvZS5wcm90b3R5cGUuZ2V0QWxwaGFFcXVhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbHBoYUVxdWF0aW9ufTtmdW5jdGlvbiBfbihjLGUsdD0hMSxpKXtzd2l0Y2goYyl7Y2FzZSAzOntjb25zdCByPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgSW50OEFycmF5KGUpOm5ldyBJbnQ4QXJyYXkoZSk7cmV0dXJuIGkmJnIuc2V0KG5ldyBJbnQ4QXJyYXkoaSkpLHJ9Y2FzZSAwOntjb25zdCByPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgVWludDhBcnJheShlKTpuZXcgVWludDhBcnJheShlKTtyZXR1cm4gaSYmci5zZXQobmV3IFVpbnQ4QXJyYXkoaSkpLHJ9Y2FzZSA0Ontjb25zdCByPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgSW50MTZBcnJheShlKTpuZXcgSW50MTZBcnJheSh0P2UvMjplKTtyZXR1cm4gaSYmci5zZXQobmV3IEludDE2QXJyYXkoaSkpLHJ9Y2FzZSA1OmNhc2UgODpjYXNlIDk6Y2FzZSAxMDpjYXNlIDI6e2NvbnN0IHI9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBVaW50MTZBcnJheShlKTpuZXcgVWludDE2QXJyYXkodD9lLzI6ZSk7cmV0dXJuIGkmJnIuc2V0KG5ldyBVaW50MTZBcnJheShpKSkscn1jYXNlIDY6e2NvbnN0IHI9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBJbnQzMkFycmF5KGUpOm5ldyBJbnQzMkFycmF5KHQ/ZS80OmUpO3JldHVybiBpJiZyLnNldChuZXcgSW50MzJBcnJheShpKSkscn1jYXNlIDc6Y2FzZSAxMTpjYXNlIDEyOmNhc2UgMTM6Y2FzZSAxNDpjYXNlIDE1Ontjb25zdCByPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgVWludDMyQXJyYXkoZSk6bmV3IFVpbnQzMkFycmF5KHQ/ZS80OmUpO3JldHVybiBpJiZyLnNldChuZXcgVWludDMyQXJyYXkoaSkpLHJ9Y2FzZSAxOntjb25zdCByPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgRmxvYXQzMkFycmF5KGUpOm5ldyBGbG9hdDMyQXJyYXkodD9lLzQ6ZSk7cmV0dXJuIGkmJnIuc2V0KG5ldyBGbG9hdDMyQXJyYXkoaSkpLHJ9fWNvbnN0IHM9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBVaW50OEFycmF5KGUpOm5ldyBVaW50OEFycmF5KGUpO3JldHVybiBpJiZzLnNldChuZXcgVWludDhBcnJheShpKSksc31vZS5wcm90b3R5cGUuX3JlYWRUZXh0dXJlUGl4ZWxzU3luYz1mdW5jdGlvbihjLGUsdCxpPS0xLHM9MCxyPW51bGwsbj0hMCxhPSExLG89MCxoPTApe3ZhciBsLHU7Y29uc3QgZD10aGlzLl9nbDtpZighZCl0aHJvdyBuZXcgRXJyb3IoIkVuZ2luZSBkb2VzIG5vdCBoYXZlIGdsIHJlbmRlcmluZyBjb250ZXh0LiIpO2lmKCF0aGlzLl9kdW1teUZyYW1lYnVmZmVyKXtjb25zdCBfPWQuY3JlYXRlRnJhbWVidWZmZXIoKTtpZighXyl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgZHVtbXkgZnJhbWVidWZmZXIiKTt0aGlzLl9kdW1teUZyYW1lYnVmZmVyPV99ZC5iaW5kRnJhbWVidWZmZXIoZC5GUkFNRUJVRkZFUix0aGlzLl9kdW1teUZyYW1lYnVmZmVyKSxpPi0xP2QuZnJhbWVidWZmZXJUZXh0dXJlMkQoZC5GUkFNRUJVRkZFUixkLkNPTE9SX0FUVEFDSE1FTlQwLGQuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK2ksKGw9Yy5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fGw9PT12b2lkIDA/dm9pZCAwOmwudW5kZXJseWluZ1Jlc291cmNlLHMpOmQuZnJhbWVidWZmZXJUZXh0dXJlMkQoZC5GUkFNRUJVRkZFUixkLkNPTE9SX0FUVEFDSE1FTlQwLGQuVEVYVFVSRV8yRCwodT1jLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8dT09PXZvaWQgMD92b2lkIDA6dS51bmRlcmx5aW5nUmVzb3VyY2Uscyk7bGV0IGY9Yy50eXBlIT09dm9pZCAwP3RoaXMuX2dldFdlYkdMVGV4dHVyZVR5cGUoYy50eXBlKTpkLlVOU0lHTkVEX0JZVEU7aWYoYSlyfHwocj1fbihjLnR5cGUsNCplKnQpKTtlbHNlIHN3aXRjaChmKXtjYXNlIGQuVU5TSUdORURfQllURTpyfHwocj1uZXcgVWludDhBcnJheSg0KmUqdCkpLGY9ZC5VTlNJR05FRF9CWVRFO2JyZWFrO2RlZmF1bHQ6cnx8KHI9bmV3IEZsb2F0MzJBcnJheSg0KmUqdCkpLGY9ZC5GTE9BVDticmVha31yZXR1cm4gbiYmdGhpcy5mbHVzaEZyYW1lYnVmZmVyKCksZC5yZWFkUGl4ZWxzKG8saCxlLHQsZC5SR0JBLGYsciksZC5iaW5kRnJhbWVidWZmZXIoZC5GUkFNRUJVRkZFUix0aGlzLl9jdXJyZW50RnJhbWVidWZmZXIpLHJ9LG9lLnByb3RvdHlwZS5fcmVhZFRleHR1cmVQaXhlbHM9ZnVuY3Rpb24oYyxlLHQsaT0tMSxzPTAscj1udWxsLG49ITAsYT0hMSxvPTAsaD0wKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3JlYWRUZXh0dXJlUGl4ZWxzU3luYyhjLGUsdCxpLHMscixuLGEsbyxoKSl9LG9lLnByb3RvdHlwZS51cGRhdGVEeW5hbWljSW5kZXhCdWZmZXI9ZnVuY3Rpb24oYyxlLHQ9MCl7dGhpcy5fY3VycmVudEJvdW5kQnVmZmVyW3RoaXMuX2dsLkVMRU1FTlRfQVJSQVlfQlVGRkVSXT1udWxsLHRoaXMuYmluZEluZGV4QnVmZmVyKGMpO2xldCBpO2MuaXMzMkJpdHM/aT1lIGluc3RhbmNlb2YgVWludDMyQXJyYXk/ZTpuZXcgVWludDMyQXJyYXkoZSk6aT1lIGluc3RhbmNlb2YgVWludDE2QXJyYXk/ZTpuZXcgVWludDE2QXJyYXkoZSksdGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUixpLHRoaXMuX2dsLkRZTkFNSUNfRFJBVyksdGhpcy5fcmVzZXRJbmRleEJ1ZmZlckJpbmRpbmcoKX0sb2UucHJvdG90eXBlLnVwZGF0ZUR5bmFtaWNWZXJ0ZXhCdWZmZXI9ZnVuY3Rpb24oYyxlLHQsaSl7dGhpcy5iaW5kQXJyYXlCdWZmZXIoYyksdD09PXZvaWQgMCYmKHQ9MCk7Y29uc3Qgcz1lLmJ5dGVMZW5ndGh8fGUubGVuZ3RoO2k9PT12b2lkIDB8fGk+PXMmJnQ9PT0wP2UgaW5zdGFuY2VvZiBBcnJheT90aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUix0LG5ldyBGbG9hdDMyQXJyYXkoZSkpOnRoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLHQsZSk6ZSBpbnN0YW5jZW9mIEFycmF5P3RoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLDAsbmV3IEZsb2F0MzJBcnJheShlKS5zdWJhcnJheSh0LHQraSkpOihlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/ZT1uZXcgVWludDhBcnJheShlLHQsaSk6ZT1uZXcgVWludDhBcnJheShlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQrdCxpKSx0aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUiwwLGUpKSx0aGlzLl9yZXNldFZlcnRleEJ1ZmZlckJpbmRpbmcoKX07Y2xhc3MgSSBleHRlbmRzIG9le2NvbnN0cnVjdG9yKGUsdCxpLHM9ITEpe2lmKHN1cGVyKGUsdCxpLHMpLHRoaXMuZW5hYmxlT2ZmbGluZVN1cHBvcnQ9ITEsdGhpcy5kaXNhYmxlTWFuaWZlc3RDaGVjaz0hMSx0aGlzLmRpc2FibGVDb250ZXh0TWVudT0hMCx0aGlzLnNjZW5lcz1uZXcgQXJyYXksdGhpcy5fdmlydHVhbFNjZW5lcz1uZXcgQXJyYXksdGhpcy5vbk5ld1NjZW5lQWRkZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMucG9zdFByb2Nlc3Nlcz1uZXcgQXJyYXksdGhpcy5pc1BvaW50ZXJMb2NrPSExLHRoaXMub25SZXNpemVPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25DYW52YXNCbHVyT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQ2FudmFzRm9jdXNPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25DYW52YXNQb2ludGVyT3V0T2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQmVnaW5GcmFtZU9ic2VydmFibGU9bmV3IEYsdGhpcy5jdXN0b21BbmltYXRpb25GcmFtZVJlcXVlc3Rlcj1udWxsLHRoaXMub25FbmRGcmFtZU9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkJlZm9yZVNoYWRlckNvbXBpbGF0aW9uT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQWZ0ZXJTaGFkZXJDb21waWxhdGlvbk9ic2VydmFibGU9bmV3IEYsdGhpcy5fZGV0ZXJtaW5pc3RpY0xvY2tzdGVwPSExLHRoaXMuX2xvY2tzdGVwTWF4U3RlcHM9NCx0aGlzLl90aW1lU3RlcD0xLzYwLHRoaXMuX2Zwcz02MCx0aGlzLl9kZWx0YVRpbWU9MCx0aGlzLl9kcmF3Q2FsbHM9bmV3IFJ0LHRoaXMuY2FudmFzVGFiSW5kZXg9MSx0aGlzLmRpc2FibGVQZXJmb3JtYW5jZU1vbml0b3JJbkJhY2tncm91bmQ9ITEsdGhpcy5fcGVyZm9ybWFuY2VNb25pdG9yPW5ldyBkbix0aGlzLl9jb21wYXRpYmlsaXR5TW9kZT0hMCx0aGlzLmN1cnJlbnRSZW5kZXJQYXNzSWQ9MCx0aGlzLl9yZW5kZXJQYXNzTmFtZXM9WyJtYWluIl0sSS5JbnN0YW5jZXMucHVzaCh0aGlzKSwhIWUpe2lmKHRoaXMuX2ZlYXR1cmVzLnN1cHBvcnRSZW5kZXJQYXNzZXM9ITAsaT10aGlzLl9jcmVhdGlvbk9wdGlvbnMsZS5nZXRDb250ZXh0KXtjb25zdCByPWU7dGhpcy5fc2hhcmVkSW5pdChyLCEhaS5kb05vdEhhbmRsZVRvdWNoQWN0aW9uLGkuYXVkaW9FbmdpbmUpLENpKCkmJih0aGlzLl9vbkZ1bGxzY3JlZW5DaGFuZ2U9KCk9Pnt0aGlzLmlzRnVsbHNjcmVlbj0hIWRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50LHRoaXMuaXNGdWxsc2NyZWVuJiZ0aGlzLl9wb2ludGVyTG9ja1JlcXVlc3RlZCYmciYmSS5fUmVxdWVzdFBvaW50ZXJsb2NrKHIpfSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJmdWxsc2NyZWVuY2hhbmdlIix0aGlzLl9vbkZ1bGxzY3JlZW5DaGFuZ2UsITEpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UiLHRoaXMuX29uRnVsbHNjcmVlbkNoYW5nZSwhMSksdGhpcy5fb25Qb2ludGVyTG9ja0NoYW5nZT0oKT0+e3RoaXMuaXNQb2ludGVyTG9jaz1kb2N1bWVudC5wb2ludGVyTG9ja0VsZW1lbnQ9PT1yfSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVybG9ja2NoYW5nZSIsdGhpcy5fb25Qb2ludGVyTG9ja0NoYW5nZSwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigid2Via2l0cG9pbnRlcmxvY2tjaGFuZ2UiLHRoaXMuX29uUG9pbnRlckxvY2tDaGFuZ2UsITEpLCFJLmF1ZGlvRW5naW5lJiZpLmF1ZGlvRW5naW5lJiZJLkF1ZGlvRW5naW5lRmFjdG9yeSYmKEkuYXVkaW9FbmdpbmU9SS5BdWRpb0VuZ2luZUZhY3RvcnkodGhpcy5nZXRSZW5kZXJpbmdDYW52YXMoKSx0aGlzLmdldEF1ZGlvQ29udGV4dCgpLHRoaXMuZ2V0QXVkaW9EZXN0aW5hdGlvbigpKSkpLHRoaXMuX2Nvbm5lY3RWUkV2ZW50cygpLHRoaXMuZW5hYmxlT2ZmbGluZVN1cHBvcnQ9SS5PZmZsaW5lUHJvdmlkZXJGYWN0b3J5IT09dm9pZCAwLHRoaXMuX2RldGVybWluaXN0aWNMb2Nrc3RlcD0hIWkuZGV0ZXJtaW5pc3RpY0xvY2tzdGVwLHRoaXMuX2xvY2tzdGVwTWF4U3RlcHM9aS5sb2Nrc3RlcE1heFN0ZXBzfHwwLHRoaXMuX3RpbWVTdGVwPWkudGltZVN0ZXB8fDEvNjB9dGhpcy5fcHJlcGFyZVZSQ29tcG9uZW50KCksaS5hdXRvRW5hYmxlV2ViVlImJnRoaXMuaW5pdFdlYlZSKCl9fXN0YXRpYyBnZXQgTnBtUGFja2FnZSgpe3JldHVybiBvZS5OcG1QYWNrYWdlfXN0YXRpYyBnZXQgVmVyc2lvbigpe3JldHVybiBvZS5WZXJzaW9ufXN0YXRpYyBnZXQgSW5zdGFuY2VzKCl7cmV0dXJuIGZlLkluc3RhbmNlc31zdGF0aWMgZ2V0IExhc3RDcmVhdGVkRW5naW5lKCl7cmV0dXJuIGZlLkxhc3RDcmVhdGVkRW5naW5lfXN0YXRpYyBnZXQgTGFzdENyZWF0ZWRTY2VuZSgpe3JldHVybiBmZS5MYXN0Q3JlYXRlZFNjZW5lfV9jcmVhdGVJbWFnZUJpdG1hcEZyb21Tb3VyY2UoZSx0KXtyZXR1cm4gbmV3IFByb21pc2UoKHMscik9Pntjb25zdCBuPW5ldyBJbWFnZTtuLm9ubG9hZD0oKT0+e24uZGVjb2RlKCkudGhlbigoKT0+e3RoaXMuY3JlYXRlSW1hZ2VCaXRtYXAobix0KS50aGVuKGE9PntzKGEpfSl9KX0sbi5vbmVycm9yPSgpPT57cihgRXJyb3IgbG9hZGluZyBpbWFnZSAke24uc3JjfWApfSxuLnNyYz1lfSl9Y3JlYXRlSW1hZ2VCaXRtYXAoZSx0KXtyZXR1cm4gY3JlYXRlSW1hZ2VCaXRtYXAoZSx0KX1yZXNpemVJbWFnZUJpdG1hcChlLHQsaSl7Y29uc3Qgcj10aGlzLmNyZWF0ZUNhbnZhcyh0LGkpLmdldENvbnRleHQoIjJkIik7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gZ2V0IDJkIGNvbnRleHQgZm9yIHJlc2l6ZUltYWdlQml0bWFwIik7cmV0dXJuIHIuZHJhd0ltYWdlKGUsMCwwKSxyLmdldEltYWdlRGF0YSgwLDAsdCxpKS5kYXRhfXN0YXRpYyBNYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eShlLHQpe2ZvcihsZXQgaT0wO2k8SS5JbnN0YW5jZXMubGVuZ3RoO2krKyl7Y29uc3Qgcz1JLkluc3RhbmNlc1tpXTtmb3IobGV0IHI9MDtyPHMuc2NlbmVzLmxlbmd0aDtyKyspcy5zY2VuZXNbcl0ubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoZSx0KX19c3RhdGljIERlZmF1bHRMb2FkaW5nU2NyZWVuRmFjdG9yeShlKXt0aHJvdyAkKCJMb2FkaW5nU2NyZWVuIil9Z2V0IF9zdXBwb3J0c0hhcmR3YXJlVGV4dHVyZVJlc2NhbGluZygpe3JldHVybiEhSS5fUmVzY2FsZVBvc3RQcm9jZXNzRmFjdG9yeX1nZXQgcGVyZm9ybWFuY2VNb25pdG9yKCl7cmV0dXJuIHRoaXMuX3BlcmZvcm1hbmNlTW9uaXRvcn1nZXQgY29tcGF0aWJpbGl0eU1vZGUoKXtyZXR1cm4gdGhpcy5fY29tcGF0aWJpbGl0eU1vZGV9c2V0IGNvbXBhdGliaWxpdHlNb2RlKGUpe3RoaXMuX2NvbXBhdGliaWxpdHlNb2RlPSEwfWdldElucHV0RWxlbWVudCgpe3JldHVybiB0aGlzLl9yZW5kZXJpbmdDYW52YXN9X2luaXRHTENvbnRleHQoKXtzdXBlci5faW5pdEdMQ29udGV4dCgpLHRoaXMuX3Jlc2NhbGVQb3N0UHJvY2Vzcz1udWxsfV9zaGFyZWRJbml0KGUsdCxpKXtzdXBlci5fc2hhcmVkSW5pdChlLHQsaSksdGhpcy5fb25DYW52YXNGb2N1cz0oKT0+e3RoaXMub25DYW52YXNGb2N1c09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfSx0aGlzLl9vbkNhbnZhc0JsdXI9KCk9Pnt0aGlzLm9uQ2FudmFzQmx1ck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfSx0aGlzLl9vbkNhbnZhc0NvbnRleHRNZW51PXI9Pnt0aGlzLmRpc2FibGVDb250ZXh0TWVudSYmci5wcmV2ZW50RGVmYXVsdCgpfSxlLmFkZEV2ZW50TGlzdGVuZXIoImZvY3VzIix0aGlzLl9vbkNhbnZhc0ZvY3VzKSxlLmFkZEV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX29uQ2FudmFzQmx1ciksZS5hZGRFdmVudExpc3RlbmVyKCJjb250ZXh0bWVudSIsdGhpcy5fb25DYW52YXNDb250ZXh0TWVudSksdGhpcy5fb25CbHVyPSgpPT57dGhpcy5kaXNhYmxlUGVyZm9ybWFuY2VNb25pdG9ySW5CYWNrZ3JvdW5kJiZ0aGlzLl9wZXJmb3JtYW5jZU1vbml0b3IuZGlzYWJsZSgpLHRoaXMuX3dpbmRvd0lzQmFja2dyb3VuZD0hMH0sdGhpcy5fb25Gb2N1cz0oKT0+e3RoaXMuZGlzYWJsZVBlcmZvcm1hbmNlTW9uaXRvckluQmFja2dyb3VuZCYmdGhpcy5fcGVyZm9ybWFuY2VNb25pdG9yLmVuYWJsZSgpLHRoaXMuX3dpbmRvd0lzQmFja2dyb3VuZD0hMX0sdGhpcy5fb25DYW52YXNQb2ludGVyT3V0PXI9Pntkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHIuY2xpZW50WCxyLmNsaWVudFkpIT09ZSYmdGhpcy5vbkNhbnZhc1BvaW50ZXJPdXRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhyKX07Y29uc3Qgcz10aGlzLmdldEhvc3RXaW5kb3coKTtzJiZ0eXBlb2Ygcy5hZGRFdmVudExpc3RlbmVyPT0iZnVuY3Rpb24iJiYocy5hZGRFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9vbkJsdXIpLHMuYWRkRXZlbnRMaXN0ZW5lcigiZm9jdXMiLHRoaXMuX29uRm9jdXMpKSxlLmFkZEV2ZW50TGlzdGVuZXIoInBvaW50ZXJvdXQiLHRoaXMuX29uQ2FudmFzUG9pbnRlck91dCksdHx8dGhpcy5fZGlzYWJsZVRvdWNoQWN0aW9uKCksIUkuYXVkaW9FbmdpbmUmJmkmJkkuQXVkaW9FbmdpbmVGYWN0b3J5JiYoSS5hdWRpb0VuZ2luZT1JLkF1ZGlvRW5naW5lRmFjdG9yeSh0aGlzLmdldFJlbmRlcmluZ0NhbnZhcygpLHRoaXMuZ2V0QXVkaW9Db250ZXh0KCksdGhpcy5nZXRBdWRpb0Rlc3RpbmF0aW9uKCkpKX1nZXRBc3BlY3RSYXRpbyhlLHQ9ITEpe2NvbnN0IGk9ZS52aWV3cG9ydDtyZXR1cm4gdGhpcy5nZXRSZW5kZXJXaWR0aCh0KSppLndpZHRoLyh0aGlzLmdldFJlbmRlckhlaWdodCh0KSppLmhlaWdodCl9Z2V0U2NyZWVuQXNwZWN0UmF0aW8oKXtyZXR1cm4gdGhpcy5nZXRSZW5kZXJXaWR0aCghMCkvdGhpcy5nZXRSZW5kZXJIZWlnaHQoITApfWdldFJlbmRlcmluZ0NhbnZhc0NsaWVudFJlY3QoKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nQ2FudmFzP3RoaXMuX3JlbmRlcmluZ0NhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTpudWxsfWdldElucHV0RWxlbWVudENsaWVudFJlY3QoKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nQ2FudmFzP3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6bnVsbH1pc0RldGVybWluaXN0aWNMb2NrU3RlcCgpe3JldHVybiB0aGlzLl9kZXRlcm1pbmlzdGljTG9ja3N0ZXB9Z2V0TG9ja3N0ZXBNYXhTdGVwcygpe3JldHVybiB0aGlzLl9sb2Nrc3RlcE1heFN0ZXBzfWdldFRpbWVTdGVwKCl7cmV0dXJuIHRoaXMuX3RpbWVTdGVwKjFlM31nZW5lcmF0ZU1pcE1hcHNGb3JDdWJlbWFwKGUsdD0hMCl7aWYoZS5nZW5lcmF0ZU1pcE1hcHMpe2NvbnN0IGk9dGhpcy5fZ2w7dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShpLlRFWFRVUkVfQ1VCRV9NQVAsZSwhMCksaS5nZW5lcmF0ZU1pcG1hcChpLlRFWFRVUkVfQ1VCRV9NQVApLHQmJnRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoaS5URVhUVVJFX0NVQkVfTUFQLG51bGwpfX1nZXREZXB0aFdyaXRlKCl7cmV0dXJuIHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoTWFza31zZXREZXB0aFdyaXRlKGUpe3RoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoTWFzaz1lfWdldFN0ZW5jaWxCdWZmZXIoKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxUZXN0fXNldFN0ZW5jaWxCdWZmZXIoZSl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxUZXN0PWV9Z2V0U3RlbmNpbE1hc2soKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxNYXNrfXNldFN0ZW5jaWxNYXNrKGUpe3RoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsTWFzaz1lfWdldFN0ZW5jaWxGdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbEZ1bmN9Z2V0U3RlbmNpbEZ1bmN0aW9uUmVmZXJlbmNlKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsRnVuY1JlZn1nZXRTdGVuY2lsRnVuY3Rpb25NYXNrKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsRnVuY01hc2t9c2V0U3RlbmNpbEZ1bmN0aW9uKGUpe3RoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsRnVuYz1lfXNldFN0ZW5jaWxGdW5jdGlvblJlZmVyZW5jZShlKXt0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbEZ1bmNSZWY9ZX1zZXRTdGVuY2lsRnVuY3Rpb25NYXNrKGUpe3RoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsRnVuY01hc2s9ZX1nZXRTdGVuY2lsT3BlcmF0aW9uRmFpbCgpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbE9wU3RlbmNpbEZhaWx9Z2V0U3RlbmNpbE9wZXJhdGlvbkRlcHRoRmFpbCgpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbE9wRGVwdGhGYWlsfWdldFN0ZW5jaWxPcGVyYXRpb25QYXNzKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsT3BTdGVuY2lsRGVwdGhQYXNzfXNldFN0ZW5jaWxPcGVyYXRpb25GYWlsKGUpe3RoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsT3BTdGVuY2lsRmFpbD1lfXNldFN0ZW5jaWxPcGVyYXRpb25EZXB0aEZhaWwoZSl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxPcERlcHRoRmFpbD1lfXNldFN0ZW5jaWxPcGVyYXRpb25QYXNzKGUpe3RoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsT3BTdGVuY2lsRGVwdGhQYXNzPWV9c2V0RGl0aGVyaW5nU3RhdGUoZSl7ZT90aGlzLl9nbC5lbmFibGUodGhpcy5fZ2wuRElUSEVSKTp0aGlzLl9nbC5kaXNhYmxlKHRoaXMuX2dsLkRJVEhFUil9c2V0UmFzdGVyaXplclN0YXRlKGUpe2U/dGhpcy5fZ2wuZGlzYWJsZSh0aGlzLl9nbC5SQVNURVJJWkVSX0RJU0NBUkQpOnRoaXMuX2dsLmVuYWJsZSh0aGlzLl9nbC5SQVNURVJJWkVSX0RJU0NBUkQpfWdldERlcHRoRnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jfXNldERlcHRoRnVuY3Rpb24oZSl7dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jPWV9c2V0RGVwdGhGdW5jdGlvblRvR3JlYXRlcigpe3RoaXMuc2V0RGVwdGhGdW5jdGlvbig1MTYpfXNldERlcHRoRnVuY3Rpb25Ub0dyZWF0ZXJPckVxdWFsKCl7dGhpcy5zZXREZXB0aEZ1bmN0aW9uKDUxOCl9c2V0RGVwdGhGdW5jdGlvblRvTGVzcygpe3RoaXMuc2V0RGVwdGhGdW5jdGlvbig1MTMpfXNldERlcHRoRnVuY3Rpb25Ub0xlc3NPckVxdWFsKCl7dGhpcy5zZXREZXB0aEZ1bmN0aW9uKDUxNSl9Y2FjaGVTdGVuY2lsU3RhdGUoKXt0aGlzLl9jYWNoZWRTdGVuY2lsQnVmZmVyPXRoaXMuZ2V0U3RlbmNpbEJ1ZmZlcigpLHRoaXMuX2NhY2hlZFN0ZW5jaWxGdW5jdGlvbj10aGlzLmdldFN0ZW5jaWxGdW5jdGlvbigpLHRoaXMuX2NhY2hlZFN0ZW5jaWxNYXNrPXRoaXMuZ2V0U3RlbmNpbE1hc2soKSx0aGlzLl9jYWNoZWRTdGVuY2lsT3BlcmF0aW9uUGFzcz10aGlzLmdldFN0ZW5jaWxPcGVyYXRpb25QYXNzKCksdGhpcy5fY2FjaGVkU3RlbmNpbE9wZXJhdGlvbkZhaWw9dGhpcy5nZXRTdGVuY2lsT3BlcmF0aW9uRmFpbCgpLHRoaXMuX2NhY2hlZFN0ZW5jaWxPcGVyYXRpb25EZXB0aEZhaWw9dGhpcy5nZXRTdGVuY2lsT3BlcmF0aW9uRGVwdGhGYWlsKCksdGhpcy5fY2FjaGVkU3RlbmNpbFJlZmVyZW5jZT10aGlzLmdldFN0ZW5jaWxGdW5jdGlvblJlZmVyZW5jZSgpfXJlc3RvcmVTdGVuY2lsU3RhdGUoKXt0aGlzLnNldFN0ZW5jaWxGdW5jdGlvbih0aGlzLl9jYWNoZWRTdGVuY2lsRnVuY3Rpb24pLHRoaXMuc2V0U3RlbmNpbE1hc2sodGhpcy5fY2FjaGVkU3RlbmNpbE1hc2spLHRoaXMuc2V0U3RlbmNpbEJ1ZmZlcih0aGlzLl9jYWNoZWRTdGVuY2lsQnVmZmVyKSx0aGlzLnNldFN0ZW5jaWxPcGVyYXRpb25QYXNzKHRoaXMuX2NhY2hlZFN0ZW5jaWxPcGVyYXRpb25QYXNzKSx0aGlzLnNldFN0ZW5jaWxPcGVyYXRpb25GYWlsKHRoaXMuX2NhY2hlZFN0ZW5jaWxPcGVyYXRpb25GYWlsKSx0aGlzLnNldFN0ZW5jaWxPcGVyYXRpb25EZXB0aEZhaWwodGhpcy5fY2FjaGVkU3RlbmNpbE9wZXJhdGlvbkRlcHRoRmFpbCksdGhpcy5zZXRTdGVuY2lsRnVuY3Rpb25SZWZlcmVuY2UodGhpcy5fY2FjaGVkU3RlbmNpbFJlZmVyZW5jZSl9c2V0RGlyZWN0Vmlld3BvcnQoZSx0LGkscyl7Y29uc3Qgcj10aGlzLl9jYWNoZWRWaWV3cG9ydDtyZXR1cm4gdGhpcy5fY2FjaGVkVmlld3BvcnQ9bnVsbCx0aGlzLl92aWV3cG9ydChlLHQsaSxzKSxyfXNjaXNzb3JDbGVhcihlLHQsaSxzLHIpe3RoaXMuZW5hYmxlU2Npc3NvcihlLHQsaSxzKSx0aGlzLmNsZWFyKHIsITAsITAsITApLHRoaXMuZGlzYWJsZVNjaXNzb3IoKX1lbmFibGVTY2lzc29yKGUsdCxpLHMpe2NvbnN0IHI9dGhpcy5fZ2w7ci5lbmFibGUoci5TQ0lTU09SX1RFU1QpLHIuc2Npc3NvcihlLHQsaSxzKX1kaXNhYmxlU2Npc3Nvcigpe2NvbnN0IGU9dGhpcy5fZ2w7ZS5kaXNhYmxlKGUuU0NJU1NPUl9URVNUKX1fcmVwb3J0RHJhd0NhbGwoZT0xKXt0aGlzLl9kcmF3Q2FsbHMuYWRkQ291bnQoZSwhMSl9aW5pdFdlYlZSKCl7dGhyb3cgJCgiV2ViVlJDYW1lcmEiKX1fcHJlcGFyZVZSQ29tcG9uZW50KCl7fV9jb25uZWN0VlJFdmVudHMoZSx0KXt9X3N1Ym1pdFZSRnJhbWUoKXt9ZGlzYWJsZVZSKCl7fWlzVlJQcmVzZW50aW5nKCl7cmV0dXJuITF9X3JlcXVlc3RWUkZyYW1lKCl7fV9sb2FkRmlsZUFzeW5jKGUsdCxpKXtyZXR1cm4gbmV3IFByb21pc2UoKHMscik9Pnt0aGlzLl9sb2FkRmlsZShlLG49PntzKG4pfSx2b2lkIDAsdCxpLChuLGEpPT57cihhKX0pfSl9Z2V0VmVydGV4U2hhZGVyU291cmNlKGUpe2NvbnN0IHQ9dGhpcy5fZ2wuZ2V0QXR0YWNoZWRTaGFkZXJzKGUpO3JldHVybiB0P3RoaXMuX2dsLmdldFNoYWRlclNvdXJjZSh0WzBdKTpudWxsfWdldEZyYWdtZW50U2hhZGVyU291cmNlKGUpe2NvbnN0IHQ9dGhpcy5fZ2wuZ2V0QXR0YWNoZWRTaGFkZXJzKGUpO3JldHVybiB0P3RoaXMuX2dsLmdldFNoYWRlclNvdXJjZSh0WzFdKTpudWxsfXNldERlcHRoU3RlbmNpbFRleHR1cmUoZSx0LGkscyl7ZSE9PXZvaWQgMCYmKHQmJih0aGlzLl9ib3VuZFVuaWZvcm1zW2VdPXQpLCFpfHwhaS5kZXB0aFN0ZW5jaWxUZXh0dXJlP3RoaXMuX3NldFRleHR1cmUoZSxudWxsLHZvaWQgMCx2b2lkIDAscyk6dGhpcy5fc2V0VGV4dHVyZShlLGksITEsITAscykpfXNldFRleHR1cmVGcm9tUG9zdFByb2Nlc3MoZSx0LGkpe3ZhciBzO2xldCByPW51bGw7dCYmKHQuX3RleHR1cmVzLmRhdGFbdC5fY3VycmVudFJlbmRlclRleHR1cmVJbmRdP3I9dC5fdGV4dHVyZXMuZGF0YVt0Ll9jdXJyZW50UmVuZGVyVGV4dHVyZUluZF06dC5fZm9yY2VkT3V0cHV0VGV4dHVyZSYmKHI9dC5fZm9yY2VkT3V0cHV0VGV4dHVyZSkpLHRoaXMuX2JpbmRUZXh0dXJlKGUsKHM9cj09bnVsbD92b2lkIDA6ci50ZXh0dXJlKSE9PW51bGwmJnMhPT12b2lkIDA/czpudWxsLGkpfXNldFRleHR1cmVGcm9tUG9zdFByb2Nlc3NPdXRwdXQoZSx0LGkpe3ZhciBzLHI7dGhpcy5fYmluZFRleHR1cmUoZSwocj0ocz10PT1udWxsP3ZvaWQgMDp0Ll9vdXRwdXRUZXh0dXJlKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMudGV4dHVyZSkhPT1udWxsJiZyIT09dm9pZCAwP3I6bnVsbCxpKX1fcmVidWlsZEJ1ZmZlcnMoKXtmb3IoY29uc3QgZSBvZiB0aGlzLnNjZW5lcyllLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSxlLl9yZWJ1aWxkR2VvbWV0cmllcygpLGUuX3JlYnVpbGRUZXh0dXJlcygpO2Zvcihjb25zdCBlIG9mIHRoaXMuX3ZpcnR1YWxTY2VuZXMpZS5yZXNldENhY2hlZE1hdGVyaWFsKCksZS5fcmVidWlsZEdlb21ldHJpZXMoKSxlLl9yZWJ1aWxkVGV4dHVyZXMoKTtzdXBlci5fcmVidWlsZEJ1ZmZlcnMoKX1fcmVuZGVyRnJhbWUoKXtmb3IobGV0IGU9MDtlPHRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzLmxlbmd0aDtlKyspe2NvbnN0IHQ9dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHNbZV07dCgpfX1fcmVuZGVyTG9vcCgpe2lmKCF0aGlzLl9jb250ZXh0V2FzTG9zdCl7bGV0IGU9ITA7IXRoaXMucmVuZGVyRXZlbkluQmFja2dyb3VuZCYmdGhpcy5fd2luZG93SXNCYWNrZ3JvdW5kJiYoZT0hMSksZSYmKHRoaXMuYmVnaW5GcmFtZSgpLHRoaXMuX3JlbmRlclZpZXdzKCl8fHRoaXMuX3JlbmRlckZyYW1lKCksdGhpcy5lbmRGcmFtZSgpKX10aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5sZW5ndGg+MD90aGlzLmN1c3RvbUFuaW1hdGlvbkZyYW1lUmVxdWVzdGVyPyh0aGlzLmN1c3RvbUFuaW1hdGlvbkZyYW1lUmVxdWVzdGVyLnJlcXVlc3RJRD10aGlzLl9xdWV1ZU5ld0ZyYW1lKHRoaXMuY3VzdG9tQW5pbWF0aW9uRnJhbWVSZXF1ZXN0ZXIucmVuZGVyRnVuY3Rpb258fHRoaXMuX2JvdW5kUmVuZGVyRnVuY3Rpb24sdGhpcy5jdXN0b21BbmltYXRpb25GcmFtZVJlcXVlc3RlciksdGhpcy5fZnJhbWVIYW5kbGVyPXRoaXMuY3VzdG9tQW5pbWF0aW9uRnJhbWVSZXF1ZXN0ZXIucmVxdWVzdElEKTp0aGlzLmlzVlJQcmVzZW50aW5nKCk/dGhpcy5fcmVxdWVzdFZSRnJhbWUoKTp0aGlzLl9mcmFtZUhhbmRsZXI9dGhpcy5fcXVldWVOZXdGcmFtZSh0aGlzLl9ib3VuZFJlbmRlckZ1bmN0aW9uLHRoaXMuZ2V0SG9zdFdpbmRvdygpKTp0aGlzLl9yZW5kZXJpbmdRdWV1ZUxhdW5jaGVkPSExfV9yZW5kZXJWaWV3cygpe3JldHVybiExfXN3aXRjaEZ1bGxzY3JlZW4oZSl7dGhpcy5pc0Z1bGxzY3JlZW4/dGhpcy5leGl0RnVsbHNjcmVlbigpOnRoaXMuZW50ZXJGdWxsc2NyZWVuKGUpfWVudGVyRnVsbHNjcmVlbihlKXt0aGlzLmlzRnVsbHNjcmVlbnx8KHRoaXMuX3BvaW50ZXJMb2NrUmVxdWVzdGVkPWUsdGhpcy5fcmVuZGVyaW5nQ2FudmFzJiZJLl9SZXF1ZXN0RnVsbHNjcmVlbih0aGlzLl9yZW5kZXJpbmdDYW52YXMpKX1leGl0RnVsbHNjcmVlbigpe3RoaXMuaXNGdWxsc2NyZWVuJiZJLl9FeGl0RnVsbHNjcmVlbigpfWVudGVyUG9pbnRlcmxvY2soKXt0aGlzLl9yZW5kZXJpbmdDYW52YXMmJkkuX1JlcXVlc3RQb2ludGVybG9jayh0aGlzLl9yZW5kZXJpbmdDYW52YXMpfWV4aXRQb2ludGVybG9jaygpe0kuX0V4aXRQb2ludGVybG9jaygpfWJlZ2luRnJhbWUoKXt0aGlzLl9tZWFzdXJlRnBzKCksdGhpcy5vbkJlZ2luRnJhbWVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSxzdXBlci5iZWdpbkZyYW1lKCl9ZW5kRnJhbWUoKXtzdXBlci5lbmRGcmFtZSgpLHRoaXMuX3N1Ym1pdFZSRnJhbWUoKSx0aGlzLm9uRW5kRnJhbWVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX1yZXNpemUoZT0hMSl7dGhpcy5pc1ZSUHJlc2VudGluZygpfHxzdXBlci5yZXNpemUoZSl9c2V0U2l6ZShlLHQsaT0hMSl7aWYoIXRoaXMuX3JlbmRlcmluZ0NhbnZhc3x8IXN1cGVyLnNldFNpemUoZSx0LGkpKXJldHVybiExO2lmKHRoaXMuc2NlbmVzKXtmb3IobGV0IHM9MDtzPHRoaXMuc2NlbmVzLmxlbmd0aDtzKyspe2NvbnN0IHI9dGhpcy5zY2VuZXNbc107Zm9yKGxldCBuPTA7bjxyLmNhbWVyYXMubGVuZ3RoO24rKyl7Y29uc3QgYT1yLmNhbWVyYXNbbl07YS5fY3VycmVudFJlbmRlcklkPTB9fXRoaXMub25SZXNpemVPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZ0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9cmV0dXJuITB9X2RlbGV0ZVBpcGVsaW5lQ29udGV4dChlKXtjb25zdCB0PWU7dCYmdC5wcm9ncmFtJiZ0LnRyYW5zZm9ybUZlZWRiYWNrJiYodGhpcy5kZWxldGVUcmFuc2Zvcm1GZWVkYmFjayh0LnRyYW5zZm9ybUZlZWRiYWNrKSx0LnRyYW5zZm9ybUZlZWRiYWNrPW51bGwpLHN1cGVyLl9kZWxldGVQaXBlbGluZUNvbnRleHQoZSl9Y3JlYXRlU2hhZGVyUHJvZ3JhbShlLHQsaSxzLHIsbj1udWxsKXtyPXJ8fHRoaXMuX2dsLHRoaXMub25CZWZvcmVTaGFkZXJDb21waWxhdGlvbk9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2NvbnN0IGE9c3VwZXIuY3JlYXRlU2hhZGVyUHJvZ3JhbShlLHQsaSxzLHIsbik7cmV0dXJuIHRoaXMub25BZnRlclNoYWRlckNvbXBpbGF0aW9uT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksYX1fY3JlYXRlU2hhZGVyUHJvZ3JhbShlLHQsaSxzLHI9bnVsbCl7Y29uc3Qgbj1zLmNyZWF0ZVByb2dyYW0oKTtpZihlLnByb2dyYW09biwhbil0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgcHJvZ3JhbSIpO2lmKHMuYXR0YWNoU2hhZGVyKG4sdCkscy5hdHRhY2hTaGFkZXIobixpKSx0aGlzLndlYkdMVmVyc2lvbj4xJiZyKXtjb25zdCBhPXRoaXMuY3JlYXRlVHJhbnNmb3JtRmVlZGJhY2soKTt0aGlzLmJpbmRUcmFuc2Zvcm1GZWVkYmFjayhhKSx0aGlzLnNldFRyYW5mb3JtRmVlZGJhY2tWYXJ5aW5ncyhuLHIpLGUudHJhbnNmb3JtRmVlZGJhY2s9YX1yZXR1cm4gcy5saW5rUHJvZ3JhbShuKSx0aGlzLndlYkdMVmVyc2lvbj4xJiZyJiZ0aGlzLmJpbmRUcmFuc2Zvcm1GZWVkYmFjayhudWxsKSxlLmNvbnRleHQ9cyxlLnZlcnRleFNoYWRlcj10LGUuZnJhZ21lbnRTaGFkZXI9aSxlLmlzUGFyYWxsZWxDb21waWxlZHx8dGhpcy5fZmluYWxpemVQaXBlbGluZUNvbnRleHQoZSksbn1fcmVsZWFzZVRleHR1cmUoZSl7c3VwZXIuX3JlbGVhc2VUZXh0dXJlKGUpfV9yZWxlYXNlUmVuZGVyVGFyZ2V0V3JhcHBlcihlKXtzdXBlci5fcmVsZWFzZVJlbmRlclRhcmdldFdyYXBwZXIoZSksdGhpcy5zY2VuZXMuZm9yRWFjaCh0PT57dC5wb3N0UHJvY2Vzc2VzLmZvckVhY2goaT0+e2kuX291dHB1dFRleHR1cmU9PT1lJiYoaS5fb3V0cHV0VGV4dHVyZT1udWxsKX0pLHQuY2FtZXJhcy5mb3JFYWNoKGk9PntpLl9wb3N0UHJvY2Vzc2VzLmZvckVhY2gocz0+e3MmJnMuX291dHB1dFRleHR1cmU9PT1lJiYocy5fb3V0cHV0VGV4dHVyZT1udWxsKX0pfSl9KX1nZXRSZW5kZXJQYXNzTmFtZXMoKXtyZXR1cm4gdGhpcy5fcmVuZGVyUGFzc05hbWVzfWdldEN1cnJlbnRSZW5kZXJQYXNzTmFtZSgpe3JldHVybiB0aGlzLl9yZW5kZXJQYXNzTmFtZXNbdGhpcy5jdXJyZW50UmVuZGVyUGFzc0lkXX1jcmVhdGVSZW5kZXJQYXNzSWQoZSl7Y29uc3QgdD0rK0kuX1JlbmRlclBhc3NJZENvdW50ZXI7cmV0dXJuIHRoaXMuX3JlbmRlclBhc3NOYW1lc1t0XT1lPz8iTk9OQU1FIix0fXJlbGVhc2VSZW5kZXJQYXNzSWQoZSl7dGhpcy5fcmVuZGVyUGFzc05hbWVzW2VdPXZvaWQgMDtmb3IobGV0IHQ9MDt0PHRoaXMuc2NlbmVzLmxlbmd0aDsrK3Qpe2NvbnN0IGk9dGhpcy5zY2VuZXNbdF07Zm9yKGxldCBzPTA7czxpLm1lc2hlcy5sZW5ndGg7KytzKXtjb25zdCByPWkubWVzaGVzW3NdO2lmKHIuc3ViTWVzaGVzKWZvcihsZXQgbj0wO248ci5zdWJNZXNoZXMubGVuZ3RoOysrbilyLnN1Yk1lc2hlc1tuXS5fcmVtb3ZlRHJhd1dyYXBwZXIoZSl9fX1fcmVzY2FsZVRleHR1cmUoZSx0LGkscyxyKXt0aGlzLl9nbC50ZXhQYXJhbWV0ZXJpKHRoaXMuX2dsLlRFWFRVUkVfMkQsdGhpcy5fZ2wuVEVYVFVSRV9NQUdfRklMVEVSLHRoaXMuX2dsLkxJTkVBUiksdGhpcy5fZ2wudGV4UGFyYW1ldGVyaSh0aGlzLl9nbC5URVhUVVJFXzJELHRoaXMuX2dsLlRFWFRVUkVfTUlOX0ZJTFRFUix0aGlzLl9nbC5MSU5FQVIpLHRoaXMuX2dsLnRleFBhcmFtZXRlcmkodGhpcy5fZ2wuVEVYVFVSRV8yRCx0aGlzLl9nbC5URVhUVVJFX1dSQVBfUyx0aGlzLl9nbC5DTEFNUF9UT19FREdFKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJpKHRoaXMuX2dsLlRFWFRVUkVfMkQsdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1QsdGhpcy5fZ2wuQ0xBTVBfVE9fRURHRSk7Y29uc3Qgbj10aGlzLmNyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUoe3dpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0fSx7Z2VuZXJhdGVNaXBNYXBzOiExLHR5cGU6MCxzYW1wbGluZ01vZGU6MixnZW5lcmF0ZURlcHRoQnVmZmVyOiExLGdlbmVyYXRlU3RlbmNpbEJ1ZmZlcjohMX0pOyF0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3MmJkkuX1Jlc2NhbGVQb3N0UHJvY2Vzc0ZhY3RvcnkmJih0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3M9SS5fUmVzY2FsZVBvc3RQcm9jZXNzRmFjdG9yeSh0aGlzKSksdGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzJiYodGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzLmV4dGVybmFsVGV4dHVyZVNhbXBsZXJCaW5kaW5nPSEwLHRoaXMuX3Jlc2NhbGVQb3N0UHJvY2Vzcy5nZXRFZmZlY3QoKS5leGVjdXRlV2hlbkNvbXBpbGVkKCgpPT57dGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzLm9uQXBwbHk9ZnVuY3Rpb24obyl7by5fYmluZFRleHR1cmUoInRleHR1cmVTYW1wbGVyIixlKX07bGV0IGE9aTthfHwoYT10aGlzLnNjZW5lc1t0aGlzLnNjZW5lcy5sZW5ndGgtMV0pLGEucG9zdFByb2Nlc3NNYW5hZ2VyLmRpcmVjdFJlbmRlcihbdGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzXSxuLCEwKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsdCwhMCksdGhpcy5fZ2wuY29weVRleEltYWdlMkQodGhpcy5fZ2wuVEVYVFVSRV8yRCwwLHMsMCwwLHQud2lkdGgsdC5oZWlnaHQsMCksdGhpcy51bkJpbmRGcmFtZWJ1ZmZlcihuKSxuLmRpc3Bvc2UoKSxyJiZyKCl9KSl9Z2V0RnBzKCl7cmV0dXJuIHRoaXMuX2Zwc31nZXREZWx0YVRpbWUoKXtyZXR1cm4gdGhpcy5fZGVsdGFUaW1lfV9tZWFzdXJlRnBzKCl7dGhpcy5fcGVyZm9ybWFuY2VNb25pdG9yLnNhbXBsZUZyYW1lKCksdGhpcy5fZnBzPXRoaXMuX3BlcmZvcm1hbmNlTW9uaXRvci5hdmVyYWdlRlBTLHRoaXMuX2RlbHRhVGltZT10aGlzLl9wZXJmb3JtYW5jZU1vbml0b3IuaW5zdGFudGFuZW91c0ZyYW1lVGltZXx8MH13cmFwV2ViR0xUZXh0dXJlKGUpe2NvbnN0IHQ9bmV3IHRyKGUsdGhpcy5fZ2wpLGk9bmV3IE90KHRoaXMsTmUuVW5rbm93biwhMCk7cmV0dXJuIGkuX2hhcmR3YXJlVGV4dHVyZT10LGkuaXNSZWFkeT0hMCxpfV91cGxvYWRJbWFnZVRvVGV4dHVyZShlLHQsaT0wLHM9MCl7Y29uc3Qgcj10aGlzLl9nbCxuPXRoaXMuX2dldFdlYkdMVGV4dHVyZVR5cGUoZS50eXBlKSxhPXRoaXMuX2dldEludGVybmFsRm9ybWF0KGUuZm9ybWF0KSxvPXRoaXMuX2dldFJHQkFCdWZmZXJJbnRlcm5hbFNpemVkRm9ybWF0KGUudHlwZSxhKSxoPWUuaXNDdWJlP3IuVEVYVFVSRV9DVUJFX01BUDpyLlRFWFRVUkVfMkQ7dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShoLGUsITApLHRoaXMuX3VucGFja0ZsaXBZKGUuaW52ZXJ0WSk7bGV0IGw9ci5URVhUVVJFXzJEO2UuaXNDdWJlJiYobD1yLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCtpKSxyLnRleEltYWdlMkQobCxzLG8sYSxuLHQpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoaCxudWxsLCEwKX11cGRhdGVUZXh0dXJlQ29tcGFyaXNvbkZ1bmN0aW9uKGUsdCl7aWYodGhpcy53ZWJHTFZlcnNpb249PT0xKXtPLkVycm9yKCJXZWJHTCAxIGRvZXMgbm90IHN1cHBvcnQgdGV4dHVyZSBjb21wYXJpc29uLiIpO3JldHVybn1jb25zdCBpPXRoaXMuX2dsO2UuaXNDdWJlPyh0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfQ1VCRV9NQVAsZSwhMCksdD09PTA/KGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfQ1VCRV9NQVAsaS5URVhUVVJFX0NPTVBBUkVfRlVOQyw1MTUpLGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfQ1VCRV9NQVAsaS5URVhUVVJFX0NPTVBBUkVfTU9ERSxpLk5PTkUpKTooaS50ZXhQYXJhbWV0ZXJpKGkuVEVYVFVSRV9DVUJFX01BUCxpLlRFWFRVUkVfQ09NUEFSRV9GVU5DLHQpLGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfQ1VCRV9NQVAsaS5URVhUVVJFX0NPTVBBUkVfTU9ERSxpLkNPTVBBUkVfUkVGX1RPX1RFWFRVUkUpKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfQ1VCRV9NQVAsbnVsbCkpOih0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsZSwhMCksdD09PTA/KGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfMkQsaS5URVhUVVJFX0NPTVBBUkVfRlVOQyw1MTUpLGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfMkQsaS5URVhUVVJFX0NPTVBBUkVfTU9ERSxpLk5PTkUpKTooaS50ZXhQYXJhbWV0ZXJpKGkuVEVYVFVSRV8yRCxpLlRFWFRVUkVfQ09NUEFSRV9GVU5DLHQpLGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfMkQsaS5URVhUVVJFX0NPTVBBUkVfTU9ERSxpLkNPTVBBUkVfUkVGX1RPX1RFWFRVUkUpKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsbnVsbCkpLGUuX2NvbXBhcmlzb25GdW5jdGlvbj10fWNyZWF0ZUluc3RhbmNlc0J1ZmZlcihlKXtjb25zdCB0PXRoaXMuX2dsLmNyZWF0ZUJ1ZmZlcigpO2lmKCF0KXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBpbnN0YW5jZSBidWZmZXIiKTtjb25zdCBpPW5ldyBEaSh0KTtyZXR1cm4gaS5jYXBhY2l0eT1lLHRoaXMuYmluZEFycmF5QnVmZmVyKGkpLHRoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLGUsdGhpcy5fZ2wuRFlOQU1JQ19EUkFXKSxpLnJlZmVyZW5jZXM9MSxpfWRlbGV0ZUluc3RhbmNlc0J1ZmZlcihlKXt0aGlzLl9nbC5kZWxldGVCdWZmZXIoZSl9X2NsaWVudFdhaXRBc3luYyhlLHQ9MCxpPTEwKXtjb25zdCBzPXRoaXMuX2dsO3JldHVybiBuZXcgUHJvbWlzZSgocixuKT0+e2NvbnN0IGE9KCk9Pntjb25zdCBvPXMuY2xpZW50V2FpdFN5bmMoZSx0LDApO2lmKG89PXMuV0FJVF9GQUlMRUQpe24oKTtyZXR1cm59aWYobz09cy5USU1FT1VUX0VYUElSRUQpe3NldFRpbWVvdXQoYSxpKTtyZXR1cm59cigpfTthKCl9KX1fcmVhZFBpeGVsc0FzeW5jKGUsdCxpLHMscixuLGEpe2lmKHRoaXMuX3dlYkdMVmVyc2lvbjwyKXRocm93IG5ldyBFcnJvcigiX3JlYWRQaXhlbHNBc3luYyBvbmx5IHdvcmsgb24gV2ViR0wyKyIpO2NvbnN0IG89dGhpcy5fZ2wsaD1vLmNyZWF0ZUJ1ZmZlcigpO28uYmluZEJ1ZmZlcihvLlBJWEVMX1BBQ0tfQlVGRkVSLGgpLG8uYnVmZmVyRGF0YShvLlBJWEVMX1BBQ0tfQlVGRkVSLGEuYnl0ZUxlbmd0aCxvLlNUUkVBTV9SRUFEKSxvLnJlYWRQaXhlbHMoZSx0LGkscyxyLG4sMCksby5iaW5kQnVmZmVyKG8uUElYRUxfUEFDS19CVUZGRVIsbnVsbCk7Y29uc3QgbD1vLmZlbmNlU3luYyhvLlNZTkNfR1BVX0NPTU1BTkRTX0NPTVBMRVRFLDApO3JldHVybiBsPyhvLmZsdXNoKCksdGhpcy5fY2xpZW50V2FpdEFzeW5jKGwsMCwxMCkudGhlbigoKT0+KG8uZGVsZXRlU3luYyhsKSxvLmJpbmRCdWZmZXIoby5QSVhFTF9QQUNLX0JVRkZFUixoKSxvLmdldEJ1ZmZlclN1YkRhdGEoby5QSVhFTF9QQUNLX0JVRkZFUiwwLGEpLG8uYmluZEJ1ZmZlcihvLlBJWEVMX1BBQ0tfQlVGRkVSLG51bGwpLG8uZGVsZXRlQnVmZmVyKGgpLGEpKSk6bnVsbH1kaXNwb3NlKCl7Zm9yKHRoaXMuaGlkZUxvYWRpbmdVSSgpLHRoaXMub25OZXdTY2VuZUFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpO3RoaXMucG9zdFByb2Nlc3Nlcy5sZW5ndGg7KXRoaXMucG9zdFByb2Nlc3Nlc1swXS5kaXNwb3NlKCk7Zm9yKHRoaXMuX3Jlc2NhbGVQb3N0UHJvY2VzcyYmdGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzLmRpc3Bvc2UoKTt0aGlzLnNjZW5lcy5sZW5ndGg7KXRoaXMuc2NlbmVzWzBdLmRpc3Bvc2UoKTtmb3IoO3RoaXMuX3ZpcnR1YWxTY2VuZXMubGVuZ3RoOyl0aGlzLl92aXJ0dWFsU2NlbmVzWzBdLmRpc3Bvc2UoKTtJLkluc3RhbmNlcy5sZW5ndGg9PT0xJiZJLmF1ZGlvRW5naW5lJiYoSS5hdWRpb0VuZ2luZS5kaXNwb3NlKCksSS5hdWRpb0VuZ2luZT1udWxsKSx0aGlzLmRpc2FibGVWUigpO2NvbnN0IGU9dGhpcy5nZXRIb3N0V2luZG93KCk7ZSYmdHlwZW9mIGUucmVtb3ZlRXZlbnRMaXN0ZW5lcj09ImZ1bmN0aW9uIiYmKGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigiYmx1ciIsdGhpcy5fb25CbHVyKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoImZvY3VzIix0aGlzLl9vbkZvY3VzKSksdGhpcy5fcmVuZGVyaW5nQ2FudmFzJiYodGhpcy5fcmVuZGVyaW5nQ2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoImZvY3VzIix0aGlzLl9vbkNhbnZhc0ZvY3VzKSx0aGlzLl9yZW5kZXJpbmdDYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigiYmx1ciIsdGhpcy5fb25DYW52YXNCbHVyKSx0aGlzLl9yZW5kZXJpbmdDYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9pbnRlcm91dCIsdGhpcy5fb25DYW52YXNQb2ludGVyT3V0KSx0aGlzLl9yZW5kZXJpbmdDYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY29udGV4dG1lbnUiLHRoaXMuX29uQ2FudmFzQ29udGV4dE1lbnUpKSxDaSgpJiYoZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZnVsbHNjcmVlbmNoYW5nZSIsdGhpcy5fb25GdWxsc2NyZWVuQ2hhbmdlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3pmdWxsc2NyZWVuY2hhbmdlIix0aGlzLl9vbkZ1bGxzY3JlZW5DaGFuZ2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UiLHRoaXMuX29uRnVsbHNjcmVlbkNoYW5nZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibXNmdWxsc2NyZWVuY2hhbmdlIix0aGlzLl9vbkZ1bGxzY3JlZW5DaGFuZ2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvaW50ZXJsb2NrY2hhbmdlIix0aGlzLl9vblBvaW50ZXJMb2NrQ2hhbmdlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtc3BvaW50ZXJsb2NrY2hhbmdlIix0aGlzLl9vblBvaW50ZXJMb2NrQ2hhbmdlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3pwb2ludGVybG9ja2NoYW5nZSIsdGhpcy5fb25Qb2ludGVyTG9ja0NoYW5nZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigid2Via2l0cG9pbnRlcmxvY2tjaGFuZ2UiLHRoaXMuX29uUG9pbnRlckxvY2tDaGFuZ2UpKSxzdXBlci5kaXNwb3NlKCk7Y29uc3QgdD1JLkluc3RhbmNlcy5pbmRleE9mKHRoaXMpO3Q+PTAmJkkuSW5zdGFuY2VzLnNwbGljZSh0LDEpLHRoaXMub25SZXNpemVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNhbnZhc0JsdXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNhbnZhc0ZvY3VzT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25DYW52YXNQb2ludGVyT3V0T2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWdpbkZyYW1lT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25FbmRGcmFtZU9ic2VydmFibGUuY2xlYXIoKX1fZGlzYWJsZVRvdWNoQWN0aW9uKCl7IXRoaXMuX3JlbmRlcmluZ0NhbnZhc3x8IXRoaXMuX3JlbmRlcmluZ0NhbnZhcy5zZXRBdHRyaWJ1dGV8fCh0aGlzLl9yZW5kZXJpbmdDYW52YXMuc2V0QXR0cmlidXRlKCJ0b3VjaC1hY3Rpb24iLCJub25lIiksdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnN0eWxlLnRvdWNoQWN0aW9uPSJub25lIix0aGlzLl9yZW5kZXJpbmdDYW52YXMuc3R5bGUud2Via2l0VGFwSGlnaGxpZ2h0Q29sb3I9InRyYW5zcGFyZW50Iil9ZGlzcGxheUxvYWRpbmdVSSgpe2lmKCFqZSgpKXJldHVybjtjb25zdCBlPXRoaXMubG9hZGluZ1NjcmVlbjtlJiZlLmRpc3BsYXlMb2FkaW5nVUkoKX1oaWRlTG9hZGluZ1VJKCl7aWYoIWplKCkpcmV0dXJuO2NvbnN0IGU9dGhpcy5fbG9hZGluZ1NjcmVlbjtlJiZlLmhpZGVMb2FkaW5nVUkoKX1nZXQgbG9hZGluZ1NjcmVlbigpe3JldHVybiF0aGlzLl9sb2FkaW5nU2NyZWVuJiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMmJih0aGlzLl9sb2FkaW5nU2NyZWVuPUkuRGVmYXVsdExvYWRpbmdTY3JlZW5GYWN0b3J5KHRoaXMuX3JlbmRlcmluZ0NhbnZhcykpLHRoaXMuX2xvYWRpbmdTY3JlZW59c2V0IGxvYWRpbmdTY3JlZW4oZSl7dGhpcy5fbG9hZGluZ1NjcmVlbj1lfXNldCBsb2FkaW5nVUlUZXh0KGUpe3RoaXMubG9hZGluZ1NjcmVlbi5sb2FkaW5nVUlUZXh0PWV9c2V0IGxvYWRpbmdVSUJhY2tncm91bmRDb2xvcihlKXt0aGlzLmxvYWRpbmdTY3JlZW4ubG9hZGluZ1VJQmFja2dyb3VuZENvbG9yPWV9Y3JlYXRlVmlkZW9FbGVtZW50KGUpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ2aWRlbyIpfXN0YXRpYyBfUmVxdWVzdFBvaW50ZXJsb2NrKGUpe2UucmVxdWVzdFBvaW50ZXJMb2NrJiYoZS5yZXF1ZXN0UG9pbnRlckxvY2soKSxlLmZvY3VzKCkpfXN0YXRpYyBfRXhpdFBvaW50ZXJsb2NrKCl7ZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrJiZkb2N1bWVudC5leGl0UG9pbnRlckxvY2soKX1zdGF0aWMgX1JlcXVlc3RGdWxsc2NyZWVuKGUpe2NvbnN0IHQ9ZS5yZXF1ZXN0RnVsbHNjcmVlbnx8ZS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbjt0JiZ0LmNhbGwoZSl9c3RhdGljIF9FeGl0RnVsbHNjcmVlbigpe2NvbnN0IGU9ZG9jdW1lbnQ7ZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4/ZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKTplLndlYmtpdENhbmNlbEZ1bGxTY3JlZW4mJmUud2Via2l0Q2FuY2VsRnVsbFNjcmVlbigpfWdldEZvbnRPZmZzZXQoZSl7Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7dC5pbm5lckhUTUw9IkhnIix0LnNldEF0dHJpYnV0ZSgic3R5bGUiLGBmb250OiAke2V9ICFpbXBvcnRhbnRgKTtjb25zdCBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2kuc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIixpLnN0eWxlLndpZHRoPSIxcHgiLGkuc3R5bGUuaGVpZ2h0PSIwcHgiLGkuc3R5bGUudmVydGljYWxBbGlnbj0iYm90dG9tIjtjb25zdCBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Muc3R5bGUud2hpdGVTcGFjZT0ibm93cmFwIixzLmFwcGVuZENoaWxkKHQpLHMuYXBwZW5kQ2hpbGQoaSksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzKTtsZXQgcj0wLG49MDt0cnl7bj1pLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcC10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCxpLnN0eWxlLnZlcnRpY2FsQWxpZ249ImJhc2VsaW5lIixyPWkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wfWZpbmFsbHl7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzKX1yZXR1cm57YXNjZW50OnIsaGVpZ2h0Om4sZGVzY2VudDpuLXJ9fX1JLkFMUEhBX0RJU0FCTEU9MCxJLkFMUEhBX0FERD0xLEkuQUxQSEFfQ09NQklORT0yLEkuQUxQSEFfU1VCVFJBQ1Q9MyxJLkFMUEhBX01VTFRJUExZPTQsSS5BTFBIQV9NQVhJTUlaRUQ9NSxJLkFMUEhBX09ORU9ORT02LEkuQUxQSEFfUFJFTVVMVElQTElFRD03LEkuQUxQSEFfUFJFTVVMVElQTElFRF9QT1JURVJEVUZGPTgsSS5BTFBIQV9JTlRFUlBPTEFURT05LEkuQUxQSEFfU0NSRUVOTU9ERT0xMCxJLkRFTEFZTE9BRFNUQVRFX05PTkU9MCxJLkRFTEFZTE9BRFNUQVRFX0xPQURFRD0xLEkuREVMQVlMT0FEU1RBVEVfTE9BRElORz0yLEkuREVMQVlMT0FEU1RBVEVfTk9UTE9BREVEPTQsSS5ORVZFUj01MTIsSS5BTFdBWVM9NTE5LEkuTEVTUz01MTMsSS5FUVVBTD01MTQsSS5MRVFVQUw9NTE1LEkuR1JFQVRFUj01MTYsSS5HRVFVQUw9NTE4LEkuTk9URVFVQUw9NTE3LEkuS0VFUD03NjgwLEkuUkVQTEFDRT03NjgxLEkuSU5DUj03NjgyLEkuREVDUj03NjgzLEkuSU5WRVJUPTUzODYsSS5JTkNSX1dSQVA9MzQwNTUsSS5ERUNSX1dSQVA9MzQwNTYsSS5URVhUVVJFX0NMQU1QX0FERFJFU1NNT0RFPTAsSS5URVhUVVJFX1dSQVBfQUREUkVTU01PREU9MSxJLlRFWFRVUkVfTUlSUk9SX0FERFJFU1NNT0RFPTIsSS5URVhUVVJFRk9STUFUX0FMUEhBPTAsSS5URVhUVVJFRk9STUFUX0xVTUlOQU5DRT0xLEkuVEVYVFVSRUZPUk1BVF9MVU1JTkFOQ0VfQUxQSEE9MixJLlRFWFRVUkVGT1JNQVRfUkdCPTQsSS5URVhUVVJFRk9STUFUX1JHQkE9NSxJLlRFWFRVUkVGT1JNQVRfUkVEPTYsSS5URVhUVVJFRk9STUFUX1I9NixJLlRFWFRVUkVGT1JNQVRfUkc9NyxJLlRFWFRVUkVGT1JNQVRfUkVEX0lOVEVHRVI9OCxJLlRFWFRVUkVGT1JNQVRfUl9JTlRFR0VSPTgsSS5URVhUVVJFRk9STUFUX1JHX0lOVEVHRVI9OSxJLlRFWFRVUkVGT1JNQVRfUkdCX0lOVEVHRVI9MTAsSS5URVhUVVJFRk9STUFUX1JHQkFfSU5URUdFUj0xMSxJLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0JZVEU9MCxJLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0lOVD0wLEkuVEVYVFVSRVRZUEVfRkxPQVQ9MSxJLlRFWFRVUkVUWVBFX0hBTEZfRkxPQVQ9MixJLlRFWFRVUkVUWVBFX0JZVEU9MyxJLlRFWFRVUkVUWVBFX1NIT1JUPTQsSS5URVhUVVJFVFlQRV9VTlNJR05FRF9TSE9SVD01LEkuVEVYVFVSRVRZUEVfSU5UPTYsSS5URVhUVVJFVFlQRV9VTlNJR05FRF9JTlRFR0VSPTcsSS5URVhUVVJFVFlQRV9VTlNJR05FRF9TSE9SVF80XzRfNF80PTgsSS5URVhUVVJFVFlQRV9VTlNJR05FRF9TSE9SVF81XzVfNV8xPTksSS5URVhUVVJFVFlQRV9VTlNJR05FRF9TSE9SVF81XzZfNT0xMCxJLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0lOVF8yXzEwXzEwXzEwX1JFVj0xMSxJLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0lOVF8yNF84PTEyLEkuVEVYVFVSRVRZUEVfVU5TSUdORURfSU5UXzEwRl8xMUZfMTFGX1JFVj0xMyxJLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0lOVF81XzlfOV85X1JFVj0xNCxJLlRFWFRVUkVUWVBFX0ZMT0FUXzMyX1VOU0lHTkVEX0lOVF8yNF84X1JFVj0xNSxJLlRFWFRVUkVfTkVBUkVTVF9TQU1QTElOR01PREU9MSxJLlRFWFRVUkVfQklMSU5FQVJfU0FNUExJTkdNT0RFPTIsSS5URVhUVVJFX1RSSUxJTkVBUl9TQU1QTElOR01PREU9MyxJLlRFWFRVUkVfTkVBUkVTVF9ORUFSRVNUX01JUExJTkVBUj04LEkuVEVYVFVSRV9MSU5FQVJfTElORUFSX01JUE5FQVJFU1Q9MTEsSS5URVhUVVJFX0xJTkVBUl9MSU5FQVJfTUlQTElORUFSPTMsSS5URVhUVVJFX05FQVJFU1RfTkVBUkVTVF9NSVBORUFSRVNUPTQsSS5URVhUVVJFX05FQVJFU1RfTElORUFSX01JUE5FQVJFU1Q9NSxJLlRFWFRVUkVfTkVBUkVTVF9MSU5FQVJfTUlQTElORUFSPTYsSS5URVhUVVJFX05FQVJFU1RfTElORUFSPTcsSS5URVhUVVJFX05FQVJFU1RfTkVBUkVTVD0xLEkuVEVYVFVSRV9MSU5FQVJfTkVBUkVTVF9NSVBORUFSRVNUPTksSS5URVhUVVJFX0xJTkVBUl9ORUFSRVNUX01JUExJTkVBUj0xMCxJLlRFWFRVUkVfTElORUFSX0xJTkVBUj0yLEkuVEVYVFVSRV9MSU5FQVJfTkVBUkVTVD0xMixJLlRFWFRVUkVfRVhQTElDSVRfTU9ERT0wLEkuVEVYVFVSRV9TUEhFUklDQUxfTU9ERT0xLEkuVEVYVFVSRV9QTEFOQVJfTU9ERT0yLEkuVEVYVFVSRV9DVUJJQ19NT0RFPTMsSS5URVhUVVJFX1BST0pFQ1RJT05fTU9ERT00LEkuVEVYVFVSRV9TS1lCT1hfTU9ERT01LEkuVEVYVFVSRV9JTlZDVUJJQ19NT0RFPTYsSS5URVhUVVJFX0VRVUlSRUNUQU5HVUxBUl9NT0RFPTcsSS5URVhUVVJFX0ZJWEVEX0VRVUlSRUNUQU5HVUxBUl9NT0RFPTgsSS5URVhUVVJFX0ZJWEVEX0VRVUlSRUNUQU5HVUxBUl9NSVJST1JFRF9NT0RFPTksSS5TQ0FMRU1PREVfRkxPT1I9MSxJLlNDQUxFTU9ERV9ORUFSRVNUPTIsSS5TQ0FMRU1PREVfQ0VJTElORz0zLEkuX1Jlc2NhbGVQb3N0UHJvY2Vzc0ZhY3Rvcnk9bnVsbCxJLl9SZW5kZXJQYXNzSWRDb3VudGVyPTAsb2UucHJvdG90eXBlLl9kZWJ1Z1B1c2hHcm91cD1mdW5jdGlvbihjLGUpe30sb2UucHJvdG90eXBlLl9kZWJ1Z1BvcEdyb3VwPWZ1bmN0aW9uKGMpe30sb2UucHJvdG90eXBlLl9kZWJ1Z0luc2VydE1hcmtlcj1mdW5jdGlvbihjLGUpe30sb2UucHJvdG90eXBlLl9kZWJ1Z0ZsdXNoUGVuZGluZ0NvbW1hbmRzPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiBnbihjKXtyZXR1cm4gbmV3IEkoYywhMCx7cHJlc2VydmVEcmF3aW5nQnVmZmVyOiEwLHN0ZW5jaWw6ITB9KX1jbGFzcyByZXtjb25zdHJ1Y3RvcihlPTAsdD0wLGk9MCl7dGhpcy5yPWUsdGhpcy5nPXQsdGhpcy5iPWl9dG9TdHJpbmcoKXtyZXR1cm4ie1I6ICIrdGhpcy5yKyIgRzoiK3RoaXMuZysiIEI6Iit0aGlzLmIrIn0ifWdldENsYXNzTmFtZSgpe3JldHVybiJDb2xvcjMifWdldEhhc2hDb2RlKCl7bGV0IGU9dGhpcy5yKjI1NXwwO3JldHVybiBlPWUqMzk3Xih0aGlzLmcqMjU1fDApLGU9ZSozOTdeKHRoaXMuYioyNTV8MCksZX10b0FycmF5KGUsdD0wKXtyZXR1cm4gZVt0XT10aGlzLnIsZVt0KzFdPXRoaXMuZyxlW3QrMl09dGhpcy5iLHRoaXN9ZnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gcmUuRnJvbUFycmF5VG9SZWYoZSx0LHRoaXMpLHRoaXN9dG9Db2xvcjQoZT0xKXtyZXR1cm4gbmV3IG1lKHRoaXMucix0aGlzLmcsdGhpcy5iLGUpfWFzQXJyYXkoKXtyZXR1cm5bdGhpcy5yLHRoaXMuZyx0aGlzLmJdfXRvTHVtaW5hbmNlKCl7cmV0dXJuIHRoaXMuciouMyt0aGlzLmcqLjU5K3RoaXMuYiouMTF9bXVsdGlwbHkoZSl7cmV0dXJuIG5ldyByZSh0aGlzLnIqZS5yLHRoaXMuZyplLmcsdGhpcy5iKmUuYil9bXVsdGlwbHlUb1JlZihlLHQpe3JldHVybiB0LnI9dGhpcy5yKmUucix0Lmc9dGhpcy5nKmUuZyx0LmI9dGhpcy5iKmUuYix0aGlzfWVxdWFscyhlKXtyZXR1cm4gZSYmdGhpcy5yPT09ZS5yJiZ0aGlzLmc9PT1lLmcmJnRoaXMuYj09PWUuYn1lcXVhbHNGbG9hdHMoZSx0LGkpe3JldHVybiB0aGlzLnI9PT1lJiZ0aGlzLmc9PT10JiZ0aGlzLmI9PT1pfXNjYWxlKGUpe3JldHVybiBuZXcgcmUodGhpcy5yKmUsdGhpcy5nKmUsdGhpcy5iKmUpfXNjYWxlSW5QbGFjZShlKXtyZXR1cm4gdGhpcy5yKj1lLHRoaXMuZyo9ZSx0aGlzLmIqPWUsdGhpc31zY2FsZVRvUmVmKGUsdCl7cmV0dXJuIHQucj10aGlzLnIqZSx0Lmc9dGhpcy5nKmUsdC5iPXRoaXMuYiplLHRoaXN9c2NhbGVBbmRBZGRUb1JlZihlLHQpe3JldHVybiB0LnIrPXRoaXMuciplLHQuZys9dGhpcy5nKmUsdC5iKz10aGlzLmIqZSx0aGlzfWNsYW1wVG9SZWYoZT0wLHQ9MSxpKXtyZXR1cm4gaS5yPVguQ2xhbXAodGhpcy5yLGUsdCksaS5nPVguQ2xhbXAodGhpcy5nLGUsdCksaS5iPVguQ2xhbXAodGhpcy5iLGUsdCksdGhpc31hZGQoZSl7cmV0dXJuIG5ldyByZSh0aGlzLnIrZS5yLHRoaXMuZytlLmcsdGhpcy5iK2UuYil9YWRkVG9SZWYoZSx0KXtyZXR1cm4gdC5yPXRoaXMucitlLnIsdC5nPXRoaXMuZytlLmcsdC5iPXRoaXMuYitlLmIsdGhpc31zdWJ0cmFjdChlKXtyZXR1cm4gbmV3IHJlKHRoaXMuci1lLnIsdGhpcy5nLWUuZyx0aGlzLmItZS5iKX1zdWJ0cmFjdFRvUmVmKGUsdCl7cmV0dXJuIHQucj10aGlzLnItZS5yLHQuZz10aGlzLmctZS5nLHQuYj10aGlzLmItZS5iLHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IHJlKHRoaXMucix0aGlzLmcsdGhpcy5iKX1jb3B5RnJvbShlKXtyZXR1cm4gdGhpcy5yPWUucix0aGlzLmc9ZS5nLHRoaXMuYj1lLmIsdGhpc31jb3B5RnJvbUZsb2F0cyhlLHQsaSl7cmV0dXJuIHRoaXMucj1lLHRoaXMuZz10LHRoaXMuYj1pLHRoaXN9c2V0KGUsdCxpKXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLHQsaSl9dG9IZXhTdHJpbmcoKXtjb25zdCBlPU1hdGgucm91bmQodGhpcy5yKjI1NSksdD1NYXRoLnJvdW5kKHRoaXMuZyoyNTUpLGk9TWF0aC5yb3VuZCh0aGlzLmIqMjU1KTtyZXR1cm4iIyIrWC5Ub0hleChlKStYLlRvSGV4KHQpK1guVG9IZXgoaSl9dG9MaW5lYXJTcGFjZSgpe2NvbnN0IGU9bmV3IHJlO3JldHVybiB0aGlzLnRvTGluZWFyU3BhY2VUb1JlZihlKSxlfXRvSFNWKCl7Y29uc3QgZT1uZXcgcmU7cmV0dXJuIHRoaXMudG9IU1ZUb1JlZihlKSxlfXRvSFNWVG9SZWYoZSl7Y29uc3QgdD10aGlzLnIsaT10aGlzLmcscz10aGlzLmIscj1NYXRoLm1heCh0LGkscyksbj1NYXRoLm1pbih0LGkscyk7bGV0IGE9MCxvPTA7Y29uc3QgaD1yLGw9ci1uO3IhPT0wJiYobz1sL3IpLHIhPW4mJihyPT10PyhhPShpLXMpL2wsaTxzJiYoYSs9NikpOnI9PWk/YT0ocy10KS9sKzI6cj09cyYmKGE9KHQtaSkvbCs0KSxhKj02MCksZS5yPWEsZS5nPW8sZS5iPWh9dG9MaW5lYXJTcGFjZVRvUmVmKGUpe3JldHVybiBlLnI9TWF0aC5wb3codGhpcy5yLHllKSxlLmc9TWF0aC5wb3codGhpcy5nLHllKSxlLmI9TWF0aC5wb3codGhpcy5iLHllKSx0aGlzfXRvR2FtbWFTcGFjZSgpe2NvbnN0IGU9bmV3IHJlO3JldHVybiB0aGlzLnRvR2FtbWFTcGFjZVRvUmVmKGUpLGV9dG9HYW1tYVNwYWNlVG9SZWYoZSl7cmV0dXJuIGUucj1NYXRoLnBvdyh0aGlzLnIsU2UpLGUuZz1NYXRoLnBvdyh0aGlzLmcsU2UpLGUuYj1NYXRoLnBvdyh0aGlzLmIsU2UpLHRoaXN9c3RhdGljIEhTVnRvUkdCVG9SZWYoZSx0LGkscyl7Y29uc3Qgcj1pKnQsbj1lLzYwLGE9ciooMS1NYXRoLmFicyhuJTItMSkpO2xldCBvPTAsaD0wLGw9MDtuPj0wJiZuPD0xPyhvPXIsaD1hKTpuPj0xJiZuPD0yPyhvPWEsaD1yKTpuPj0yJiZuPD0zPyhoPXIsbD1hKTpuPj0zJiZuPD00PyhoPWEsbD1yKTpuPj00JiZuPD01PyhvPWEsbD1yKTpuPj01JiZuPD02JiYobz1yLGw9YSk7Y29uc3QgdT1pLXI7cy5zZXQobyt1LGgrdSxsK3UpfXN0YXRpYyBGcm9tSFNWKGUsdCxpKXtjb25zdCBzPW5ldyByZSgwLDAsMCk7cmV0dXJuIHJlLkhTVnRvUkdCVG9SZWYoZSx0LGkscyksc31zdGF0aWMgRnJvbUhleFN0cmluZyhlKXtpZihlLnN1YnN0cmluZygwLDEpIT09IiMifHxlLmxlbmd0aCE9PTcpcmV0dXJuIG5ldyByZSgwLDAsMCk7Y29uc3QgdD1wYXJzZUludChlLnN1YnN0cmluZygxLDMpLDE2KSxpPXBhcnNlSW50KGUuc3Vic3RyaW5nKDMsNSksMTYpLHM9cGFyc2VJbnQoZS5zdWJzdHJpbmcoNSw3KSwxNik7cmV0dXJuIHJlLkZyb21JbnRzKHQsaSxzKX1zdGF0aWMgRnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gbmV3IHJlKGVbdF0sZVt0KzFdLGVbdCsyXSl9c3RhdGljIEZyb21BcnJheVRvUmVmKGUsdD0wLGkpe2kucj1lW3RdLGkuZz1lW3QrMV0saS5iPWVbdCsyXX1zdGF0aWMgRnJvbUludHMoZSx0LGkpe3JldHVybiBuZXcgcmUoZS8yNTUsdC8yNTUsaS8yNTUpfXN0YXRpYyBMZXJwKGUsdCxpKXtjb25zdCBzPW5ldyByZSgwLDAsMCk7cmV0dXJuIHJlLkxlcnBUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBMZXJwVG9SZWYoZSx0LGkscyl7cy5yPWUucisodC5yLWUucikqaSxzLmc9ZS5nKyh0LmctZS5nKSppLHMuYj1lLmIrKHQuYi1lLmIpKml9c3RhdGljIEhlcm1pdGUoZSx0LGkscyxyKXtjb25zdCBuPXIqcixhPXIqbixvPTIqYS0zKm4rMSxoPS0yKmErMypuLGw9YS0yKm4rcix1PWEtbixkPWUucipvK2kucipoK3QucipsK3Mucip1LGY9ZS5nKm8raS5nKmgrdC5nKmwrcy5nKnUsXz1lLmIqbytpLmIqaCt0LmIqbCtzLmIqdTtyZXR1cm4gbmV3IHJlKGQsZixfKX1zdGF0aWMgSGVybWl0ZTFzdERlcml2YXRpdmUoZSx0LGkscyxyKXtjb25zdCBuPXJlLkJsYWNrKCk7cmV0dXJuIHRoaXMuSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQsaSxzLHIsbiksbn1zdGF0aWMgSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQsaSxzLHIsbil7Y29uc3QgYT1yKnI7bi5yPShhLXIpKjYqZS5yKygzKmEtNCpyKzEpKnQucisoLWErcikqNippLnIrKDMqYS0yKnIpKnMucixuLmc9KGEtcikqNiplLmcrKDMqYS00KnIrMSkqdC5nKygtYStyKSo2KmkuZysoMyphLTIqcikqcy5nLG4uYj0oYS1yKSo2KmUuYisoMyphLTQqcisxKSp0LmIrKC1hK3IpKjYqaS5iKygzKmEtMipyKSpzLmJ9c3RhdGljIFJlZCgpe3JldHVybiBuZXcgcmUoMSwwLDApfXN0YXRpYyBHcmVlbigpe3JldHVybiBuZXcgcmUoMCwxLDApfXN0YXRpYyBCbHVlKCl7cmV0dXJuIG5ldyByZSgwLDAsMSl9c3RhdGljIEJsYWNrKCl7cmV0dXJuIG5ldyByZSgwLDAsMCl9c3RhdGljIGdldCBCbGFja1JlYWRPbmx5KCl7cmV0dXJuIHJlLl9CbGFja1JlYWRPbmx5fXN0YXRpYyBXaGl0ZSgpe3JldHVybiBuZXcgcmUoMSwxLDEpfXN0YXRpYyBQdXJwbGUoKXtyZXR1cm4gbmV3IHJlKC41LDAsLjUpfXN0YXRpYyBNYWdlbnRhKCl7cmV0dXJuIG5ldyByZSgxLDAsMSl9c3RhdGljIFllbGxvdygpe3JldHVybiBuZXcgcmUoMSwxLDApfXN0YXRpYyBHcmF5KCl7cmV0dXJuIG5ldyByZSguNSwuNSwuNSl9c3RhdGljIFRlYWwoKXtyZXR1cm4gbmV3IHJlKDAsMSwxKX1zdGF0aWMgUmFuZG9tKCl7cmV0dXJuIG5ldyByZShNYXRoLnJhbmRvbSgpLE1hdGgucmFuZG9tKCksTWF0aC5yYW5kb20oKSl9fXJlLl9CbGFja1JlYWRPbmx5PXJlLkJsYWNrKCk7bGV0IG1lPWNsYXNze2NvbnN0cnVjdG9yKGU9MCx0PTAsaT0wLHM9MSl7dGhpcy5yPWUsdGhpcy5nPXQsdGhpcy5iPWksdGhpcy5hPXN9YWRkSW5QbGFjZShlKXtyZXR1cm4gdGhpcy5yKz1lLnIsdGhpcy5nKz1lLmcsdGhpcy5iKz1lLmIsdGhpcy5hKz1lLmEsdGhpc31hc0FycmF5KCl7cmV0dXJuW3RoaXMucix0aGlzLmcsdGhpcy5iLHRoaXMuYV19dG9BcnJheShlLHQ9MCl7cmV0dXJuIGVbdF09dGhpcy5yLGVbdCsxXT10aGlzLmcsZVt0KzJdPXRoaXMuYixlW3QrM109dGhpcy5hLHRoaXN9ZnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gbWUuRnJvbUFycmF5VG9SZWYoZSx0LHRoaXMpLHRoaXN9ZXF1YWxzKGUpe3JldHVybiBlJiZ0aGlzLnI9PT1lLnImJnRoaXMuZz09PWUuZyYmdGhpcy5iPT09ZS5iJiZ0aGlzLmE9PT1lLmF9YWRkKGUpe3JldHVybiBuZXcgbWUodGhpcy5yK2Uucix0aGlzLmcrZS5nLHRoaXMuYitlLmIsdGhpcy5hK2UuYSl9c3VidHJhY3QoZSl7cmV0dXJuIG5ldyBtZSh0aGlzLnItZS5yLHRoaXMuZy1lLmcsdGhpcy5iLWUuYix0aGlzLmEtZS5hKX1zdWJ0cmFjdFRvUmVmKGUsdCl7cmV0dXJuIHQucj10aGlzLnItZS5yLHQuZz10aGlzLmctZS5nLHQuYj10aGlzLmItZS5iLHQuYT10aGlzLmEtZS5hLHRoaXN9c2NhbGUoZSl7cmV0dXJuIG5ldyBtZSh0aGlzLnIqZSx0aGlzLmcqZSx0aGlzLmIqZSx0aGlzLmEqZSl9c2NhbGVJblBsYWNlKGUpe3JldHVybiB0aGlzLnIqPWUsdGhpcy5nKj1lLHRoaXMuYio9ZSx0aGlzLmEqPWUsdGhpc31zY2FsZVRvUmVmKGUsdCl7cmV0dXJuIHQucj10aGlzLnIqZSx0Lmc9dGhpcy5nKmUsdC5iPXRoaXMuYiplLHQuYT10aGlzLmEqZSx0aGlzfXNjYWxlQW5kQWRkVG9SZWYoZSx0KXtyZXR1cm4gdC5yKz10aGlzLnIqZSx0LmcrPXRoaXMuZyplLHQuYis9dGhpcy5iKmUsdC5hKz10aGlzLmEqZSx0aGlzfWNsYW1wVG9SZWYoZT0wLHQ9MSxpKXtyZXR1cm4gaS5yPVguQ2xhbXAodGhpcy5yLGUsdCksaS5nPVguQ2xhbXAodGhpcy5nLGUsdCksaS5iPVguQ2xhbXAodGhpcy5iLGUsdCksaS5hPVguQ2xhbXAodGhpcy5hLGUsdCksdGhpc31tdWx0aXBseShlKXtyZXR1cm4gbmV3IG1lKHRoaXMuciplLnIsdGhpcy5nKmUuZyx0aGlzLmIqZS5iLHRoaXMuYSplLmEpfW11bHRpcGx5VG9SZWYoZSx0KXtyZXR1cm4gdC5yPXRoaXMuciplLnIsdC5nPXRoaXMuZyplLmcsdC5iPXRoaXMuYiplLmIsdC5hPXRoaXMuYSplLmEsdH10b1N0cmluZygpe3JldHVybiJ7UjogIit0aGlzLnIrIiBHOiIrdGhpcy5nKyIgQjoiK3RoaXMuYisiIEE6Iit0aGlzLmErIn0ifWdldENsYXNzTmFtZSgpe3JldHVybiJDb2xvcjQifWdldEhhc2hDb2RlKCl7bGV0IGU9dGhpcy5yKjI1NXwwO3JldHVybiBlPWUqMzk3Xih0aGlzLmcqMjU1fDApLGU9ZSozOTdeKHRoaXMuYioyNTV8MCksZT1lKjM5N14odGhpcy5hKjI1NXwwKSxlfWNsb25lKCl7cmV0dXJuIG5ldyBtZSh0aGlzLnIsdGhpcy5nLHRoaXMuYix0aGlzLmEpfWNvcHlGcm9tKGUpe3JldHVybiB0aGlzLnI9ZS5yLHRoaXMuZz1lLmcsdGhpcy5iPWUuYix0aGlzLmE9ZS5hLHRoaXN9Y29weUZyb21GbG9hdHMoZSx0LGkscyl7cmV0dXJuIHRoaXMucj1lLHRoaXMuZz10LHRoaXMuYj1pLHRoaXMuYT1zLHRoaXN9c2V0KGUsdCxpLHMpe3JldHVybiB0aGlzLmNvcHlGcm9tRmxvYXRzKGUsdCxpLHMpfXRvSGV4U3RyaW5nKGU9ITEpe2NvbnN0IHQ9TWF0aC5yb3VuZCh0aGlzLnIqMjU1KSxpPU1hdGgucm91bmQodGhpcy5nKjI1NSkscz1NYXRoLnJvdW5kKHRoaXMuYioyNTUpO2lmKGUpcmV0dXJuIiMiK1guVG9IZXgodCkrWC5Ub0hleChpKStYLlRvSGV4KHMpO2NvbnN0IHI9TWF0aC5yb3VuZCh0aGlzLmEqMjU1KTtyZXR1cm4iIyIrWC5Ub0hleCh0KStYLlRvSGV4KGkpK1guVG9IZXgocykrWC5Ub0hleChyKX10b0xpbmVhclNwYWNlKCl7Y29uc3QgZT1uZXcgbWU7cmV0dXJuIHRoaXMudG9MaW5lYXJTcGFjZVRvUmVmKGUpLGV9dG9MaW5lYXJTcGFjZVRvUmVmKGUpe3JldHVybiBlLnI9TWF0aC5wb3codGhpcy5yLHllKSxlLmc9TWF0aC5wb3codGhpcy5nLHllKSxlLmI9TWF0aC5wb3codGhpcy5iLHllKSxlLmE9dGhpcy5hLHRoaXN9dG9HYW1tYVNwYWNlKCl7Y29uc3QgZT1uZXcgbWU7cmV0dXJuIHRoaXMudG9HYW1tYVNwYWNlVG9SZWYoZSksZX10b0dhbW1hU3BhY2VUb1JlZihlKXtyZXR1cm4gZS5yPU1hdGgucG93KHRoaXMucixTZSksZS5nPU1hdGgucG93KHRoaXMuZyxTZSksZS5iPU1hdGgucG93KHRoaXMuYixTZSksZS5hPXRoaXMuYSx0aGlzfXN0YXRpYyBGcm9tSGV4U3RyaW5nKGUpe2lmKGUuc3Vic3RyaW5nKDAsMSkhPT0iIyJ8fGUubGVuZ3RoIT09OSYmZS5sZW5ndGghPT03KXJldHVybiBuZXcgbWUoMCwwLDAsMCk7Y29uc3QgdD1wYXJzZUludChlLnN1YnN0cmluZygxLDMpLDE2KSxpPXBhcnNlSW50KGUuc3Vic3RyaW5nKDMsNSksMTYpLHM9cGFyc2VJbnQoZS5zdWJzdHJpbmcoNSw3KSwxNikscj1lLmxlbmd0aD09PTk/cGFyc2VJbnQoZS5zdWJzdHJpbmcoNyw5KSwxNik6MjU1O3JldHVybiBtZS5Gcm9tSW50cyh0LGkscyxyKX1zdGF0aWMgTGVycChlLHQsaSl7Y29uc3Qgcz1uZXcgbWUoMCwwLDAsMCk7cmV0dXJuIG1lLkxlcnBUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBMZXJwVG9SZWYoZSx0LGkscyl7cy5yPWUucisodC5yLWUucikqaSxzLmc9ZS5nKyh0LmctZS5nKSppLHMuYj1lLmIrKHQuYi1lLmIpKmkscy5hPWUuYSsodC5hLWUuYSkqaX1zdGF0aWMgSGVybWl0ZShlLHQsaSxzLHIpe2NvbnN0IG49cipyLGE9cipuLG89MiphLTMqbisxLGg9LTIqYSszKm4sbD1hLTIqbityLHU9YS1uLGQ9ZS5yKm8raS5yKmgrdC5yKmwrcy5yKnUsZj1lLmcqbytpLmcqaCt0LmcqbCtzLmcqdSxfPWUuYipvK2kuYipoK3QuYipsK3MuYip1LEU9ZS5hKm8raS5hKmgrdC5hKmwrcy5hKnU7cmV0dXJuIG5ldyBtZShkLGYsXyxFKX1zdGF0aWMgSGVybWl0ZTFzdERlcml2YXRpdmUoZSx0LGkscyxyKXtjb25zdCBuPW5ldyBtZTtyZXR1cm4gdGhpcy5IZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKSxufXN0YXRpYyBIZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKXtjb25zdCBhPXIqcjtuLnI9KGEtcikqNiplLnIrKDMqYS00KnIrMSkqdC5yKygtYStyKSo2KmkucisoMyphLTIqcikqcy5yLG4uZz0oYS1yKSo2KmUuZysoMyphLTQqcisxKSp0LmcrKC1hK3IpKjYqaS5nKygzKmEtMipyKSpzLmcsbi5iPShhLXIpKjYqZS5iKygzKmEtNCpyKzEpKnQuYisoLWErcikqNippLmIrKDMqYS0yKnIpKnMuYixuLmE9KGEtcikqNiplLmErKDMqYS00KnIrMSkqdC5hKygtYStyKSo2KmkuYSsoMyphLTIqcikqcy5hfXN0YXRpYyBGcm9tQ29sb3IzKGUsdD0xKXtyZXR1cm4gbmV3IG1lKGUucixlLmcsZS5iLHQpfXN0YXRpYyBGcm9tQXJyYXkoZSx0PTApe3JldHVybiBuZXcgbWUoZVt0XSxlW3QrMV0sZVt0KzJdLGVbdCszXSl9c3RhdGljIEZyb21BcnJheVRvUmVmKGUsdD0wLGkpe2kucj1lW3RdLGkuZz1lW3QrMV0saS5iPWVbdCsyXSxpLmE9ZVt0KzNdfXN0YXRpYyBGcm9tSW50cyhlLHQsaSxzKXtyZXR1cm4gbmV3IG1lKGUvMjU1LHQvMjU1LGkvMjU1LHMvMjU1KX1zdGF0aWMgQ2hlY2tDb2xvcnM0KGUsdCl7aWYoZS5sZW5ndGg9PT10KjMpe2NvbnN0IGk9W107Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKz0zKXtjb25zdCByPXMvMyo0O2lbcl09ZVtzXSxpW3IrMV09ZVtzKzFdLGlbcisyXT1lW3MrMl0saVtyKzNdPTF9cmV0dXJuIGl9cmV0dXJuIGV9fTtjbGFzcyBFaXt9RWkuQ29sb3IzPUJlLkJ1aWxkQXJyYXkoMyxyZS5CbGFjayksRWkuQ29sb3I0PUJlLkJ1aWxkQXJyYXkoMywoKT0+bmV3IG1lKDAsMCwwLDApKSxpdCgiQkFCWUxPTi5Db2xvcjMiLHJlKSxpdCgiQkFCWUxPTi5Db2xvcjQiLG1lKTtjb25zdCBpcj0oYyxlKT0+IWN8fGMuZ2V0Q2xhc3NOYW1lJiZjLmdldENsYXNzTmFtZSgpPT09Ik1lc2giP251bGw6Yy5nZXRDbGFzc05hbWUmJmMuZ2V0Q2xhc3NOYW1lKCk9PT0iU3ViTWVzaCI/Yy5jbG9uZShlKTpjLmNsb25lP2MuY2xvbmUoKTpudWxsO2Z1bmN0aW9uIHBuKGMpe2NvbnN0IGU9W107ZG8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYykuZm9yRWFjaChmdW5jdGlvbih0KXtlLmluZGV4T2YodCk9PT0tMSYmZS5wdXNoKHQpfSk7d2hpbGUoYz1PYmplY3QuZ2V0UHJvdG90eXBlT2YoYykpO3JldHVybiBlfWNsYXNzIHZze3N0YXRpYyBEZWVwQ29weShlLHQsaSxzKXtjb25zdCByPXBuKGUpO2Zvcihjb25zdCBuIG9mIHIpe2lmKG5bMF09PT0iXyImJighc3x8cy5pbmRleE9mKG4pPT09LTEpfHxuLmVuZHNXaXRoKCJPYnNlcnZhYmxlIil8fGkmJmkuaW5kZXhPZihuKSE9PS0xKWNvbnRpbnVlO2NvbnN0IGE9ZVtuXSxvPXR5cGVvZiBhO2lmKG8hPT0iZnVuY3Rpb24iKXRyeXtpZihvPT09Im9iamVjdCIpaWYoYSBpbnN0YW5jZW9mIEFycmF5KXtpZih0W25dPVtdLGEubGVuZ3RoPjApaWYodHlwZW9mIGFbMF09PSJvYmplY3QiKWZvcihsZXQgaD0wO2g8YS5sZW5ndGg7aCsrKXtjb25zdCBsPWlyKGFbaF0sdCk7dFtuXS5pbmRleE9mKGwpPT09LTEmJnRbbl0ucHVzaChsKX1lbHNlIHRbbl09YS5zbGljZSgwKX1lbHNlIHRbbl09aXIoYSx0KTtlbHNlIHRbbl09YX1jYXRjaChoKXtPLldhcm4oaC5tZXNzYWdlKX19fX1mdW5jdGlvbiBtbigpe3JldHVybiB0eXBlb2YgX25hdGl2ZTwidSImJl9uYXRpdmUuWE1MSHR0cFJlcXVlc3Q/bmV3IF9uYXRpdmUuWE1MSHR0cFJlcXVlc3Q6bmV3IFhNTEh0dHBSZXF1ZXN0fWNsYXNzIGN0e2NvbnN0cnVjdG9yKCl7dGhpcy5feGhyPW1uKCksdGhpcy5fcmVxdWVzdFVSTD0iIn1faW5qZWN0Q3VzdG9tUmVxdWVzdEhlYWRlcnMoKXtpZighdGhpcy5fc2hvdWxkU2tpcFJlcXVlc3RNb2RpZmljYXRpb25zKHRoaXMuX3JlcXVlc3RVUkwpKWZvcihjb25zdCBlIGluIGN0LkN1c3RvbVJlcXVlc3RIZWFkZXJzKXtjb25zdCB0PWN0LkN1c3RvbVJlcXVlc3RIZWFkZXJzW2VdO3QmJnRoaXMuX3hoci5zZXRSZXF1ZXN0SGVhZGVyKGUsdCl9fV9zaG91bGRTa2lwUmVxdWVzdE1vZGlmaWNhdGlvbnMoZSl7cmV0dXJuIGN0LlNraXBSZXF1ZXN0TW9kaWZpY2F0aW9uRm9yQmFieWxvbkNETiYmKGUuaW5jbHVkZXMoInByZXZpZXcuYmFieWxvbmpzLmNvbSIpfHxlLmluY2x1ZGVzKCJjZG4uYmFieWxvbmpzLmNvbSIpKX1nZXQgb25wcm9ncmVzcygpe3JldHVybiB0aGlzLl94aHIub25wcm9ncmVzc31zZXQgb25wcm9ncmVzcyhlKXt0aGlzLl94aHIub25wcm9ncmVzcz1lfWdldCByZWFkeVN0YXRlKCl7cmV0dXJuIHRoaXMuX3hoci5yZWFkeVN0YXRlfWdldCBzdGF0dXMoKXtyZXR1cm4gdGhpcy5feGhyLnN0YXR1c31nZXQgc3RhdHVzVGV4dCgpe3JldHVybiB0aGlzLl94aHIuc3RhdHVzVGV4dH1nZXQgcmVzcG9uc2UoKXtyZXR1cm4gdGhpcy5feGhyLnJlc3BvbnNlfWdldCByZXNwb25zZVVSTCgpe3JldHVybiB0aGlzLl94aHIucmVzcG9uc2VVUkx9Z2V0IHJlc3BvbnNlVGV4dCgpe3JldHVybiB0aGlzLl94aHIucmVzcG9uc2VUZXh0fWdldCByZXNwb25zZVR5cGUoKXtyZXR1cm4gdGhpcy5feGhyLnJlc3BvbnNlVHlwZX1zZXQgcmVzcG9uc2VUeXBlKGUpe3RoaXMuX3hoci5yZXNwb25zZVR5cGU9ZX1nZXQgdGltZW91dCgpe3JldHVybiB0aGlzLl94aHIudGltZW91dH1zZXQgdGltZW91dChlKXt0aGlzLl94aHIudGltZW91dD1lfWFkZEV2ZW50TGlzdGVuZXIoZSx0LGkpe3RoaXMuX3hoci5hZGRFdmVudExpc3RlbmVyKGUsdCxpKX1yZW1vdmVFdmVudExpc3RlbmVyKGUsdCxpKXt0aGlzLl94aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHQsaSl9YWJvcnQoKXt0aGlzLl94aHIuYWJvcnQoKX1zZW5kKGUpe2N0LkN1c3RvbVJlcXVlc3RIZWFkZXJzJiZ0aGlzLl9pbmplY3RDdXN0b21SZXF1ZXN0SGVhZGVycygpLHRoaXMuX3hoci5zZW5kKGUpfW9wZW4oZSx0KXtmb3IoY29uc3QgaSBvZiBjdC5DdXN0b21SZXF1ZXN0TW9kaWZpZXJzKXtpZih0aGlzLl9zaG91bGRTa2lwUmVxdWVzdE1vZGlmaWNhdGlvbnModCkpcmV0dXJuO2kodGhpcy5feGhyLHQpfXJldHVybiB0PXQucmVwbGFjZSgiZmlsZTpodHRwOiIsImh0dHA6IiksdD10LnJlcGxhY2UoImZpbGU6aHR0cHM6IiwiaHR0cHM6IiksdGhpcy5fcmVxdWVzdFVSTD10LHRoaXMuX3hoci5vcGVuKGUsdCwhMCl9c2V0UmVxdWVzdEhlYWRlcihlLHQpe3RoaXMuX3hoci5zZXRSZXF1ZXN0SGVhZGVyKGUsdCl9Z2V0UmVzcG9uc2VIZWFkZXIoZSl7cmV0dXJuIHRoaXMuX3hoci5nZXRSZXNwb25zZUhlYWRlcihlKX19Y3QuQ3VzdG9tUmVxdWVzdEhlYWRlcnM9e30sY3QuQ3VzdG9tUmVxdWVzdE1vZGlmaWVycz1uZXcgQXJyYXksY3QuU2tpcFJlcXVlc3RNb2RpZmljYXRpb25Gb3JCYWJ5bG9uQ0ROPSEwO2NsYXNzIEZpe31GaS5GaWxlc1RvTG9hZD17fTtjbGFzcyBFbntzdGF0aWMgRXhwb25lbnRpYWxCYWNrb2ZmKGU9Myx0PTUwMCl7cmV0dXJuKGkscyxyKT0+cy5zdGF0dXMhPT0wfHxyPj1lfHxpLmluZGV4T2YoImZpbGU6IikhPT0tMT8tMTpNYXRoLnBvdygyLHIpKnR9fWNsYXNzIHZpIGV4dGVuZHMgRXJyb3J7fXZpLl9zZXRQcm90b3R5cGVPZj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgoYyxlKT0+KGMuX19wcm90b19fPWUsYykpO2NvbnN0IG9pPXtNZXNoSW52YWxpZFBvc2l0aW9uc0Vycm9yOjAsVW5zdXBwb3J0ZWRUZXh0dXJlRXJyb3I6MWUzLEdMVEZMb2FkZXJVbmV4cGVjdGVkTWFnaWNFcnJvcjoyZTMsU2NlbmVMb2FkZXJFcnJvcjozZTMsTG9hZEZpbGVFcnJvcjo0ZTMsUmVxdWVzdEZpbGVFcnJvcjo0MDAxLFJlYWRGaWxlRXJyb3I6NDAwMn07Y2xhc3MgTnQgZXh0ZW5kcyB2aXtjb25zdHJ1Y3RvcihlLHQsaSl7c3VwZXIoZSksdGhpcy5lcnJvckNvZGU9dCx0aGlzLmlubmVyRXJyb3I9aSx0aGlzLm5hbWU9IlJ1bnRpbWVFcnJvciIsdmkuX3NldFByb3RvdHlwZU9mKHRoaXMsTnQucHJvdG90eXBlKX19Y29uc3Qgc3I9Yz0+e2NvbnN0IGU9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89IjtsZXQgdD0iIixpLHMscixuLGEsbyxoLGw9MDtjb25zdCB1PUFycmF5QnVmZmVyLmlzVmlldyhjKT9uZXcgVWludDhBcnJheShjLmJ1ZmZlcixjLmJ5dGVPZmZzZXQsYy5ieXRlTGVuZ3RoKTpuZXcgVWludDhBcnJheShjKTtmb3IoO2w8dS5sZW5ndGg7KWk9dVtsKytdLHM9bDx1Lmxlbmd0aD91W2wrK106TnVtYmVyLk5hTixyPWw8dS5sZW5ndGg/dVtsKytdOk51bWJlci5OYU4sbj1pPj4yLGE9KGkmMyk8PDR8cz4+NCxvPShzJjE1KTw8MnxyPj42LGg9ciY2Myxpc05hTihzKT9vPWg9NjQ6aXNOYU4ocikmJihoPTY0KSx0Kz1lLmNoYXJBdChuKStlLmNoYXJBdChhKStlLmNoYXJBdChvKStlLmNoYXJBdChoKTtyZXR1cm4gdH0scnI9Yz0+YXRvYihjKSx2bj1jPT57Y29uc3QgZT1ycihjKSx0PWUubGVuZ3RoLGk9bmV3IFVpbnQ4QXJyYXkobmV3IEFycmF5QnVmZmVyKHQpKTtmb3IobGV0IHM9MDtzPHQ7cysrKWlbc109ZS5jaGFyQ29kZUF0KHMpO3JldHVybiBpLmJ1ZmZlcn07Y2xhc3MgWGl7c3RhdGljIFNldEltbWVkaWF0ZShlKXtqZSgpJiZ3aW5kb3cuc2V0SW1tZWRpYXRlP3dpbmRvdy5zZXRJbW1lZGlhdGUoZSk6c2V0VGltZW91dChlLDEpfX1jb25zdCBucj1uZXcgUmVnRXhwKC9eZGF0YTooW14sXStcL1teLF0rKT87YmFzZTY0LC9pKTtjbGFzcyBIaSBleHRlbmRzIE50e2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSxvaS5Mb2FkRmlsZUVycm9yKSx0aGlzLm5hbWU9IkxvYWRGaWxlRXJyb3IiLHZpLl9zZXRQcm90b3R5cGVPZih0aGlzLEhpLnByb3RvdHlwZSksdCBpbnN0YW5jZW9mIGN0P3RoaXMucmVxdWVzdD10OnRoaXMuZmlsZT10fX1jbGFzcyBLaSBleHRlbmRzIE50e2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSxvaS5SZXF1ZXN0RmlsZUVycm9yKSx0aGlzLnJlcXVlc3Q9dCx0aGlzLm5hbWU9IlJlcXVlc3RGaWxlRXJyb3IiLHZpLl9zZXRQcm90b3R5cGVPZih0aGlzLEtpLnByb3RvdHlwZSl9fWNsYXNzIFRzIGV4dGVuZHMgTnR7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLG9pLlJlYWRGaWxlRXJyb3IpLHRoaXMuZmlsZT10LHRoaXMubmFtZT0iUmVhZEZpbGVFcnJvciIsdmkuX3NldFByb3RvdHlwZU9mKHRoaXMsVHMucHJvdG90eXBlKX19Y29uc3QgcWU9e0RlZmF1bHRSZXRyeVN0cmF0ZWd5OkVuLkV4cG9uZW50aWFsQmFja29mZigpLEJhc2VVcmw6IiIsQ29yc0JlaGF2aW9yOiJhbm9ueW1vdXMiLFByZXByb2Nlc3NVcmw6Yz0+Y30sYXI9Yz0+KGM9Yy5yZXBsYWNlKC8jL2dtLCIlMjMiKSxjKSxicz0oYyxlKT0+e2lmKCEoYyYmYy5pbmRleE9mKCJkYXRhOiIpPT09MCkmJnFlLkNvcnNCZWhhdmlvcilpZih0eXBlb2YgcWUuQ29yc0JlaGF2aW9yPT0ic3RyaW5nInx8cWUuQ29yc0JlaGF2aW9yIGluc3RhbmNlb2YgU3RyaW5nKWUuY3Jvc3NPcmlnaW49cWUuQ29yc0JlaGF2aW9yO2Vsc2V7Y29uc3QgdD1xZS5Db3JzQmVoYXZpb3IoYyk7dCYmKGUuY3Jvc3NPcmlnaW49dCl9fSxTcz0oYyxlLHQsaSxzPSIiLHIpPT57dmFyIG47bGV0IGEsbz0hMTtjIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fEFycmF5QnVmZmVyLmlzVmlldyhjKT90eXBlb2YgQmxvYjwidSImJnR5cGVvZiBVUkw8InUiPyhhPVVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW2NdLHt0eXBlOnN9KSksbz0hMCk6YT1gZGF0YToke3N9O2Jhc2U2NCxgK3NyKGMpOmMgaW5zdGFuY2VvZiBCbG9iPyhhPVVSTC5jcmVhdGVPYmplY3RVUkwoYyksbz0hMCk6KGE9YXIoYyksYT1xZS5QcmVwcm9jZXNzVXJsKGMpKTtjb25zdCBoPWZlLkxhc3RDcmVhdGVkRW5naW5lLGw9Yj0+e2lmKHQpe2NvbnN0IE09YXx8Yy50b1N0cmluZygpO3QoYEVycm9yIHdoaWxlIHRyeWluZyB0byBsb2FkIGltYWdlOiAke00uaW5kZXhPZigiaHR0cCIpPT09MHx8TS5sZW5ndGg8PTEyOD9NOk0uc2xpY2UoMCwxMjgpKyIuLi4ifWAsYil9fTtpZih0eXBlb2YgSW1hZ2U+InUifHwobj1oPT1udWxsP3ZvaWQgMDpoLl9mZWF0dXJlcy5mb3JjZUJpdG1hcE92ZXJIVE1MSW1hZ2VFbGVtZW50KSE9PW51bGwmJm4hPT12b2lkIDAmJm4pcmV0dXJuIGp0KGEsYj0+e2guY3JlYXRlSW1hZ2VCaXRtYXAobmV3IEJsb2IoW2JdLHt0eXBlOnN9KSx7cHJlbXVsdGlwbHlBbHBoYToibm9uZSIsLi4ucn0pLnRoZW4oTT0+e2UoTSksbyYmVVJMLnJldm9rZU9iamVjdFVSTChhKX0pLmNhdGNoKE09Pnt0JiZ0KCJFcnJvciB3aGlsZSB0cnlpbmcgdG8gbG9hZCBpbWFnZTogIitjLE0pfSl9LHZvaWQgMCxpfHx2b2lkIDAsITAsKGIsTSk9PntsKE0pfSksbnVsbDtjb25zdCB1PW5ldyBJbWFnZTticyhhLHUpO2NvbnN0IGQ9W10sZj0oKT0+e2QuZm9yRWFjaChiPT57Yi50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihiLm5hbWUsYi5oYW5kbGVyKX0pfSxfPSgpPT57ZC5mb3JFYWNoKGI9PntiLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGIubmFtZSxiLmhhbmRsZXIpfSksZC5sZW5ndGg9MH0sRT0oKT0+e18oKSxlKHUpLG8mJnUuc3JjJiZVUkwucmV2b2tlT2JqZWN0VVJMKHUuc3JjKX0sbT1iPT57XygpLGwoYiksbyYmdS5zcmMmJlVSTC5yZXZva2VPYmplY3RVUkwodS5zcmMpfSx2PWI9PntfKCk7Y29uc3QgTT1uZXcgRXJyb3IoYENTUCB2aW9sYXRpb24gb2YgcG9saWN5ICR7Yi5lZmZlY3RpdmVEaXJlY3RpdmV9ICR7Yi5ibG9ja2VkVVJJfS4gQ3VycmVudCBwb2xpY3kgaXMgJHtiLm9yaWdpbmFsUG9saWN5fWApO2ZlLlVzZUZhbGxiYWNrVGV4dHVyZT0hMSxsKE0pLG8mJnUuc3JjJiZVUkwucmV2b2tlT2JqZWN0VVJMKHUuc3JjKSx1LnNyYz0iIn07ZC5wdXNoKHt0YXJnZXQ6dSxuYW1lOiJsb2FkIixoYW5kbGVyOkV9KSxkLnB1c2goe3RhcmdldDp1LG5hbWU6ImVycm9yIixoYW5kbGVyOm19KSxkLnB1c2goe3RhcmdldDpkb2N1bWVudCxuYW1lOiJzZWN1cml0eXBvbGljeXZpb2xhdGlvbiIsaGFuZGxlcjp2fSksZigpO2NvbnN0IFM9YS5zdWJzdHJpbmcoMCw1KT09PSJibG9iOiIseT1hLnN1YnN0cmluZygwLDUpPT09ImRhdGE6IixBPSgpPT57U3x8eT91LnNyYz1hOmp0KGEsKGIsTSxMKT0+e2NvbnN0IGs9IXMmJkw/TDpzLHc9bmV3IEJsb2IoW2JdLHt0eXBlOmt9KSxkZT1VUkwuY3JlYXRlT2JqZWN0VVJMKHcpO289ITAsdS5zcmM9ZGV9LHZvaWQgMCxpfHx2b2lkIDAsITAsKGIsTSk9PntsKE0pfSl9LEM9KCk9PntpJiZpLmxvYWRJbWFnZShhLHUpfTtpZighUyYmIXkmJmkmJmkuZW5hYmxlVGV4dHVyZXNPZmZsaW5lKWkub3BlbihDLEEpO2Vsc2V7aWYoYS5pbmRleE9mKCJmaWxlOiIpIT09LTEpe2NvbnN0IGI9ZGVjb2RlVVJJQ29tcG9uZW50KGEuc3Vic3RyaW5nKDUpLnRvTG93ZXJDYXNlKCkpO2lmKEZpLkZpbGVzVG9Mb2FkW2JdJiZ0eXBlb2YgVVJMPCJ1Iil7dHJ5e2xldCBNO3RyeXtNPVVSTC5jcmVhdGVPYmplY3RVUkwoRmkuRmlsZXNUb0xvYWRbYl0pfWNhdGNoe009VVJMLmNyZWF0ZU9iamVjdFVSTChGaS5GaWxlc1RvTG9hZFtiXSl9dS5zcmM9TSxvPSEwfWNhdGNoe3Uuc3JjPSIifXJldHVybiB1fX1BKCl9cmV0dXJuIHV9LHdpPShjLGUsdCxpLHMpPT57Y29uc3Qgcj1uZXcgRmlsZVJlYWRlcixuPXtvbkNvbXBsZXRlT2JzZXJ2YWJsZTpuZXcgRixhYm9ydDooKT0+ci5hYm9ydCgpfTtyZXR1cm4gci5vbmxvYWRlbmQ9KCk9Pm4ub25Db21wbGV0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKG4pLHMmJihyLm9uZXJyb3I9KCk9PntzKG5ldyBUcyhgVW5hYmxlIHRvIHJlYWQgJHtjLm5hbWV9YCxjKSl9KSxyLm9ubG9hZD1hPT57ZShhLnRhcmdldC5yZXN1bHQpfSx0JiYoci5vbnByb2dyZXNzPXQpLGk/ci5yZWFkQXNBcnJheUJ1ZmZlcihjKTpyLnJlYWRBc1RleHQoYyksbn0sanQ9KGMsZSx0LGkscyxyLG4pPT57aWYoYy5uYW1lKXJldHVybiB3aShjLGUsdCxzLHI/bD0+e3Iodm9pZCAwLGwpfTp2b2lkIDApO2NvbnN0IGE9YztpZihhLmluZGV4T2YoImZpbGU6IikhPT0tMSl7bGV0IGw9ZGVjb2RlVVJJQ29tcG9uZW50KGEuc3Vic3RyaW5nKDUpLnRvTG93ZXJDYXNlKCkpO2wuaW5kZXhPZigiLi8iKT09PTAmJihsPWwuc3Vic3RyaW5nKDIpKTtjb25zdCB1PUZpLkZpbGVzVG9Mb2FkW2xdO2lmKHUpcmV0dXJuIHdpKHUsZSx0LHMscj9kPT5yKHZvaWQgMCxuZXcgSGkoZC5tZXNzYWdlLGQuZmlsZSkpOnZvaWQgMCl9Y29uc3R7bWF0Y2g6byx0eXBlOmh9PVRuKGEpO2lmKG8pe2NvbnN0IGw9e29uQ29tcGxldGVPYnNlcnZhYmxlOm5ldyBGLGFib3J0OigpPT4oKT0+e319O3RyeXtjb25zdCB1PXM/QXMoYSk6aHIoYSk7ZSh1LHZvaWQgMCxoKX1jYXRjaCh1KXtyP3Iodm9pZCAwLHUpOk8uRXJyb3IodS5tZXNzYWdlfHwiRmFpbGVkIHRvIHBhcnNlIHRoZSBEYXRhIFVSTCIpfXJldHVybiBYaS5TZXRJbW1lZGlhdGUoKCk9PntsLm9uQ29tcGxldGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhsKX0pLGx9cmV0dXJuIHhzKGEsKGwsdSk9PntlKGwsdT09bnVsbD92b2lkIDA6dS5yZXNwb25zZVVSTCx1PT1udWxsP3ZvaWQgMDp1LmdldFJlc3BvbnNlSGVhZGVyKCJjb250ZW50LXR5cGUiKSl9LHQsaSxzLHI/bD0+e3IobC5yZXF1ZXN0LG5ldyBIaShsLm1lc3NhZ2UsbC5yZXF1ZXN0KSl9OnZvaWQgMCxuKX0seHM9KGMsZSx0LGkscyxyLG4pPT57Yz1hcihjKSxjPXFlLlByZXByb2Nlc3NVcmwoYyk7Y29uc3QgYT1xZS5CYXNlVXJsK2M7bGV0IG89ITE7Y29uc3QgaD17b25Db21wbGV0ZU9ic2VydmFibGU6bmV3IEYsYWJvcnQ6KCk9Pm89ITB9LGw9KCk9PntsZXQgdT1uZXcgY3QsZD1udWxsLGY7Y29uc3QgXz0oKT0+e3UmJih0JiZ1LnJlbW92ZUV2ZW50TGlzdGVuZXIoInByb2dyZXNzIix0KSxmJiZ1LnJlbW92ZUV2ZW50TGlzdGVuZXIoInJlYWR5c3RhdGVjaGFuZ2UiLGYpLHUucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZGVuZCIsRSkpfTtsZXQgRT0oKT0+e18oKSxoLm9uQ29tcGxldGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhoKSxoLm9uQ29tcGxldGVPYnNlcnZhYmxlLmNsZWFyKCksdD12b2lkIDAsZj1udWxsLEU9bnVsbCxyPXZvaWQgMCxuPXZvaWQgMCxlPXZvaWQgMH07aC5hYm9ydD0oKT0+e289ITAsRSYmRSgpLHUmJnUucmVhZHlTdGF0ZSE9PShYTUxIdHRwUmVxdWVzdC5ET05FfHw0KSYmdS5hYm9ydCgpLGQhPT1udWxsJiYoY2xlYXJUaW1lb3V0KGQpLGQ9bnVsbCksdT1udWxsfTtjb25zdCBtPVM9Pntjb25zdCB5PVMubWVzc2FnZXx8IlVua25vd24gZXJyb3IiO3ImJnU/cihuZXcgS2koeSx1KSk6Ty5FcnJvcih5KX0sdj1TPT57aWYodSl7aWYodS5vcGVuKCJHRVQiLGEpLG4pdHJ5e24odSl9Y2F0Y2goeSl7bSh5KTtyZXR1cm59cyYmKHUucmVzcG9uc2VUeXBlPSJhcnJheWJ1ZmZlciIpLHQmJnUuYWRkRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLHQpLEUmJnUuYWRkRXZlbnRMaXN0ZW5lcigibG9hZGVuZCIsRSksZj0oKT0+e2lmKCEob3x8IXUpJiZ1LnJlYWR5U3RhdGU9PT0oWE1MSHR0cFJlcXVlc3QuRE9ORXx8NCkpe2lmKGYmJnUucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVhZHlzdGF0ZWNoYW5nZSIsZiksdS5zdGF0dXM+PTIwMCYmdS5zdGF0dXM8MzAwfHx1LnN0YXR1cz09PTAmJighamUoKXx8b3IoKSkpe3RyeXtlJiZlKHM/dS5yZXNwb25zZTp1LnJlc3BvbnNlVGV4dCx1KX1jYXRjaChDKXttKEMpfXJldHVybn1jb25zdCB5PXFlLkRlZmF1bHRSZXRyeVN0cmF0ZWd5O2lmKHkpe2NvbnN0IEM9eShhLHUsUyk7aWYoQyE9PS0xKXtfKCksdT1uZXcgY3QsZD1zZXRUaW1lb3V0KCgpPT52KFMrMSksQyk7cmV0dXJufX1jb25zdCBBPW5ldyBLaSgiRXJyb3Igc3RhdHVzOiAiK3Uuc3RhdHVzKyIgIit1LnN0YXR1c1RleHQrIiAtIFVuYWJsZSB0byBsb2FkICIrYSx1KTtyJiZyKEEpfX0sdS5hZGRFdmVudExpc3RlbmVyKCJyZWFkeXN0YXRlY2hhbmdlIixmKSx1LnNlbmQoKX19O3YoMCl9O2lmKGkmJmkuZW5hYmxlU2NlbmVPZmZsaW5lKXtjb25zdCB1PWY9PntmJiZmLnN0YXR1cz40MDA/ciYmcihmKTpsKCl9LGQ9KCk9PntpJiZpLmxvYWRGaWxlKHFlLkJhc2VVcmwrYyxmPT57IW8mJmUmJmUoZiksaC5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaCl9LHQ/Zj0+eyFvJiZ0JiZ0KGYpfTp2b2lkIDAsdSxzKX07aS5vcGVuKGQsdSl9ZWxzZSBsKCk7cmV0dXJuIGh9LG9yPSgpPT50eXBlb2YgbG9jYXRpb248InUiJiZsb2NhdGlvbi5wcm90b2NvbD09PSJmaWxlOiIsTXM9Yz0+bnIudGVzdChjKSxUbj1jPT57Y29uc3QgZT1uci5leGVjKGMpO3JldHVybiBlPT09bnVsbHx8ZS5sZW5ndGg9PT0wP3ttYXRjaDohMSx0eXBlOiIifTp7bWF0Y2g6ITAsdHlwZTplWzBdLnJlcGxhY2UoImRhdGE6IiwiIikucmVwbGFjZSgiYmFzZTY0LCIsIiIpfX07ZnVuY3Rpb24gQXMoYyl7cmV0dXJuIHZuKGMuc3BsaXQoIiwiKVsxXSl9Y29uc3QgaHI9Yz0+cnIoYy5zcGxpdCgiLCIpWzFdKTsoKCk9PntvZS5fRmlsZVRvb2xzTG9hZEltYWdlPVNzLG9lLl9GaWxlVG9vbHNMb2FkRmlsZT1qdCxuaS5fRmlsZVRvb2xzTG9hZEZpbGU9anR9KSgpO2xldCBPaTsoKGMsZSx0LGkscyxyLG4sYSxvLGgpPT57T2k9e0RlY29kZUJhc2U2NFVybFRvQmluYXJ5OmMsRGVjb2RlQmFzZTY0VXJsVG9TdHJpbmc6ZSxEZWZhdWx0UmV0cnlTdHJhdGVneTp0LkRlZmF1bHRSZXRyeVN0cmF0ZWd5LEJhc2VVcmw6dC5CYXNlVXJsLENvcnNCZWhhdmlvcjp0LkNvcnNCZWhhdmlvcixQcmVwcm9jZXNzVXJsOnQuUHJlcHJvY2Vzc1VybCxJc0Jhc2U2NERhdGFVcmw6aSxJc0ZpbGVVUkw6cyxMb2FkRmlsZTpyLExvYWRJbWFnZTpuLFJlYWRGaWxlOmEsUmVxdWVzdEZpbGU6byxTZXRDb3JzQmVoYXZpb3I6aH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KE9pLCJEZWZhdWx0UmV0cnlTdHJhdGVneSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LkRlZmF1bHRSZXRyeVN0cmF0ZWd5fSxzZXQ6ZnVuY3Rpb24obCl7dC5EZWZhdWx0UmV0cnlTdHJhdGVneT1sfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPaSwiQmFzZVVybCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LkJhc2VVcmx9LHNldDpmdW5jdGlvbihsKXt0LkJhc2VVcmw9bH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoT2ksIlByZXByb2Nlc3NVcmwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5QcmVwcm9jZXNzVXJsfSxzZXQ6ZnVuY3Rpb24obCl7dC5QcmVwcm9jZXNzVXJsPWx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KE9pLCJDb3JzQmVoYXZpb3IiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5Db3JzQmVoYXZpb3J9LHNldDpmdW5jdGlvbihsKXt0LkNvcnNCZWhhdmlvcj1sfX0pfSkoQXMsaHIscWUsTXMsb3IsanQsU3Msd2kseHMsYnMpO2NsYXNzIExpe3N0YXRpYyBJbnN0YW50aWF0ZShlKXtpZih0aGlzLlJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXMmJnRoaXMuUmVnaXN0ZXJlZEV4dGVybmFsQ2xhc3Nlc1tlXSlyZXR1cm4gdGhpcy5SZWdpc3RlcmVkRXh0ZXJuYWxDbGFzc2VzW2VdO2NvbnN0IHQ9cmkoZSk7aWYodClyZXR1cm4gdDtPLldhcm4oZSsiIG5vdCBmb3VuZCwgeW91IG1heSBoYXZlIG1pc3NlZCBhbiBpbXBvcnQuIik7Y29uc3QgaT1lLnNwbGl0KCIuIik7bGV0IHM9d2luZG93fHx0aGlzO2ZvcihsZXQgcj0wLG49aS5sZW5ndGg7cjxuO3IrKylzPXNbaVtyXV07cmV0dXJuIHR5cGVvZiBzIT0iZnVuY3Rpb24iP251bGw6c319TGkuUmVnaXN0ZXJlZEV4dGVybmFsQ2xhc3Nlcz17fTtmdW5jdGlvbiBscigpe3JldHVybiJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgiLnJlcGxhY2UoL1t4eV0vZyxjPT57Y29uc3QgZT1NYXRoLnJhbmRvbSgpKjE2fDA7cmV0dXJuKGM9PT0ieCI/ZTplJjN8OCkudG9TdHJpbmcoMTYpfSl9Y2xhc3MgSHtzdGF0aWMgZ2V0IEJhc2VVcmwoKXtyZXR1cm4gcWUuQmFzZVVybH1zdGF0aWMgc2V0IEJhc2VVcmwoZSl7cWUuQmFzZVVybD1lfXN0YXRpYyBnZXQgRGVmYXVsdFJldHJ5U3RyYXRlZ3koKXtyZXR1cm4gcWUuRGVmYXVsdFJldHJ5U3RyYXRlZ3l9c3RhdGljIHNldCBEZWZhdWx0UmV0cnlTdHJhdGVneShlKXtxZS5EZWZhdWx0UmV0cnlTdHJhdGVneT1lfXN0YXRpYyBnZXQgQ29yc0JlaGF2aW9yKCl7cmV0dXJuIHFlLkNvcnNCZWhhdmlvcn1zdGF0aWMgc2V0IENvcnNCZWhhdmlvcihlKXtxZS5Db3JzQmVoYXZpb3I9ZX1zdGF0aWMgZ2V0IFVzZUZhbGxiYWNrVGV4dHVyZSgpe3JldHVybiBmZS5Vc2VGYWxsYmFja1RleHR1cmV9c3RhdGljIHNldCBVc2VGYWxsYmFja1RleHR1cmUoZSl7ZmUuVXNlRmFsbGJhY2tUZXh0dXJlPWV9c3RhdGljIGdldCBSZWdpc3RlcmVkRXh0ZXJuYWxDbGFzc2VzKCl7cmV0dXJuIExpLlJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXN9c3RhdGljIHNldCBSZWdpc3RlcmVkRXh0ZXJuYWxDbGFzc2VzKGUpe0xpLlJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXM9ZX1zdGF0aWMgZ2V0IGZhbGxiYWNrVGV4dHVyZSgpe3JldHVybiBmZS5GYWxsYmFja1RleHR1cmV9c3RhdGljIHNldCBmYWxsYmFja1RleHR1cmUoZSl7ZmUuRmFsbGJhY2tUZXh0dXJlPWV9c3RhdGljIEZldGNoVG9SZWYoZSx0LGkscyxyLG4pe2NvbnN0IGE9TWF0aC5hYnMoZSkqaSVpfDAsbz1NYXRoLmFicyh0KSpzJXN8MCxoPShhK28qaSkqNDtuLnI9cltoXS8yNTUsbi5nPXJbaCsxXS8yNTUsbi5iPXJbaCsyXS8yNTUsbi5hPXJbaCszXS8yNTV9c3RhdGljIE1peChlLHQsaSl7cmV0dXJuIGUqKDEtaSkrdCppfXN0YXRpYyBJbnN0YW50aWF0ZShlKXtyZXR1cm4gTGkuSW5zdGFudGlhdGUoZSl9c3RhdGljIFNldEltbWVkaWF0ZShlKXtYaS5TZXRJbW1lZGlhdGUoZSl9c3RhdGljIElzRXhwb25lbnRPZlR3byhlKXtsZXQgdD0xO2RvIHQqPTI7d2hpbGUodDxlKTtyZXR1cm4gdD09PWV9c3RhdGljIEZsb2F0Um91bmQoZSl7cmV0dXJuIE1hdGguZnJvdW5kP01hdGguZnJvdW5kKGUpOihILl9UbXBGbG9hdEFycmF5WzBdPWUsSC5fVG1wRmxvYXRBcnJheVswXSl9c3RhdGljIEdldEZpbGVuYW1lKGUpe2NvbnN0IHQ9ZS5sYXN0SW5kZXhPZigiLyIpO3JldHVybiB0PDA/ZTplLnN1YnN0cmluZyh0KzEpfXN0YXRpYyBHZXRGb2xkZXJQYXRoKGUsdD0hMSl7Y29uc3QgaT1lLmxhc3RJbmRleE9mKCIvIik7cmV0dXJuIGk8MD90P2U6IiI6ZS5zdWJzdHJpbmcoMCxpKzEpfXN0YXRpYyBUb0RlZ3JlZXMoZSl7cmV0dXJuIGUqMTgwL01hdGguUEl9c3RhdGljIFRvUmFkaWFucyhlKXtyZXR1cm4gZSpNYXRoLlBJLzE4MH1zdGF0aWMgU21vb3RoQW5nbGVDaGFuZ2UoZSx0LGk9Ljkpe2NvbnN0IHM9dGhpcy5Ub1JhZGlhbnMoZSkscj10aGlzLlRvUmFkaWFucyh0KTtyZXR1cm4gdGhpcy5Ub0RlZ3JlZXMoTWF0aC5hdGFuMigoMS1pKSpNYXRoLnNpbihyKStpKk1hdGguc2luKHMpLCgxLWkpKk1hdGguY29zKHIpK2kqTWF0aC5jb3MocykpKX1zdGF0aWMgTWFrZUFycmF5KGUsdCl7cmV0dXJuIHQhPT0hMCYmKGU9PT12b2lkIDB8fGU9PW51bGwpP251bGw6QXJyYXkuaXNBcnJheShlKT9lOltlXX1zdGF0aWMgR2V0UG9pbnRlclByZWZpeChlKXtsZXQgdD0icG9pbnRlciI7cmV0dXJuIGplKCkmJiF3aW5kb3cuUG9pbnRlckV2ZW50JiYodD0ibW91c2UiKSxlLl9iYWREZXNrdG9wT1MmJiFlLl9iYWRPUyYmIShkb2N1bWVudCYmIm9udG91Y2hlbmQiaW4gZG9jdW1lbnQpJiYodD0ibW91c2UiKSx0fXN0YXRpYyBTZXRDb3JzQmVoYXZpb3IoZSx0KXticyhlLHQpfXN0YXRpYyBTZXRSZWZlcnJlclBvbGljeUJlaGF2aW9yKGUsdCl7dC5yZWZlcnJlclBvbGljeT1lfXN0YXRpYyBDbGVhblVybChlKXtyZXR1cm4gZT1lLnJlcGxhY2UoLyMvZ20sIiUyMyIpLGV9c3RhdGljIGdldCBQcmVwcm9jZXNzVXJsKCl7cmV0dXJuIHFlLlByZXByb2Nlc3NVcmx9c3RhdGljIHNldCBQcmVwcm9jZXNzVXJsKGUpe3FlLlByZXByb2Nlc3NVcmw9ZX1zdGF0aWMgTG9hZEltYWdlKGUsdCxpLHMscixuKXtyZXR1cm4gU3MoZSx0LGkscyxyLG4pfXN0YXRpYyBMb2FkRmlsZShlLHQsaSxzLHIsbil7cmV0dXJuIGp0KGUsdCxpLHMscixuKX1zdGF0aWMgTG9hZEZpbGVBc3luYyhlLHQ9ITApe3JldHVybiBuZXcgUHJvbWlzZSgoaSxzKT0+e2p0KGUscj0+e2kocil9LHZvaWQgMCx2b2lkIDAsdCwocixuKT0+e3Mobil9KX0pfXN0YXRpYyBMb2FkU2NyaXB0KGUsdCxpLHMpe2lmKHR5cGVvZiBpbXBvcnRTY3JpcHRzPT0iZnVuY3Rpb24iKXt0cnl7aW1wb3J0U2NyaXB0cyhlKSx0KCl9Y2F0Y2goYSl7aT09bnVsbHx8aShgVW5hYmxlIHRvIGxvYWQgc2NyaXB0ICcke2V9JyBpbiB3b3JrZXJgLGEpfXJldHVybn1lbHNlIGlmKCFqZSgpKXtpPT1udWxsfHxpKGBDYW5ub3QgbG9hZCBzY3JpcHQgJyR7ZX0nIG91dHNpZGUgb2YgYSB3aW5kb3cgb3IgYSB3b3JrZXJgKTtyZXR1cm59Y29uc3Qgcj1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7bi5zZXRBdHRyaWJ1dGUoInR5cGUiLCJ0ZXh0L2phdmFzY3JpcHQiKSxuLnNldEF0dHJpYnV0ZSgic3JjIixlKSxzJiYobi5pZD1zKSxuLm9ubG9hZD0oKT0+e3QmJnQoKX0sbi5vbmVycm9yPWE9PntpJiZpKGBVbmFibGUgdG8gbG9hZCBzY3JpcHQgJyR7ZX0nYCxhKX0sci5hcHBlbmRDaGlsZChuKX1zdGF0aWMgTG9hZFNjcmlwdEFzeW5jKGUpe3JldHVybiBuZXcgUHJvbWlzZSgodCxpKT0+e3RoaXMuTG9hZFNjcmlwdChlLCgpPT57dCgpfSwocyxyKT0+e2kocnx8bmV3IEVycm9yKHMpKX0pfSl9c3RhdGljIFJlYWRGaWxlQXNEYXRhVVJMKGUsdCxpKXtjb25zdCBzPW5ldyBGaWxlUmVhZGVyLHI9e29uQ29tcGxldGVPYnNlcnZhYmxlOm5ldyBGLGFib3J0OigpPT5zLmFib3J0KCl9O3JldHVybiBzLm9ubG9hZGVuZD0oKT0+e3Iub25Db21wbGV0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHIpfSxzLm9ubG9hZD1uPT57dChuLnRhcmdldC5yZXN1bHQpfSxzLm9ucHJvZ3Jlc3M9aSxzLnJlYWRBc0RhdGFVUkwoZSkscn1zdGF0aWMgUmVhZEZpbGUoZSx0LGkscyxyKXtyZXR1cm4gd2koZSx0LGkscyxyKX1zdGF0aWMgRmlsZUFzVVJMKGUpe2NvbnN0IHQ9bmV3IEJsb2IoW2VdKTtyZXR1cm4gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwodCl9c3RhdGljIEZvcm1hdChlLHQ9Mil7cmV0dXJuIGUudG9GaXhlZCh0KX1zdGF0aWMgRGVlcENvcHkoZSx0LGkscyl7dnMuRGVlcENvcHkoZSx0LGkscyl9c3RhdGljIElzRW1wdHkoZSl7Zm9yKGNvbnN0IHQgaW4gZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSlyZXR1cm4hMTtyZXR1cm4hMH1zdGF0aWMgUmVnaXN0ZXJUb3BSb290RXZlbnRzKGUsdCl7Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspe2NvbnN0IHM9dFtpXTtlLmFkZEV2ZW50TGlzdGVuZXIocy5uYW1lLHMuaGFuZGxlciwhMSk7dHJ5e3dpbmRvdy5wYXJlbnQmJndpbmRvdy5wYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcihzLm5hbWUscy5oYW5kbGVyLCExKX1jYXRjaHt9fX1zdGF0aWMgVW5yZWdpc3RlclRvcFJvb3RFdmVudHMoZSx0KXtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl7Y29uc3Qgcz10W2ldO2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihzLm5hbWUscy5oYW5kbGVyKTt0cnl7ZS5wYXJlbnQmJmUucGFyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIocy5uYW1lLHMuaGFuZGxlcil9Y2F0Y2h7fX19c3RhdGljIGFzeW5jIER1bXBGcmFtZWJ1ZmZlcihlLHQsaSxzLHI9ImltYWdlL3BuZyIsbil7dGhyb3cgJCgiRHVtcFRvb2xzIil9c3RhdGljIER1bXBEYXRhKGUsdCxpLHMscj0iaW1hZ2UvcG5nIixuLGE9ITEsbz0hMSxoKXt0aHJvdyAkKCJEdW1wVG9vbHMiKX1zdGF0aWMgRHVtcERhdGFBc3luYyhlLHQsaSxzPSJpbWFnZS9wbmciLHIsbj0hMSxhPSExLG8pe3Rocm93ICQoIkR1bXBUb29scyIpfXN0YXRpYyBUb0Jsb2IoZSx0LGk9ImltYWdlL3BuZyIscyl7ZS50b0Jsb2J8fChlLnRvQmxvYj1mdW5jdGlvbihyLG4sYSl7c2V0VGltZW91dCgoKT0+e2NvbnN0IG89YXRvYih0aGlzLnRvRGF0YVVSTChuLGEpLnNwbGl0KCIsIilbMV0pLGg9by5sZW5ndGgsbD1uZXcgVWludDhBcnJheShoKTtmb3IobGV0IHU9MDt1PGg7dSsrKWxbdV09by5jaGFyQ29kZUF0KHUpO3IobmV3IEJsb2IoW2xdKSl9KX0pLGUudG9CbG9iKGZ1bmN0aW9uKHIpe3Qocil9LGkscyl9c3RhdGljIERvd25sb2FkQmxvYihlLHQpe2lmKCJkb3dubG9hZCJpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIikpe2lmKCF0KXtjb25zdCBpPW5ldyBEYXRlO3Q9InNjcmVlbnNob3RfIisoKGkuZ2V0RnVsbFllYXIoKSsiLSIrKGkuZ2V0TW9udGgoKSsxKSkuc2xpY2UoMikrIi0iK2kuZ2V0RGF0ZSgpKyJfIitpLmdldEhvdXJzKCkrIi0iKygiMCIraS5nZXRNaW51dGVzKCkpLnNsaWNlKC0yKSkrIi5wbmcifUguRG93bmxvYWQoZSx0KX1lbHNlIGlmKGUmJnR5cGVvZiBVUkw8InUiKXtjb25zdCBpPVVSTC5jcmVhdGVPYmplY3RVUkwoZSkscz13aW5kb3cub3BlbigiIik7aWYoIXMpcmV0dXJuO2NvbnN0IHI9cy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtyLm9ubG9hZD1mdW5jdGlvbigpe1VSTC5yZXZva2VPYmplY3RVUkwoaSl9LHIuc3JjPWkscy5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHIpfX1zdGF0aWMgRW5jb2RlU2NyZWVuc2hvdENhbnZhc0RhdGEoZSx0LGk9ImltYWdlL3BuZyIscyxyKXtpZih0KXtjb25zdCBuPWUudG9EYXRhVVJMKGkscik7dChuKX1lbHNlIHRoaXMuVG9CbG9iKGUsZnVuY3Rpb24obil7biYmSC5Eb3dubG9hZEJsb2IobixzKX0saSxyKX1zdGF0aWMgRG93bmxvYWQoZSx0KXtpZih0eXBlb2YgVVJMPiJ1IilyZXR1cm47Y29uc3QgaT13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChlKSxzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHMpLHMuc3R5bGUuZGlzcGxheT0ibm9uZSIscy5ocmVmPWkscy5kb3dubG9hZD10LHMuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCgpPT57cy5wYXJlbnRFbGVtZW50JiZzLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQocyl9KSxzLmNsaWNrKCksd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwoaSl9c3RhdGljIEJhY2tDb21wYXRDYW1lcmFOb1ByZXZlbnREZWZhdWx0KGUpe3JldHVybiB0eXBlb2YgZVswXT09ImJvb2xlYW4iP2VbMF06dHlwZW9mIGVbMV09PSJib29sZWFuIj9lWzFdOiExfXN0YXRpYyBDcmVhdGVTY3JlZW5zaG90KGUsdCxpLHMscj0iaW1hZ2UvcG5nIil7dGhyb3cgJCgiU2NyZWVuc2hvdFRvb2xzIil9c3RhdGljIENyZWF0ZVNjcmVlbnNob3RBc3luYyhlLHQsaSxzPSJpbWFnZS9wbmciKXt0aHJvdyAkKCJTY3JlZW5zaG90VG9vbHMiKX1zdGF0aWMgQ3JlYXRlU2NyZWVuc2hvdFVzaW5nUmVuZGVyVGFyZ2V0KGUsdCxpLHMscj0iaW1hZ2UvcG5nIixuPTEsYT0hMSxvKXt0aHJvdyAkKCJTY3JlZW5zaG90VG9vbHMiKX1zdGF0aWMgQ3JlYXRlU2NyZWVuc2hvdFVzaW5nUmVuZGVyVGFyZ2V0QXN5bmMoZSx0LGkscz0iaW1hZ2UvcG5nIixyPTEsbj0hMSxhKXt0aHJvdyAkKCJTY3JlZW5zaG90VG9vbHMiKX1zdGF0aWMgUmFuZG9tSWQoKXtyZXR1cm4gbHIoKX1zdGF0aWMgSXNCYXNlNjQoZSl7cmV0dXJuIE1zKGUpfXN0YXRpYyBEZWNvZGVCYXNlNjQoZSl7cmV0dXJuIEFzKGUpfXN0YXRpYyBnZXQgZXJyb3JzQ291bnQoKXtyZXR1cm4gTy5lcnJvcnNDb3VudH1zdGF0aWMgTG9nKGUpe08uTG9nKGUpfXN0YXRpYyBXYXJuKGUpe08uV2FybihlKX1zdGF0aWMgRXJyb3IoZSl7Ty5FcnJvcihlKX1zdGF0aWMgZ2V0IExvZ0NhY2hlKCl7cmV0dXJuIE8uTG9nQ2FjaGV9c3RhdGljIENsZWFyTG9nQ2FjaGUoKXtPLkNsZWFyTG9nQ2FjaGUoKX1zdGF0aWMgc2V0IExvZ0xldmVscyhlKXtPLkxvZ0xldmVscz1lfXN0YXRpYyBzZXQgUGVyZm9ybWFuY2VMb2dMZXZlbChlKXtpZigoZSZILlBlcmZvcm1hbmNlVXNlck1hcmtMb2dMZXZlbCk9PT1ILlBlcmZvcm1hbmNlVXNlck1hcmtMb2dMZXZlbCl7SC5TdGFydFBlcmZvcm1hbmNlQ291bnRlcj1ILl9TdGFydFVzZXJNYXJrLEguRW5kUGVyZm9ybWFuY2VDb3VudGVyPUguX0VuZFVzZXJNYXJrO3JldHVybn1pZigoZSZILlBlcmZvcm1hbmNlQ29uc29sZUxvZ0xldmVsKT09PUguUGVyZm9ybWFuY2VDb25zb2xlTG9nTGV2ZWwpe0guU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXI9SC5fU3RhcnRQZXJmb3JtYW5jZUNvbnNvbGUsSC5FbmRQZXJmb3JtYW5jZUNvdW50ZXI9SC5fRW5kUGVyZm9ybWFuY2VDb25zb2xlO3JldHVybn1ILlN0YXJ0UGVyZm9ybWFuY2VDb3VudGVyPUguX1N0YXJ0UGVyZm9ybWFuY2VDb3VudGVyRGlzYWJsZWQsSC5FbmRQZXJmb3JtYW5jZUNvdW50ZXI9SC5fRW5kUGVyZm9ybWFuY2VDb3VudGVyRGlzYWJsZWR9c3RhdGljIF9TdGFydFBlcmZvcm1hbmNlQ291bnRlckRpc2FibGVkKGUsdCl7fXN0YXRpYyBfRW5kUGVyZm9ybWFuY2VDb3VudGVyRGlzYWJsZWQoZSx0KXt9c3RhdGljIF9TdGFydFVzZXJNYXJrKGUsdD0hMCl7aWYoIUguX1BlcmZvcm1hbmNlKXtpZighamUoKSlyZXR1cm47SC5fUGVyZm9ybWFuY2U9d2luZG93LnBlcmZvcm1hbmNlfSF0fHwhSC5fUGVyZm9ybWFuY2UubWFya3x8SC5fUGVyZm9ybWFuY2UubWFyayhlKyItQmVnaW4iKX1zdGF0aWMgX0VuZFVzZXJNYXJrKGUsdD0hMCl7IXR8fCFILl9QZXJmb3JtYW5jZS5tYXJrfHwoSC5fUGVyZm9ybWFuY2UubWFyayhlKyItRW5kIiksSC5fUGVyZm9ybWFuY2UubWVhc3VyZShlLGUrIi1CZWdpbiIsZSsiLUVuZCIpKX1zdGF0aWMgX1N0YXJ0UGVyZm9ybWFuY2VDb25zb2xlKGUsdD0hMCl7dCYmKEguX1N0YXJ0VXNlck1hcmsoZSx0KSxjb25zb2xlLnRpbWUmJmNvbnNvbGUudGltZShlKSl9c3RhdGljIF9FbmRQZXJmb3JtYW5jZUNvbnNvbGUoZSx0PSEwKXt0JiYoSC5fRW5kVXNlck1hcmsoZSx0KSxjb25zb2xlLnRpbWVFbmQoZSkpfXN0YXRpYyBnZXQgTm93KCl7cmV0dXJuIGFpLk5vd31zdGF0aWMgR2V0Q2xhc3NOYW1lKGUsdD0hMSl7bGV0IGk9bnVsbDtyZXR1cm4hdCYmZS5nZXRDbGFzc05hbWU/aT1lLmdldENsYXNzTmFtZSgpOihlIGluc3RhbmNlb2YgT2JqZWN0JiYoaT0odD9lOk9iamVjdC5nZXRQcm90b3R5cGVPZihlKSkuY29uc3RydWN0b3IuX19ianNjbGFzc05hbWVfXyksaXx8KGk9dHlwZW9mIGUpKSxpfXN0YXRpYyBGaXJzdChlLHQpe2Zvcihjb25zdCBpIG9mIGUpaWYodChpKSlyZXR1cm4gaTtyZXR1cm4gbnVsbH1zdGF0aWMgZ2V0RnVsbENsYXNzTmFtZShlLHQ9ITEpe2xldCBpPW51bGwscz1udWxsO2lmKCF0JiZlLmdldENsYXNzTmFtZSlpPWUuZ2V0Q2xhc3NOYW1lKCk7ZWxzZXtpZihlIGluc3RhbmNlb2YgT2JqZWN0KXtjb25zdCByPXQ/ZTpPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7aT1yLmNvbnN0cnVjdG9yLl9fYmpzY2xhc3NOYW1lX18scz1yLmNvbnN0cnVjdG9yLl9fYmpzbW9kdWxlTmFtZV9ffWl8fChpPXR5cGVvZiBlKX1yZXR1cm4gaT8ocyE9bnVsbD9zKyIuIjoiIikraTpudWxsfXN0YXRpYyBEZWxheUFzeW5jKGUpe3JldHVybiBuZXcgUHJvbWlzZSh0PT57c2V0VGltZW91dCgoKT0+e3QoKX0sZSl9KX1zdGF0aWMgSXNTYWZhcmkoKXtyZXR1cm4gSnMoKT8vXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpOiExfX1ILlVzZUN1c3RvbVJlcXVlc3RIZWFkZXJzPSExLEguQ3VzdG9tUmVxdWVzdEhlYWRlcnM9Y3QuQ3VzdG9tUmVxdWVzdEhlYWRlcnMsSC5fVG1wRmxvYXRBcnJheT1uZXcgRmxvYXQzMkFycmF5KDEpLEguR2V0RE9NVGV4dENvbnRlbnQ9Z3MsSC5HZXRBYnNvbHV0ZVVybD10eXBlb2YgZG9jdW1lbnQ9PSJvYmplY3QiP2M9Pntjb25zdCBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtyZXR1cm4gZS5ocmVmPWMsZS5ocmVmfTp0eXBlb2YgVVJMPT0iZnVuY3Rpb24iJiZ0eXBlb2YgbG9jYXRpb249PSJvYmplY3QiP2M9Pm5ldyBVUkwoYyxsb2NhdGlvbi5vcmlnaW4pLmhyZWY6KCk9Pnt0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBnZXQgYWJzb2x1dGUgVVJMLiBPdmVycmlkZSBCQUJZTE9OLlRvb2xzLkdldEFic29sdXRlVXJsIHRvIGEgY3VzdG9tIGltcGxlbWVudGF0aW9uIGZvciB0aGUgY3VycmVudCBjb250ZXh0LiIpfSxILk5vbmVMb2dMZXZlbD1PLk5vbmVMb2dMZXZlbCxILk1lc3NhZ2VMb2dMZXZlbD1PLk1lc3NhZ2VMb2dMZXZlbCxILldhcm5pbmdMb2dMZXZlbD1PLldhcm5pbmdMb2dMZXZlbCxILkVycm9yTG9nTGV2ZWw9Ty5FcnJvckxvZ0xldmVsLEguQWxsTG9nTGV2ZWw9Ty5BbGxMb2dMZXZlbCxILklzV2luZG93T2JqZWN0RXhpc3Q9amUsSC5QZXJmb3JtYW5jZU5vbmVMb2dMZXZlbD0wLEguUGVyZm9ybWFuY2VVc2VyTWFya0xvZ0xldmVsPTEsSC5QZXJmb3JtYW5jZUNvbnNvbGVMb2dMZXZlbD0yLEguU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXI9SC5fU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXJEaXNhYmxlZCxILkVuZFBlcmZvcm1hbmNlQ291bnRlcj1ILl9FbmRQZXJmb3JtYW5jZUNvdW50ZXJEaXNhYmxlZDtjbGFzcyBZaXtjb25zdHJ1Y3RvcihlLHQsaSxzPTApe3RoaXMuaXRlcmF0aW9ucz1lLHRoaXMuaW5kZXg9cy0xLHRoaXMuX2RvbmU9ITEsdGhpcy5fZm49dCx0aGlzLl9zdWNjZXNzQ2FsbGJhY2s9aX1leGVjdXRlTmV4dCgpe3RoaXMuX2RvbmV8fCh0aGlzLmluZGV4KzE8dGhpcy5pdGVyYXRpb25zPygrK3RoaXMuaW5kZXgsdGhpcy5fZm4odGhpcykpOnRoaXMuYnJlYWtMb29wKCkpfWJyZWFrTG9vcCgpe3RoaXMuX2RvbmU9ITAsdGhpcy5fc3VjY2Vzc0NhbGxiYWNrKCl9c3RhdGljIFJ1bihlLHQsaSxzPTApe2NvbnN0IHI9bmV3IFlpKGUsdCxpLHMpO3JldHVybiByLmV4ZWN1dGVOZXh0KCkscn1zdGF0aWMgU3luY0FzeW5jRm9yTG9vcChlLHQsaSxzLHIsbj0wKXtyZXR1cm4gWWkuUnVuKE1hdGguY2VpbChlL3QpLGE9PntyJiZyKCk/YS5icmVha0xvb3AoKTpzZXRUaW1lb3V0KCgpPT57Zm9yKGxldCBvPTA7bzx0Oysrbyl7Y29uc3QgaD1hLmluZGV4KnQrbztpZihoPj1lKWJyZWFrO2lmKGkoaCksciYmcigpKXthLmJyZWFrTG9vcCgpO2JyZWFrfX1hLmV4ZWN1dGVOZXh0KCl9LG4pfSxzKX19ZmUuRmFsbGJhY2tUZXh0dXJlPSJkYXRhOmltYWdlL2pwZztiYXNlNjQsLzlqLzRBQVFTa1pKUmdBQkFRRUFZQUJnQUFELzRRQm1SWGhwWmdBQVRVMEFLZ0FBQUFnQUJBRWFBQVVBQUFBQkFBQUFQZ0ViQUFVQUFBQUJBQUFBUmdFb0FBTUFBQUFCQUFJQUFBRXhBQUlBQUFBUUFBQUFUZ0FBQUFBQUFBQmdBQUFBQVFBQUFHQUFBQUFCY0dGcGJuUXVibVYwSURRdU1DNDFBUC9iQUVNQUJBSURBd01DQkFNREF3UUVCQVFGQ1FZRkJRVUZDd2dJQmdrTkN3ME5EUXNNREE0UUZCRU9EeE1QREF3U0dCSVRGUllYRnhjT0VSa2JHUllhRkJZWEZ2L2JBRU1CQkFRRUJRVUZDZ1lHQ2hZUERBOFdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRnYvQUFCRUlBUUFCQUFNQklnQUNFUUVERVFIL3hBQWZBQUFCQlFFQkFRRUJBUUFBQUFBQUFBQUFBUUlEQkFVR0J3Z0pDZ3YveEFDMUVBQUNBUU1EQWdRREJRVUVCQUFBQVgwQkFnTUFCQkVGRWlFeFFRWVRVV0VISW5FVU1vR1JvUWdqUXJIQkZWTFI4Q1F6WW5LQ0NRb1dGeGdaR2lVbUp5Z3BLalExTmpjNE9UcERSRVZHUjBoSlNsTlVWVlpYV0ZsYVkyUmxabWRvYVdwemRIVjJkM2g1ZW9PRWhZYUhpSW1La3BPVWxaYVhtSm1hb3FPa3BhYW5xS21xc3JPMHRiYTN1TG02d3NQRXhjYkh5TW5LMHRQVTFkYlgyTm5hNGVMajVPWG01K2pwNnZIeTgvVDE5dmY0K2ZyL3hBQWZBUUFEQVFFQkFRRUJBUUVCQUFBQUFBQUFBUUlEQkFVR0J3Z0pDZ3YveEFDMUVRQUNBUUlFQkFNRUJ3VUVCQUFCQW5jQUFRSURFUVFGSVRFR0VrRlJCMkZ4RXlJeWdRZ1VRcEdoc2NFSkl6TlM4QlZpY3RFS0ZpUTA0U1h4RnhnWkdpWW5LQ2txTlRZM09EazZRMFJGUmtkSVNVcFRWRlZXVjFoWldtTmtaV1puYUdscWMzUjFkbmQ0ZVhxQ2c0U0Zob2VJaVlxU2s1U1ZscGVZbVpxaW82U2xwcWVvcWFxeXM3UzF0cmU0dWJyQ3c4VEZ4c2ZJeWNyUzA5VFYxdGZZMmRyaTQrVGw1dWZvNmVyeTgvVDE5dmY0K2ZyLzJnQU1Bd0VBQWhFREVRQS9BUEg2S0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RkNpaWlnRDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytnb29vb0ErWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVUtLS0tBUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZDaWlpZ0Q1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCUW9vb29BK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm9LS0tLQVBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGQ2lpaWdENmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2dvb29vQStYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVS0tLS0FQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NkNpaWlnRDVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JRb29vb0Erb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92b0tLS0tBUGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZDaWlpZ0Q2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrZ29vb29BK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1VLS0tLQVBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UC8vWiI7Y2xhc3MgJGV7Y29uc3RydWN0b3IoZSl7dGhpcy5sZW5ndGg9MCx0aGlzLmRhdGE9bmV3IEFycmF5KGUpLHRoaXMuX2lkPSRlLl9HbG9iYWxJZCsrfXB1c2goZSl7dGhpcy5kYXRhW3RoaXMubGVuZ3RoKytdPWUsdGhpcy5sZW5ndGg+dGhpcy5kYXRhLmxlbmd0aCYmKHRoaXMuZGF0YS5sZW5ndGgqPTIpfWZvckVhY2goZSl7Zm9yKGxldCB0PTA7dDx0aGlzLmxlbmd0aDt0KyspZSh0aGlzLmRhdGFbdF0pfXNvcnQoZSl7dGhpcy5kYXRhLnNvcnQoZSl9cmVzZXQoKXt0aGlzLmxlbmd0aD0wfWRpc3Bvc2UoKXt0aGlzLnJlc2V0KCksdGhpcy5kYXRhJiYodGhpcy5kYXRhLmxlbmd0aD0wKX1jb25jYXQoZSl7aWYoZS5sZW5ndGghPT0wKXt0aGlzLmxlbmd0aCtlLmxlbmd0aD50aGlzLmRhdGEubGVuZ3RoJiYodGhpcy5kYXRhLmxlbmd0aD0odGhpcy5sZW5ndGgrZS5sZW5ndGgpKjIpO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXRoaXMuZGF0YVt0aGlzLmxlbmd0aCsrXT0oZS5kYXRhfHxlKVt0XX19aW5kZXhPZihlKXtjb25zdCB0PXRoaXMuZGF0YS5pbmRleE9mKGUpO3JldHVybiB0Pj10aGlzLmxlbmd0aD8tMTp0fWNvbnRhaW5zKGUpe3JldHVybiB0aGlzLmluZGV4T2YoZSkhPT0tMX19JGUuX0dsb2JhbElkPTA7Y2xhc3MgaGkgZXh0ZW5kcyAkZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5fZHVwbGljYXRlSWQ9MH1wdXNoKGUpe3N1cGVyLnB1c2goZSksZS5fX3NtYXJ0QXJyYXlGbGFnc3x8KGUuX19zbWFydEFycmF5RmxhZ3M9e30pLGUuX19zbWFydEFycmF5RmxhZ3NbdGhpcy5faWRdPXRoaXMuX2R1cGxpY2F0ZUlkfXB1c2hOb0R1cGxpY2F0ZShlKXtyZXR1cm4gZS5fX3NtYXJ0QXJyYXlGbGFncyYmZS5fX3NtYXJ0QXJyYXlGbGFnc1t0aGlzLl9pZF09PT10aGlzLl9kdXBsaWNhdGVJZD8hMToodGhpcy5wdXNoKGUpLCEwKX1yZXNldCgpe3N1cGVyLnJlc2V0KCksdGhpcy5fZHVwbGljYXRlSWQrK31jb25jYXRXaXRoTm9EdXBsaWNhdGUoZSl7aWYoZS5sZW5ndGghPT0wKXt0aGlzLmxlbmd0aCtlLmxlbmd0aD50aGlzLmRhdGEubGVuZ3RoJiYodGhpcy5kYXRhLmxlbmd0aD0odGhpcy5sZW5ndGgrZS5sZW5ndGgpKjIpO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBpPShlLmRhdGF8fGUpW3RdO3RoaXMucHVzaE5vRHVwbGljYXRlKGkpfX19fWNsYXNzIGNye2NvbnN0cnVjdG9yKCl7dGhpcy5fY291bnQ9MCx0aGlzLl9kYXRhPXt9fWNvcHlGcm9tKGUpe3RoaXMuY2xlYXIoKSxlLmZvckVhY2goKHQsaSk9PnRoaXMuYWRkKHQsaSkpfWdldChlKXtjb25zdCB0PXRoaXMuX2RhdGFbZV07aWYodCE9PXZvaWQgMClyZXR1cm4gdH1nZXRPckFkZFdpdGhGYWN0b3J5KGUsdCl7bGV0IGk9dGhpcy5nZXQoZSk7cmV0dXJuIGkhPT12b2lkIDB8fChpPXQoZSksaSYmdGhpcy5hZGQoZSxpKSksaX1nZXRPckFkZChlLHQpe2NvbnN0IGk9dGhpcy5nZXQoZSk7cmV0dXJuIGkhPT12b2lkIDA/aToodGhpcy5hZGQoZSx0KSx0KX1jb250YWlucyhlKXtyZXR1cm4gdGhpcy5fZGF0YVtlXSE9PXZvaWQgMH1hZGQoZSx0KXtyZXR1cm4gdGhpcy5fZGF0YVtlXSE9PXZvaWQgMD8hMToodGhpcy5fZGF0YVtlXT10LCsrdGhpcy5fY291bnQsITApfXNldChlLHQpe3JldHVybiB0aGlzLl9kYXRhW2VdPT09dm9pZCAwPyExOih0aGlzLl9kYXRhW2VdPXQsITApfWdldEFuZFJlbW92ZShlKXtjb25zdCB0PXRoaXMuZ2V0KGUpO3JldHVybiB0IT09dm9pZCAwPyhkZWxldGUgdGhpcy5fZGF0YVtlXSwtLXRoaXMuX2NvdW50LHQpOm51bGx9cmVtb3ZlKGUpe3JldHVybiB0aGlzLmNvbnRhaW5zKGUpPyhkZWxldGUgdGhpcy5fZGF0YVtlXSwtLXRoaXMuX2NvdW50LCEwKTohMX1jbGVhcigpe3RoaXMuX2RhdGE9e30sdGhpcy5fY291bnQ9MH1nZXQgY291bnQoKXtyZXR1cm4gdGhpcy5fY291bnR9Zm9yRWFjaChlKXtmb3IoY29uc3QgdCBpbiB0aGlzLl9kYXRhKXtjb25zdCBpPXRoaXMuX2RhdGFbdF07ZSh0LGkpfX1maXJzdChlKXtmb3IoY29uc3QgdCBpbiB0aGlzLl9kYXRhKXtjb25zdCBpPXRoaXMuX2RhdGFbdF0scz1lKHQsaSk7aWYocylyZXR1cm4gc31yZXR1cm4gbnVsbH19Y2xhc3MgbGl7c3RhdGljIEV2YWwoZSx0KXtyZXR1cm4gZS5tYXRjaCgvXChbXigpXSpcKS9nKT9lPWUucmVwbGFjZSgvXChbXigpXSpcKS9nLGk9PihpPWkuc2xpY2UoMSxpLmxlbmd0aC0xKSxsaS5fSGFuZGxlUGFyZW50aGVzaXNDb250ZW50KGksdCkpKTplPWxpLl9IYW5kbGVQYXJlbnRoZXNpc0NvbnRlbnQoZSx0KSxlPT09InRydWUiPyEwOmU9PT0iZmFsc2UiPyExOmxpLkV2YWwoZSx0KX1zdGF0aWMgX0hhbmRsZVBhcmVudGhlc2lzQ29udGVudChlLHQpe3Q9dHx8KHI9PnI9PT0idHJ1ZSIpO2xldCBpO2NvbnN0IHM9ZS5zcGxpdCgifHwiKTtmb3IoY29uc3QgciBpbiBzKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLHIpKXtsZXQgbj1saS5fU2ltcGxpZnlOZWdhdGlvbihzW3JdLnRyaW0oKSk7Y29uc3QgYT1uLnNwbGl0KCImJiIpO2lmKGEubGVuZ3RoPjEpZm9yKGxldCBvPTA7bzxhLmxlbmd0aDsrK28pe2NvbnN0IGg9bGkuX1NpbXBsaWZ5TmVnYXRpb24oYVtvXS50cmltKCkpO2lmKGghPT0idHJ1ZSImJmghPT0iZmFsc2UiP2hbMF09PT0iISI/aT0hdChoLnN1YnN0cmluZygxKSk6aT10KGgpOmk9aD09PSJ0cnVlIiwhaSl7bj0iZmFsc2UiO2JyZWFrfX1pZihpfHxuPT09InRydWUiKXtpPSEwO2JyZWFrfW4hPT0idHJ1ZSImJm4hPT0iZmFsc2UiP25bMF09PT0iISI/aT0hdChuLnN1YnN0cmluZygxKSk6aT10KG4pOmk9bj09PSJ0cnVlIn1yZXR1cm4gaT8idHJ1ZSI6ImZhbHNlIn1zdGF0aWMgX1NpbXBsaWZ5TmVnYXRpb24oZSl7cmV0dXJuIGU9ZS5yZXBsYWNlKC9eW1xzIV0rLyx0PT4odD10LnJlcGxhY2UoL1tcc10vZywoKT0+IiIpLHQubGVuZ3RoJTI/IiEiOiIiKSksZT1lLnRyaW0oKSxlPT09IiF0cnVlIj9lPSJmYWxzZSI6ZT09PSIhZmFsc2UiJiYoZT0idHJ1ZSIpLGV9fWNsYXNzIGdle3N0YXRpYyBFbmFibGVGb3IoZSl7ZS5fdGFncz1lLl90YWdzfHx7fSxlLmhhc1RhZ3M9KCk9PmdlLkhhc1RhZ3MoZSksZS5hZGRUYWdzPXQ9PmdlLkFkZFRhZ3NUbyhlLHQpLGUucmVtb3ZlVGFncz10PT5nZS5SZW1vdmVUYWdzRnJvbShlLHQpLGUubWF0Y2hlc1RhZ3NRdWVyeT10PT5nZS5NYXRjaGVzUXVlcnkoZSx0KX1zdGF0aWMgRGlzYWJsZUZvcihlKXtkZWxldGUgZS5fdGFncyxkZWxldGUgZS5oYXNUYWdzLGRlbGV0ZSBlLmFkZFRhZ3MsZGVsZXRlIGUucmVtb3ZlVGFncyxkZWxldGUgZS5tYXRjaGVzVGFnc1F1ZXJ5fXN0YXRpYyBIYXNUYWdzKGUpe2lmKCFlLl90YWdzKXJldHVybiExO2NvbnN0IHQ9ZS5fdGFncztmb3IoY29uc3QgaSBpbiB0KWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpKXJldHVybiEwO3JldHVybiExfXN0YXRpYyBHZXRUYWdzKGUsdD0hMCl7aWYoIWUuX3RhZ3MpcmV0dXJuIG51bGw7aWYodCl7Y29uc3QgaT1bXTtmb3IoY29uc3QgcyBpbiBlLl90YWdzKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLl90YWdzLHMpJiZlLl90YWdzW3NdPT09ITAmJmkucHVzaChzKTtyZXR1cm4gaS5qb2luKCIgIil9ZWxzZSByZXR1cm4gZS5fdGFnc31zdGF0aWMgQWRkVGFnc1RvKGUsdCl7aWYoIXR8fHR5cGVvZiB0IT0ic3RyaW5nIilyZXR1cm47dC5zcGxpdCgiICIpLmZvckVhY2goZnVuY3Rpb24ocyl7Z2UuX0FkZFRhZ1RvKGUscyl9KX1zdGF0aWMgX0FkZFRhZ1RvKGUsdCl7dD10LnRyaW0oKSwhKHQ9PT0iInx8dD09PSJ0cnVlInx8dD09PSJmYWxzZSIpJiYodC5tYXRjaCgvW1xzXS8pfHx0Lm1hdGNoKC9eKFshXXwoW3xdfFsmXSl7Mn0pLyl8fChnZS5FbmFibGVGb3IoZSksZS5fdGFnc1t0XT0hMCkpfXN0YXRpYyBSZW1vdmVUYWdzRnJvbShlLHQpe2lmKCFnZS5IYXNUYWdzKGUpKXJldHVybjtjb25zdCBpPXQuc3BsaXQoIiAiKTtmb3IoY29uc3QgcyBpbiBpKWdlLl9SZW1vdmVUYWdGcm9tKGUsaVtzXSl9c3RhdGljIF9SZW1vdmVUYWdGcm9tKGUsdCl7ZGVsZXRlIGUuX3RhZ3NbdF19c3RhdGljIE1hdGNoZXNRdWVyeShlLHQpe3JldHVybiB0PT09dm9pZCAwPyEwOnQ9PT0iIj9nZS5IYXNUYWdzKGUpOmxpLkV2YWwodCxpPT5nZS5IYXNUYWdzKGUpJiZlLl90YWdzW2ldKX19Y2xhc3MgWml7Y29uc3RydWN0b3IoKXt0aGlzLnJvb3ROb2Rlcz1uZXcgQXJyYXksdGhpcy5jYW1lcmFzPW5ldyBBcnJheSx0aGlzLmxpZ2h0cz1uZXcgQXJyYXksdGhpcy5tZXNoZXM9bmV3IEFycmF5LHRoaXMuc2tlbGV0b25zPW5ldyBBcnJheSx0aGlzLnBhcnRpY2xlU3lzdGVtcz1uZXcgQXJyYXksdGhpcy5hbmltYXRpb25zPVtdLHRoaXMuYW5pbWF0aW9uR3JvdXBzPW5ldyBBcnJheSx0aGlzLm11bHRpTWF0ZXJpYWxzPW5ldyBBcnJheSx0aGlzLm1hdGVyaWFscz1uZXcgQXJyYXksdGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzPW5ldyBBcnJheSx0aGlzLmdlb21ldHJpZXM9bmV3IEFycmF5LHRoaXMudHJhbnNmb3JtTm9kZXM9bmV3IEFycmF5LHRoaXMuYWN0aW9uTWFuYWdlcnM9bmV3IEFycmF5LHRoaXMudGV4dHVyZXM9bmV3IEFycmF5LHRoaXMuX2Vudmlyb25tZW50VGV4dHVyZT1udWxsLHRoaXMucG9zdFByb2Nlc3Nlcz1uZXcgQXJyYXl9c3RhdGljIEFkZFBhcnNlcihlLHQpe3RoaXMuX0JhYnlsb25GaWxlUGFyc2Vyc1tlXT10fXN0YXRpYyBHZXRQYXJzZXIoZSl7cmV0dXJuIHRoaXMuX0JhYnlsb25GaWxlUGFyc2Vyc1tlXT90aGlzLl9CYWJ5bG9uRmlsZVBhcnNlcnNbZV06bnVsbH1zdGF0aWMgQWRkSW5kaXZpZHVhbFBhcnNlcihlLHQpe3RoaXMuX0luZGl2aWR1YWxCYWJ5bG9uRmlsZVBhcnNlcnNbZV09dH1zdGF0aWMgR2V0SW5kaXZpZHVhbFBhcnNlcihlKXtyZXR1cm4gdGhpcy5fSW5kaXZpZHVhbEJhYnlsb25GaWxlUGFyc2Vyc1tlXT90aGlzLl9JbmRpdmlkdWFsQmFieWxvbkZpbGVQYXJzZXJzW2VdOm51bGx9c3RhdGljIFBhcnNlKGUsdCxpLHMpe2Zvcihjb25zdCByIGluIHRoaXMuX0JhYnlsb25GaWxlUGFyc2VycylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5fQmFieWxvbkZpbGVQYXJzZXJzLHIpJiZ0aGlzLl9CYWJ5bG9uRmlsZVBhcnNlcnNbcl0oZSx0LGkscyl9Z2V0IGVudmlyb25tZW50VGV4dHVyZSgpe3JldHVybiB0aGlzLl9lbnZpcm9ubWVudFRleHR1cmV9c2V0IGVudmlyb25tZW50VGV4dHVyZShlKXt0aGlzLl9lbnZpcm9ubWVudFRleHR1cmU9ZX1nZXROb2Rlcygpe2xldCBlPW5ldyBBcnJheTtyZXR1cm4gZT1lLmNvbmNhdCh0aGlzLm1lc2hlcyksZT1lLmNvbmNhdCh0aGlzLmxpZ2h0cyksZT1lLmNvbmNhdCh0aGlzLmNhbWVyYXMpLGU9ZS5jb25jYXQodGhpcy50cmFuc2Zvcm1Ob2RlcyksdGhpcy5za2VsZXRvbnMuZm9yRWFjaCh0PT5lPWUuY29uY2F0KHQuYm9uZXMpKSxlfX1aaS5fQmFieWxvbkZpbGVQYXJzZXJzPXt9LFppLl9JbmRpdmlkdWFsQmFieWxvbkZpbGVQYXJzZXJzPXt9O2Z1bmN0aW9uIFQoYyxlLHQsaSl7dmFyIHM9YXJndW1lbnRzLmxlbmd0aCxyPXM8Mz9lOmk9PT1udWxsP2k9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpOmksbjtpZih0eXBlb2YgUmVmbGVjdD09Im9iamVjdCImJnR5cGVvZiBSZWZsZWN0LmRlY29yYXRlPT0iZnVuY3Rpb24iKXI9UmVmbGVjdC5kZWNvcmF0ZShjLGUsdCxpKTtlbHNlIGZvcih2YXIgYT1jLmxlbmd0aC0xO2E+PTA7YS0tKShuPWNbYV0pJiYocj0oczwzP24ocik6cz4zP24oZSx0LHIpOm4oZSx0KSl8fHIpO3JldHVybiBzPjMmJnImJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQscikscn1jb25zdCBxaT17fSxqaT17fSx1cj1mdW5jdGlvbihjLGUsdCl7Y29uc3QgaT1jKCk7Z2UmJmdlLkFkZFRhZ3NUbyhpLGUudGFncyk7Y29uc3Qgcz1ScyhpKTtmb3IoY29uc3QgciBpbiBzKXtjb25zdCBuPXNbcl0sYT1lW3JdLG89bi50eXBlO2lmKGEhPW51bGwmJihyIT09InVuaXF1ZUlkInx8YWUuQWxsb3dMb2FkaW5nVW5pcXVlSWQpKXN3aXRjaChvKXtjYXNlIDA6Y2FzZSA2OmNhc2UgMTE6aVtyXT1hO2JyZWFrO2Nhc2UgMTppW3JdPXR8fGEuaXNSZW5kZXJUYXJnZXQ/YTphLmNsb25lKCk7YnJlYWs7Y2FzZSAyOmNhc2UgMzpjYXNlIDQ6Y2FzZSA1OmNhc2UgNzpjYXNlIDEwOmNhc2UgMTI6aVtyXT10P2E6YS5jbG9uZSgpO2JyZWFrfX1yZXR1cm4gaX07ZnVuY3Rpb24gYm4oYyl7Y29uc3QgZT1jLmdldENsYXNzTmFtZSgpO3JldHVybiBxaVtlXXx8KHFpW2VdPXt9KSxxaVtlXX1mdW5jdGlvbiBScyhjKXtjb25zdCBlPWMuZ2V0Q2xhc3NOYW1lKCk7aWYoamlbZV0pcmV0dXJuIGppW2VdO2ppW2VdPXt9O2NvbnN0IHQ9amlbZV07bGV0IGk9YyxzPWU7Zm9yKDtzOyl7Y29uc3Qgcj1xaVtzXTtmb3IoY29uc3QgbyBpbiByKXRbb109cltvXTtsZXQgbixhPSExO2Rve2lmKG49T2JqZWN0LmdldFByb3RvdHlwZU9mKGkpLCFuLmdldENsYXNzTmFtZSl7YT0hMDticmVha31pZihuLmdldENsYXNzTmFtZSgpIT09cylicmVhaztpPW59d2hpbGUobik7aWYoYSlicmVhaztzPW4uZ2V0Q2xhc3NOYW1lKCksaT1ufXJldHVybiB0fWZ1bmN0aW9uIHl0KGMsZSl7cmV0dXJuKHQsaSk9Pntjb25zdCBzPWJuKHQpO3NbaV18fChzW2ldPXt0eXBlOmMsc291cmNlTmFtZTplfSl9fWZ1bmN0aW9uIFNuKGMsZT1udWxsKXtyZXR1cm4odCxpKT0+e2NvbnN0IHM9ZXx8Il8iK2k7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbc119LHNldDpmdW5jdGlvbihyKXt0eXBlb2YgdGhpcy5lcXVhbHM9PSJmdW5jdGlvbiImJnRoaXMuZXF1YWxzKHIpfHx0aGlzW3NdIT09ciYmKHRoaXNbc109cix0W2NdLmFwcGx5KHRoaXMpKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KX19ZnVuY3Rpb24gYmUoYyxlPW51bGwpe3JldHVybiBTbihjLGUpfWZ1bmN0aW9uIFIoYyl7cmV0dXJuIHl0KDAsYyl9ZnVuY3Rpb24gbXQoYyl7cmV0dXJuIHl0KDEsYyl9ZnVuY3Rpb24gY2koYyl7cmV0dXJuIHl0KDIsYyl9ZnVuY3Rpb24gTmkoYyl7cmV0dXJuIHl0KDMsYyl9ZnVuY3Rpb24geG4oYyl7cmV0dXJuIHl0KDQsYyl9ZnVuY3Rpb24gQnQoYyl7cmV0dXJuIHl0KDUsYyl9ZnVuY3Rpb24gTW4oYyl7cmV0dXJuIHl0KDYsYyl9ZnVuY3Rpb24gQW4oYyl7cmV0dXJuIHl0KDcsYyl9ZnVuY3Rpb24gZHIoYyl7cmV0dXJuIHl0KDgsYyl9ZnVuY3Rpb24gUm4oYyl7cmV0dXJuIHl0KDEwLGMpfWNsYXNzIGFle3N0YXRpYyBBcHBlbmRTZXJpYWxpemVkQW5pbWF0aW9ucyhlLHQpe2lmKGUuYW5pbWF0aW9ucyl7dC5hbmltYXRpb25zPVtdO2ZvcihsZXQgaT0wO2k8ZS5hbmltYXRpb25zLmxlbmd0aDtpKyspe2NvbnN0IHM9ZS5hbmltYXRpb25zW2ldO3QuYW5pbWF0aW9ucy5wdXNoKHMuc2VyaWFsaXplKCkpfX19c3RhdGljIFNlcmlhbGl6ZShlLHQpe3R8fCh0PXt9KSxnZSYmKHQudGFncz1nZS5HZXRUYWdzKGUpKTtjb25zdCBpPVJzKGUpO2Zvcihjb25zdCBzIGluIGkpe2NvbnN0IHI9aVtzXSxuPXIuc291cmNlTmFtZXx8cyxhPXIudHlwZSxvPWVbc107aWYobyE9bnVsbCYmKHMhPT0idW5pcXVlSWQifHxhZS5BbGxvd0xvYWRpbmdVbmlxdWVJZCkpc3dpdGNoKGEpe2Nhc2UgMDp0W25dPW87YnJlYWs7Y2FzZSAxOnRbbl09by5zZXJpYWxpemUoKTticmVhaztjYXNlIDI6dFtuXT1vLmFzQXJyYXkoKTticmVhaztjYXNlIDM6dFtuXT1vLnNlcmlhbGl6ZSgpO2JyZWFrO2Nhc2UgNDp0W25dPW8uYXNBcnJheSgpO2JyZWFrO2Nhc2UgNTp0W25dPW8uYXNBcnJheSgpO2JyZWFrO2Nhc2UgNjp0W25dPW8uaWQ7YnJlYWs7Y2FzZSA3OnRbbl09by5zZXJpYWxpemUoKTticmVhaztjYXNlIDg6dFtuXT1vLmFzQXJyYXkoKTticmVhaztjYXNlIDk6dFtuXT1vLnNlcmlhbGl6ZSgpO2JyZWFrO2Nhc2UgMTA6dFtuXT1vLmFzQXJyYXkoKTticmVhaztjYXNlIDExOnRbbl09by5pZDticmVhaztjYXNlIDEyOnRbbl09by5hc0FycmF5KCk7YnJlYWt9fXJldHVybiB0fXN0YXRpYyBQYXJzZShlLHQsaSxzPW51bGwpe2NvbnN0IHI9ZSgpO3N8fChzPSIiKSxnZSYmZ2UuQWRkVGFnc1RvKHIsdC50YWdzKTtjb25zdCBuPVJzKHIpO2Zvcihjb25zdCBhIGluIG4pe2NvbnN0IG89blthXSxoPXRbby5zb3VyY2VOYW1lfHxhXSxsPW8udHlwZTtpZihoIT1udWxsJiYoYSE9PSJ1bmlxdWVJZCJ8fGFlLkFsbG93TG9hZGluZ1VuaXF1ZUlkKSl7Y29uc3QgdT1yO3N3aXRjaChsKXtjYXNlIDA6dVthXT1oO2JyZWFrO2Nhc2UgMTppJiYodVthXT1hZS5fVGV4dHVyZVBhcnNlcihoLGkscykpO2JyZWFrO2Nhc2UgMjp1W2FdPXJlLkZyb21BcnJheShoKTticmVhaztjYXNlIDM6dVthXT1hZS5fRnJlc25lbFBhcmFtZXRlcnNQYXJzZXIoaCk7YnJlYWs7Y2FzZSA0OnVbYV09dmUuRnJvbUFycmF5KGgpO2JyZWFrO2Nhc2UgNTp1W2FdPXAuRnJvbUFycmF5KGgpO2JyZWFrO2Nhc2UgNjppJiYodVthXT1pLmdldExhc3RNZXNoQnlJZChoKSk7YnJlYWs7Y2FzZSA3OnVbYV09YWUuX0NvbG9yQ3VydmVzUGFyc2VyKGgpO2JyZWFrO2Nhc2UgODp1W2FdPW1lLkZyb21BcnJheShoKTticmVhaztjYXNlIDk6dVthXT1hZS5fSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvblBhcnNlcihoKTticmVhaztjYXNlIDEwOnVbYV09Wi5Gcm9tQXJyYXkoaCk7YnJlYWs7Y2FzZSAxMTppJiYodVthXT1pLmdldENhbWVyYUJ5SWQoaCkpO2JyZWFrO2Nhc2UgMTI6dVthXT14LkZyb21BcnJheShoKTticmVha319fXJldHVybiByfXN0YXRpYyBDbG9uZShlLHQpe3JldHVybiB1cihlLHQsITEpfXN0YXRpYyBJbnN0YW5jaWF0ZShlLHQpe3JldHVybiB1cihlLHQsITApfX1hZS5BbGxvd0xvYWRpbmdVbmlxdWVJZD0hMSxhZS5fSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvblBhcnNlcj1jPT57dGhyb3cgJCgiSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiIpfSxhZS5fRnJlc25lbFBhcmFtZXRlcnNQYXJzZXI9Yz0+e3Rocm93ICQoIkZyZXNuZWxQYXJhbWV0ZXJzIil9LGFlLl9Db2xvckN1cnZlc1BhcnNlcj1jPT57dGhyb3cgJCgiQ29sb3JDdXJ2ZXMiKX0sYWUuX1RleHR1cmVQYXJzZXI9KGMsZSx0KT0+e3Rocm93ICQoIlRleHR1cmUiKX07ZnVuY3Rpb24gJHQoYyxlLHQsaSl7Y29uc3Qgcz10LnZhbHVlO3QudmFsdWU9KC4uLnIpPT57bGV0IG49cztpZih0eXBlb2YgX25hdGl2ZTwidSImJl9uYXRpdmVbZV0pe2NvbnN0IGE9X25hdGl2ZVtlXTtpP249KC4uLm8pPT5pKC4uLm8pP2EoLi4ubyk6cyguLi5vKTpuPWF9cmV0dXJuIGNbZV09bixuKC4uLnIpfX0kdC5maWx0ZXI9ZnVuY3Rpb24oYyl7cmV0dXJuKGUsdCxpKT0+JHQoZSx0LGksYyl9O2NsYXNzIHlze2NvbnN0cnVjdG9yKGUpe2lmKHRoaXMuX2tleXM9W10sdGhpcy5faXNEaXJ0eT0hMCx0aGlzLl9hcmVMaWdodHNEaXJ0eT0hMCx0aGlzLl9hcmVMaWdodHNEaXNwb3NlZD0hMSx0aGlzLl9hcmVBdHRyaWJ1dGVzRGlydHk9ITAsdGhpcy5fYXJlVGV4dHVyZXNEaXJ0eT0hMCx0aGlzLl9hcmVGcmVzbmVsRGlydHk9ITAsdGhpcy5fYXJlTWlzY0RpcnR5PSEwLHRoaXMuX2FyZVByZVBhc3NEaXJ0eT0hMCx0aGlzLl9hcmVJbWFnZVByb2Nlc3NpbmdEaXJ0eT0hMCx0aGlzLl9ub3JtYWxzPSExLHRoaXMuX3V2cz0hMSx0aGlzLl9uZWVkTm9ybWFscz0hMSx0aGlzLl9uZWVkVVZzPSExLHRoaXMuX2V4dGVybmFsUHJvcGVydGllcz1lLGUpZm9yKGNvbnN0IHQgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSYmdGhpcy5fc2V0RGVmYXVsdFZhbHVlKHQpfWdldCBpc0RpcnR5KCl7cmV0dXJuIHRoaXMuX2lzRGlydHl9bWFya0FzUHJvY2Vzc2VkKCl7dGhpcy5faXNEaXJ0eT0hMSx0aGlzLl9hcmVBdHRyaWJ1dGVzRGlydHk9ITEsdGhpcy5fYXJlVGV4dHVyZXNEaXJ0eT0hMSx0aGlzLl9hcmVGcmVzbmVsRGlydHk9ITEsdGhpcy5fYXJlTGlnaHRzRGlydHk9ITEsdGhpcy5fYXJlTGlnaHRzRGlzcG9zZWQ9ITEsdGhpcy5fYXJlTWlzY0RpcnR5PSExLHRoaXMuX2FyZVByZVBhc3NEaXJ0eT0hMSx0aGlzLl9hcmVJbWFnZVByb2Nlc3NpbmdEaXJ0eT0hMX1tYXJrQXNVbnByb2Nlc3NlZCgpe3RoaXMuX2lzRGlydHk9ITB9bWFya0FsbEFzRGlydHkoKXt0aGlzLl9hcmVUZXh0dXJlc0RpcnR5PSEwLHRoaXMuX2FyZUF0dHJpYnV0ZXNEaXJ0eT0hMCx0aGlzLl9hcmVMaWdodHNEaXJ0eT0hMCx0aGlzLl9hcmVGcmVzbmVsRGlydHk9ITAsdGhpcy5fYXJlTWlzY0RpcnR5PSEwLHRoaXMuX2FyZUltYWdlUHJvY2Vzc2luZ0RpcnR5PSEwLHRoaXMuX2lzRGlydHk9ITB9bWFya0FzSW1hZ2VQcm9jZXNzaW5nRGlydHkoKXt0aGlzLl9hcmVJbWFnZVByb2Nlc3NpbmdEaXJ0eT0hMCx0aGlzLl9pc0RpcnR5PSEwfW1hcmtBc0xpZ2h0RGlydHkoZT0hMSl7dGhpcy5fYXJlTGlnaHRzRGlydHk9ITAsdGhpcy5fYXJlTGlnaHRzRGlzcG9zZWQ9dGhpcy5fYXJlTGlnaHRzRGlzcG9zZWR8fGUsdGhpcy5faXNEaXJ0eT0hMH1tYXJrQXNBdHRyaWJ1dGVzRGlydHkoKXt0aGlzLl9hcmVBdHRyaWJ1dGVzRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH1tYXJrQXNUZXh0dXJlc0RpcnR5KCl7dGhpcy5fYXJlVGV4dHVyZXNEaXJ0eT0hMCx0aGlzLl9pc0RpcnR5PSEwfW1hcmtBc0ZyZXNuZWxEaXJ0eSgpe3RoaXMuX2FyZUZyZXNuZWxEaXJ0eT0hMCx0aGlzLl9pc0RpcnR5PSEwfW1hcmtBc01pc2NEaXJ0eSgpe3RoaXMuX2FyZU1pc2NEaXJ0eT0hMCx0aGlzLl9pc0RpcnR5PSEwfW1hcmtBc1ByZVBhc3NEaXJ0eSgpe3RoaXMuX2FyZVByZVBhc3NEaXJ0eT0hMCx0aGlzLl9pc0RpcnR5PSEwfXJlYnVpbGQoKXt0aGlzLl9rZXlzLmxlbmd0aD0wO2Zvcihjb25zdCBlIG9mIE9iamVjdC5rZXlzKHRoaXMpKWVbMF0hPT0iXyImJnRoaXMuX2tleXMucHVzaChlKTtpZih0aGlzLl9leHRlcm5hbFByb3BlcnRpZXMpZm9yKGNvbnN0IGUgaW4gdGhpcy5fZXh0ZXJuYWxQcm9wZXJ0aWVzKXRoaXMuX2tleXMuaW5kZXhPZihlKT09PS0xJiZ0aGlzLl9rZXlzLnB1c2goZSl9aXNFcXVhbChlKXtpZih0aGlzLl9rZXlzLmxlbmd0aCE9PWUuX2tleXMubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgdD0wO3Q8dGhpcy5fa2V5cy5sZW5ndGg7dCsrKXtjb25zdCBpPXRoaXMuX2tleXNbdF07aWYodGhpc1tpXSE9PWVbaV0pcmV0dXJuITF9cmV0dXJuITB9Y2xvbmVUbyhlKXt0aGlzLl9rZXlzLmxlbmd0aCE9PWUuX2tleXMubGVuZ3RoJiYoZS5fa2V5cz10aGlzLl9rZXlzLnNsaWNlKDApKTtmb3IobGV0IHQ9MDt0PHRoaXMuX2tleXMubGVuZ3RoO3QrKyl7Y29uc3QgaT10aGlzLl9rZXlzW3RdO2VbaV09dGhpc1tpXX19cmVzZXQoKXt0aGlzLl9rZXlzLmZvckVhY2goZT0+dGhpcy5fc2V0RGVmYXVsdFZhbHVlKGUpKX1fc2V0RGVmYXVsdFZhbHVlKGUpe3ZhciB0LGkscyxyLG47Y29uc3QgYT0ocz0oaT0odD10aGlzLl9leHRlcm5hbFByb3BlcnRpZXMpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dFtlXSk9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppLnR5cGUpIT09bnVsbCYmcyE9PXZvaWQgMD9zOnR5cGVvZiB0aGlzW2VdLG89KG49KHI9dGhpcy5fZXh0ZXJuYWxQcm9wZXJ0aWVzKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnJbZV0pPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi5kZWZhdWx0O3N3aXRjaChhKXtjYXNlIm51bWJlciI6dGhpc1tlXT1vPz8wO2JyZWFrO2Nhc2Uic3RyaW5nIjp0aGlzW2VdPW8/PyIiO2JyZWFrO2RlZmF1bHQ6dGhpc1tlXT1vPz8hMTticmVha319dG9TdHJpbmcoKXtsZXQgZT0iIjtmb3IobGV0IHQ9MDt0PHRoaXMuX2tleXMubGVuZ3RoO3QrKyl7Y29uc3QgaT10aGlzLl9rZXlzW3RdLHM9dGhpc1tpXTtzd2l0Y2godHlwZW9mIHMpe2Nhc2UibnVtYmVyIjpjYXNlInN0cmluZyI6ZSs9IiNkZWZpbmUgIitpKyIgIitzK2AKYDticmVhaztkZWZhdWx0OnMmJihlKz0iI2RlZmluZSAiK2krYApgKTticmVha319cmV0dXJuIGV9fWNsYXNzIEFle2NvbnN0cnVjdG9yKCl7dGhpcy5fZGlydHk9ITAsdGhpcy5fdGVtcENvbG9yPW5ldyBtZSgwLDAsMCwwKSx0aGlzLl9nbG9iYWxDdXJ2ZT1uZXcgbWUoMCwwLDAsMCksdGhpcy5faGlnaGxpZ2h0c0N1cnZlPW5ldyBtZSgwLDAsMCwwKSx0aGlzLl9taWR0b25lc0N1cnZlPW5ldyBtZSgwLDAsMCwwKSx0aGlzLl9zaGFkb3dzQ3VydmU9bmV3IG1lKDAsMCwwLDApLHRoaXMuX3Bvc2l0aXZlQ3VydmU9bmV3IG1lKDAsMCwwLDApLHRoaXMuX25lZ2F0aXZlQ3VydmU9bmV3IG1lKDAsMCwwLDApLHRoaXMuX2dsb2JhbEh1ZT0zMCx0aGlzLl9nbG9iYWxEZW5zaXR5PTAsdGhpcy5fZ2xvYmFsU2F0dXJhdGlvbj0wLHRoaXMuX2dsb2JhbEV4cG9zdXJlPTAsdGhpcy5faGlnaGxpZ2h0c0h1ZT0zMCx0aGlzLl9oaWdobGlnaHRzRGVuc2l0eT0wLHRoaXMuX2hpZ2hsaWdodHNTYXR1cmF0aW9uPTAsdGhpcy5faGlnaGxpZ2h0c0V4cG9zdXJlPTAsdGhpcy5fbWlkdG9uZXNIdWU9MzAsdGhpcy5fbWlkdG9uZXNEZW5zaXR5PTAsdGhpcy5fbWlkdG9uZXNTYXR1cmF0aW9uPTAsdGhpcy5fbWlkdG9uZXNFeHBvc3VyZT0wLHRoaXMuX3NoYWRvd3NIdWU9MzAsdGhpcy5fc2hhZG93c0RlbnNpdHk9MCx0aGlzLl9zaGFkb3dzU2F0dXJhdGlvbj0wLHRoaXMuX3NoYWRvd3NFeHBvc3VyZT0wfWdldCBnbG9iYWxIdWUoKXtyZXR1cm4gdGhpcy5fZ2xvYmFsSHVlfXNldCBnbG9iYWxIdWUoZSl7dGhpcy5fZ2xvYmFsSHVlPWUsdGhpcy5fZGlydHk9ITB9Z2V0IGdsb2JhbERlbnNpdHkoKXtyZXR1cm4gdGhpcy5fZ2xvYmFsRGVuc2l0eX1zZXQgZ2xvYmFsRGVuc2l0eShlKXt0aGlzLl9nbG9iYWxEZW5zaXR5PWUsdGhpcy5fZGlydHk9ITB9Z2V0IGdsb2JhbFNhdHVyYXRpb24oKXtyZXR1cm4gdGhpcy5fZ2xvYmFsU2F0dXJhdGlvbn1zZXQgZ2xvYmFsU2F0dXJhdGlvbihlKXt0aGlzLl9nbG9iYWxTYXR1cmF0aW9uPWUsdGhpcy5fZGlydHk9ITB9Z2V0IGdsb2JhbEV4cG9zdXJlKCl7cmV0dXJuIHRoaXMuX2dsb2JhbEV4cG9zdXJlfXNldCBnbG9iYWxFeHBvc3VyZShlKXt0aGlzLl9nbG9iYWxFeHBvc3VyZT1lLHRoaXMuX2RpcnR5PSEwfWdldCBoaWdobGlnaHRzSHVlKCl7cmV0dXJuIHRoaXMuX2hpZ2hsaWdodHNIdWV9c2V0IGhpZ2hsaWdodHNIdWUoZSl7dGhpcy5faGlnaGxpZ2h0c0h1ZT1lLHRoaXMuX2RpcnR5PSEwfWdldCBoaWdobGlnaHRzRGVuc2l0eSgpe3JldHVybiB0aGlzLl9oaWdobGlnaHRzRGVuc2l0eX1zZXQgaGlnaGxpZ2h0c0RlbnNpdHkoZSl7dGhpcy5faGlnaGxpZ2h0c0RlbnNpdHk9ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgaGlnaGxpZ2h0c1NhdHVyYXRpb24oKXtyZXR1cm4gdGhpcy5faGlnaGxpZ2h0c1NhdHVyYXRpb259c2V0IGhpZ2hsaWdodHNTYXR1cmF0aW9uKGUpe3RoaXMuX2hpZ2hsaWdodHNTYXR1cmF0aW9uPWUsdGhpcy5fZGlydHk9ITB9Z2V0IGhpZ2hsaWdodHNFeHBvc3VyZSgpe3JldHVybiB0aGlzLl9oaWdobGlnaHRzRXhwb3N1cmV9c2V0IGhpZ2hsaWdodHNFeHBvc3VyZShlKXt0aGlzLl9oaWdobGlnaHRzRXhwb3N1cmU9ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgbWlkdG9uZXNIdWUoKXtyZXR1cm4gdGhpcy5fbWlkdG9uZXNIdWV9c2V0IG1pZHRvbmVzSHVlKGUpe3RoaXMuX21pZHRvbmVzSHVlPWUsdGhpcy5fZGlydHk9ITB9Z2V0IG1pZHRvbmVzRGVuc2l0eSgpe3JldHVybiB0aGlzLl9taWR0b25lc0RlbnNpdHl9c2V0IG1pZHRvbmVzRGVuc2l0eShlKXt0aGlzLl9taWR0b25lc0RlbnNpdHk9ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgbWlkdG9uZXNTYXR1cmF0aW9uKCl7cmV0dXJuIHRoaXMuX21pZHRvbmVzU2F0dXJhdGlvbn1zZXQgbWlkdG9uZXNTYXR1cmF0aW9uKGUpe3RoaXMuX21pZHRvbmVzU2F0dXJhdGlvbj1lLHRoaXMuX2RpcnR5PSEwfWdldCBtaWR0b25lc0V4cG9zdXJlKCl7cmV0dXJuIHRoaXMuX21pZHRvbmVzRXhwb3N1cmV9c2V0IG1pZHRvbmVzRXhwb3N1cmUoZSl7dGhpcy5fbWlkdG9uZXNFeHBvc3VyZT1lLHRoaXMuX2RpcnR5PSEwfWdldCBzaGFkb3dzSHVlKCl7cmV0dXJuIHRoaXMuX3NoYWRvd3NIdWV9c2V0IHNoYWRvd3NIdWUoZSl7dGhpcy5fc2hhZG93c0h1ZT1lLHRoaXMuX2RpcnR5PSEwfWdldCBzaGFkb3dzRGVuc2l0eSgpe3JldHVybiB0aGlzLl9zaGFkb3dzRGVuc2l0eX1zZXQgc2hhZG93c0RlbnNpdHkoZSl7dGhpcy5fc2hhZG93c0RlbnNpdHk9ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgc2hhZG93c1NhdHVyYXRpb24oKXtyZXR1cm4gdGhpcy5fc2hhZG93c1NhdHVyYXRpb259c2V0IHNoYWRvd3NTYXR1cmF0aW9uKGUpe3RoaXMuX3NoYWRvd3NTYXR1cmF0aW9uPWUsdGhpcy5fZGlydHk9ITB9Z2V0IHNoYWRvd3NFeHBvc3VyZSgpe3JldHVybiB0aGlzLl9zaGFkb3dzRXhwb3N1cmV9c2V0IHNoYWRvd3NFeHBvc3VyZShlKXt0aGlzLl9zaGFkb3dzRXhwb3N1cmU9ZSx0aGlzLl9kaXJ0eT0hMH1nZXRDbGFzc05hbWUoKXtyZXR1cm4iQ29sb3JDdXJ2ZXMifXN0YXRpYyBCaW5kKGUsdCxpPSJ2Q2FtZXJhQ29sb3JDdXJ2ZVBvc2l0aXZlIixzPSJ2Q2FtZXJhQ29sb3JDdXJ2ZU5ldXRyYWwiLHI9InZDYW1lcmFDb2xvckN1cnZlTmVnYXRpdmUiKXtlLl9kaXJ0eSYmKGUuX2RpcnR5PSExLGUuX2dldENvbG9yR3JhZGluZ0RhdGFUb1JlZihlLl9nbG9iYWxIdWUsZS5fZ2xvYmFsRGVuc2l0eSxlLl9nbG9iYWxTYXR1cmF0aW9uLGUuX2dsb2JhbEV4cG9zdXJlLGUuX2dsb2JhbEN1cnZlKSxlLl9nZXRDb2xvckdyYWRpbmdEYXRhVG9SZWYoZS5faGlnaGxpZ2h0c0h1ZSxlLl9oaWdobGlnaHRzRGVuc2l0eSxlLl9oaWdobGlnaHRzU2F0dXJhdGlvbixlLl9oaWdobGlnaHRzRXhwb3N1cmUsZS5fdGVtcENvbG9yKSxlLl90ZW1wQ29sb3IubXVsdGlwbHlUb1JlZihlLl9nbG9iYWxDdXJ2ZSxlLl9oaWdobGlnaHRzQ3VydmUpLGUuX2dldENvbG9yR3JhZGluZ0RhdGFUb1JlZihlLl9taWR0b25lc0h1ZSxlLl9taWR0b25lc0RlbnNpdHksZS5fbWlkdG9uZXNTYXR1cmF0aW9uLGUuX21pZHRvbmVzRXhwb3N1cmUsZS5fdGVtcENvbG9yKSxlLl90ZW1wQ29sb3IubXVsdGlwbHlUb1JlZihlLl9nbG9iYWxDdXJ2ZSxlLl9taWR0b25lc0N1cnZlKSxlLl9nZXRDb2xvckdyYWRpbmdEYXRhVG9SZWYoZS5fc2hhZG93c0h1ZSxlLl9zaGFkb3dzRGVuc2l0eSxlLl9zaGFkb3dzU2F0dXJhdGlvbixlLl9zaGFkb3dzRXhwb3N1cmUsZS5fdGVtcENvbG9yKSxlLl90ZW1wQ29sb3IubXVsdGlwbHlUb1JlZihlLl9nbG9iYWxDdXJ2ZSxlLl9zaGFkb3dzQ3VydmUpLGUuX2hpZ2hsaWdodHNDdXJ2ZS5zdWJ0cmFjdFRvUmVmKGUuX21pZHRvbmVzQ3VydmUsZS5fcG9zaXRpdmVDdXJ2ZSksZS5fbWlkdG9uZXNDdXJ2ZS5zdWJ0cmFjdFRvUmVmKGUuX3NoYWRvd3NDdXJ2ZSxlLl9uZWdhdGl2ZUN1cnZlKSksdCYmKHQuc2V0RmxvYXQ0KGksZS5fcG9zaXRpdmVDdXJ2ZS5yLGUuX3Bvc2l0aXZlQ3VydmUuZyxlLl9wb3NpdGl2ZUN1cnZlLmIsZS5fcG9zaXRpdmVDdXJ2ZS5hKSx0LnNldEZsb2F0NChzLGUuX21pZHRvbmVzQ3VydmUucixlLl9taWR0b25lc0N1cnZlLmcsZS5fbWlkdG9uZXNDdXJ2ZS5iLGUuX21pZHRvbmVzQ3VydmUuYSksdC5zZXRGbG9hdDQocixlLl9uZWdhdGl2ZUN1cnZlLnIsZS5fbmVnYXRpdmVDdXJ2ZS5nLGUuX25lZ2F0aXZlQ3VydmUuYixlLl9uZWdhdGl2ZUN1cnZlLmEpKX1zdGF0aWMgUHJlcGFyZVVuaWZvcm1zKGUpe2UucHVzaCgidkNhbWVyYUNvbG9yQ3VydmVOZXV0cmFsIiwidkNhbWVyYUNvbG9yQ3VydmVQb3NpdGl2ZSIsInZDYW1lcmFDb2xvckN1cnZlTmVnYXRpdmUiKX1fZ2V0Q29sb3JHcmFkaW5nRGF0YVRvUmVmKGUsdCxpLHMscil7ZSE9bnVsbCYmKGU9QWUuX0NsYW1wKGUsMCwzNjApLHQ9QWUuX0NsYW1wKHQsLTEwMCwxMDApLGk9QWUuX0NsYW1wKGksLTEwMCwxMDApLHM9QWUuX0NsYW1wKHMsLTEwMCwxMDApLHQ9QWUuX0FwcGx5Q29sb3JHcmFkaW5nU2xpZGVyTm9ubGluZWFyKHQpLHQqPS41LHM9QWUuX0FwcGx5Q29sb3JHcmFkaW5nU2xpZGVyTm9ubGluZWFyKHMpLHQ8MCYmKHQqPS0xLGU9KGUrMTgwKSUzNjApLEFlLl9Gcm9tSFNCVG9SZWYoZSx0LDUwKy4yNSpzLHIpLHIuc2NhbGVUb1JlZigyLHIpLHIuYT0xKy4wMSppKX1zdGF0aWMgX0FwcGx5Q29sb3JHcmFkaW5nU2xpZGVyTm9ubGluZWFyKGUpe2UvPTEwMDtsZXQgdD1NYXRoLmFicyhlKTtyZXR1cm4gdD1NYXRoLnBvdyh0LDIpLGU8MCYmKHQqPS0xKSx0Kj0xMDAsdH1zdGF0aWMgX0Zyb21IU0JUb1JlZihlLHQsaSxzKXtsZXQgcj1BZS5fQ2xhbXAoZSwwLDM2MCk7Y29uc3Qgbj1BZS5fQ2xhbXAodC8xMDAsMCwxKSxhPUFlLl9DbGFtcChpLzEwMCwwLDEpO2lmKG49PT0wKXMucj1hLHMuZz1hLHMuYj1hO2Vsc2V7ci89NjA7Y29uc3Qgbz1NYXRoLmZsb29yKHIpLGg9ci1vLGw9YSooMS1uKSx1PWEqKDEtbipoKSxkPWEqKDEtbiooMS1oKSk7c3dpdGNoKG8pe2Nhc2UgMDpzLnI9YSxzLmc9ZCxzLmI9bDticmVhaztjYXNlIDE6cy5yPXUscy5nPWEscy5iPWw7YnJlYWs7Y2FzZSAyOnMucj1sLHMuZz1hLHMuYj1kO2JyZWFrO2Nhc2UgMzpzLnI9bCxzLmc9dSxzLmI9YTticmVhaztjYXNlIDQ6cy5yPWQscy5nPWwscy5iPWE7YnJlYWs7ZGVmYXVsdDpzLnI9YSxzLmc9bCxzLmI9dTticmVha319cy5hPTF9c3RhdGljIF9DbGFtcChlLHQsaSl7cmV0dXJuIE1hdGgubWluKE1hdGgubWF4KGUsdCksaSl9Y2xvbmUoKXtyZXR1cm4gYWUuQ2xvbmUoKCk9Pm5ldyBBZSx0aGlzKX1zZXJpYWxpemUoKXtyZXR1cm4gYWUuU2VyaWFsaXplKHRoaXMpfXN0YXRpYyBQYXJzZShlKXtyZXR1cm4gYWUuUGFyc2UoKCk9Pm5ldyBBZSxlLG51bGwsbnVsbCl9fVQoW1IoKV0sQWUucHJvdG90eXBlLCJfZ2xvYmFsSHVlIix2b2lkIDApLFQoW1IoKV0sQWUucHJvdG90eXBlLCJfZ2xvYmFsRGVuc2l0eSIsdm9pZCAwKSxUKFtSKCldLEFlLnByb3RvdHlwZSwiX2dsb2JhbFNhdHVyYXRpb24iLHZvaWQgMCksVChbUigpXSxBZS5wcm90b3R5cGUsIl9nbG9iYWxFeHBvc3VyZSIsdm9pZCAwKSxUKFtSKCldLEFlLnByb3RvdHlwZSwiX2hpZ2hsaWdodHNIdWUiLHZvaWQgMCksVChbUigpXSxBZS5wcm90b3R5cGUsIl9oaWdobGlnaHRzRGVuc2l0eSIsdm9pZCAwKSxUKFtSKCldLEFlLnByb3RvdHlwZSwiX2hpZ2hsaWdodHNTYXR1cmF0aW9uIix2b2lkIDApLFQoW1IoKV0sQWUucHJvdG90eXBlLCJfaGlnaGxpZ2h0c0V4cG9zdXJlIix2b2lkIDApLFQoW1IoKV0sQWUucHJvdG90eXBlLCJfbWlkdG9uZXNIdWUiLHZvaWQgMCksVChbUigpXSxBZS5wcm90b3R5cGUsIl9taWR0b25lc0RlbnNpdHkiLHZvaWQgMCksVChbUigpXSxBZS5wcm90b3R5cGUsIl9taWR0b25lc1NhdHVyYXRpb24iLHZvaWQgMCksVChbUigpXSxBZS5wcm90b3R5cGUsIl9taWR0b25lc0V4cG9zdXJlIix2b2lkIDApLGFlLl9Db2xvckN1cnZlc1BhcnNlcj1BZS5QYXJzZTtjbGFzcyBwZXtjb25zdHJ1Y3Rvcigpe3RoaXMuY29sb3JDdXJ2ZXM9bmV3IEFlLHRoaXMuX2NvbG9yQ3VydmVzRW5hYmxlZD0hMSx0aGlzLl9jb2xvckdyYWRpbmdFbmFibGVkPSExLHRoaXMuX2NvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRoPSEwLHRoaXMuX2NvbG9yR3JhZGluZ0JHUj0hMCx0aGlzLl9leHBvc3VyZT0xLHRoaXMuX3RvbmVNYXBwaW5nRW5hYmxlZD0hMSx0aGlzLl90b25lTWFwcGluZ1R5cGU9cGUuVE9ORU1BUFBJTkdfU1RBTkRBUkQsdGhpcy5fY29udHJhc3Q9MSx0aGlzLnZpZ25ldHRlU3RyZXRjaD0wLHRoaXMudmlnbmV0dGVDZW50ZXJYPTAsdGhpcy52aWduZXR0ZUNlbnRlclk9MCx0aGlzLnZpZ25ldHRlV2VpZ2h0PTEuNSx0aGlzLnZpZ25ldHRlQ29sb3I9bmV3IG1lKDAsMCwwLDApLHRoaXMudmlnbmV0dGVDYW1lcmFGb3Y9LjUsdGhpcy5fdmlnbmV0dGVCbGVuZE1vZGU9cGUuVklHTkVUVEVNT0RFX01VTFRJUExZLHRoaXMuX3ZpZ25ldHRlRW5hYmxlZD0hMSx0aGlzLl9kaXRoZXJpbmdFbmFibGVkPSExLHRoaXMuX2RpdGhlcmluZ0ludGVuc2l0eT0xLzI1NSx0aGlzLl9za2lwRmluYWxDb2xvckNsYW1wPSExLHRoaXMuX2FwcGx5QnlQb3N0UHJvY2Vzcz0hMSx0aGlzLl9pc0VuYWJsZWQ9ITAsdGhpcy5vblVwZGF0ZVBhcmFtZXRlcnM9bmV3IEZ9Z2V0IGNvbG9yQ3VydmVzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9jb2xvckN1cnZlc0VuYWJsZWR9c2V0IGNvbG9yQ3VydmVzRW5hYmxlZChlKXt0aGlzLl9jb2xvckN1cnZlc0VuYWJsZWQhPT1lJiYodGhpcy5fY29sb3JDdXJ2ZXNFbmFibGVkPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgY29sb3JHcmFkaW5nVGV4dHVyZSgpe3JldHVybiB0aGlzLl9jb2xvckdyYWRpbmdUZXh0dXJlfXNldCBjb2xvckdyYWRpbmdUZXh0dXJlKGUpe3RoaXMuX2NvbG9yR3JhZGluZ1RleHR1cmUhPT1lJiYodGhpcy5fY29sb3JHcmFkaW5nVGV4dHVyZT1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IGNvbG9yR3JhZGluZ0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fY29sb3JHcmFkaW5nRW5hYmxlZH1zZXQgY29sb3JHcmFkaW5nRW5hYmxlZChlKXt0aGlzLl9jb2xvckdyYWRpbmdFbmFibGVkIT09ZSYmKHRoaXMuX2NvbG9yR3JhZGluZ0VuYWJsZWQ9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBjb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aCgpe3JldHVybiB0aGlzLl9jb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aH1zZXQgY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGgoZSl7dGhpcy5fY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGghPT1lJiYodGhpcy5fY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGg9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBjb2xvckdyYWRpbmdCR1IoKXtyZXR1cm4gdGhpcy5fY29sb3JHcmFkaW5nQkdSfXNldCBjb2xvckdyYWRpbmdCR1IoZSl7dGhpcy5fY29sb3JHcmFkaW5nQkdSIT09ZSYmKHRoaXMuX2NvbG9yR3JhZGluZ0JHUj1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IGV4cG9zdXJlKCl7cmV0dXJuIHRoaXMuX2V4cG9zdXJlfXNldCBleHBvc3VyZShlKXt0aGlzLl9leHBvc3VyZSE9PWUmJih0aGlzLl9leHBvc3VyZT1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IHRvbmVNYXBwaW5nRW5hYmxlZCgpe3JldHVybiB0aGlzLl90b25lTWFwcGluZ0VuYWJsZWR9c2V0IHRvbmVNYXBwaW5nRW5hYmxlZChlKXt0aGlzLl90b25lTWFwcGluZ0VuYWJsZWQhPT1lJiYodGhpcy5fdG9uZU1hcHBpbmdFbmFibGVkPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgdG9uZU1hcHBpbmdUeXBlKCl7cmV0dXJuIHRoaXMuX3RvbmVNYXBwaW5nVHlwZX1zZXQgdG9uZU1hcHBpbmdUeXBlKGUpe3RoaXMuX3RvbmVNYXBwaW5nVHlwZSE9PWUmJih0aGlzLl90b25lTWFwcGluZ1R5cGU9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBjb250cmFzdCgpe3JldHVybiB0aGlzLl9jb250cmFzdH1zZXQgY29udHJhc3QoZSl7dGhpcy5fY29udHJhc3QhPT1lJiYodGhpcy5fY29udHJhc3Q9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCB2aWduZXR0ZUNlbnRyZVkoKXtyZXR1cm4gdGhpcy52aWduZXR0ZUNlbnRlcll9c2V0IHZpZ25ldHRlQ2VudHJlWShlKXt0aGlzLnZpZ25ldHRlQ2VudGVyWT1lfWdldCB2aWduZXR0ZUNlbnRyZVgoKXtyZXR1cm4gdGhpcy52aWduZXR0ZUNlbnRlclh9c2V0IHZpZ25ldHRlQ2VudHJlWChlKXt0aGlzLnZpZ25ldHRlQ2VudGVyWD1lfWdldCB2aWduZXR0ZUJsZW5kTW9kZSgpe3JldHVybiB0aGlzLl92aWduZXR0ZUJsZW5kTW9kZX1zZXQgdmlnbmV0dGVCbGVuZE1vZGUoZSl7dGhpcy5fdmlnbmV0dGVCbGVuZE1vZGUhPT1lJiYodGhpcy5fdmlnbmV0dGVCbGVuZE1vZGU9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCB2aWduZXR0ZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fdmlnbmV0dGVFbmFibGVkfXNldCB2aWduZXR0ZUVuYWJsZWQoZSl7dGhpcy5fdmlnbmV0dGVFbmFibGVkIT09ZSYmKHRoaXMuX3ZpZ25ldHRlRW5hYmxlZD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IGRpdGhlcmluZ0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZGl0aGVyaW5nRW5hYmxlZH1zZXQgZGl0aGVyaW5nRW5hYmxlZChlKXt0aGlzLl9kaXRoZXJpbmdFbmFibGVkIT09ZSYmKHRoaXMuX2RpdGhlcmluZ0VuYWJsZWQ9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBkaXRoZXJpbmdJbnRlbnNpdHkoKXtyZXR1cm4gdGhpcy5fZGl0aGVyaW5nSW50ZW5zaXR5fXNldCBkaXRoZXJpbmdJbnRlbnNpdHkoZSl7dGhpcy5fZGl0aGVyaW5nSW50ZW5zaXR5IT09ZSYmKHRoaXMuX2RpdGhlcmluZ0ludGVuc2l0eT1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IHNraXBGaW5hbENvbG9yQ2xhbXAoKXtyZXR1cm4gdGhpcy5fc2tpcEZpbmFsQ29sb3JDbGFtcH1zZXQgc2tpcEZpbmFsQ29sb3JDbGFtcChlKXt0aGlzLl9za2lwRmluYWxDb2xvckNsYW1wIT09ZSYmKHRoaXMuX3NraXBGaW5hbENvbG9yQ2xhbXA9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBhcHBseUJ5UG9zdFByb2Nlc3MoKXtyZXR1cm4gdGhpcy5fYXBwbHlCeVBvc3RQcm9jZXNzfXNldCBhcHBseUJ5UG9zdFByb2Nlc3MoZSl7dGhpcy5fYXBwbHlCeVBvc3RQcm9jZXNzIT09ZSYmKHRoaXMuX2FwcGx5QnlQb3N0UHJvY2Vzcz1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IGlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9pc0VuYWJsZWR9c2V0IGlzRW5hYmxlZChlKXt0aGlzLl9pc0VuYWJsZWQhPT1lJiYodGhpcy5faXNFbmFibGVkPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1fdXBkYXRlUGFyYW1ldGVycygpe3RoaXMub25VcGRhdGVQYXJhbWV0ZXJzLm5vdGlmeU9ic2VydmVycyh0aGlzKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiJ9c3RhdGljIFByZXBhcmVVbmlmb3JtcyhlLHQpe3QuRVhQT1NVUkUmJmUucHVzaCgiZXhwb3N1cmVMaW5lYXIiKSx0LkNPTlRSQVNUJiZlLnB1c2goImNvbnRyYXN0IiksdC5DT0xPUkdSQURJTkcmJmUucHVzaCgiY29sb3JUcmFuc2Zvcm1TZXR0aW5ncyIpLCh0LlZJR05FVFRFfHx0LkRJVEhFUikmJmUucHVzaCgidkludmVyc2VTY3JlZW5TaXplIiksdC5WSUdORVRURSYmKGUucHVzaCgidmlnbmV0dGVTZXR0aW5nczEiKSxlLnB1c2goInZpZ25ldHRlU2V0dGluZ3MyIikpLHQuQ09MT1JDVVJWRVMmJkFlLlByZXBhcmVVbmlmb3JtcyhlKSx0LkRJVEhFUiYmZS5wdXNoKCJkaXRoZXJJbnRlbnNpdHkiKX1zdGF0aWMgUHJlcGFyZVNhbXBsZXJzKGUsdCl7dC5DT0xPUkdSQURJTkcmJmUucHVzaCgidHhDb2xvclRyYW5zZm9ybSIpfXByZXBhcmVEZWZpbmVzKGUsdD0hMSl7aWYodCE9PXRoaXMuYXBwbHlCeVBvc3RQcm9jZXNzfHwhdGhpcy5faXNFbmFibGVkKXtlLlZJR05FVFRFPSExLGUuVE9ORU1BUFBJTkc9ITEsZS5UT05FTUFQUElOR19BQ0VTPSExLGUuQ09OVFJBU1Q9ITEsZS5FWFBPU1VSRT0hMSxlLkNPTE9SQ1VSVkVTPSExLGUuQ09MT1JHUkFESU5HPSExLGUuQ09MT1JHUkFESU5HM0Q9ITEsZS5ESVRIRVI9ITEsZS5JTUFHRVBST0NFU1NJTkc9ITEsZS5TS0lQRklOQUxDT0xPUkNMQU1QPXRoaXMuc2tpcEZpbmFsQ29sb3JDbGFtcCxlLklNQUdFUFJPQ0VTU0lOR1BPU1RQUk9DRVNTPXRoaXMuYXBwbHlCeVBvc3RQcm9jZXNzJiZ0aGlzLl9pc0VuYWJsZWQ7cmV0dXJufXN3aXRjaChlLlZJR05FVFRFPXRoaXMudmlnbmV0dGVFbmFibGVkLGUuVklHTkVUVEVCTEVORE1PREVNVUxUSVBMWT10aGlzLnZpZ25ldHRlQmxlbmRNb2RlPT09cGUuX1ZJR05FVFRFTU9ERV9NVUxUSVBMWSxlLlZJR05FVFRFQkxFTkRNT0RFT1BBUVVFPSFlLlZJR05FVFRFQkxFTkRNT0RFTVVMVElQTFksZS5UT05FTUFQUElORz10aGlzLnRvbmVNYXBwaW5nRW5hYmxlZCx0aGlzLl90b25lTWFwcGluZ1R5cGUpe2Nhc2UgcGUuVE9ORU1BUFBJTkdfQUNFUzplLlRPTkVNQVBQSU5HX0FDRVM9ITA7YnJlYWs7ZGVmYXVsdDplLlRPTkVNQVBQSU5HX0FDRVM9ITE7YnJlYWt9ZS5DT05UUkFTVD10aGlzLmNvbnRyYXN0IT09MSxlLkVYUE9TVVJFPXRoaXMuZXhwb3N1cmUhPT0xLGUuQ09MT1JDVVJWRVM9dGhpcy5jb2xvckN1cnZlc0VuYWJsZWQmJiEhdGhpcy5jb2xvckN1cnZlcyxlLkNPTE9SR1JBRElORz10aGlzLmNvbG9yR3JhZGluZ0VuYWJsZWQmJiEhdGhpcy5jb2xvckdyYWRpbmdUZXh0dXJlLGUuQ09MT1JHUkFESU5HP2UuQ09MT1JHUkFESU5HM0Q9dGhpcy5jb2xvckdyYWRpbmdUZXh0dXJlLmlzM0Q6ZS5DT0xPUkdSQURJTkczRD0hMSxlLlNBTVBMRVIzREdSRUVOREVQVEg9dGhpcy5jb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aCxlLlNBTVBMRVIzREJHUk1BUD10aGlzLmNvbG9yR3JhZGluZ0JHUixlLkRJVEhFUj10aGlzLl9kaXRoZXJpbmdFbmFibGVkLGUuSU1BR0VQUk9DRVNTSU5HUE9TVFBST0NFU1M9dGhpcy5hcHBseUJ5UG9zdFByb2Nlc3MsZS5TS0lQRklOQUxDT0xPUkNMQU1QPXRoaXMuc2tpcEZpbmFsQ29sb3JDbGFtcCxlLklNQUdFUFJPQ0VTU0lORz1lLlZJR05FVFRFfHxlLlRPTkVNQVBQSU5HfHxlLkNPTlRSQVNUfHxlLkVYUE9TVVJFfHxlLkNPTE9SQ1VSVkVTfHxlLkNPTE9SR1JBRElOR3x8ZS5ESVRIRVJ9aXNSZWFkeSgpe3JldHVybiF0aGlzLmNvbG9yR3JhZGluZ0VuYWJsZWR8fCF0aGlzLmNvbG9yR3JhZGluZ1RleHR1cmV8fHRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZS5pc1JlYWR5KCl9YmluZChlLHQpe2lmKHRoaXMuX2NvbG9yQ3VydmVzRW5hYmxlZCYmdGhpcy5jb2xvckN1cnZlcyYmQWUuQmluZCh0aGlzLmNvbG9yQ3VydmVzLGUpLHRoaXMuX3ZpZ25ldHRlRW5hYmxlZHx8dGhpcy5fZGl0aGVyaW5nRW5hYmxlZCl7Y29uc3QgaT0xL2UuZ2V0RW5naW5lKCkuZ2V0UmVuZGVyV2lkdGgoKSxzPTEvZS5nZXRFbmdpbmUoKS5nZXRSZW5kZXJIZWlnaHQoKTtpZihlLnNldEZsb2F0MigidkludmVyc2VTY3JlZW5TaXplIixpLHMpLHRoaXMuX2RpdGhlcmluZ0VuYWJsZWQmJmUuc2V0RmxvYXQoImRpdGhlckludGVuc2l0eSIsLjUqdGhpcy5fZGl0aGVyaW5nSW50ZW5zaXR5KSx0aGlzLl92aWduZXR0ZUVuYWJsZWQpe2NvbnN0IHI9dD8/cy9pO2xldCBuPU1hdGgudGFuKHRoaXMudmlnbmV0dGVDYW1lcmFGb3YqLjUpLGE9bipyO2NvbnN0IG89TWF0aC5zcXJ0KGEqbik7YT1ILk1peChhLG8sdGhpcy52aWduZXR0ZVN0cmV0Y2gpLG49SC5NaXgobixvLHRoaXMudmlnbmV0dGVTdHJldGNoKSxlLnNldEZsb2F0NCgidmlnbmV0dGVTZXR0aW5nczEiLGEsbiwtYSp0aGlzLnZpZ25ldHRlQ2VudGVyWCwtbip0aGlzLnZpZ25ldHRlQ2VudGVyWSk7Y29uc3QgaD0tMip0aGlzLnZpZ25ldHRlV2VpZ2h0O2Uuc2V0RmxvYXQ0KCJ2aWduZXR0ZVNldHRpbmdzMiIsdGhpcy52aWduZXR0ZUNvbG9yLnIsdGhpcy52aWduZXR0ZUNvbG9yLmcsdGhpcy52aWduZXR0ZUNvbG9yLmIsaCl9fWlmKGUuc2V0RmxvYXQoImV4cG9zdXJlTGluZWFyIix0aGlzLmV4cG9zdXJlKSxlLnNldEZsb2F0KCJjb250cmFzdCIsdGhpcy5jb250cmFzdCksdGhpcy5jb2xvckdyYWRpbmdUZXh0dXJlKXtlLnNldFRleHR1cmUoInR4Q29sb3JUcmFuc2Zvcm0iLHRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZSk7Y29uc3QgaT10aGlzLmNvbG9yR3JhZGluZ1RleHR1cmUuZ2V0U2l6ZSgpLmhlaWdodDtlLnNldEZsb2F0NCgiY29sb3JUcmFuc2Zvcm1TZXR0aW5ncyIsKGktMSkvaSwuNS9pLGksdGhpcy5jb2xvckdyYWRpbmdUZXh0dXJlLmxldmVsKX19Y2xvbmUoKXtyZXR1cm4gYWUuQ2xvbmUoKCk9Pm5ldyBwZSx0aGlzKX1zZXJpYWxpemUoKXtyZXR1cm4gYWUuU2VyaWFsaXplKHRoaXMpfXN0YXRpYyBQYXJzZShlKXtjb25zdCB0PWFlLlBhcnNlKCgpPT5uZXcgcGUsZSxudWxsLG51bGwpO3JldHVybiBlLnZpZ25ldHRlQ2VudHJlWCE9PXZvaWQgMCYmKHQudmlnbmV0dGVDZW50ZXJYPWUudmlnbmV0dGVDZW50cmVYKSxlLnZpZ25ldHRlQ2VudHJlWSE9PXZvaWQgMCYmKHQudmlnbmV0dGVDZW50ZXJZPWUudmlnbmV0dGVDZW50cmVZKSx0fXN0YXRpYyBnZXQgVklHTkVUVEVNT0RFX01VTFRJUExZKCl7cmV0dXJuIHRoaXMuX1ZJR05FVFRFTU9ERV9NVUxUSVBMWX1zdGF0aWMgZ2V0IFZJR05FVFRFTU9ERV9PUEFRVUUoKXtyZXR1cm4gdGhpcy5fVklHTkVUVEVNT0RFX09QQVFVRX19cGUuVE9ORU1BUFBJTkdfU1RBTkRBUkQ9MCxwZS5UT05FTUFQUElOR19BQ0VTPTEscGUuX1ZJR05FVFRFTU9ERV9NVUxUSVBMWT0wLHBlLl9WSUdORVRURU1PREVfT1BBUVVFPTEsVChbQW4oKV0scGUucHJvdG90eXBlLCJjb2xvckN1cnZlcyIsdm9pZCAwKSxUKFtSKCldLHBlLnByb3RvdHlwZSwiX2NvbG9yQ3VydmVzRW5hYmxlZCIsdm9pZCAwKSxUKFttdCgiY29sb3JHcmFkaW5nVGV4dHVyZSIpXSxwZS5wcm90b3R5cGUsIl9jb2xvckdyYWRpbmdUZXh0dXJlIix2b2lkIDApLFQoW1IoKV0scGUucHJvdG90eXBlLCJfY29sb3JHcmFkaW5nRW5hYmxlZCIsdm9pZCAwKSxUKFtSKCldLHBlLnByb3RvdHlwZSwiX2NvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRoIix2b2lkIDApLFQoW1IoKV0scGUucHJvdG90eXBlLCJfY29sb3JHcmFkaW5nQkdSIix2b2lkIDApLFQoW1IoKV0scGUucHJvdG90eXBlLCJfZXhwb3N1cmUiLHZvaWQgMCksVChbUigpXSxwZS5wcm90b3R5cGUsIl90b25lTWFwcGluZ0VuYWJsZWQiLHZvaWQgMCksVChbUigpXSxwZS5wcm90b3R5cGUsIl90b25lTWFwcGluZ1R5cGUiLHZvaWQgMCksVChbUigpXSxwZS5wcm90b3R5cGUsIl9jb250cmFzdCIsdm9pZCAwKSxUKFtSKCldLHBlLnByb3RvdHlwZSwidmlnbmV0dGVTdHJldGNoIix2b2lkIDApLFQoW1IoKV0scGUucHJvdG90eXBlLCJ2aWduZXR0ZUNlbnRlclgiLHZvaWQgMCksVChbUigpXSxwZS5wcm90b3R5cGUsInZpZ25ldHRlQ2VudGVyWSIsdm9pZCAwKSxUKFtSKCldLHBlLnByb3RvdHlwZSwidmlnbmV0dGVXZWlnaHQiLHZvaWQgMCksVChbZHIoKV0scGUucHJvdG90eXBlLCJ2aWduZXR0ZUNvbG9yIix2b2lkIDApLFQoW1IoKV0scGUucHJvdG90eXBlLCJ2aWduZXR0ZUNhbWVyYUZvdiIsdm9pZCAwKSxUKFtSKCldLHBlLnByb3RvdHlwZSwiX3ZpZ25ldHRlQmxlbmRNb2RlIix2b2lkIDApLFQoW1IoKV0scGUucHJvdG90eXBlLCJfdmlnbmV0dGVFbmFibGVkIix2b2lkIDApLFQoW1IoKV0scGUucHJvdG90eXBlLCJfZGl0aGVyaW5nRW5hYmxlZCIsdm9pZCAwKSxUKFtSKCldLHBlLnByb3RvdHlwZSwiX2RpdGhlcmluZ0ludGVuc2l0eSIsdm9pZCAwKSxUKFtSKCldLHBlLnByb3RvdHlwZSwiX3NraXBGaW5hbENvbG9yQ2xhbXAiLHZvaWQgMCksVChbUigpXSxwZS5wcm90b3R5cGUsIl9hcHBseUJ5UG9zdFByb2Nlc3MiLHZvaWQgMCksVChbUigpXSxwZS5wcm90b3R5cGUsIl9pc0VuYWJsZWQiLHZvaWQgMCksYWUuX0ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb25QYXJzZXI9cGUuUGFyc2Usb2UucHJvdG90eXBlLmNyZWF0ZVVuaWZvcm1CdWZmZXI9ZnVuY3Rpb24oYyl7Y29uc3QgZT10aGlzLl9nbC5jcmVhdGVCdWZmZXIoKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgdW5pZm9ybSBidWZmZXIiKTtjb25zdCB0PW5ldyBEaShlKTtyZXR1cm4gdGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcih0KSxjIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5P3RoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsYyx0aGlzLl9nbC5TVEFUSUNfRFJBVyk6dGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUixuZXcgRmxvYXQzMkFycmF5KGMpLHRoaXMuX2dsLlNUQVRJQ19EUkFXKSx0aGlzLmJpbmRVbmlmb3JtQnVmZmVyKG51bGwpLHQucmVmZXJlbmNlcz0xLHR9LG9lLnByb3RvdHlwZS5jcmVhdGVEeW5hbWljVW5pZm9ybUJ1ZmZlcj1mdW5jdGlvbihjKXtjb25zdCBlPXRoaXMuX2dsLmNyZWF0ZUJ1ZmZlcigpO2lmKCFlKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBkeW5hbWljIHVuaWZvcm0gYnVmZmVyIik7Y29uc3QgdD1uZXcgRGkoZSk7cmV0dXJuIHRoaXMuYmluZFVuaWZvcm1CdWZmZXIodCksYyBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheT90aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLGMsdGhpcy5fZ2wuRFlOQU1JQ19EUkFXKTp0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLG5ldyBGbG9hdDMyQXJyYXkoYyksdGhpcy5fZ2wuRFlOQU1JQ19EUkFXKSx0aGlzLmJpbmRVbmlmb3JtQnVmZmVyKG51bGwpLHQucmVmZXJlbmNlcz0xLHR9LG9lLnByb3RvdHlwZS51cGRhdGVVbmlmb3JtQnVmZmVyPWZ1bmN0aW9uKGMsZSx0LGkpe3RoaXMuYmluZFVuaWZvcm1CdWZmZXIoYyksdD09PXZvaWQgMCYmKHQ9MCksaT09PXZvaWQgMD9lIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5P3RoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsdCxlKTp0aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLHQsbmV3IEZsb2F0MzJBcnJheShlKSk6ZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheT90aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLDAsZS5zdWJhcnJheSh0LHQraSkpOnRoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsMCxuZXcgRmxvYXQzMkFycmF5KGUpLnN1YmFycmF5KHQsdCtpKSksdGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcihudWxsKX0sb2UucHJvdG90eXBlLmJpbmRVbmlmb3JtQnVmZmVyPWZ1bmN0aW9uKGMpe3RoaXMuX2dsLmJpbmRCdWZmZXIodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsYz9jLnVuZGVybHlpbmdSZXNvdXJjZTpudWxsKX0sb2UucHJvdG90eXBlLmJpbmRVbmlmb3JtQnVmZmVyQmFzZT1mdW5jdGlvbihjLGUsdCl7dGhpcy5fZ2wuYmluZEJ1ZmZlckJhc2UodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsZSxjP2MudW5kZXJseWluZ1Jlc291cmNlOm51bGwpfSxvZS5wcm90b3R5cGUuYmluZFVuaWZvcm1CbG9jaz1mdW5jdGlvbihjLGUsdCl7Y29uc3QgaT1jLnByb2dyYW0scz10aGlzLl9nbC5nZXRVbmlmb3JtQmxvY2tJbmRleChpLGUpO3MhPT00Mjk0OTY3Mjk1JiZ0aGlzLl9nbC51bmlmb3JtQmxvY2tCaW5kaW5nKGkscyx0KX07Y2xhc3MgVntjb25zdHJ1Y3RvcihlLHQsaSxzLHI9ITEpe3RoaXMuX3ZhbHVlQ2FjaGU9e30sdGhpcy5fZW5naW5lPWUsdGhpcy5fbm9VQk89IWUuc3VwcG9ydHNVbmlmb3JtQnVmZmVyc3x8cix0aGlzLl9keW5hbWljPWksdGhpcy5fbmFtZT1zPz8ibm8tbmFtZSIsdGhpcy5fZGF0YT10fHxbXSx0aGlzLl91bmlmb3JtTG9jYXRpb25zPXt9LHRoaXMuX3VuaWZvcm1TaXplcz17fSx0aGlzLl91bmlmb3JtQXJyYXlTaXplcz17fSx0aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyPTAsdGhpcy5fbmVlZFN5bmM9ITEsdGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lJiYodGhpcy5fYnVmZmVycz1bXSx0aGlzLl9idWZmZXJJbmRleD0tMSx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlPSExLHRoaXMuX2N1cnJlbnRGcmFtZUlkPTApLHRoaXMuX25vVUJPPyh0aGlzLnVwZGF0ZU1hdHJpeDN4Mz10aGlzLl91cGRhdGVNYXRyaXgzeDNGb3JFZmZlY3QsdGhpcy51cGRhdGVNYXRyaXgyeDI9dGhpcy5fdXBkYXRlTWF0cml4MngyRm9yRWZmZWN0LHRoaXMudXBkYXRlRmxvYXQ9dGhpcy5fdXBkYXRlRmxvYXRGb3JFZmZlY3QsdGhpcy51cGRhdGVGbG9hdDI9dGhpcy5fdXBkYXRlRmxvYXQyRm9yRWZmZWN0LHRoaXMudXBkYXRlRmxvYXQzPXRoaXMuX3VwZGF0ZUZsb2F0M0ZvckVmZmVjdCx0aGlzLnVwZGF0ZUZsb2F0ND10aGlzLl91cGRhdGVGbG9hdDRGb3JFZmZlY3QsdGhpcy51cGRhdGVGbG9hdEFycmF5PXRoaXMuX3VwZGF0ZUZsb2F0QXJyYXlGb3JFZmZlY3QsdGhpcy51cGRhdGVBcnJheT10aGlzLl91cGRhdGVBcnJheUZvckVmZmVjdCx0aGlzLnVwZGF0ZUludEFycmF5PXRoaXMuX3VwZGF0ZUludEFycmF5Rm9yRWZmZWN0LHRoaXMudXBkYXRlVUludEFycmF5PXRoaXMuX3VwZGF0ZVVJbnRBcnJheUZvckVmZmVjdCx0aGlzLnVwZGF0ZU1hdHJpeD10aGlzLl91cGRhdGVNYXRyaXhGb3JFZmZlY3QsdGhpcy51cGRhdGVNYXRyaWNlcz10aGlzLl91cGRhdGVNYXRyaWNlc0ZvckVmZmVjdCx0aGlzLnVwZGF0ZVZlY3RvcjM9dGhpcy5fdXBkYXRlVmVjdG9yM0ZvckVmZmVjdCx0aGlzLnVwZGF0ZVZlY3RvcjQ9dGhpcy5fdXBkYXRlVmVjdG9yNEZvckVmZmVjdCx0aGlzLnVwZGF0ZUNvbG9yMz10aGlzLl91cGRhdGVDb2xvcjNGb3JFZmZlY3QsdGhpcy51cGRhdGVDb2xvcjQ9dGhpcy5fdXBkYXRlQ29sb3I0Rm9yRWZmZWN0LHRoaXMudXBkYXRlRGlyZWN0Q29sb3I0PXRoaXMuX3VwZGF0ZURpcmVjdENvbG9yNEZvckVmZmVjdCx0aGlzLnVwZGF0ZUludD10aGlzLl91cGRhdGVJbnRGb3JFZmZlY3QsdGhpcy51cGRhdGVJbnQyPXRoaXMuX3VwZGF0ZUludDJGb3JFZmZlY3QsdGhpcy51cGRhdGVJbnQzPXRoaXMuX3VwZGF0ZUludDNGb3JFZmZlY3QsdGhpcy51cGRhdGVJbnQ0PXRoaXMuX3VwZGF0ZUludDRGb3JFZmZlY3QsdGhpcy51cGRhdGVVSW50PXRoaXMuX3VwZGF0ZVVJbnRGb3JFZmZlY3QsdGhpcy51cGRhdGVVSW50Mj10aGlzLl91cGRhdGVVSW50MkZvckVmZmVjdCx0aGlzLnVwZGF0ZVVJbnQzPXRoaXMuX3VwZGF0ZVVJbnQzRm9yRWZmZWN0LHRoaXMudXBkYXRlVUludDQ9dGhpcy5fdXBkYXRlVUludDRGb3JFZmZlY3QpOih0aGlzLl9lbmdpbmUuX3VuaWZvcm1CdWZmZXJzLnB1c2godGhpcyksdGhpcy51cGRhdGVNYXRyaXgzeDM9dGhpcy5fdXBkYXRlTWF0cml4M3gzRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZU1hdHJpeDJ4Mj10aGlzLl91cGRhdGVNYXRyaXgyeDJGb3JVbmlmb3JtLHRoaXMudXBkYXRlRmxvYXQ9dGhpcy5fdXBkYXRlRmxvYXRGb3JVbmlmb3JtLHRoaXMudXBkYXRlRmxvYXQyPXRoaXMuX3VwZGF0ZUZsb2F0MkZvclVuaWZvcm0sdGhpcy51cGRhdGVGbG9hdDM9dGhpcy5fdXBkYXRlRmxvYXQzRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUZsb2F0ND10aGlzLl91cGRhdGVGbG9hdDRGb3JVbmlmb3JtLHRoaXMudXBkYXRlRmxvYXRBcnJheT10aGlzLl91cGRhdGVGbG9hdEFycmF5Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUFycmF5PXRoaXMuX3VwZGF0ZUFycmF5Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUludEFycmF5PXRoaXMuX3VwZGF0ZUludEFycmF5Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZVVJbnRBcnJheT10aGlzLl91cGRhdGVVSW50QXJyYXlGb3JVbmlmb3JtLHRoaXMudXBkYXRlTWF0cml4PXRoaXMuX3VwZGF0ZU1hdHJpeEZvclVuaWZvcm0sdGhpcy51cGRhdGVNYXRyaWNlcz10aGlzLl91cGRhdGVNYXRyaWNlc0ZvclVuaWZvcm0sdGhpcy51cGRhdGVWZWN0b3IzPXRoaXMuX3VwZGF0ZVZlY3RvcjNGb3JVbmlmb3JtLHRoaXMudXBkYXRlVmVjdG9yND10aGlzLl91cGRhdGVWZWN0b3I0Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUNvbG9yMz10aGlzLl91cGRhdGVDb2xvcjNGb3JVbmlmb3JtLHRoaXMudXBkYXRlQ29sb3I0PXRoaXMuX3VwZGF0ZUNvbG9yNEZvclVuaWZvcm0sdGhpcy51cGRhdGVEaXJlY3RDb2xvcjQ9dGhpcy5fdXBkYXRlRGlyZWN0Q29sb3I0Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUludD10aGlzLl91cGRhdGVJbnRGb3JVbmlmb3JtLHRoaXMudXBkYXRlSW50Mj10aGlzLl91cGRhdGVJbnQyRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUludDM9dGhpcy5fdXBkYXRlSW50M0ZvclVuaWZvcm0sdGhpcy51cGRhdGVJbnQ0PXRoaXMuX3VwZGF0ZUludDRGb3JVbmlmb3JtLHRoaXMudXBkYXRlVUludD10aGlzLl91cGRhdGVVSW50Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZVVJbnQyPXRoaXMuX3VwZGF0ZVVJbnQyRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZVVJbnQzPXRoaXMuX3VwZGF0ZVVJbnQzRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZVVJbnQ0PXRoaXMuX3VwZGF0ZVVJbnQ0Rm9yVW5pZm9ybSl9Z2V0IHVzZVVibygpe3JldHVybiF0aGlzLl9ub1VCT31nZXQgaXNTeW5jKCl7cmV0dXJuIXRoaXMuX25lZWRTeW5jfWlzRHluYW1pYygpe3JldHVybiB0aGlzLl9keW5hbWljIT09dm9pZCAwfWdldERhdGEoKXtyZXR1cm4gdGhpcy5fYnVmZmVyRGF0YX1nZXRCdWZmZXIoKXtyZXR1cm4gdGhpcy5fYnVmZmVyfV9maWxsQWxpZ25tZW50KGUpe2xldCB0O2lmKGU8PTI/dD1lOnQ9NCx0aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyJXQhPT0wKXtjb25zdCBpPXRoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXI7dGhpcy5fdW5pZm9ybUxvY2F0aW9uUG9pbnRlcis9dC10aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyJXQ7Y29uc3Qgcz10aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyLWk7Zm9yKGxldCByPTA7cjxzO3IrKyl0aGlzLl9kYXRhLnB1c2goMCl9fWFkZFVuaWZvcm0oZSx0LGk9MCl7aWYodGhpcy5fbm9VQk98fHRoaXMuX3VuaWZvcm1Mb2NhdGlvbnNbZV0hPT12b2lkIDApcmV0dXJuO2xldCBzO2lmKGk+MCl7aWYodCBpbnN0YW5jZW9mIEFycmF5KXRocm93ImFkZFVuaWZvcm0gc2hvdWxkIG5vdCBiZSB1c2Ugd2l0aCBBcnJheSBpbiBVQk86ICIrZTtpZih0aGlzLl9maWxsQWxpZ25tZW50KDQpLHRoaXMuX3VuaWZvcm1BcnJheVNpemVzW2VdPXtzdHJpZGVTaXplOnQsYXJyYXlTaXplOml9LHQ9PTE2KXQ9dCppO2Vsc2V7Y29uc3Qgbj0oNC10KSppO3Q9dCppK259cz1bXTtmb3IobGV0IHI9MDtyPHQ7cisrKXMucHVzaCgwKX1lbHNle2lmKHQgaW5zdGFuY2VvZiBBcnJheSlzPXQsdD1zLmxlbmd0aDtlbHNle3Q9dCxzPVtdO2ZvcihsZXQgcj0wO3I8dDtyKyspcy5wdXNoKDApfXRoaXMuX2ZpbGxBbGlnbm1lbnQodCl9dGhpcy5fdW5pZm9ybVNpemVzW2VdPXQsdGhpcy5fdW5pZm9ybUxvY2F0aW9uc1tlXT10aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyLHRoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXIrPXQ7Zm9yKGxldCByPTA7cjx0O3IrKyl0aGlzLl9kYXRhLnB1c2goc1tyXSk7dGhpcy5fbmVlZFN5bmM9ITB9YWRkTWF0cml4KGUsdCl7dGhpcy5hZGRVbmlmb3JtKGUsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodC50b0FycmF5KCkpKX1hZGRGbG9hdDIoZSx0LGkpe2NvbnN0IHM9W3QsaV07dGhpcy5hZGRVbmlmb3JtKGUscyl9YWRkRmxvYXQzKGUsdCxpLHMpe2NvbnN0IHI9W3QsaSxzXTt0aGlzLmFkZFVuaWZvcm0oZSxyKX1hZGRDb2xvcjMoZSx0KXtjb25zdCBpPVt0LnIsdC5nLHQuYl07dGhpcy5hZGRVbmlmb3JtKGUsaSl9YWRkQ29sb3I0KGUsdCxpKXtjb25zdCBzPVt0LnIsdC5nLHQuYixpXTt0aGlzLmFkZFVuaWZvcm0oZSxzKX1hZGRWZWN0b3IzKGUsdCl7Y29uc3QgaT1bdC54LHQueSx0LnpdO3RoaXMuYWRkVW5pZm9ybShlLGkpfWFkZE1hdHJpeDN4MyhlKXt0aGlzLmFkZFVuaWZvcm0oZSwxMil9YWRkTWF0cml4MngyKGUpe3RoaXMuYWRkVW5pZm9ybShlLDgpfWNyZWF0ZSgpe3RoaXMuX25vVUJPfHx0aGlzLl9idWZmZXJ8fCh0aGlzLl9maWxsQWxpZ25tZW50KDQpLHRoaXMuX2J1ZmZlckRhdGE9bmV3IEZsb2F0MzJBcnJheSh0aGlzLl9kYXRhKSx0aGlzLl9yZWJ1aWxkKCksdGhpcy5fbmVlZFN5bmM9ITApfV9yZWJ1aWxkKCl7dGhpcy5fbm9VQk98fCF0aGlzLl9idWZmZXJEYXRhfHwodGhpcy5fZHluYW1pYz90aGlzLl9idWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZUR5bmFtaWNVbmlmb3JtQnVmZmVyKHRoaXMuX2J1ZmZlckRhdGEpOnRoaXMuX2J1ZmZlcj10aGlzLl9lbmdpbmUuY3JlYXRlVW5pZm9ybUJ1ZmZlcih0aGlzLl9idWZmZXJEYXRhKSx0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnRyYWNrVWJvc0luRnJhbWUmJih0aGlzLl9idWZmZXJzLnB1c2goW3RoaXMuX2J1ZmZlcix0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLmNoZWNrVWJvc0NvbnRlbnRCZWZvcmVVcGxvYWQ/dGhpcy5fYnVmZmVyRGF0YS5zbGljZSgpOnZvaWQgMF0pLHRoaXMuX2J1ZmZlckluZGV4PXRoaXMuX2J1ZmZlcnMubGVuZ3RoLTEsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT0hMSkpfWdldCBfbnVtQnVmZmVycygpe3JldHVybiB0aGlzLl9idWZmZXJzLmxlbmd0aH1nZXQgX2luZGV4QnVmZmVyKCl7cmV0dXJuIHRoaXMuX2J1ZmZlckluZGV4fWdldCBuYW1lKCl7cmV0dXJuIHRoaXMuX25hbWV9X2J1ZmZlcnNFcXVhbChlLHQpe2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7KytpKWlmKGVbaV0hPT10W2ldKXJldHVybiExO3JldHVybiEwfV9jb3B5QnVmZmVyKGUsdCl7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDsrK2kpdFtpXT1lW2ldfXVwZGF0ZSgpe2lmKCF0aGlzLl9ub1VCTyl7aWYodGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcigpLCF0aGlzLl9idWZmZXIpe3RoaXMuY3JlYXRlKCk7cmV0dXJufWlmKCF0aGlzLl9keW5hbWljJiYhdGhpcy5fbmVlZFN5bmMpe3RoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGU9dGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lO3JldHVybn1pZih0aGlzLl9idWZmZXJzJiZ0aGlzLl9idWZmZXJzLmxlbmd0aD4xJiZ0aGlzLl9idWZmZXJzW3RoaXMuX2J1ZmZlckluZGV4XVsxXSlpZih0aGlzLl9idWZmZXJzRXF1YWwodGhpcy5fYnVmZmVyRGF0YSx0aGlzLl9idWZmZXJzW3RoaXMuX2J1ZmZlckluZGV4XVsxXSkpe3RoaXMuX25lZWRTeW5jPSExLHRoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGU9dGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lO3JldHVybn1lbHNlIHRoaXMuX2NvcHlCdWZmZXIodGhpcy5fYnVmZmVyRGF0YSx0aGlzLl9idWZmZXJzW3RoaXMuX2J1ZmZlckluZGV4XVsxXSk7dGhpcy5fZW5naW5lLnVwZGF0ZVVuaWZvcm1CdWZmZXIodGhpcy5fYnVmZmVyLHRoaXMuX2J1ZmZlckRhdGEpLHRoaXMuX2VuZ2luZS5fZmVhdHVyZXMuX2NvbGxlY3RVYm9zVXBkYXRlZEluRnJhbWUmJihWLl9VcGRhdGVkVWJvc0luRnJhbWVbdGhpcy5fbmFtZV18fChWLl9VcGRhdGVkVWJvc0luRnJhbWVbdGhpcy5fbmFtZV09MCksVi5fVXBkYXRlZFVib3NJbkZyYW1lW3RoaXMuX25hbWVdKyspLHRoaXMuX25lZWRTeW5jPSExLHRoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGU9dGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lfX1fY3JlYXRlTmV3QnVmZmVyKCl7dGhpcy5fYnVmZmVySW5kZXgrMTx0aGlzLl9idWZmZXJzLmxlbmd0aD8odGhpcy5fYnVmZmVySW5kZXgrKyx0aGlzLl9idWZmZXI9dGhpcy5fYnVmZmVyc1t0aGlzLl9idWZmZXJJbmRleF1bMF0sdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT0hMSx0aGlzLl9uZWVkU3luYz0hMCk6dGhpcy5fcmVidWlsZCgpfV9jaGVja05ld0ZyYW1lKCl7dGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lJiZ0aGlzLl9jdXJyZW50RnJhbWVJZCE9PXRoaXMuX2VuZ2luZS5mcmFtZUlkJiYodGhpcy5fY3VycmVudEZyYW1lSWQ9dGhpcy5fZW5naW5lLmZyYW1lSWQsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT0hMSx0aGlzLl9idWZmZXJzJiZ0aGlzLl9idWZmZXJzLmxlbmd0aD4wPyh0aGlzLl9uZWVkU3luYz10aGlzLl9idWZmZXJJbmRleCE9PTAsdGhpcy5fYnVmZmVySW5kZXg9MCx0aGlzLl9idWZmZXI9dGhpcy5fYnVmZmVyc1t0aGlzLl9idWZmZXJJbmRleF1bMF0pOnRoaXMuX2J1ZmZlckluZGV4PS0xKX11cGRhdGVVbmlmb3JtKGUsdCxpKXt0aGlzLl9jaGVja05ld0ZyYW1lKCk7bGV0IHM9dGhpcy5fdW5pZm9ybUxvY2F0aW9uc1tlXTtpZihzPT09dm9pZCAwKXtpZih0aGlzLl9idWZmZXIpe08uRXJyb3IoIkNhbm5vdCBhZGQgYW4gdW5pZm9ybSBhZnRlciBVQk8gaGFzIGJlZW4gY3JlYXRlZC4iKTtyZXR1cm59dGhpcy5hZGRVbmlmb3JtKGUsaSkscz10aGlzLl91bmlmb3JtTG9jYXRpb25zW2VdfWlmKHRoaXMuX2J1ZmZlcnx8dGhpcy5jcmVhdGUoKSx0aGlzLl9keW5hbWljKWZvcihsZXQgcj0wO3I8aTtyKyspdGhpcy5fYnVmZmVyRGF0YVtzK3JdPXRbcl07ZWxzZXtsZXQgcj0hMTtmb3IobGV0IG49MDtuPGk7bisrKShpPT09MTYmJiF0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnVuaWZvcm1CdWZmZXJIYXJkQ2hlY2tNYXRyaXh8fHRoaXMuX2J1ZmZlckRhdGFbcytuXSE9PUguRmxvYXRSb3VuZCh0W25dKSkmJihyPSEwLHRoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGUmJnRoaXMuX2NyZWF0ZU5ld0J1ZmZlcigpLHRoaXMuX2J1ZmZlckRhdGFbcytuXT10W25dKTt0aGlzLl9uZWVkU3luYz10aGlzLl9uZWVkU3luY3x8cn19dXBkYXRlVW5pZm9ybUFycmF5KGUsdCxpKXt0aGlzLl9jaGVja05ld0ZyYW1lKCk7Y29uc3Qgcz10aGlzLl91bmlmb3JtTG9jYXRpb25zW2VdO2lmKHM9PT12b2lkIDApe08uRXJyb3IoIkNhbm5vdCBhZGQgYW4gdW5pZm9ybSBBcnJheSBkeW5hbWljYWxseS4gUGxlYXNlLCBhZGQgaXQgdXNpbmcgYWRkVW5pZm9ybSBhbmQgbWFrZSBzdXJlIHRoYXQgdW5pZm9ybSBidWZmZXJzIGFyZSBzdXBwb3J0ZWQgYnkgdGhlIGN1cnJlbnQgZW5naW5lLiIpO3JldHVybn10aGlzLl9idWZmZXJ8fHRoaXMuY3JlYXRlKCk7Y29uc3Qgcj10aGlzLl91bmlmb3JtQXJyYXlTaXplc1tlXTtpZih0aGlzLl9keW5hbWljKWZvcihsZXQgbj0wO248aTtuKyspdGhpcy5fYnVmZmVyRGF0YVtzK25dPXRbbl07ZWxzZXtsZXQgbj0hMSxhPTAsbz0wO2ZvcihsZXQgaD0wO2g8aTtoKyspaWYodGhpcy5fYnVmZmVyRGF0YVtzK28qNCthXSE9PUguRmxvYXRSb3VuZCh0W2hdKSYmKG49ITAsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZSYmdGhpcy5fY3JlYXRlTmV3QnVmZmVyKCksdGhpcy5fYnVmZmVyRGF0YVtzK28qNCthXT10W2hdKSxhKyssYT09PXIuc3RyaWRlU2l6ZSl7Zm9yKDthPDQ7YSsrKXRoaXMuX2J1ZmZlckRhdGFbcytvKjQrYV09MDthPTAsbysrfXRoaXMuX25lZWRTeW5jPXRoaXMuX25lZWRTeW5jfHxufX1fY2FjaGVNYXRyaXgoZSx0KXt0aGlzLl9jaGVja05ld0ZyYW1lKCk7Y29uc3QgaT10aGlzLl92YWx1ZUNhY2hlW2VdLHM9dC51cGRhdGVGbGFnO3JldHVybiBpIT09dm9pZCAwJiZpPT09cz8hMToodGhpcy5fdmFsdWVDYWNoZVtlXT1zLCEwKX1fdXBkYXRlTWF0cml4M3gzRm9yVW5pZm9ybShlLHQpe2ZvcihsZXQgaT0wO2k8MztpKyspVi5fVGVtcEJ1ZmZlcltpKjRdPXRbaSozXSxWLl9UZW1wQnVmZmVyW2kqNCsxXT10W2kqMysxXSxWLl9UZW1wQnVmZmVyW2kqNCsyXT10W2kqMysyXSxWLl9UZW1wQnVmZmVyW2kqNCszXT0wO3RoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsMTIpfV91cGRhdGVNYXRyaXgzeDNGb3JFZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldE1hdHJpeDN4MyhlLHQpfV91cGRhdGVNYXRyaXgyeDJGb3JFZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldE1hdHJpeDJ4MihlLHQpfV91cGRhdGVNYXRyaXgyeDJGb3JVbmlmb3JtKGUsdCl7Zm9yKGxldCBpPTA7aTwyO2krKylWLl9UZW1wQnVmZmVyW2kqNF09dFtpKjJdLFYuX1RlbXBCdWZmZXJbaSo0KzFdPXRbaSoyKzFdLFYuX1RlbXBCdWZmZXJbaSo0KzJdPTAsVi5fVGVtcEJ1ZmZlcltpKjQrM109MDt0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDgpfV91cGRhdGVGbG9hdEZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0RmxvYXQoZSx0KX1fdXBkYXRlRmxvYXRGb3JVbmlmb3JtKGUsdCl7Vi5fVGVtcEJ1ZmZlclswXT10LHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsMSl9X3VwZGF0ZUZsb2F0MkZvckVmZmVjdChlLHQsaSxzPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEZsb2F0MihlK3MsdCxpKX1fdXBkYXRlRmxvYXQyRm9yVW5pZm9ybShlLHQsaSl7Vi5fVGVtcEJ1ZmZlclswXT10LFYuX1RlbXBCdWZmZXJbMV09aSx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDIpfV91cGRhdGVGbG9hdDNGb3JFZmZlY3QoZSx0LGkscyxyPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEZsb2F0MyhlK3IsdCxpLHMpfV91cGRhdGVGbG9hdDNGb3JVbmlmb3JtKGUsdCxpLHMpe1YuX1RlbXBCdWZmZXJbMF09dCxWLl9UZW1wQnVmZmVyWzFdPWksVi5fVGVtcEJ1ZmZlclsyXT1zLHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsMyl9X3VwZGF0ZUZsb2F0NEZvckVmZmVjdChlLHQsaSxzLHIsbj0iIil7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRGbG9hdDQoZStuLHQsaSxzLHIpfV91cGRhdGVGbG9hdDRGb3JVbmlmb3JtKGUsdCxpLHMscil7Vi5fVGVtcEJ1ZmZlclswXT10LFYuX1RlbXBCdWZmZXJbMV09aSxWLl9UZW1wQnVmZmVyWzJdPXMsVi5fVGVtcEJ1ZmZlclszXT1yLHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsNCl9X3VwZGF0ZUZsb2F0QXJyYXlGb3JFZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEZsb2F0QXJyYXkoZSx0KX1fdXBkYXRlRmxvYXRBcnJheUZvclVuaWZvcm0oZSx0KXt0aGlzLnVwZGF0ZVVuaWZvcm1BcnJheShlLHQsdC5sZW5ndGgpfV91cGRhdGVBcnJheUZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0QXJyYXkoZSx0KX1fdXBkYXRlQXJyYXlGb3JVbmlmb3JtKGUsdCl7dGhpcy51cGRhdGVVbmlmb3JtQXJyYXkoZSx0LHQubGVuZ3RoKX1fdXBkYXRlSW50QXJyYXlGb3JFZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEludEFycmF5KGUsdCl9X3VwZGF0ZUludEFycmF5Rm9yVW5pZm9ybShlLHQpe1YuX1RlbXBCdWZmZXJJbnQzMlZpZXcuc2V0KHQpLHRoaXMudXBkYXRlVW5pZm9ybUFycmF5KGUsVi5fVGVtcEJ1ZmZlcix0Lmxlbmd0aCl9X3VwZGF0ZVVJbnRBcnJheUZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0VUludEFycmF5KGUsdCl9X3VwZGF0ZVVJbnRBcnJheUZvclVuaWZvcm0oZSx0KXtWLl9UZW1wQnVmZmVyVUludDMyVmlldy5zZXQodCksdGhpcy51cGRhdGVVbmlmb3JtQXJyYXkoZSxWLl9UZW1wQnVmZmVyLHQubGVuZ3RoKX1fdXBkYXRlTWF0cml4Rm9yRWZmZWN0KGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRNYXRyaXgoZSx0KX1fdXBkYXRlTWF0cml4Rm9yVW5pZm9ybShlLHQpe3RoaXMuX2NhY2hlTWF0cml4KGUsdCkmJnRoaXMudXBkYXRlVW5pZm9ybShlLHQudG9BcnJheSgpLDE2KX1fdXBkYXRlTWF0cmljZXNGb3JFZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldE1hdHJpY2VzKGUsdCl9X3VwZGF0ZU1hdHJpY2VzRm9yVW5pZm9ybShlLHQpe3RoaXMudXBkYXRlVW5pZm9ybShlLHQsdC5sZW5ndGgpfV91cGRhdGVWZWN0b3IzRm9yRWZmZWN0KGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRWZWN0b3IzKGUsdCl9X3VwZGF0ZVZlY3RvcjNGb3JVbmlmb3JtKGUsdCl7Vi5fVGVtcEJ1ZmZlclswXT10LngsVi5fVGVtcEJ1ZmZlclsxXT10LnksVi5fVGVtcEJ1ZmZlclsyXT10LnosdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciwzKX1fdXBkYXRlVmVjdG9yNEZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0VmVjdG9yNChlLHQpfV91cGRhdGVWZWN0b3I0Rm9yVW5pZm9ybShlLHQpe1YuX1RlbXBCdWZmZXJbMF09dC54LFYuX1RlbXBCdWZmZXJbMV09dC55LFYuX1RlbXBCdWZmZXJbMl09dC56LFYuX1RlbXBCdWZmZXJbM109dC53LHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsNCl9X3VwZGF0ZUNvbG9yM0ZvckVmZmVjdChlLHQsaT0iIil7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRDb2xvcjMoZStpLHQpfV91cGRhdGVDb2xvcjNGb3JVbmlmb3JtKGUsdCl7Vi5fVGVtcEJ1ZmZlclswXT10LnIsVi5fVGVtcEJ1ZmZlclsxXT10LmcsVi5fVGVtcEJ1ZmZlclsyXT10LmIsdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciwzKX1fdXBkYXRlQ29sb3I0Rm9yRWZmZWN0KGUsdCxpLHM9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0Q29sb3I0KGUrcyx0LGkpfV91cGRhdGVEaXJlY3RDb2xvcjRGb3JFZmZlY3QoZSx0LGk9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0RGlyZWN0Q29sb3I0KGUraSx0KX1fdXBkYXRlQ29sb3I0Rm9yVW5pZm9ybShlLHQsaSl7Vi5fVGVtcEJ1ZmZlclswXT10LnIsVi5fVGVtcEJ1ZmZlclsxXT10LmcsVi5fVGVtcEJ1ZmZlclsyXT10LmIsVi5fVGVtcEJ1ZmZlclszXT1pLHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsNCl9X3VwZGF0ZURpcmVjdENvbG9yNEZvclVuaWZvcm0oZSx0KXtWLl9UZW1wQnVmZmVyWzBdPXQucixWLl9UZW1wQnVmZmVyWzFdPXQuZyxWLl9UZW1wQnVmZmVyWzJdPXQuYixWLl9UZW1wQnVmZmVyWzNdPXQuYSx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDQpfV91cGRhdGVJbnRGb3JFZmZlY3QoZSx0LGk9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50KGUraSx0KX1fdXBkYXRlSW50Rm9yVW5pZm9ybShlLHQpe1YuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMF09dCx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDEpfV91cGRhdGVJbnQyRm9yRWZmZWN0KGUsdCxpLHM9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50MihlK3MsdCxpKX1fdXBkYXRlSW50MkZvclVuaWZvcm0oZSx0LGkpe1YuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMF09dCxWLl9UZW1wQnVmZmVySW50MzJWaWV3WzFdPWksdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciwyKX1fdXBkYXRlSW50M0ZvckVmZmVjdChlLHQsaSxzLHI9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50MyhlK3IsdCxpLHMpfV91cGRhdGVJbnQzRm9yVW5pZm9ybShlLHQsaSxzKXtWLl9UZW1wQnVmZmVySW50MzJWaWV3WzBdPXQsVi5fVGVtcEJ1ZmZlckludDMyVmlld1sxXT1pLFYuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMl09cyx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDMpfV91cGRhdGVJbnQ0Rm9yRWZmZWN0KGUsdCxpLHMscixuPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEludDQoZStuLHQsaSxzLHIpfV91cGRhdGVJbnQ0Rm9yVW5pZm9ybShlLHQsaSxzLHIpe1YuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMF09dCxWLl9UZW1wQnVmZmVySW50MzJWaWV3WzFdPWksVi5fVGVtcEJ1ZmZlckludDMyVmlld1syXT1zLFYuX1RlbXBCdWZmZXJJbnQzMlZpZXdbM109cix0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDQpfV91cGRhdGVVSW50Rm9yRWZmZWN0KGUsdCxpPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldFVJbnQoZStpLHQpfV91cGRhdGVVSW50Rm9yVW5pZm9ybShlLHQpe1YuX1RlbXBCdWZmZXJVSW50MzJWaWV3WzBdPXQsdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciwxKX1fdXBkYXRlVUludDJGb3JFZmZlY3QoZSx0LGkscz0iIil7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRVSW50MihlK3MsdCxpKX1fdXBkYXRlVUludDJGb3JVbmlmb3JtKGUsdCxpKXtWLl9UZW1wQnVmZmVyVUludDMyVmlld1swXT10LFYuX1RlbXBCdWZmZXJVSW50MzJWaWV3WzFdPWksdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciwyKX1fdXBkYXRlVUludDNGb3JFZmZlY3QoZSx0LGkscyxyPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldFVJbnQzKGUrcix0LGkscyl9X3VwZGF0ZVVJbnQzRm9yVW5pZm9ybShlLHQsaSxzKXtWLl9UZW1wQnVmZmVyVUludDMyVmlld1swXT10LFYuX1RlbXBCdWZmZXJVSW50MzJWaWV3WzFdPWksVi5fVGVtcEJ1ZmZlclVJbnQzMlZpZXdbMl09cyx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDMpfV91cGRhdGVVSW50NEZvckVmZmVjdChlLHQsaSxzLHIsbj0iIil7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRVSW50NChlK24sdCxpLHMscil9X3VwZGF0ZVVJbnQ0Rm9yVW5pZm9ybShlLHQsaSxzLHIpe1YuX1RlbXBCdWZmZXJVSW50MzJWaWV3WzBdPXQsVi5fVGVtcEJ1ZmZlclVJbnQzMlZpZXdbMV09aSxWLl9UZW1wQnVmZmVyVUludDMyVmlld1syXT1zLFYuX1RlbXBCdWZmZXJVSW50MzJWaWV3WzNdPXIsdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciw0KX1zZXRUZXh0dXJlKGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRUZXh0dXJlKGUsdCl9dXBkYXRlVW5pZm9ybURpcmVjdGx5KGUsdCl7dGhpcy51cGRhdGVVbmlmb3JtKGUsdCx0Lmxlbmd0aCksdGhpcy51cGRhdGUoKX1iaW5kVG9FZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0PWUsdGhpcy5fY3VycmVudEVmZmVjdE5hbWU9dH1iaW5kVW5pZm9ybUJ1ZmZlcigpeyF0aGlzLl9ub1VCTyYmdGhpcy5fYnVmZmVyJiZ0aGlzLl9jdXJyZW50RWZmZWN0JiZ0aGlzLl9jdXJyZW50RWZmZWN0LmJpbmRVbmlmb3JtQnVmZmVyKHRoaXMuX2J1ZmZlcix0aGlzLl9jdXJyZW50RWZmZWN0TmFtZSl9dW5iaW5kRWZmZWN0KCl7dGhpcy5fY3VycmVudEVmZmVjdD12b2lkIDAsdGhpcy5fY3VycmVudEVmZmVjdE5hbWU9dm9pZCAwfXNldERhdGFCdWZmZXIoZSl7aWYoIXRoaXMuX2J1ZmZlcnMpcmV0dXJuIHRoaXMuX2J1ZmZlcj09PWU7Zm9yKGxldCB0PTA7dDx0aGlzLl9idWZmZXJzLmxlbmd0aDsrK3QpaWYodGhpcy5fYnVmZmVyc1t0XVswXT09PWUpcmV0dXJuIHRoaXMuX2J1ZmZlckluZGV4PXQsdGhpcy5fYnVmZmVyPWUsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT0hMSx0aGlzLl9jdXJyZW50RWZmZWN0PXZvaWQgMCwhMDtyZXR1cm4hMX1kaXNwb3NlKCl7aWYodGhpcy5fbm9VQk8pcmV0dXJuO2NvbnN0IGU9dGhpcy5fZW5naW5lLl91bmlmb3JtQnVmZmVycyx0PWUuaW5kZXhPZih0aGlzKTtpZih0IT09LTEmJihlW3RdPWVbZS5sZW5ndGgtMV0sZS5wb3AoKSksdGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lJiZ0aGlzLl9idWZmZXJzKWZvcihsZXQgaT0wO2k8dGhpcy5fYnVmZmVycy5sZW5ndGg7KytpKXtjb25zdCBzPXRoaXMuX2J1ZmZlcnNbaV1bMF07dGhpcy5fZW5naW5lLl9yZWxlYXNlQnVmZmVyKHMpfWVsc2UgdGhpcy5fYnVmZmVyJiZ0aGlzLl9lbmdpbmUuX3JlbGVhc2VCdWZmZXIodGhpcy5fYnVmZmVyKSYmKHRoaXMuX2J1ZmZlcj1udWxsKX19Vi5fVXBkYXRlZFVib3NJbkZyYW1lPXt9LFYuX01BWF9VTklGT1JNX1NJWkU9MjU2LFYuX1RlbXBCdWZmZXI9bmV3IEZsb2F0MzJBcnJheShWLl9NQVhfVU5JRk9STV9TSVpFKSxWLl9UZW1wQnVmZmVySW50MzJWaWV3PW5ldyBJbnQzMkFycmF5KFYuX1RlbXBCdWZmZXIuYnVmZmVyKSxWLl9UZW1wQnVmZmVyVUludDMyVmlldz1uZXcgVWludDMyQXJyYXkoVi5fVGVtcEJ1ZmZlci5idWZmZXIpO2NsYXNzICRpe2NvbnN0cnVjdG9yKGUsdCxpLHM9MCxyPSExLG49ITEsYT0hMSxvKXt0aGlzLl9pc0FscmVhZHlPd25lZD0hMSxlLmdldFNjZW5lP3RoaXMuX2VuZ2luZT1lLmdldFNjZW5lKCkuZ2V0RW5naW5lKCk6dGhpcy5fZW5naW5lPWUsdGhpcy5fdXBkYXRhYmxlPWksdGhpcy5faW5zdGFuY2VkPW4sdGhpcy5fZGl2aXNvcj1vfHwxLHQgaW5zdGFuY2VvZiBQaT8odGhpcy5fZGF0YT1udWxsLHRoaXMuX2J1ZmZlcj10KToodGhpcy5fZGF0YT10LHRoaXMuX2J1ZmZlcj1udWxsKSx0aGlzLmJ5dGVTdHJpZGU9YT9zOnMqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULHJ8fHRoaXMuY3JlYXRlKCl9Y3JlYXRlVmVydGV4QnVmZmVyKGUsdCxpLHMscixuPSExLGEpe2NvbnN0IG89bj90OnQqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULGg9cz9uP3M6cypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQ6dGhpcy5ieXRlU3RyaWRlO3JldHVybiBuZXcgZyh0aGlzLl9lbmdpbmUsdGhpcyxlLHRoaXMuX3VwZGF0YWJsZSwhMCxoLHI9PT12b2lkIDA/dGhpcy5faW5zdGFuY2VkOnIsbyxpLHZvaWQgMCx2b2lkIDAsITAsdGhpcy5fZGl2aXNvcnx8YSl9aXNVcGRhdGFibGUoKXtyZXR1cm4gdGhpcy5fdXBkYXRhYmxlfWdldERhdGEoKXtyZXR1cm4gdGhpcy5fZGF0YX1nZXRCdWZmZXIoKXtyZXR1cm4gdGhpcy5fYnVmZmVyfWdldFN0cmlkZVNpemUoKXtyZXR1cm4gdGhpcy5ieXRlU3RyaWRlL0Zsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVH1jcmVhdGUoZT1udWxsKXshZSYmdGhpcy5fYnVmZmVyfHwoZT1lfHx0aGlzLl9kYXRhLGUmJih0aGlzLl9idWZmZXI/dGhpcy5fdXBkYXRhYmxlJiYodGhpcy5fZW5naW5lLnVwZGF0ZUR5bmFtaWNWZXJ0ZXhCdWZmZXIodGhpcy5fYnVmZmVyLGUpLHRoaXMuX2RhdGE9ZSk6dGhpcy5fdXBkYXRhYmxlPyh0aGlzLl9idWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZUR5bmFtaWNWZXJ0ZXhCdWZmZXIoZSksdGhpcy5fZGF0YT1lKTp0aGlzLl9idWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZVZlcnRleEJ1ZmZlcihlKSkpfV9yZWJ1aWxkKCl7dGhpcy5fYnVmZmVyPW51bGwsdGhpcy5jcmVhdGUodGhpcy5fZGF0YSl9dXBkYXRlKGUpe3RoaXMuY3JlYXRlKGUpfXVwZGF0ZURpcmVjdGx5KGUsdCxpLHM9ITEpe3RoaXMuX2J1ZmZlciYmdGhpcy5fdXBkYXRhYmxlJiYodGhpcy5fZW5naW5lLnVwZGF0ZUR5bmFtaWNWZXJ0ZXhCdWZmZXIodGhpcy5fYnVmZmVyLGUscz90OnQqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULGk/aSp0aGlzLmJ5dGVTdHJpZGU6dm9pZCAwKSx0PT09MCYmaT09PXZvaWQgMD90aGlzLl9kYXRhPWU6dGhpcy5fZGF0YT1udWxsKX1faW5jcmVhc2VSZWZlcmVuY2VzKCl7aWYodGhpcy5fYnVmZmVyKXtpZighdGhpcy5faXNBbHJlYWR5T3duZWQpe3RoaXMuX2lzQWxyZWFkeU93bmVkPSEwO3JldHVybn10aGlzLl9idWZmZXIucmVmZXJlbmNlcysrfX1kaXNwb3NlKCl7dGhpcy5fYnVmZmVyJiZ0aGlzLl9lbmdpbmUuX3JlbGVhc2VCdWZmZXIodGhpcy5fYnVmZmVyKSYmKHRoaXMuX2J1ZmZlcj1udWxsLHRoaXMuX2RhdGE9bnVsbCl9fWNsYXNzIGd7Y29uc3RydWN0b3IoZSx0LGkscyxyLG4sYSxvLGgsbCx1PSExLGQ9ITEsZj0xLF89ITEpe2lmKHQgaW5zdGFuY2VvZiAkaT8odGhpcy5fYnVmZmVyPXQsdGhpcy5fb3duc0J1ZmZlcj1fKToodGhpcy5fYnVmZmVyPW5ldyAkaShlLHQscyxuLHIsYSxkKSx0aGlzLl9vd25zQnVmZmVyPSEwKSx0aGlzLnVuaXF1ZUlkPWcuX0NvdW50ZXIrKyx0aGlzLl9raW5kPWksbD09bnVsbCl7Y29uc3QgbT10aGlzLmdldERhdGEoKTt0aGlzLnR5cGU9Zy5GTE9BVCxtIGluc3RhbmNlb2YgSW50OEFycmF5P3RoaXMudHlwZT1nLkJZVEU6bSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/dGhpcy50eXBlPWcuVU5TSUdORURfQllURTptIGluc3RhbmNlb2YgSW50MTZBcnJheT90aGlzLnR5cGU9Zy5TSE9SVDptIGluc3RhbmNlb2YgVWludDE2QXJyYXk/dGhpcy50eXBlPWcuVU5TSUdORURfU0hPUlQ6bSBpbnN0YW5jZW9mIEludDMyQXJyYXk/dGhpcy50eXBlPWcuSU5UOm0gaW5zdGFuY2VvZiBVaW50MzJBcnJheSYmKHRoaXMudHlwZT1nLlVOU0lHTkVEX0lOVCl9ZWxzZSB0aGlzLnR5cGU9bDtjb25zdCBFPWcuR2V0VHlwZUJ5dGVMZW5ndGgodGhpcy50eXBlKTtkPyh0aGlzLl9zaXplPWh8fChuP24vRTpnLkRlZHVjZVN0cmlkZShpKSksdGhpcy5ieXRlU3RyaWRlPW58fHRoaXMuX2J1ZmZlci5ieXRlU3RyaWRlfHx0aGlzLl9zaXplKkUsdGhpcy5ieXRlT2Zmc2V0PW98fDApOih0aGlzLl9zaXplPWh8fG58fGcuRGVkdWNlU3RyaWRlKGkpLHRoaXMuYnl0ZVN0cmlkZT1uP24qRTp0aGlzLl9idWZmZXIuYnl0ZVN0cmlkZXx8dGhpcy5fc2l6ZSpFLHRoaXMuYnl0ZU9mZnNldD0ob3x8MCkqRSksdGhpcy5ub3JtYWxpemVkPXUsdGhpcy5faW5zdGFuY2VkPWEhPT12b2lkIDA/YTohMSx0aGlzLl9pbnN0YW5jZURpdmlzb3I9YT9mOjAsdGhpcy5fY29tcHV0ZUhhc2hDb2RlKCl9Z2V0IGluc3RhbmNlRGl2aXNvcigpe3JldHVybiB0aGlzLl9pbnN0YW5jZURpdmlzb3J9c2V0IGluc3RhbmNlRGl2aXNvcihlKXtjb25zdCB0PWUhPTA7dGhpcy5faW5zdGFuY2VEaXZpc29yPWUsdCE9PXRoaXMuX2luc3RhbmNlZCYmKHRoaXMuX2luc3RhbmNlZD10LHRoaXMuX2NvbXB1dGVIYXNoQ29kZSgpKX1fY29tcHV0ZUhhc2hDb2RlKCl7dGhpcy5oYXNoQ29kZT0odGhpcy50eXBlLTUxMjA8PDApKygodGhpcy5ub3JtYWxpemVkPzE6MCk8PDMpKyh0aGlzLl9zaXplPDw0KSsoKHRoaXMuX2luc3RhbmNlZD8xOjApPDw2KSsodGhpcy5ieXRlU3RyaWRlPDwxMil9X3JlYnVpbGQoKXt0aGlzLl9idWZmZXImJnRoaXMuX2J1ZmZlci5fcmVidWlsZCgpfWdldEtpbmQoKXtyZXR1cm4gdGhpcy5fa2luZH1pc1VwZGF0YWJsZSgpe3JldHVybiB0aGlzLl9idWZmZXIuaXNVcGRhdGFibGUoKX1nZXREYXRhKCl7cmV0dXJuIHRoaXMuX2J1ZmZlci5nZXREYXRhKCl9Z2V0RmxvYXREYXRhKGUsdCl7Y29uc3QgaT10aGlzLmdldERhdGEoKTtpZighaSlyZXR1cm4gbnVsbDtjb25zdCBzPXRoaXMuZ2V0U2l6ZSgpKmcuR2V0VHlwZUJ5dGVMZW5ndGgodGhpcy50eXBlKSxyPWUqdGhpcy5nZXRTaXplKCk7aWYodGhpcy50eXBlIT09Zy5GTE9BVHx8dGhpcy5ieXRlU3RyaWRlIT09cyl7Y29uc3Qgbj1uZXcgRmxvYXQzMkFycmF5KHIpO3JldHVybiB0aGlzLmZvckVhY2gociwoYSxvKT0+bltvXT1hKSxufWlmKCEoaSBpbnN0YW5jZW9mIEFycmF5fHxpIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KXx8dGhpcy5ieXRlT2Zmc2V0IT09MHx8aS5sZW5ndGghPT1yKWlmKGkgaW5zdGFuY2VvZiBBcnJheSl7Y29uc3Qgbj10aGlzLmJ5dGVPZmZzZXQvNDtyZXR1cm4gaS5zbGljZShuLG4rcil9ZWxzZXtpZihpIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoaSx0aGlzLmJ5dGVPZmZzZXQscik7e2xldCBuPWkuYnl0ZU9mZnNldCt0aGlzLmJ5dGVPZmZzZXQ7aWYodCl7Y29uc3Qgbz1uZXcgRmxvYXQzMkFycmF5KHIpLGg9bmV3IEZsb2F0MzJBcnJheShpLmJ1ZmZlcixuLHIpO3JldHVybiBvLnNldChoKSxvfWNvbnN0IGE9biU0O3JldHVybiBhJiYobj1NYXRoLm1heCgwLG4tYSkpLG5ldyBGbG9hdDMyQXJyYXkoaS5idWZmZXIsbixyKX19cmV0dXJuIHQ/aS5zbGljZSgpOml9Z2V0QnVmZmVyKCl7cmV0dXJuIHRoaXMuX2J1ZmZlci5nZXRCdWZmZXIoKX1nZXRTdHJpZGVTaXplKCl7cmV0dXJuIHRoaXMuYnl0ZVN0cmlkZS9nLkdldFR5cGVCeXRlTGVuZ3RoKHRoaXMudHlwZSl9Z2V0T2Zmc2V0KCl7cmV0dXJuIHRoaXMuYnl0ZU9mZnNldC9nLkdldFR5cGVCeXRlTGVuZ3RoKHRoaXMudHlwZSl9Z2V0U2l6ZShlPSExKXtyZXR1cm4gZT90aGlzLl9zaXplKmcuR2V0VHlwZUJ5dGVMZW5ndGgodGhpcy50eXBlKTp0aGlzLl9zaXplfWdldElzSW5zdGFuY2VkKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlZH1nZXRJbnN0YW5jZURpdmlzb3IoKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEaXZpc29yfWNyZWF0ZShlKXt0aGlzLl9idWZmZXIuY3JlYXRlKGUpfXVwZGF0ZShlKXt0aGlzLl9idWZmZXIudXBkYXRlKGUpfXVwZGF0ZURpcmVjdGx5KGUsdCxpPSExKXt0aGlzLl9idWZmZXIudXBkYXRlRGlyZWN0bHkoZSx0LHZvaWQgMCxpKX1kaXNwb3NlKCl7dGhpcy5fb3duc0J1ZmZlciYmdGhpcy5fYnVmZmVyLmRpc3Bvc2UoKX1mb3JFYWNoKGUsdCl7Zy5Gb3JFYWNoKHRoaXMuX2J1ZmZlci5nZXREYXRhKCksdGhpcy5ieXRlT2Zmc2V0LHRoaXMuYnl0ZVN0cmlkZSx0aGlzLl9zaXplLHRoaXMudHlwZSxlLHRoaXMubm9ybWFsaXplZCx0KX1zdGF0aWMgRGVkdWNlU3RyaWRlKGUpe3N3aXRjaChlKXtjYXNlIGcuVVZLaW5kOmNhc2UgZy5VVjJLaW5kOmNhc2UgZy5VVjNLaW5kOmNhc2UgZy5VVjRLaW5kOmNhc2UgZy5VVjVLaW5kOmNhc2UgZy5VVjZLaW5kOnJldHVybiAyO2Nhc2UgZy5Ob3JtYWxLaW5kOmNhc2UgZy5Qb3NpdGlvbktpbmQ6cmV0dXJuIDM7Y2FzZSBnLkNvbG9yS2luZDpjYXNlIGcuTWF0cmljZXNJbmRpY2VzS2luZDpjYXNlIGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kOmNhc2UgZy5NYXRyaWNlc1dlaWdodHNLaW5kOmNhc2UgZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQ6Y2FzZSBnLlRhbmdlbnRLaW5kOnJldHVybiA0O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGtpbmQgJyIrZSsiJyIpfX1zdGF0aWMgR2V0VHlwZUJ5dGVMZW5ndGgoZSl7c3dpdGNoKGUpe2Nhc2UgZy5CWVRFOmNhc2UgZy5VTlNJR05FRF9CWVRFOnJldHVybiAxO2Nhc2UgZy5TSE9SVDpjYXNlIGcuVU5TSUdORURfU0hPUlQ6cmV0dXJuIDI7Y2FzZSBnLklOVDpjYXNlIGcuVU5TSUdORURfSU5UOmNhc2UgZy5GTE9BVDpyZXR1cm4gNDtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0eXBlICcke2V9J2ApfX1zdGF0aWMgRm9yRWFjaChlLHQsaSxzLHIsbixhLG8pe2lmKGUgaW5zdGFuY2VvZiBBcnJheSl7bGV0IGg9dC80O2NvbnN0IGw9aS80O2ZvcihsZXQgdT0wO3U8bjt1Kz1zKXtmb3IobGV0IGQ9MDtkPHM7ZCsrKW8oZVtoK2RdLHUrZCk7aCs9bH19ZWxzZXtjb25zdCBoPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgRGF0YVZpZXcoZSk6bmV3IERhdGFWaWV3KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpLGw9Zy5HZXRUeXBlQnl0ZUxlbmd0aChyKTtmb3IobGV0IHU9MDt1PG47dSs9cyl7bGV0IGQ9dDtmb3IobGV0IGY9MDtmPHM7ZisrKXtjb25zdCBfPWcuX0dldEZsb2F0VmFsdWUoaCxyLGQsYSk7byhfLHUrZiksZCs9bH10Kz1pfX19c3RhdGljIF9HZXRGbG9hdFZhbHVlKGUsdCxpLHMpe3N3aXRjaCh0KXtjYXNlIGcuQllURTp7bGV0IHI9ZS5nZXRJbnQ4KGkpO3JldHVybiBzJiYocj1NYXRoLm1heChyLzEyNywtMSkpLHJ9Y2FzZSBnLlVOU0lHTkVEX0JZVEU6e2xldCByPWUuZ2V0VWludDgoaSk7cmV0dXJuIHMmJihyPXIvMjU1KSxyfWNhc2UgZy5TSE9SVDp7bGV0IHI9ZS5nZXRJbnQxNihpLCEwKTtyZXR1cm4gcyYmKHI9TWF0aC5tYXgoci8zMjc2NywtMSkpLHJ9Y2FzZSBnLlVOU0lHTkVEX1NIT1JUOntsZXQgcj1lLmdldFVpbnQxNihpLCEwKTtyZXR1cm4gcyYmKHI9ci82NTUzNSkscn1jYXNlIGcuSU5UOnJldHVybiBlLmdldEludDMyKGksITApO2Nhc2UgZy5VTlNJR05FRF9JTlQ6cmV0dXJuIGUuZ2V0VWludDMyKGksITApO2Nhc2UgZy5GTE9BVDpyZXR1cm4gZS5nZXRGbG9hdDMyKGksITApO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGNvbXBvbmVudCB0eXBlICR7dH1gKX19fWcuX0NvdW50ZXI9MCxnLkJZVEU9NTEyMCxnLlVOU0lHTkVEX0JZVEU9NTEyMSxnLlNIT1JUPTUxMjIsZy5VTlNJR05FRF9TSE9SVD01MTIzLGcuSU5UPTUxMjQsZy5VTlNJR05FRF9JTlQ9NTEyNSxnLkZMT0FUPTUxMjYsZy5Qb3NpdGlvbktpbmQ9InBvc2l0aW9uIixnLk5vcm1hbEtpbmQ9Im5vcm1hbCIsZy5UYW5nZW50S2luZD0idGFuZ2VudCIsZy5VVktpbmQ9InV2IixnLlVWMktpbmQ9InV2MiIsZy5VVjNLaW5kPSJ1djMiLGcuVVY0S2luZD0idXY0IixnLlVWNUtpbmQ9InV2NSIsZy5VVjZLaW5kPSJ1djYiLGcuQ29sb3JLaW5kPSJjb2xvciIsZy5Db2xvckluc3RhbmNlS2luZD0iaW5zdGFuY2VDb2xvciIsZy5NYXRyaWNlc0luZGljZXNLaW5kPSJtYXRyaWNlc0luZGljZXMiLGcuTWF0cmljZXNXZWlnaHRzS2luZD0ibWF0cmljZXNXZWlnaHRzIixnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZD0ibWF0cmljZXNJbmRpY2VzRXh0cmEiLGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kPSJtYXRyaWNlc1dlaWdodHNFeHRyYSI7Y2xhc3MgVXR7Y29uc3RydWN0b3IoKXt0aGlzLmhpdD0hMSx0aGlzLmRpc3RhbmNlPTAsdGhpcy5waWNrZWRQb2ludD1udWxsLHRoaXMucGlja2VkTWVzaD1udWxsLHRoaXMuYnU9MCx0aGlzLmJ2PTAsdGhpcy5mYWNlSWQ9LTEsdGhpcy5zdWJNZXNoRmFjZUlkPS0xLHRoaXMuc3ViTWVzaElkPTAsdGhpcy5waWNrZWRTcHJpdGU9bnVsbCx0aGlzLnRoaW5JbnN0YW5jZUluZGV4PS0xLHRoaXMucmF5PW51bGwsdGhpcy5vcmlnaW5NZXNoPW51bGwsdGhpcy5haW1UcmFuc2Zvcm09bnVsbCx0aGlzLmdyaXBUcmFuc2Zvcm09bnVsbH1nZXROb3JtYWwoZT0hMSx0PSEwKXtpZighdGhpcy5waWNrZWRNZXNofHx0JiYhdGhpcy5waWNrZWRNZXNoLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQpKXJldHVybiBudWxsO2NvbnN0IGk9dGhpcy5waWNrZWRNZXNoLmdldEluZGljZXMoKTtpZighaSlyZXR1cm4gbnVsbDtsZXQgcztpZih0KXtjb25zdCBuPXRoaXMucGlja2VkTWVzaC5nZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kKTtsZXQgYT1wLkZyb21BcnJheShuLGlbdGhpcy5mYWNlSWQqM10qMyksbz1wLkZyb21BcnJheShuLGlbdGhpcy5mYWNlSWQqMysxXSozKSxoPXAuRnJvbUFycmF5KG4saVt0aGlzLmZhY2VJZCozKzJdKjMpO2E9YS5zY2FsZSh0aGlzLmJ1KSxvPW8uc2NhbGUodGhpcy5idiksaD1oLnNjYWxlKDEtdGhpcy5idS10aGlzLmJ2KSxzPW5ldyBwKGEueCtvLngraC54LGEueStvLnkraC55LGEueitvLnoraC56KX1lbHNle2NvbnN0IG49dGhpcy5waWNrZWRNZXNoLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCksYT1wLkZyb21BcnJheShuLGlbdGhpcy5mYWNlSWQqM10qMyksbz1wLkZyb21BcnJheShuLGlbdGhpcy5mYWNlSWQqMysxXSozKSxoPXAuRnJvbUFycmF5KG4saVt0aGlzLmZhY2VJZCozKzJdKjMpLGw9YS5zdWJ0cmFjdChvKSx1PWguc3VidHJhY3Qobyk7cz1wLkNyb3NzKGwsdSl9Y29uc3Qgcj0obixhKT0+e2xldCBvPW4uZ2V0V29ybGRNYXRyaXgoKTtuLm5vblVuaWZvcm1TY2FsaW5nJiYoRC5NYXRyaXhbMF0uY29weUZyb20obyksbz1ELk1hdHJpeFswXSxvLnNldFRyYW5zbGF0aW9uRnJvbUZsb2F0cygwLDAsMCksby5pbnZlcnQoKSxvLnRyYW5zcG9zZVRvUmVmKEQuTWF0cml4WzFdKSxvPUQuTWF0cml4WzFdKSxwLlRyYW5zZm9ybU5vcm1hbFRvUmVmKGEsbyxhKX07aWYoZSYmcih0aGlzLnBpY2tlZE1lc2gscyksdGhpcy5yYXkpe2NvbnN0IG49RC5WZWN0b3IzWzBdLmNvcHlGcm9tKHMpO2V8fHIodGhpcy5waWNrZWRNZXNoLG4pLHAuRG90KG4sdGhpcy5yYXkuZGlyZWN0aW9uKT4wJiZzLm5lZ2F0ZUluUGxhY2UoKX1yZXR1cm4gcy5ub3JtYWxpemUoKSxzfWdldFRleHR1cmVDb29yZGluYXRlcygpe2lmKCF0aGlzLnBpY2tlZE1lc2h8fCF0aGlzLnBpY2tlZE1lc2guaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVZLaW5kKSlyZXR1cm4gbnVsbDtjb25zdCBlPXRoaXMucGlja2VkTWVzaC5nZXRJbmRpY2VzKCk7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3QgdD10aGlzLnBpY2tlZE1lc2guZ2V0VmVydGljZXNEYXRhKGcuVVZLaW5kKTtpZighdClyZXR1cm4gbnVsbDtsZXQgaT12ZS5Gcm9tQXJyYXkodCxlW3RoaXMuZmFjZUlkKjNdKjIpLHM9dmUuRnJvbUFycmF5KHQsZVt0aGlzLmZhY2VJZCozKzFdKjIpLHI9dmUuRnJvbUFycmF5KHQsZVt0aGlzLmZhY2VJZCozKzJdKjIpO3JldHVybiBpPWkuc2NhbGUodGhpcy5idSkscz1zLnNjYWxlKHRoaXMuYnYpLHI9ci5zY2FsZSgxLXRoaXMuYnUtdGhpcy5idiksbmV3IHZlKGkueCtzLngrci54LGkueStzLnkrci55KX19Y2xhc3MgVmV7Y29uc3RydWN0b3IoZSx0LGkscyxyLG4pe3RoaXMuc291cmNlPWUsdGhpcy5wb2ludGVyWD10LHRoaXMucG9pbnRlclk9aSx0aGlzLm1lc2hVbmRlclBvaW50ZXI9cyx0aGlzLnNvdXJjZUV2ZW50PXIsdGhpcy5hZGRpdGlvbmFsRGF0YT1ufXN0YXRpYyBDcmVhdGVOZXcoZSx0LGkpe2NvbnN0IHM9ZS5nZXRTY2VuZSgpO3JldHVybiBuZXcgVmUoZSxzLnBvaW50ZXJYLHMucG9pbnRlclkscy5tZXNoVW5kZXJQb2ludGVyfHxlLHQsaSl9c3RhdGljIENyZWF0ZU5ld0Zyb21TcHJpdGUoZSx0LGkscyl7cmV0dXJuIG5ldyBWZShlLHQucG9pbnRlclgsdC5wb2ludGVyWSx0Lm1lc2hVbmRlclBvaW50ZXIsaSxzKX1zdGF0aWMgQ3JlYXRlTmV3RnJvbVNjZW5lKGUsdCl7cmV0dXJuIG5ldyBWZShudWxsLGUucG9pbnRlclgsZS5wb2ludGVyWSxlLm1lc2hVbmRlclBvaW50ZXIsdCl9c3RhdGljIENyZWF0ZU5ld0Zyb21QcmltaXRpdmUoZSx0LGkscyl7cmV0dXJuIG5ldyBWZShlLHQueCx0LnksbnVsbCxpLHMpfX1jbGFzcyBRaXtjb25zdHJ1Y3RvcihlKXt0aGlzLl92ZXJ0ZXhCdWZmZXJzPXt9LHRoaXMuX3NjZW5lPWV9X3ByZXBhcmVCdWZmZXJzKCl7aWYodGhpcy5fdmVydGV4QnVmZmVyc1tnLlBvc2l0aW9uS2luZF0pcmV0dXJuO2NvbnN0IGU9W107ZS5wdXNoKDEsMSksZS5wdXNoKC0xLDEpLGUucHVzaCgtMSwtMSksZS5wdXNoKDEsLTEpLHRoaXMuX3ZlcnRleEJ1ZmZlcnNbZy5Qb3NpdGlvbktpbmRdPW5ldyBnKHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLGUsZy5Qb3NpdGlvbktpbmQsITEsITEsMiksdGhpcy5fYnVpbGRJbmRleEJ1ZmZlcigpfV9idWlsZEluZGV4QnVmZmVyKCl7Y29uc3QgZT1bXTtlLnB1c2goMCksZS5wdXNoKDEpLGUucHVzaCgyKSxlLnB1c2goMCksZS5wdXNoKDIpLGUucHVzaCgzKSx0aGlzLl9pbmRleEJ1ZmZlcj10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5jcmVhdGVJbmRleEJ1ZmZlcihlKX1fcmVidWlsZCgpe2NvbnN0IGU9dGhpcy5fdmVydGV4QnVmZmVyc1tnLlBvc2l0aW9uS2luZF07ZSYmKGUuX3JlYnVpbGQoKSx0aGlzLl9idWlsZEluZGV4QnVmZmVyKCkpfV9wcmVwYXJlRnJhbWUoZT1udWxsLHQ9bnVsbCl7Y29uc3QgaT10aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmE7cmV0dXJuIWl8fCh0PXR8fGkuX3Bvc3RQcm9jZXNzZXMuZmlsdGVyKHM9PnMhPW51bGwpLCF0fHx0Lmxlbmd0aD09PTB8fCF0aGlzLl9zY2VuZS5wb3N0UHJvY2Vzc2VzRW5hYmxlZCk/ITE6KHRbMF0uYWN0aXZhdGUoaSxlLHQhPW51bGwpLCEwKX1kaXJlY3RSZW5kZXIoZSx0PW51bGwsaT0hMSxzPTAscj0wLG49ITEpe3ZhciBhO2NvbnN0IG89dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7Zm9yKGxldCBoPTA7aDxlLmxlbmd0aDtoKyspe2g8ZS5sZW5ndGgtMT9lW2grMV0uYWN0aXZhdGUodGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhLHQ9PW51bGw/dm9pZCAwOnQudGV4dHVyZSk6KHQ/by5iaW5kRnJhbWVidWZmZXIodCxzLHZvaWQgMCx2b2lkIDAsaSxyKTpufHxvLnJlc3RvcmVEZWZhdWx0RnJhbWVidWZmZXIoKSwoYT1vLl9kZWJ1Z0luc2VydE1hcmtlcik9PT1udWxsfHxhPT09dm9pZCAwfHxhLmNhbGwobyxgcG9zdCBwcm9jZXNzICR7ZVtoXS5uYW1lfSBvdXRwdXRgKSk7Y29uc3QgbD1lW2hdLHU9bC5hcHBseSgpO3UmJihsLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModSksdGhpcy5fcHJlcGFyZUJ1ZmZlcnMoKSxvLmJpbmRCdWZmZXJzKHRoaXMuX3ZlcnRleEJ1ZmZlcnMsdGhpcy5faW5kZXhCdWZmZXIsdSksby5kcmF3RWxlbWVudHNUeXBlKDAsMCw2KSxsLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh1KSl9by5zZXREZXB0aEJ1ZmZlcighMCksby5zZXREZXB0aFdyaXRlKCEwKX1fZmluYWxpemVGcmFtZShlLHQsaSxzLHI9ITEpe3ZhciBuO2NvbnN0IGE9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhO2lmKCFhfHwocz1zfHxhLl9wb3N0UHJvY2Vzc2VzLmZpbHRlcihoPT5oIT1udWxsKSxzLmxlbmd0aD09PTB8fCF0aGlzLl9zY2VuZS5wb3N0UHJvY2Vzc2VzRW5hYmxlZCkpcmV0dXJuO2NvbnN0IG89dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7Zm9yKGxldCBoPTAsbD1zLmxlbmd0aDtoPGw7aCsrKXtjb25zdCB1PXNbaF07aWYoaDxsLTE/dS5fb3V0cHV0VGV4dHVyZT1zW2grMV0uYWN0aXZhdGUoYSx0PT1udWxsP3ZvaWQgMDp0LnRleHR1cmUpOih0PyhvLmJpbmRGcmFtZWJ1ZmZlcih0LGksdm9pZCAwLHZvaWQgMCxyKSx1Ll9vdXRwdXRUZXh0dXJlPXQpOihvLnJlc3RvcmVEZWZhdWx0RnJhbWVidWZmZXIoKSx1Ll9vdXRwdXRUZXh0dXJlPW51bGwpLChuPW8uX2RlYnVnSW5zZXJ0TWFya2VyKT09PW51bGx8fG49PT12b2lkIDB8fG4uY2FsbChvLGBwb3N0IHByb2Nlc3MgJHtzW2hdLm5hbWV9IG91dHB1dGApKSxlKWJyZWFrO2NvbnN0IGQ9dS5hcHBseSgpO2QmJih1Lm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZCksdGhpcy5fcHJlcGFyZUJ1ZmZlcnMoKSxvLmJpbmRCdWZmZXJzKHRoaXMuX3ZlcnRleEJ1ZmZlcnMsdGhpcy5faW5kZXhCdWZmZXIsZCksby5kcmF3RWxlbWVudHNUeXBlKDAsMCw2KSx1Lm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhkKSl9by5zZXREZXB0aEJ1ZmZlcighMCksby5zZXREZXB0aFdyaXRlKCEwKSxvLnNldEFscGhhTW9kZSgwKX1kaXNwb3NlKCl7Y29uc3QgZT10aGlzLl92ZXJ0ZXhCdWZmZXJzW2cuUG9zaXRpb25LaW5kXTtlJiYoZS5kaXNwb3NlKCksdGhpcy5fdmVydGV4QnVmZmVyc1tnLlBvc2l0aW9uS2luZF09bnVsbCksdGhpcy5faW5kZXhCdWZmZXImJih0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5fcmVsZWFzZUJ1ZmZlcih0aGlzLl9pbmRleEJ1ZmZlciksdGhpcy5faW5kZXhCdWZmZXI9bnVsbCl9fWNsYXNzIFN0e2NvbnN0cnVjdG9yKGUsdCxpPW51bGwscz1udWxsLHI9bnVsbCl7dGhpcy5pbmRleD1lLHRoaXMuX29wYXF1ZVN1Yk1lc2hlcz1uZXcgJGUoMjU2KSx0aGlzLl90cmFuc3BhcmVudFN1Yk1lc2hlcz1uZXcgJGUoMjU2KSx0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXM9bmV3ICRlKDI1NiksdGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzPW5ldyAkZSgyNTYpLHRoaXMuX3BhcnRpY2xlU3lzdGVtcz1uZXcgJGUoMjU2KSx0aGlzLl9zcHJpdGVNYW5hZ2Vycz1uZXcgJGUoMjU2KSx0aGlzLl9lbXB0eT0hMCx0aGlzLl9lZGdlc1JlbmRlcmVycz1uZXcgaGkoMTYpLHRoaXMuX3NjZW5lPXQsdGhpcy5vcGFxdWVTb3J0Q29tcGFyZUZuPWksdGhpcy5hbHBoYVRlc3RTb3J0Q29tcGFyZUZuPXMsdGhpcy50cmFuc3BhcmVudFNvcnRDb21wYXJlRm49cn1zZXQgb3BhcXVlU29ydENvbXBhcmVGbihlKXtlP3RoaXMuX29wYXF1ZVNvcnRDb21wYXJlRm49ZTp0aGlzLl9vcGFxdWVTb3J0Q29tcGFyZUZuPVN0LlBhaW50ZXJTb3J0Q29tcGFyZSx0aGlzLl9yZW5kZXJPcGFxdWU9dGhpcy5fcmVuZGVyT3BhcXVlU29ydGVkfXNldCBhbHBoYVRlc3RTb3J0Q29tcGFyZUZuKGUpe2U/dGhpcy5fYWxwaGFUZXN0U29ydENvbXBhcmVGbj1lOnRoaXMuX2FscGhhVGVzdFNvcnRDb21wYXJlRm49U3QuUGFpbnRlclNvcnRDb21wYXJlLHRoaXMuX3JlbmRlckFscGhhVGVzdD10aGlzLl9yZW5kZXJBbHBoYVRlc3RTb3J0ZWR9c2V0IHRyYW5zcGFyZW50U29ydENvbXBhcmVGbihlKXtlP3RoaXMuX3RyYW5zcGFyZW50U29ydENvbXBhcmVGbj1lOnRoaXMuX3RyYW5zcGFyZW50U29ydENvbXBhcmVGbj1TdC5kZWZhdWx0VHJhbnNwYXJlbnRTb3J0Q29tcGFyZSx0aGlzLl9yZW5kZXJUcmFuc3BhcmVudD10aGlzLl9yZW5kZXJUcmFuc3BhcmVudFNvcnRlZH1yZW5kZXIoZSx0LGkscyl7aWYoZSl7ZSh0aGlzLl9vcGFxdWVTdWJNZXNoZXMsdGhpcy5fYWxwaGFUZXN0U3ViTWVzaGVzLHRoaXMuX3RyYW5zcGFyZW50U3ViTWVzaGVzLHRoaXMuX2RlcHRoT25seVN1Yk1lc2hlcyk7cmV0dXJufWNvbnN0IHI9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7dGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzLmxlbmd0aCE9PTAmJihyLnNldENvbG9yV3JpdGUoITEpLHRoaXMuX3JlbmRlckFscGhhVGVzdCh0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXMpLHIuc2V0Q29sb3JXcml0ZSghMCkpLHRoaXMuX29wYXF1ZVN1Yk1lc2hlcy5sZW5ndGghPT0wJiZ0aGlzLl9yZW5kZXJPcGFxdWUodGhpcy5fb3BhcXVlU3ViTWVzaGVzKSx0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXMubGVuZ3RoIT09MCYmdGhpcy5fcmVuZGVyQWxwaGFUZXN0KHRoaXMuX2FscGhhVGVzdFN1Yk1lc2hlcyk7Y29uc3Qgbj1yLmdldFN0ZW5jaWxCdWZmZXIoKTtpZihyLnNldFN0ZW5jaWxCdWZmZXIoITEpLHQmJnRoaXMuX3JlbmRlclNwcml0ZXMoKSxpJiZ0aGlzLl9yZW5kZXJQYXJ0aWNsZXMocyksdGhpcy5vbkJlZm9yZVRyYW5zcGFyZW50UmVuZGVyaW5nJiZ0aGlzLm9uQmVmb3JlVHJhbnNwYXJlbnRSZW5kZXJpbmcoKSx0aGlzLl90cmFuc3BhcmVudFN1Yk1lc2hlcy5sZW5ndGghPT0wfHx0aGlzLl9zY2VuZS51c2VPcmRlckluZGVwZW5kZW50VHJhbnNwYXJlbmN5KXtpZihyLnNldFN0ZW5jaWxCdWZmZXIobiksdGhpcy5fc2NlbmUudXNlT3JkZXJJbmRlcGVuZGVudFRyYW5zcGFyZW5jeSl7Y29uc3QgYT10aGlzLl9zY2VuZS5kZXB0aFBlZWxpbmdSZW5kZXJlci5yZW5kZXIodGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMpO2EubGVuZ3RoJiZ0aGlzLl9yZW5kZXJUcmFuc3BhcmVudChhKX1lbHNlIHRoaXMuX3JlbmRlclRyYW5zcGFyZW50KHRoaXMuX3RyYW5zcGFyZW50U3ViTWVzaGVzKTtyLnNldEFscGhhTW9kZSgwKX1pZihyLnNldFN0ZW5jaWxCdWZmZXIoITEpLHRoaXMuX2VkZ2VzUmVuZGVyZXJzLmxlbmd0aCl7Zm9yKGxldCBhPTA7YTx0aGlzLl9lZGdlc1JlbmRlcmVycy5sZW5ndGg7YSsrKXRoaXMuX2VkZ2VzUmVuZGVyZXJzLmRhdGFbYV0ucmVuZGVyKCk7ci5zZXRBbHBoYU1vZGUoMCl9ci5zZXRTdGVuY2lsQnVmZmVyKG4pfV9yZW5kZXJPcGFxdWVTb3J0ZWQoZSl7cmV0dXJuIFN0Ll9SZW5kZXJTb3J0ZWQoZSx0aGlzLl9vcGFxdWVTb3J0Q29tcGFyZUZuLHRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYSwhMSl9X3JlbmRlckFscGhhVGVzdFNvcnRlZChlKXtyZXR1cm4gU3QuX1JlbmRlclNvcnRlZChlLHRoaXMuX2FscGhhVGVzdFNvcnRDb21wYXJlRm4sdGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhLCExKX1fcmVuZGVyVHJhbnNwYXJlbnRTb3J0ZWQoZSl7cmV0dXJuIFN0Ll9SZW5kZXJTb3J0ZWQoZSx0aGlzLl90cmFuc3BhcmVudFNvcnRDb21wYXJlRm4sdGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhLCEwKX1zdGF0aWMgX1JlbmRlclNvcnRlZChlLHQsaSxzKXtsZXQgcj0wLG47Y29uc3QgYT1pP2kuZ2xvYmFsUG9zaXRpb246U3QuX1plcm9WZWN0b3I7aWYocylmb3IoO3I8ZS5sZW5ndGg7cisrKW49ZS5kYXRhW3JdLG4uX2FscGhhSW5kZXg9bi5nZXRNZXNoKCkuYWxwaGFJbmRleCxuLl9kaXN0YW5jZVRvQ2FtZXJhPXAuRGlzdGFuY2Uobi5nZXRCb3VuZGluZ0luZm8oKS5ib3VuZGluZ1NwaGVyZS5jZW50ZXJXb3JsZCxhKTtjb25zdCBvPWUubGVuZ3RoPT09ZS5kYXRhLmxlbmd0aD9lLmRhdGE6ZS5kYXRhLnNsaWNlKDAsZS5sZW5ndGgpO3QmJm8uc29ydCh0KTtjb25zdCBoPW9bMF0uZ2V0TWVzaCgpLmdldFNjZW5lKCk7Zm9yKHI9MDtyPG8ubGVuZ3RoO3IrKylpZihuPW9bcl0sIShoLl9hY3RpdmVNZXNoZXNGcm96ZW5CdXRLZWVwQ2xpcHBpbmcmJiFuLmlzSW5GcnVzdHVtKGguX2ZydXN0dW1QbGFuZXMpKSl7aWYocyl7Y29uc3QgbD1uLmdldE1hdGVyaWFsKCk7aWYobCYmbC5uZWVkRGVwdGhQcmVQYXNzKXtjb25zdCB1PWwuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKTt1LnNldENvbG9yV3JpdGUoITEpLHUuc2V0QWxwaGFNb2RlKDApLG4ucmVuZGVyKCExKSx1LnNldENvbG9yV3JpdGUoITApfX1uLnJlbmRlcihzKX19c3RhdGljIGRlZmF1bHRUcmFuc3BhcmVudFNvcnRDb21wYXJlKGUsdCl7cmV0dXJuIGUuX2FscGhhSW5kZXg+dC5fYWxwaGFJbmRleD8xOmUuX2FscGhhSW5kZXg8dC5fYWxwaGFJbmRleD8tMTpTdC5iYWNrVG9Gcm9udFNvcnRDb21wYXJlKGUsdCl9c3RhdGljIGJhY2tUb0Zyb250U29ydENvbXBhcmUoZSx0KXtyZXR1cm4gZS5fZGlzdGFuY2VUb0NhbWVyYTx0Ll9kaXN0YW5jZVRvQ2FtZXJhPzE6ZS5fZGlzdGFuY2VUb0NhbWVyYT50Ll9kaXN0YW5jZVRvQ2FtZXJhPy0xOjB9c3RhdGljIGZyb250VG9CYWNrU29ydENvbXBhcmUoZSx0KXtyZXR1cm4gZS5fZGlzdGFuY2VUb0NhbWVyYTx0Ll9kaXN0YW5jZVRvQ2FtZXJhPy0xOmUuX2Rpc3RhbmNlVG9DYW1lcmE+dC5fZGlzdGFuY2VUb0NhbWVyYT8xOjB9c3RhdGljIFBhaW50ZXJTb3J0Q29tcGFyZShlLHQpe2NvbnN0IGk9ZS5nZXRNZXNoKCkscz10LmdldE1lc2goKTtyZXR1cm4gaS5tYXRlcmlhbCYmcy5tYXRlcmlhbD9pLm1hdGVyaWFsLnVuaXF1ZUlkLXMubWF0ZXJpYWwudW5pcXVlSWQ6aS51bmlxdWVJZC1zLnVuaXF1ZUlkfXByZXBhcmUoKXt0aGlzLl9vcGFxdWVTdWJNZXNoZXMucmVzZXQoKSx0aGlzLl90cmFuc3BhcmVudFN1Yk1lc2hlcy5yZXNldCgpLHRoaXMuX2FscGhhVGVzdFN1Yk1lc2hlcy5yZXNldCgpLHRoaXMuX2RlcHRoT25seVN1Yk1lc2hlcy5yZXNldCgpLHRoaXMuX3BhcnRpY2xlU3lzdGVtcy5yZXNldCgpLHRoaXMucHJlcGFyZVNwcml0ZXMoKSx0aGlzLl9lZGdlc1JlbmRlcmVycy5yZXNldCgpLHRoaXMuX2VtcHR5PSEwfXByZXBhcmVTcHJpdGVzKCl7dGhpcy5fc3ByaXRlTWFuYWdlcnMucmVzZXQoKX1kaXNwb3NlKCl7dGhpcy5fb3BhcXVlU3ViTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLl90cmFuc3BhcmVudFN1Yk1lc2hlcy5kaXNwb3NlKCksdGhpcy5fYWxwaGFUZXN0U3ViTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXMuZGlzcG9zZSgpLHRoaXMuX3BhcnRpY2xlU3lzdGVtcy5kaXNwb3NlKCksdGhpcy5fc3ByaXRlTWFuYWdlcnMuZGlzcG9zZSgpLHRoaXMuX2VkZ2VzUmVuZGVyZXJzLmRpc3Bvc2UoKX1kaXNwYXRjaChlLHQsaSl7dD09PXZvaWQgMCYmKHQ9ZS5nZXRNZXNoKCkpLGk9PT12b2lkIDAmJihpPWUuZ2V0TWF0ZXJpYWwoKSksaSE9bnVsbCYmKGkubmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoKHQpP3RoaXMuX3RyYW5zcGFyZW50U3ViTWVzaGVzLnB1c2goZSk6aS5uZWVkQWxwaGFUZXN0aW5nKCk/KGkubmVlZERlcHRoUHJlUGFzcyYmdGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzLnB1c2goZSksdGhpcy5fYWxwaGFUZXN0U3ViTWVzaGVzLnB1c2goZSkpOihpLm5lZWREZXB0aFByZVBhc3MmJnRoaXMuX2RlcHRoT25seVN1Yk1lc2hlcy5wdXNoKGUpLHRoaXMuX29wYXF1ZVN1Yk1lc2hlcy5wdXNoKGUpKSx0Ll9yZW5kZXJpbmdHcm91cD10aGlzLHQuX2VkZ2VzUmVuZGVyZXImJnQuX2VkZ2VzUmVuZGVyZXIuaXNFbmFibGVkJiZ0aGlzLl9lZGdlc1JlbmRlcmVycy5wdXNoTm9EdXBsaWNhdGUodC5fZWRnZXNSZW5kZXJlciksdGhpcy5fZW1wdHk9ITEpfWRpc3BhdGNoU3ByaXRlcyhlKXt0aGlzLl9zcHJpdGVNYW5hZ2Vycy5wdXNoKGUpLHRoaXMuX2VtcHR5PSExfWRpc3BhdGNoUGFydGljbGVzKGUpe3RoaXMuX3BhcnRpY2xlU3lzdGVtcy5wdXNoKGUpLHRoaXMuX2VtcHR5PSExfV9yZW5kZXJQYXJ0aWNsZXMoZSl7aWYodGhpcy5fcGFydGljbGVTeXN0ZW1zLmxlbmd0aD09PTApcmV0dXJuO2NvbnN0IHQ9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhO3RoaXMuX3NjZW5lLm9uQmVmb3JlUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5fc2NlbmUpO2ZvcihsZXQgaT0wO2k8dGhpcy5fcGFydGljbGVTeXN0ZW1zLmxlbmd0aDtpKyspe2NvbnN0IHM9dGhpcy5fcGFydGljbGVTeXN0ZW1zLmRhdGFbaV07aWYoKHQmJnQubGF5ZXJNYXNrJnMubGF5ZXJNYXNrKT09PTApY29udGludWU7Y29uc3Qgcj1zLmVtaXR0ZXI7KCFyLnBvc2l0aW9ufHwhZXx8ZS5pbmRleE9mKHIpIT09LTEpJiZ0aGlzLl9zY2VuZS5fYWN0aXZlUGFydGljbGVzLmFkZENvdW50KHMucmVuZGVyKCksITEpfXRoaXMuX3NjZW5lLm9uQWZ0ZXJQYXJ0aWNsZXNSZW5kZXJpbmdPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLl9zY2VuZSl9X3JlbmRlclNwcml0ZXMoKXtpZighdGhpcy5fc2NlbmUuc3ByaXRlc0VuYWJsZWR8fHRoaXMuX3Nwcml0ZU1hbmFnZXJzLmxlbmd0aD09PTApcmV0dXJuO2NvbnN0IGU9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhO3RoaXMuX3NjZW5lLm9uQmVmb3JlU3ByaXRlc1JlbmRlcmluZ09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMuX3NjZW5lKTtmb3IobGV0IHQ9MDt0PHRoaXMuX3Nwcml0ZU1hbmFnZXJzLmxlbmd0aDt0Kyspe2NvbnN0IGk9dGhpcy5fc3ByaXRlTWFuYWdlcnMuZGF0YVt0XTsoZSYmZS5sYXllck1hc2smaS5sYXllck1hc2spIT09MCYmaS5yZW5kZXIoKX10aGlzLl9zY2VuZS5vbkFmdGVyU3ByaXRlc1JlbmRlcmluZ09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMuX3NjZW5lKX19U3QuX1plcm9WZWN0b3I9cC5aZXJvKCk7Y2xhc3MgeW57fWNsYXNzIFdle2NvbnN0cnVjdG9yKGUpe3RoaXMuX3VzZVNjZW5lQXV0b0NsZWFyU2V0dXA9ITEsdGhpcy5fcmVuZGVyaW5nR3JvdXBzPW5ldyBBcnJheSx0aGlzLl9hdXRvQ2xlYXJEZXB0aFN0ZW5jaWw9e30sdGhpcy5fY3VzdG9tT3BhcXVlU29ydENvbXBhcmVGbj17fSx0aGlzLl9jdXN0b21BbHBoYVRlc3RTb3J0Q29tcGFyZUZuPXt9LHRoaXMuX2N1c3RvbVRyYW5zcGFyZW50U29ydENvbXBhcmVGbj17fSx0aGlzLl9yZW5kZXJpbmdHcm91cEluZm89bmV3IHluLHRoaXMuX21haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzPSExLHRoaXMuX3NjZW5lPWU7Zm9yKGxldCB0PVdlLk1JTl9SRU5ERVJJTkdHUk9VUFM7dDxXZS5NQVhfUkVOREVSSU5HR1JPVVBTO3QrKyl0aGlzLl9hdXRvQ2xlYXJEZXB0aFN0ZW5jaWxbdF09e2F1dG9DbGVhcjohMCxkZXB0aDohMCxzdGVuY2lsOiEwfX1nZXQgbWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXMoKXtyZXR1cm4gdGhpcy5fbWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXN9c2V0IG1haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzKGUpe2lmKGUhPT10aGlzLl9tYWludGFpblN0YXRlQmV0d2VlbkZyYW1lcyYmKHRoaXMuX21haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzPWUsIXRoaXMuX21haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzKSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fc2NlbmUubWVzaGVzKWlmKHQuc3ViTWVzaGVzKWZvcihjb25zdCBpIG9mIHQuc3ViTWVzaGVzKWkuX3dhc0Rpc3BhdGNoZWQ9ITE7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fc2NlbmUuc3ByaXRlTWFuYWdlcnMpdC5fd2FzRGlzcGF0Y2hlZD0hMTtmb3IoY29uc3QgdCBvZiB0aGlzLl9zY2VuZS5wYXJ0aWNsZVN5c3RlbXMpdC5fd2FzRGlzcGF0Y2hlZD0hMX19Z2V0UmVuZGVyaW5nR3JvdXAoZSl7Y29uc3QgdD1lfHwwO3JldHVybiB0aGlzLl9wcmVwYXJlUmVuZGVyaW5nR3JvdXAodCksdGhpcy5fcmVuZGVyaW5nR3JvdXBzW3RdfV9jbGVhckRlcHRoU3RlbmNpbEJ1ZmZlcihlPSEwLHQ9ITApe3RoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlckFscmVhZHlDbGVhbmVkfHwodGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuY2xlYXIobnVsbCwhMSxlLHQpLHRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlckFscmVhZHlDbGVhbmVkPSEwKX1yZW5kZXIoZSx0LGkscyl7Y29uc3Qgcj10aGlzLl9yZW5kZXJpbmdHcm91cEluZm87aWYoci5zY2VuZT10aGlzLl9zY2VuZSxyLmNhbWVyYT10aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEsdGhpcy5fc2NlbmUuc3ByaXRlTWFuYWdlcnMmJnMpZm9yKGxldCBuPTA7bjx0aGlzLl9zY2VuZS5zcHJpdGVNYW5hZ2Vycy5sZW5ndGg7bisrKXtjb25zdCBhPXRoaXMuX3NjZW5lLnNwcml0ZU1hbmFnZXJzW25dO3RoaXMuZGlzcGF0Y2hTcHJpdGVzKGEpfWZvcihsZXQgbj1XZS5NSU5fUkVOREVSSU5HR1JPVVBTO248V2UuTUFYX1JFTkRFUklOR0dST1VQUztuKyspe3RoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlckFscmVhZHlDbGVhbmVkPW49PT1XZS5NSU5fUkVOREVSSU5HR1JPVVBTO2NvbnN0IGE9dGhpcy5fcmVuZGVyaW5nR3JvdXBzW25dO2lmKCFhfHxhLl9lbXB0eSljb250aW51ZTtjb25zdCBvPU1hdGgucG93KDIsbik7aWYoci5yZW5kZXJpbmdHcm91cElkPW4sdGhpcy5fc2NlbmUub25CZWZvcmVSZW5kZXJpbmdHcm91cE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHIsbyksV2UuQVVUT0NMRUFSKXtjb25zdCBoPXRoaXMuX3VzZVNjZW5lQXV0b0NsZWFyU2V0dXA/dGhpcy5fc2NlbmUuZ2V0QXV0b0NsZWFyRGVwdGhTdGVuY2lsU2V0dXAobik6dGhpcy5fYXV0b0NsZWFyRGVwdGhTdGVuY2lsW25dO2gmJmguYXV0b0NsZWFyJiZ0aGlzLl9jbGVhckRlcHRoU3RlbmNpbEJ1ZmZlcihoLmRlcHRoLGguc3RlbmNpbCl9Zm9yKGNvbnN0IGggb2YgdGhpcy5fc2NlbmUuX2JlZm9yZVJlbmRlcmluZ0dyb3VwRHJhd1N0YWdlKWguYWN0aW9uKG4pO2EucmVuZGVyKGUscyxpLHQpO2Zvcihjb25zdCBoIG9mIHRoaXMuX3NjZW5lLl9hZnRlclJlbmRlcmluZ0dyb3VwRHJhd1N0YWdlKWguYWN0aW9uKG4pO3RoaXMuX3NjZW5lLm9uQWZ0ZXJSZW5kZXJpbmdHcm91cE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHIsbyl9fXJlc2V0KCl7aWYoIXRoaXMubWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXMpZm9yKGxldCBlPVdlLk1JTl9SRU5ERVJJTkdHUk9VUFM7ZTxXZS5NQVhfUkVOREVSSU5HR1JPVVBTO2UrKyl7Y29uc3QgdD10aGlzLl9yZW5kZXJpbmdHcm91cHNbZV07dCYmdC5wcmVwYXJlKCl9fXJlc2V0U3ByaXRlcygpe2lmKCF0aGlzLm1haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzKWZvcihsZXQgZT1XZS5NSU5fUkVOREVSSU5HR1JPVVBTO2U8V2UuTUFYX1JFTkRFUklOR0dST1VQUztlKyspe2NvbnN0IHQ9dGhpcy5fcmVuZGVyaW5nR3JvdXBzW2VdO3QmJnQucHJlcGFyZVNwcml0ZXMoKX19ZGlzcG9zZSgpe3RoaXMuZnJlZVJlbmRlcmluZ0dyb3VwcygpLHRoaXMuX3JlbmRlcmluZ0dyb3Vwcy5sZW5ndGg9MCx0aGlzLl9yZW5kZXJpbmdHcm91cEluZm89bnVsbH1mcmVlUmVuZGVyaW5nR3JvdXBzKCl7Zm9yKGxldCBlPVdlLk1JTl9SRU5ERVJJTkdHUk9VUFM7ZTxXZS5NQVhfUkVOREVSSU5HR1JPVVBTO2UrKyl7Y29uc3QgdD10aGlzLl9yZW5kZXJpbmdHcm91cHNbZV07dCYmdC5kaXNwb3NlKCl9fV9wcmVwYXJlUmVuZGVyaW5nR3JvdXAoZSl7dGhpcy5fcmVuZGVyaW5nR3JvdXBzW2VdPT09dm9pZCAwJiYodGhpcy5fcmVuZGVyaW5nR3JvdXBzW2VdPW5ldyBTdChlLHRoaXMuX3NjZW5lLHRoaXMuX2N1c3RvbU9wYXF1ZVNvcnRDb21wYXJlRm5bZV0sdGhpcy5fY3VzdG9tQWxwaGFUZXN0U29ydENvbXBhcmVGbltlXSx0aGlzLl9jdXN0b21UcmFuc3BhcmVudFNvcnRDb21wYXJlRm5bZV0pKX1kaXNwYXRjaFNwcml0ZXMoZSl7dGhpcy5tYWludGFpblN0YXRlQmV0d2VlbkZyYW1lcyYmZS5fd2FzRGlzcGF0Y2hlZHx8KGUuX3dhc0Rpc3BhdGNoZWQ9ITAsdGhpcy5nZXRSZW5kZXJpbmdHcm91cChlLnJlbmRlcmluZ0dyb3VwSWQpLmRpc3BhdGNoU3ByaXRlcyhlKSl9ZGlzcGF0Y2hQYXJ0aWNsZXMoZSl7dGhpcy5tYWludGFpblN0YXRlQmV0d2VlbkZyYW1lcyYmZS5fd2FzRGlzcGF0Y2hlZHx8KGUuX3dhc0Rpc3BhdGNoZWQ9ITAsdGhpcy5nZXRSZW5kZXJpbmdHcm91cChlLnJlbmRlcmluZ0dyb3VwSWQpLmRpc3BhdGNoUGFydGljbGVzKGUpKX1kaXNwYXRjaChlLHQsaSl7dD09PXZvaWQgMCYmKHQ9ZS5nZXRNZXNoKCkpLCEodGhpcy5tYWludGFpblN0YXRlQmV0d2VlbkZyYW1lcyYmZS5fd2FzRGlzcGF0Y2hlZCkmJihlLl93YXNEaXNwYXRjaGVkPSEwLHRoaXMuZ2V0UmVuZGVyaW5nR3JvdXAodC5yZW5kZXJpbmdHcm91cElkKS5kaXNwYXRjaChlLHQsaSkpfXNldFJlbmRlcmluZ09yZGVyKGUsdD1udWxsLGk9bnVsbCxzPW51bGwpe2lmKHRoaXMuX2N1c3RvbU9wYXF1ZVNvcnRDb21wYXJlRm5bZV09dCx0aGlzLl9jdXN0b21BbHBoYVRlc3RTb3J0Q29tcGFyZUZuW2VdPWksdGhpcy5fY3VzdG9tVHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuW2VdPXMsdGhpcy5fcmVuZGVyaW5nR3JvdXBzW2VdKXtjb25zdCByPXRoaXMuX3JlbmRlcmluZ0dyb3Vwc1tlXTtyLm9wYXF1ZVNvcnRDb21wYXJlRm49dGhpcy5fY3VzdG9tT3BhcXVlU29ydENvbXBhcmVGbltlXSxyLmFscGhhVGVzdFNvcnRDb21wYXJlRm49dGhpcy5fY3VzdG9tQWxwaGFUZXN0U29ydENvbXBhcmVGbltlXSxyLnRyYW5zcGFyZW50U29ydENvbXBhcmVGbj10aGlzLl9jdXN0b21UcmFuc3BhcmVudFNvcnRDb21wYXJlRm5bZV19fXNldFJlbmRlcmluZ0F1dG9DbGVhckRlcHRoU3RlbmNpbChlLHQsaT0hMCxzPSEwKXt0aGlzLl9hdXRvQ2xlYXJEZXB0aFN0ZW5jaWxbZV09e2F1dG9DbGVhcjp0LGRlcHRoOmksc3RlbmNpbDpzfX1nZXRBdXRvQ2xlYXJEZXB0aFN0ZW5jaWxTZXR1cChlKXtyZXR1cm4gdGhpcy5fYXV0b0NsZWFyRGVwdGhTdGVuY2lsW2VdfX1XZS5NQVhfUkVOREVSSU5HR1JPVVBTPTQsV2UuTUlOX1JFTkRFUklOR0dST1VQUz0wLFdlLkFVVE9DTEVBUj0hMDtjbGFzcyBxe31xLk5BTUVfRUZGRUNUTEFZRVI9IkVmZmVjdExheWVyIixxLk5BTUVfTEFZRVI9IkxheWVyIixxLk5BTUVfTEVOU0ZMQVJFU1lTVEVNPSJMZW5zRmxhcmVTeXN0ZW0iLHEuTkFNRV9CT1VORElOR0JPWFJFTkRFUkVSPSJCb3VuZGluZ0JveFJlbmRlcmVyIixxLk5BTUVfUEFSVElDTEVTWVNURU09IlBhcnRpY2xlU3lzdGVtIixxLk5BTUVfR0FNRVBBRD0iR2FtZXBhZCIscS5OQU1FX1NJTVBMSUZJQ0FUSU9OUVVFVUU9IlNpbXBsaWZpY2F0aW9uUXVldWUiLHEuTkFNRV9HRU9NRVRSWUJVRkZFUlJFTkRFUkVSPSJHZW9tZXRyeUJ1ZmZlclJlbmRlcmVyIixxLk5BTUVfUFJFUEFTU1JFTkRFUkVSPSJQcmVQYXNzUmVuZGVyZXIiLHEuTkFNRV9ERVBUSFJFTkRFUkVSPSJEZXB0aFJlbmRlcmVyIixxLk5BTUVfREVQVEhQRUVMSU5HUkVOREVSRVI9IkRlcHRoUGVlbGluZ1JlbmRlcmVyIixxLk5BTUVfUE9TVFBST0NFU1NSRU5ERVJQSVBFTElORU1BTkFHRVI9IlBvc3RQcm9jZXNzUmVuZGVyUGlwZWxpbmVNYW5hZ2VyIixxLk5BTUVfU1BSSVRFPSJTcHJpdGUiLHEuTkFNRV9TVUJTVVJGQUNFPSJTdWJTdXJmYWNlIixxLk5BTUVfT1VUTElORVJFTkRFUkVSPSJPdXRsaW5lIixxLk5BTUVfUFJPQ0VEVVJBTFRFWFRVUkU9IlByb2NlZHVyYWxUZXh0dXJlIixxLk5BTUVfU0hBRE9XR0VORVJBVE9SPSJTaGFkb3dHZW5lcmF0b3IiLHEuTkFNRV9PQ1RSRUU9Ik9jdHJlZSIscS5OQU1FX1BIWVNJQ1NFTkdJTkU9IlBoeXNpY3NFbmdpbmUiLHEuTkFNRV9BVURJTz0iQXVkaW8iLHEuTkFNRV9GTFVJRFJFTkRFUkVSPSJGbHVpZFJlbmRlcmVyIixxLlNURVBfSVNSRUFEWUZPUk1FU0hfRUZGRUNUTEFZRVI9MCxxLlNURVBfQkVGT1JFRVZBTFVBVEVBQ1RJVkVNRVNIX0JPVU5ESU5HQk9YUkVOREVSRVI9MCxxLlNURVBfRVZBTFVBVEVTVUJNRVNIX0JPVU5ESU5HQk9YUkVOREVSRVI9MCxxLlNURVBfUFJFQUNUSVZFTUVTSF9CT1VORElOR0JPWFJFTkRFUkVSPTAscS5TVEVQX0NBTUVSQURSQVdSRU5ERVJUQVJHRVRfRUZGRUNUTEFZRVI9MSxxLlNURVBfQkVGT1JFQ0FNRVJBRFJBV19QUkVQQVNTPTAscS5TVEVQX0JFRk9SRUNBTUVSQURSQVdfRUZGRUNUTEFZRVI9MSxxLlNURVBfQkVGT1JFQ0FNRVJBRFJBV19MQVlFUj0yLHEuU1RFUF9CRUZPUkVSRU5ERVJUQVJHRVREUkFXX1BSRVBBU1M9MCxxLlNURVBfQkVGT1JFUkVOREVSVEFSR0VURFJBV19MQVlFUj0xLHEuU1RFUF9CRUZPUkVSRU5ERVJJTkdNRVNIX1BSRVBBU1M9MCxxLlNURVBfQkVGT1JFUkVOREVSSU5HTUVTSF9PVVRMSU5FPTEscS5TVEVQX0FGVEVSUkVOREVSSU5HTUVTSF9QUkVQQVNTPTAscS5TVEVQX0FGVEVSUkVOREVSSU5HTUVTSF9PVVRMSU5FPTEscS5TVEVQX0FGVEVSUkVOREVSSU5HR1JPVVBEUkFXX0VGRkVDVExBWUVSX0RSQVc9MCxxLlNURVBfQUZURVJSRU5ERVJJTkdHUk9VUERSQVdfQk9VTkRJTkdCT1hSRU5ERVJFUj0xLHEuU1RFUF9CRUZPUkVDQU1FUkFVUERBVEVfU0lNUExJRklDQVRJT05RVUVVRT0wLHEuU1RFUF9CRUZPUkVDQU1FUkFVUERBVEVfR0FNRVBBRD0xLHEuU1RFUF9CRUZPUkVDTEVBUl9QUk9DRURVUkFMVEVYVFVSRT0wLHEuU1RFUF9CRUZPUkVDTEVBUl9QUkVQQVNTPTEscS5TVEVQX0JFRk9SRVJFTkRFUlRBUkdFVENMRUFSX1BSRVBBU1M9MCxxLlNURVBfQUZURVJSRU5ERVJUQVJHRVREUkFXX1BSRVBBU1M9MCxxLlNURVBfQUZURVJSRU5ERVJUQVJHRVREUkFXX0xBWUVSPTEscS5TVEVQX0FGVEVSQ0FNRVJBRFJBV19QUkVQQVNTPTAscS5TVEVQX0FGVEVSQ0FNRVJBRFJBV19FRkZFQ1RMQVlFUj0xLHEuU1RFUF9BRlRFUkNBTUVSQURSQVdfTEVOU0ZMQVJFU1lTVEVNPTIscS5TVEVQX0FGVEVSQ0FNRVJBRFJBV19FRkZFQ1RMQVlFUl9EUkFXPTMscS5TVEVQX0FGVEVSQ0FNRVJBRFJBV19MQVlFUj00LHEuU1RFUF9BRlRFUkNBTUVSQURSQVdfRkxVSURSRU5ERVJFUj01LHEuU1RFUF9BRlRFUkNBTUVSQVBPU1RQUk9DRVNTX0xBWUVSPTAscS5TVEVQX0FGVEVSUkVOREVSVEFSR0VUUE9TVFBST0NFU1NfTEFZRVI9MCxxLlNURVBfQUZURVJSRU5ERVJfQVVESU89MCxxLlNURVBfR0FUSEVSUkVOREVSVEFSR0VUU19ERVBUSFJFTkRFUkVSPTAscS5TVEVQX0dBVEhFUlJFTkRFUlRBUkdFVFNfR0VPTUVUUllCVUZGRVJSRU5ERVJFUj0xLHEuU1RFUF9HQVRIRVJSRU5ERVJUQVJHRVRTX1NIQURPV0dFTkVSQVRPUj0yLHEuU1RFUF9HQVRIRVJSRU5ERVJUQVJHRVRTX1BPU1RQUk9DRVNTUkVOREVSUElQRUxJTkVNQU5BR0VSPTMscS5TVEVQX0dBVEhFUkFDVElWRUNBTUVSQVJFTkRFUlRBUkdFVFNfREVQVEhSRU5ERVJFUj0wLHEuU1RFUF9HQVRIRVJBQ1RJVkVDQU1FUkFSRU5ERVJUQVJHRVRTX0ZMVUlEUkVOREVSRVI9MSxxLlNURVBfUE9JTlRFUk1PVkVfU1BSSVRFPTAscS5TVEVQX1BPSU5URVJET1dOX1NQUklURT0wLHEuU1RFUF9QT0lOVEVSVVBfU1BSSVRFPTA7Y2xhc3MgSWUgZXh0ZW5kcyBBcnJheXtjb25zdHJ1Y3RvcihlKXtzdXBlciguLi5lKX1zdGF0aWMgQ3JlYXRlKCl7cmV0dXJuIE9iamVjdC5jcmVhdGUoSWUucHJvdG90eXBlKX1yZWdpc3RlclN0ZXAoZSx0LGkpe2xldCBzPTAscj1OdW1iZXIuTUFYX1ZBTFVFO2Zvcig7czx0aGlzLmxlbmd0aCYmKHI9dGhpc1tzXS5pbmRleCwhKGU8cikpO3MrKyk7dGhpcy5zcGxpY2UocywwLHtpbmRleDplLGNvbXBvbmVudDp0LGFjdGlvbjppLmJpbmQodCl9KX1jbGVhcigpe3RoaXMubGVuZ3RoPTB9fWNsYXNzIFRle31UZS5QT0lOVEVSRE9XTj0xLFRlLlBPSU5URVJVUD0yLFRlLlBPSU5URVJNT1ZFPTQsVGUuUE9JTlRFUldIRUVMPTgsVGUuUE9JTlRFUlBJQ0s9MTYsVGUuUE9JTlRFUlRBUD0zMixUZS5QT0lOVEVSRE9VQkxFVEFQPTY0O2NsYXNzIGZye2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50eXBlPWUsdGhpcy5ldmVudD10fX1jbGFzcyBDbiBleHRlbmRzIGZye2NvbnN0cnVjdG9yKGUsdCxpLHMpe3N1cGVyKGUsdCksdGhpcy5yYXk9bnVsbCx0aGlzLm9yaWdpbmFsUGlja2luZ0luZm89bnVsbCx0aGlzLnNraXBPblBvaW50ZXJPYnNlcnZhYmxlPSExLHRoaXMubG9jYWxQb3NpdGlvbj1uZXcgdmUoaSxzKX19Y2xhc3MgdWkgZXh0ZW5kcyBmcntjb25zdHJ1Y3RvcihlLHQsaSxzPW51bGwpe3N1cGVyKGUsdCksdGhpcy5fcGlja0luZm89aSx0aGlzLl9pbnB1dE1hbmFnZXI9c31nZXQgcGlja0luZm8oKXtyZXR1cm4gdGhpcy5fcGlja0luZm98fHRoaXMuX2dlbmVyYXRlUGlja0luZm8oKSx0aGlzLl9waWNrSW5mb31fZ2VuZXJhdGVQaWNrSW5mbygpe3RoaXMuX2lucHV0TWFuYWdlciYmKHRoaXMuX3BpY2tJbmZvPXRoaXMuX2lucHV0TWFuYWdlci5fcGlja01vdmUodGhpcy5ldmVudC5wb2ludGVySWQpLHRoaXMuX2lucHV0TWFuYWdlci5fc2V0UmF5T25Qb2ludGVySW5mbyh0aGlzLl9waWNrSW5mbyx0aGlzLmV2ZW50KSx0aGlzLl9pbnB1dE1hbmFnZXI9bnVsbCl9fWNsYXNzIHV0e2NvbnN0cnVjdG9yKCl7dGhpcy5ob3ZlckN1cnNvcj0iIix0aGlzLmFjdGlvbnM9bmV3IEFycmF5LHRoaXMuaXNSZWN1cnNpdmU9ITF9c3RhdGljIGdldCBIYXNUcmlnZ2Vycygpe2Zvcihjb25zdCBlIGluIHV0LlRyaWdnZXJzKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh1dC5UcmlnZ2VycyxlKSlyZXR1cm4hMDtyZXR1cm4hMX1zdGF0aWMgZ2V0IEhhc1BpY2tUcmlnZ2Vycygpe2Zvcihjb25zdCBlIGluIHV0LlRyaWdnZXJzKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh1dC5UcmlnZ2VycyxlKSl7Y29uc3QgdD1wYXJzZUludChlKTtpZih0Pj0xJiZ0PD03KXJldHVybiEwfXJldHVybiExfXN0YXRpYyBIYXNTcGVjaWZpY1RyaWdnZXIoZSl7Zm9yKGNvbnN0IHQgaW4gdXQuVHJpZ2dlcnMpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHV0LlRyaWdnZXJzLHQpJiZwYXJzZUludCh0KT09PWUpcmV0dXJuITA7cmV0dXJuITF9fXV0LlRyaWdnZXJzPXt9O2NsYXNzIEppe31KaS5LRVlET1dOPTEsSmkuS0VZVVA9MjtjbGFzcyBDc3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMudHlwZT1lLHRoaXMuZXZlbnQ9dH19Y2xhc3MgX3IgZXh0ZW5kcyBDc3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy50eXBlPWUsdGhpcy5ldmVudD10LHRoaXMuc2tpcE9uS2V5Ym9hcmRPYnNlcnZhYmxlPSExfWdldCBza2lwT25Qb2ludGVyT2JzZXJ2YWJsZSgpe3JldHVybiB0aGlzLnNraXBPbktleWJvYXJkT2JzZXJ2YWJsZX1zZXQgc2tpcE9uUG9pbnRlck9ic2VydmFibGUoZSl7dGhpcy5za2lwT25LZXlib2FyZE9ic2VydmFibGU9ZX19dmFyIHo7KGZ1bmN0aW9uKGMpe2NbYy5HZW5lcmljPTBdPSJHZW5lcmljIixjW2MuS2V5Ym9hcmQ9MV09IktleWJvYXJkIixjW2MuTW91c2U9Ml09Ik1vdXNlIixjW2MuVG91Y2g9M109IlRvdWNoIixjW2MuRHVhbFNob2NrPTRdPSJEdWFsU2hvY2siLGNbYy5YYm94PTVdPSJYYm94IixjW2MuU3dpdGNoPTZdPSJTd2l0Y2giLGNbYy5EdWFsU2Vuc2U9N109IkR1YWxTZW5zZSJ9KSh6fHwoej17fSkpO3ZhciBROyhmdW5jdGlvbihjKXtjW2MuSG9yaXpvbnRhbD0wXT0iSG9yaXpvbnRhbCIsY1tjLlZlcnRpY2FsPTFdPSJWZXJ0aWNhbCIsY1tjLkxlZnRDbGljaz0yXT0iTGVmdENsaWNrIixjW2MuTWlkZGxlQ2xpY2s9M109Ik1pZGRsZUNsaWNrIixjW2MuUmlnaHRDbGljaz00XT0iUmlnaHRDbGljayIsY1tjLkJyb3dzZXJCYWNrPTVdPSJCcm93c2VyQmFjayIsY1tjLkJyb3dzZXJGb3J3YXJkPTZdPSJCcm93c2VyRm9yd2FyZCIsY1tjLk1vdXNlV2hlZWxYPTddPSJNb3VzZVdoZWVsWCIsY1tjLk1vdXNlV2hlZWxZPThdPSJNb3VzZVdoZWVsWSIsY1tjLk1vdXNlV2hlZWxaPTldPSJNb3VzZVdoZWVsWiIsY1tjLk1vdmU9MTJdPSJNb3ZlIn0pKFF8fChRPXt9KSk7dmFyIGVzOyhmdW5jdGlvbihjKXtjW2MuSG9yaXpvbnRhbD0wXT0iSG9yaXpvbnRhbCIsY1tjLlZlcnRpY2FsPTFdPSJWZXJ0aWNhbCIsY1tjLkxlZnRDbGljaz0yXT0iTGVmdENsaWNrIixjW2MuTWlkZGxlQ2xpY2s9M109Ik1pZGRsZUNsaWNrIixjW2MuUmlnaHRDbGljaz00XT0iUmlnaHRDbGljayIsY1tjLkJyb3dzZXJCYWNrPTVdPSJCcm93c2VyQmFjayIsY1tjLkJyb3dzZXJGb3J3YXJkPTZdPSJCcm93c2VyRm9yd2FyZCIsY1tjLk1vdXNlV2hlZWxYPTddPSJNb3VzZVdoZWVsWCIsY1tjLk1vdXNlV2hlZWxZPThdPSJNb3VzZVdoZWVsWSIsY1tjLk1vdXNlV2hlZWxaPTldPSJNb3VzZVdoZWVsWiIsY1tjLkRlbHRhSG9yaXpvbnRhbD0xMF09IkRlbHRhSG9yaXpvbnRhbCIsY1tjLkRlbHRhVmVydGljYWw9MTFdPSJEZWx0YVZlcnRpY2FsIn0pKGVzfHwoZXM9e30pKTt2YXIgZ3I7KGZ1bmN0aW9uKGMpe2NbYy5Dcm9zcz0wXT0iQ3Jvc3MiLGNbYy5DaXJjbGU9MV09IkNpcmNsZSIsY1tjLlNxdWFyZT0yXT0iU3F1YXJlIixjW2MuVHJpYW5nbGU9M109IlRyaWFuZ2xlIixjW2MuTDE9NF09IkwxIixjW2MuUjE9NV09IlIxIixjW2MuTDI9Nl09IkwyIixjW2MuUjI9N109IlIyIixjW2MuU2hhcmU9OF09IlNoYXJlIixjW2MuT3B0aW9ucz05XT0iT3B0aW9ucyIsY1tjLkwzPTEwXT0iTDMiLGNbYy5SMz0xMV09IlIzIixjW2MuRFBhZFVwPTEyXT0iRFBhZFVwIixjW2MuRFBhZERvd249MTNdPSJEUGFkRG93biIsY1tjLkRQYWRMZWZ0PTE0XT0iRFBhZExlZnQiLGNbYy5EUGFkUmlnaHQ9MTVdPSJEUGFkUmlnaHQiLGNbYy5Ib21lPTE2XT0iSG9tZSIsY1tjLlRvdWNoUGFkPTE3XT0iVG91Y2hQYWQiLGNbYy5MU3RpY2tYQXhpcz0xOF09IkxTdGlja1hBeGlzIixjW2MuTFN0aWNrWUF4aXM9MTldPSJMU3RpY2tZQXhpcyIsY1tjLlJTdGlja1hBeGlzPTIwXT0iUlN0aWNrWEF4aXMiLGNbYy5SU3RpY2tZQXhpcz0yMV09IlJTdGlja1lBeGlzIn0pKGdyfHwoZ3I9e30pKTt2YXIgcHI7KGZ1bmN0aW9uKGMpe2NbYy5Dcm9zcz0wXT0iQ3Jvc3MiLGNbYy5DaXJjbGU9MV09IkNpcmNsZSIsY1tjLlNxdWFyZT0yXT0iU3F1YXJlIixjW2MuVHJpYW5nbGU9M109IlRyaWFuZ2xlIixjW2MuTDE9NF09IkwxIixjW2MuUjE9NV09IlIxIixjW2MuTDI9Nl09IkwyIixjW2MuUjI9N109IlIyIixjW2MuQ3JlYXRlPThdPSJDcmVhdGUiLGNbYy5PcHRpb25zPTldPSJPcHRpb25zIixjW2MuTDM9MTBdPSJMMyIsY1tjLlIzPTExXT0iUjMiLGNbYy5EUGFkVXA9MTJdPSJEUGFkVXAiLGNbYy5EUGFkRG93bj0xM109IkRQYWREb3duIixjW2MuRFBhZExlZnQ9MTRdPSJEUGFkTGVmdCIsY1tjLkRQYWRSaWdodD0xNV09IkRQYWRSaWdodCIsY1tjLkhvbWU9MTZdPSJIb21lIixjW2MuVG91Y2hQYWQ9MTddPSJUb3VjaFBhZCIsY1tjLkxTdGlja1hBeGlzPTE4XT0iTFN0aWNrWEF4aXMiLGNbYy5MU3RpY2tZQXhpcz0xOV09IkxTdGlja1lBeGlzIixjW2MuUlN0aWNrWEF4aXM9MjBdPSJSU3RpY2tYQXhpcyIsY1tjLlJTdGlja1lBeGlzPTIxXT0iUlN0aWNrWUF4aXMifSkocHJ8fChwcj17fSkpO3ZhciBtcjsoZnVuY3Rpb24oYyl7Y1tjLkE9MF09IkEiLGNbYy5CPTFdPSJCIixjW2MuWD0yXT0iWCIsY1tjLlk9M109IlkiLGNbYy5MQj00XT0iTEIiLGNbYy5SQj01XT0iUkIiLGNbYy5MVD02XT0iTFQiLGNbYy5SVD03XT0iUlQiLGNbYy5CYWNrPThdPSJCYWNrIixjW2MuU3RhcnQ9OV09IlN0YXJ0IixjW2MuTFM9MTBdPSJMUyIsY1tjLlJTPTExXT0iUlMiLGNbYy5EUGFkVXA9MTJdPSJEUGFkVXAiLGNbYy5EUGFkRG93bj0xM109IkRQYWREb3duIixjW2MuRFBhZExlZnQ9MTRdPSJEUGFkTGVmdCIsY1tjLkRQYWRSaWdodD0xNV09IkRQYWRSaWdodCIsY1tjLkhvbWU9MTZdPSJIb21lIixjW2MuTFN0aWNrWEF4aXM9MTddPSJMU3RpY2tYQXhpcyIsY1tjLkxTdGlja1lBeGlzPTE4XT0iTFN0aWNrWUF4aXMiLGNbYy5SU3RpY2tYQXhpcz0xOV09IlJTdGlja1hBeGlzIixjW2MuUlN0aWNrWUF4aXM9MjBdPSJSU3RpY2tZQXhpcyJ9KShtcnx8KG1yPXt9KSk7dmFyIEVyOyhmdW5jdGlvbihjKXtjW2MuQj0wXT0iQiIsY1tjLkE9MV09IkEiLGNbYy5ZPTJdPSJZIixjW2MuWD0zXT0iWCIsY1tjLkw9NF09IkwiLGNbYy5SPTVdPSJSIixjW2MuWkw9Nl09IlpMIixjW2MuWlI9N109IlpSIixjW2MuTWludXM9OF09Ik1pbnVzIixjW2MuUGx1cz05XT0iUGx1cyIsY1tjLkxTPTEwXT0iTFMiLGNbYy5SUz0xMV09IlJTIixjW2MuRFBhZFVwPTEyXT0iRFBhZFVwIixjW2MuRFBhZERvd249MTNdPSJEUGFkRG93biIsY1tjLkRQYWRMZWZ0PTE0XT0iRFBhZExlZnQiLGNbYy5EUGFkUmlnaHQ9MTVdPSJEUGFkUmlnaHQiLGNbYy5Ib21lPTE2XT0iSG9tZSIsY1tjLkNhcHR1cmU9MTddPSJDYXB0dXJlIixjW2MuTFN0aWNrWEF4aXM9MThdPSJMU3RpY2tYQXhpcyIsY1tjLkxTdGlja1lBeGlzPTE5XT0iTFN0aWNrWUF4aXMiLGNbYy5SU3RpY2tYQXhpcz0yMF09IlJTdGlja1hBeGlzIixjW2MuUlN0aWNrWUF4aXM9MjFdPSJSU3RpY2tZQXhpcyJ9KShFcnx8KEVyPXt9KSk7dmFyIHZyOyhmdW5jdGlvbihjKXtjW2MuUG9pbnRlck1vdmU9MF09IlBvaW50ZXJNb3ZlIixjW2MuUG9pbnRlckRvd249MV09IlBvaW50ZXJEb3duIixjW2MuUG9pbnRlclVwPTJdPSJQb2ludGVyVXAifSkodnJ8fCh2cj17fSkpO2NsYXNzIHRze310cy5ET01fREVMVEFfUElYRUw9MCx0cy5ET01fREVMVEFfTElORT0xLHRzLkRPTV9ERUxUQV9QQUdFPTI7Y2xhc3MgZGl7c3RhdGljIENyZWF0ZURldmljZUV2ZW50KGUsdCxpLHMscixuKXtzd2l0Y2goZSl7Y2FzZSB6LktleWJvYXJkOnJldHVybiB0aGlzLl9DcmVhdGVLZXlib2FyZEV2ZW50KGkscyxyLG4pO2Nhc2Ugei5Nb3VzZTppZihpPT09US5Nb3VzZVdoZWVsWHx8aT09PVEuTW91c2VXaGVlbFl8fGk9PT1RLk1vdXNlV2hlZWxaKXJldHVybiB0aGlzLl9DcmVhdGVXaGVlbEV2ZW50KGUsdCxpLHMscixuKTtjYXNlIHouVG91Y2g6cmV0dXJuIHRoaXMuX0NyZWF0ZVBvaW50ZXJFdmVudChlLHQsaSxzLHIsbik7ZGVmYXVsdDp0aHJvd2BVbmFibGUgdG8gZ2VuZXJhdGUgZXZlbnQgZm9yIGRldmljZSAke3pbZV19YH19c3RhdGljIF9DcmVhdGVQb2ludGVyRXZlbnQoZSx0LGkscyxyLG4pe2NvbnN0IGE9dGhpcy5fQ3JlYXRlTW91c2VFdmVudChlLHQsaSxzLHIsbik7cmV0dXJuIGU9PT16Lk1vdXNlPyhhLmRldmljZVR5cGU9ei5Nb3VzZSxhLnBvaW50ZXJJZD0xLGEucG9pbnRlclR5cGU9Im1vdXNlIik6KGEuZGV2aWNlVHlwZT16LlRvdWNoLGEucG9pbnRlcklkPXQsYS5wb2ludGVyVHlwZT0idG91Y2giKSxpPT09US5Nb3ZlP2EudHlwZT0icG9pbnRlcm1vdmUiOmk+PVEuTGVmdENsaWNrJiZpPD1RLlJpZ2h0Q2xpY2smJihhLnR5cGU9cz09PTE/InBvaW50ZXJkb3duIjoicG9pbnRlcnVwIixhLmJ1dHRvbj1pLTIpLGF9c3RhdGljIF9DcmVhdGVXaGVlbEV2ZW50KGUsdCxpLHMscixuKXtjb25zdCBhPXRoaXMuX0NyZWF0ZU1vdXNlRXZlbnQoZSx0LGkscyxyLG4pO3N3aXRjaChhLnR5cGU9IndoZWVsIixhLmRlbHRhTW9kZT10cy5ET01fREVMVEFfUElYRUwsYS5kZWx0YVg9MCxhLmRlbHRhWT0wLGEuZGVsdGFaPTAsaSl7Y2FzZSBRLk1vdXNlV2hlZWxYOmEuZGVsdGFYPXM7YnJlYWs7Y2FzZSBRLk1vdXNlV2hlZWxZOmEuZGVsdGFZPXM7YnJlYWs7Y2FzZSBRLk1vdXNlV2hlZWxaOmEuZGVsdGFaPXM7YnJlYWt9cmV0dXJuIGF9c3RhdGljIF9DcmVhdGVNb3VzZUV2ZW50KGUsdCxpLHMscixuKXtjb25zdCBhPXRoaXMuX0NyZWF0ZUV2ZW50KG4pLG89ci5wb2xsSW5wdXQoZSx0LFEuSG9yaXpvbnRhbCksaD1yLnBvbGxJbnB1dChlLHQsUS5WZXJ0aWNhbCk7cmV0dXJuIG4/KGEubW92ZW1lbnRYPTAsYS5tb3ZlbWVudFk9MCxhLm9mZnNldFg9YS5tb3ZlbWVudFgtbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS54LGEub2Zmc2V0WT1hLm1vdmVtZW50WS1uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnkpOihhLm1vdmVtZW50WD1yLnBvbGxJbnB1dChlLHQsZXMuRGVsdGFIb3Jpem9udGFsKSxhLm1vdmVtZW50WT1yLnBvbGxJbnB1dChlLHQsZXMuRGVsdGFWZXJ0aWNhbCksYS5vZmZzZXRYPTAsYS5vZmZzZXRZPTApLHRoaXMuX0NoZWNrTm9uQ2hhcmFjdGVyS2V5cyhhLHIpLGEuY2xpZW50WD1vLGEuY2xpZW50WT1oLGEueD1vLGEueT1oLGEuZGV2aWNlVHlwZT1lLGEuZGV2aWNlU2xvdD10LGEuaW5wdXRJbmRleD1pLGF9c3RhdGljIF9DcmVhdGVLZXlib2FyZEV2ZW50KGUsdCxpLHMpe2NvbnN0IHI9dGhpcy5fQ3JlYXRlRXZlbnQocyk7cmV0dXJuIHRoaXMuX0NoZWNrTm9uQ2hhcmFjdGVyS2V5cyhyLGkpLHIuZGV2aWNlVHlwZT16LktleWJvYXJkLHIuZGV2aWNlU2xvdD0wLHIuaW5wdXRJbmRleD1lLHIudHlwZT10PT09MT8ia2V5ZG93biI6ImtleXVwIixyLmtleT1TdHJpbmcuZnJvbUNoYXJDb2RlKGUpLHIua2V5Q29kZT1lLHJ9c3RhdGljIF9DaGVja05vbkNoYXJhY3RlcktleXMoZSx0KXtjb25zdCBpPXQuaXNEZXZpY2VBdmFpbGFibGUoei5LZXlib2FyZCkscz1pJiZ0LnBvbGxJbnB1dCh6LktleWJvYXJkLDAsMTgpPT09MSxyPWkmJnQucG9sbElucHV0KHouS2V5Ym9hcmQsMCwxNyk9PT0xLG49aSYmKHQucG9sbElucHV0KHouS2V5Ym9hcmQsMCw5MSk9PT0xfHx0LnBvbGxJbnB1dCh6LktleWJvYXJkLDAsOTIpPT09MXx8dC5wb2xsSW5wdXQoei5LZXlib2FyZCwwLDkzKT09PTEpLGE9aSYmdC5wb2xsSW5wdXQoei5LZXlib2FyZCwwLDE2KT09PTE7ZS5hbHRLZXk9cyxlLmN0cmxLZXk9cixlLm1ldGFLZXk9bixlLnNoaWZ0S2V5PWF9c3RhdGljIF9DcmVhdGVFdmVudChlKXtjb25zdCB0PXt9O3JldHVybiB0LnByZXZlbnREZWZhdWx0PSgpPT57fSx0LnRhcmdldD1lLHR9fWNsYXNzIElue2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLl9uYXRpdmVJbnB1dD1fbmF0aXZlLkRldmljZUlucHV0U3lzdGVtP25ldyBfbmF0aXZlLkRldmljZUlucHV0U3lzdGVtKGUsdCwocyxyLG4sYSk9Pntjb25zdCBvPWRpLkNyZWF0ZURldmljZUV2ZW50KHMscixuLGEsdGhpcyk7aShzLHIsbyl9KTp0aGlzLl9jcmVhdGVEdW1teU5hdGl2ZUlucHV0KCl9cG9sbElucHV0KGUsdCxpKXtyZXR1cm4gdGhpcy5fbmF0aXZlSW5wdXQucG9sbElucHV0KGUsdCxpKX1pc0RldmljZUF2YWlsYWJsZShlKXtyZXR1cm4gZT09PXouTW91c2V8fGU9PT16LlRvdWNofWRpc3Bvc2UoKXt0aGlzLl9uYXRpdmVJbnB1dC5kaXNwb3NlKCl9X2NyZWF0ZUR1bW15TmF0aXZlSW5wdXQoKXtyZXR1cm57cG9sbElucHV0OigpPT4wLGlzRGV2aWNlQXZhaWxhYmxlOigpPT4hMSxkaXNwb3NlOigpPT57fX19fWNvbnN0IFRyPTI1NSxicj1PYmplY3Qua2V5cyhRKS5sZW5ndGgvMjtjbGFzcyBQbntjb25zdHJ1Y3RvcihlLHQsaSxzKXt0aGlzLl9pbnB1dHM9W10sdGhpcy5fa2V5Ym9hcmRBY3RpdmU9ITEsdGhpcy5fcG9pbnRlckFjdGl2ZT0hMSx0aGlzLl91c2luZ1NhZmFyaT1ILklzU2FmYXJpKCksdGhpcy5fdXNpbmdNYWNPUz0vKE1hY3xpUGhvbmV8aVBvZHxpUGFkKS9pLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSx0aGlzLl9rZXlib2FyZERvd25FdmVudD1yPT57fSx0aGlzLl9rZXlib2FyZFVwRXZlbnQ9cj0+e30sdGhpcy5fa2V5Ym9hcmRCbHVyRXZlbnQ9cj0+e30sdGhpcy5fcG9pbnRlck1vdmVFdmVudD1yPT57fSx0aGlzLl9wb2ludGVyRG93bkV2ZW50PXI9Pnt9LHRoaXMuX3BvaW50ZXJVcEV2ZW50PXI9Pnt9LHRoaXMuX3BvaW50ZXJDYW5jZWxFdmVudD1yPT57fSx0aGlzLl9wb2ludGVyV2hlZWxFdmVudD1yPT57fSx0aGlzLl9wb2ludGVyQmx1ckV2ZW50PXI9Pnt9LHRoaXMuX2V2ZW50c0F0dGFjaGVkPSExLHRoaXMuX21vdXNlSWQ9LTEsdGhpcy5faXNVc2luZ0ZpcmVmb3g9cHMuSXNOYXZpZ2F0b3JBdmFpbGFibGUoKSYmbmF2aWdhdG9yLnVzZXJBZ2VudCYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJGaXJlZm94IikhPT0tMSx0aGlzLl9tYXhUb3VjaFBvaW50cz0wLHRoaXMuX3BvaW50ZXJJbnB1dENsZWFyT2JzZXJ2ZXI9bnVsbCx0aGlzLl9nYW1lcGFkQ29ubmVjdGVkRXZlbnQ9cj0+e30sdGhpcy5fZ2FtZXBhZERpc2Nvbm5lY3RlZEV2ZW50PXI9Pnt9LHRoaXMuX2V2ZW50UHJlZml4PUguR2V0UG9pbnRlclByZWZpeChlKSx0aGlzLl9lbmdpbmU9ZSx0aGlzLl9vbkRldmljZUNvbm5lY3RlZD10LHRoaXMuX29uRGV2aWNlRGlzY29ubmVjdGVkPWksdGhpcy5fb25JbnB1dENoYW5nZWQ9cyx0aGlzLl9lbmFibGVFdmVudHMoKSx0aGlzLl91c2luZ01hY09TJiYodGhpcy5fbWV0YUtleXM9W10pLHRoaXMuX2VuZ2luZS5fb25FbmdpbmVWaWV3Q2hhbmdlZHx8KHRoaXMuX2VuZ2luZS5fb25FbmdpbmVWaWV3Q2hhbmdlZD0oKT0+e3RoaXMuX2VuYWJsZUV2ZW50cygpfSl9cG9sbElucHV0KGUsdCxpKXtjb25zdCBzPXRoaXMuX2lucHV0c1tlXVt0XTtpZighcyl0aHJvd2BVbmFibGUgdG8gZmluZCBkZXZpY2UgJHt6W2VdfWA7ZT49ei5EdWFsU2hvY2smJmU8PXouRHVhbFNlbnNlJiZ0aGlzLl91cGRhdGVEZXZpY2UoZSx0LGkpO2NvbnN0IHI9c1tpXTtpZihyPT09dm9pZCAwKXRocm93YFVuYWJsZSB0byBmaW5kIGlucHV0ICR7aX0gZm9yIGRldmljZSAke3pbZV19IGluIHNsb3QgJHt0fWA7cmV0dXJuIGk9PT1RLk1vdmUmJkguV2FybigiVW5hYmxlIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gZm9yIFBvaW50ZXJJbnB1dC5Nb3ZlLiAgVHJ5IHVzaW5nIFBvaW50ZXJJbnB1dC5Ib3Jpem9udGFsIG9yIFBvaW50ZXJJbnB1dC5WZXJ0aWNhbCBmb3IgbW92ZSBkYXRhLiIpLHJ9aXNEZXZpY2VBdmFpbGFibGUoZSl7cmV0dXJuIHRoaXMuX2lucHV0c1tlXSE9PXZvaWQgMH1kaXNwb3NlKCl7dGhpcy5fb25EZXZpY2VDb25uZWN0ZWQ9KCk9Pnt9LHRoaXMuX29uRGV2aWNlRGlzY29ubmVjdGVkPSgpPT57fSx0aGlzLl9vbklucHV0Q2hhbmdlZD0oKT0+e30sZGVsZXRlIHRoaXMuX2VuZ2luZS5fb25FbmdpbmVWaWV3Q2hhbmdlZCx0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyYmdGhpcy5fZGlzYWJsZUV2ZW50cygpfV9lbmFibGVFdmVudHMoKXtjb25zdCBlPXRoaXM9PT1udWxsfHx0aGlzPT09dm9pZCAwP3ZvaWQgMDp0aGlzLl9lbmdpbmUuZ2V0SW5wdXRFbGVtZW50KCk7aWYoZSYmKCF0aGlzLl9ldmVudHNBdHRhY2hlZHx8dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8hPT1lKSl7aWYodGhpcy5fZGlzYWJsZUV2ZW50cygpLHRoaXMuX2lucHV0cyl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5faW5wdXRzKWlmKHQpZm9yKGNvbnN0IGkgaW4gdCl7Y29uc3Qgcz0raSxyPXRbc107aWYocilmb3IobGV0IG49MDtuPHIubGVuZ3RoO24rKylyW25dPTB9fXRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvPWUsdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8udGFiSW5kZXg9dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8udGFiSW5kZXghPT0tMT90aGlzLl9lbGVtZW50VG9BdHRhY2hUby50YWJJbmRleDp0aGlzLl9lbmdpbmUuY2FudmFzVGFiSW5kZXgsdGhpcy5faGFuZGxlS2V5QWN0aW9ucygpLHRoaXMuX2hhbmRsZVBvaW50ZXJBY3Rpb25zKCksdGhpcy5faGFuZGxlR2FtZXBhZEFjdGlvbnMoKSx0aGlzLl9ldmVudHNBdHRhY2hlZD0hMCx0aGlzLl9jaGVja0ZvckNvbm5lY3RlZERldmljZXMoKX19X2Rpc2FibGVFdmVudHMoKXt0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyYmKHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbW92ZUV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX2tleWJvYXJkQmx1ckV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9wb2ludGVyQmx1ckV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXlkb3duIix0aGlzLl9rZXlib2FyZERvd25FdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigia2V5dXAiLHRoaXMuX2tleWJvYXJkVXBFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsibW92ZSIsdGhpcy5fcG9pbnRlck1vdmVFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsiZG93biIsdGhpcy5fcG9pbnRlckRvd25FdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsidXAiLHRoaXMuX3BvaW50ZXJVcEV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJjYW5jZWwiLHRoaXMuX3BvaW50ZXJDYW5jZWxFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl93aGVlbEV2ZW50TmFtZSx0aGlzLl9wb2ludGVyV2hlZWxFdmVudCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImdhbWVwYWRjb25uZWN0ZWQiLHRoaXMuX2dhbWVwYWRDb25uZWN0ZWRFdmVudCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImdhbWVwYWRkaXNjb25uZWN0ZWQiLHRoaXMuX2dhbWVwYWREaXNjb25uZWN0ZWRFdmVudCkpLHRoaXMuX3BvaW50ZXJJbnB1dENsZWFyT2JzZXJ2ZXImJnRoaXMuX2VuZ2luZS5vbkVuZEZyYW1lT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fcG9pbnRlcklucHV0Q2xlYXJPYnNlcnZlciksdGhpcy5fZXZlbnRzQXR0YWNoZWQ9ITF9X2NoZWNrRm9yQ29ubmVjdGVkRGV2aWNlcygpe2lmKG5hdmlnYXRvci5nZXRHYW1lcGFkcyl7Y29uc3QgZT1uYXZpZ2F0b3IuZ2V0R2FtZXBhZHMoKTtmb3IoY29uc3QgdCBvZiBlKXQmJnRoaXMuX2FkZEdhbWVQYWQodCl9dHlwZW9mIG1hdGNoTWVkaWE9PSJmdW5jdGlvbiImJm1hdGNoTWVkaWEoIihwb2ludGVyOmZpbmUpIikubWF0Y2hlcyYmdGhpcy5fYWRkUG9pbnRlckRldmljZSh6Lk1vdXNlLDAsMCwwKX1fYWRkR2FtZVBhZChlKXtjb25zdCB0PXRoaXMuX2dldEdhbWVwYWREZXZpY2VUeXBlKGUuaWQpLGk9ZS5pbmRleDt0aGlzLl9nYW1lcGFkcz10aGlzLl9nYW1lcGFkc3x8bmV3IEFycmF5KGUuaW5kZXgrMSksdGhpcy5fcmVnaXN0ZXJEZXZpY2UodCxpLGUuYnV0dG9ucy5sZW5ndGgrZS5heGVzLmxlbmd0aCksdGhpcy5fZ2FtZXBhZHNbaV09dH1fYWRkUG9pbnRlckRldmljZShlLHQsaSxzKXt0aGlzLl9wb2ludGVyQWN0aXZlfHwodGhpcy5fcG9pbnRlckFjdGl2ZT0hMCksdGhpcy5fcmVnaXN0ZXJEZXZpY2UoZSx0LGJyKTtjb25zdCByPXRoaXMuX2lucHV0c1tlXVt0XTtyWzBdPWksclsxXT1zfV9yZWdpc3RlckRldmljZShlLHQsaSl7aWYodD09PXZvaWQgMCl0aHJvd2BVbmFibGUgdG8gcmVnaXN0ZXIgZGV2aWNlICR7eltlXX0gdG8gdW5kZWZpbmVkIHNsb3QuYDtpZih0aGlzLl9pbnB1dHNbZV18fCh0aGlzLl9pbnB1dHNbZV09e30pLCF0aGlzLl9pbnB1dHNbZV1bdF0pe2NvbnN0IHM9bmV3IEFycmF5KGkpO3MuZmlsbCgwKSx0aGlzLl9pbnB1dHNbZV1bdF09cyx0aGlzLl9vbkRldmljZUNvbm5lY3RlZChlLHQpfX1fdW5yZWdpc3RlckRldmljZShlLHQpe3RoaXMuX2lucHV0c1tlXVt0XSYmKGRlbGV0ZSB0aGlzLl9pbnB1dHNbZV1bdF0sdGhpcy5fb25EZXZpY2VEaXNjb25uZWN0ZWQoZSx0KSl9X2hhbmRsZUtleUFjdGlvbnMoKXt0aGlzLl9rZXlib2FyZERvd25FdmVudD1lPT57dGhpcy5fa2V5Ym9hcmRBY3RpdmV8fCh0aGlzLl9rZXlib2FyZEFjdGl2ZT0hMCx0aGlzLl9yZWdpc3RlckRldmljZSh6LktleWJvYXJkLDAsVHIpKTtjb25zdCB0PXRoaXMuX2lucHV0c1t6LktleWJvYXJkXVswXTtpZih0KXt0W2Uua2V5Q29kZV09MTtjb25zdCBpPWU7aS5pbnB1dEluZGV4PWUua2V5Q29kZSx0aGlzLl91c2luZ01hY09TJiZlLm1ldGFLZXkmJmUua2V5IT09Ik1ldGEiJiYodGhpcy5fbWV0YUtleXMuaW5jbHVkZXMoZS5rZXlDb2RlKXx8dGhpcy5fbWV0YUtleXMucHVzaChlLmtleUNvZGUpKSx0aGlzLl9vbklucHV0Q2hhbmdlZCh6LktleWJvYXJkLDAsaSl9fSx0aGlzLl9rZXlib2FyZFVwRXZlbnQ9ZT0+e3RoaXMuX2tleWJvYXJkQWN0aXZlfHwodGhpcy5fa2V5Ym9hcmRBY3RpdmU9ITAsdGhpcy5fcmVnaXN0ZXJEZXZpY2Uoei5LZXlib2FyZCwwLFRyKSk7Y29uc3QgdD10aGlzLl9pbnB1dHNbei5LZXlib2FyZF1bMF07aWYodCl7dFtlLmtleUNvZGVdPTA7Y29uc3QgaT1lO2lmKGkuaW5wdXRJbmRleD1lLmtleUNvZGUsdGhpcy5fdXNpbmdNYWNPUyYmZS5rZXk9PT0iTWV0YSImJnRoaXMuX21ldGFLZXlzLmxlbmd0aD4wKXtmb3IoY29uc3QgcyBvZiB0aGlzLl9tZXRhS2V5cyl7Y29uc3Qgcj1kaS5DcmVhdGVEZXZpY2VFdmVudCh6LktleWJvYXJkLDAscywwLHRoaXMsdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8pO3Rbc109MCx0aGlzLl9vbklucHV0Q2hhbmdlZCh6LktleWJvYXJkLDAscil9dGhpcy5fbWV0YUtleXMuc3BsaWNlKDAsdGhpcy5fbWV0YUtleXMubGVuZ3RoKX10aGlzLl9vbklucHV0Q2hhbmdlZCh6LktleWJvYXJkLDAsaSl9fSx0aGlzLl9rZXlib2FyZEJsdXJFdmVudD0oKT0+e2lmKHRoaXMuX2tleWJvYXJkQWN0aXZlKXtjb25zdCBlPXRoaXMuX2lucHV0c1t6LktleWJvYXJkXVswXTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKylpZihlW3RdIT09MCl7ZVt0XT0wO2NvbnN0IGk9ZGkuQ3JlYXRlRGV2aWNlRXZlbnQoei5LZXlib2FyZCwwLHQsMCx0aGlzLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvKTt0aGlzLl9vbklucHV0Q2hhbmdlZCh6LktleWJvYXJkLDAsaSl9dGhpcy5fdXNpbmdNYWNPUyYmdGhpcy5fbWV0YUtleXMuc3BsaWNlKDAsdGhpcy5fbWV0YUtleXMubGVuZ3RoKX19LHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLHRoaXMuX2tleWJvYXJkRG93bkV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKCJrZXl1cCIsdGhpcy5fa2V5Ym9hcmRVcEV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9rZXlib2FyZEJsdXJFdmVudCl9X2hhbmRsZVBvaW50ZXJBY3Rpb25zKCl7dGhpcy5fbWF4VG91Y2hQb2ludHM9cHMuSXNOYXZpZ2F0b3JBdmFpbGFibGUoKSYmbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzfHwyLHRoaXMuX2FjdGl2ZVRvdWNoSWRzfHwodGhpcy5fYWN0aXZlVG91Y2hJZHM9bmV3IEFycmF5KHRoaXMuX21heFRvdWNoUG9pbnRzKSk7Zm9yKGxldCBpPTA7aTx0aGlzLl9tYXhUb3VjaFBvaW50cztpKyspdGhpcy5fYWN0aXZlVG91Y2hJZHNbaV09LTE7dGhpcy5fcG9pbnRlck1vdmVFdmVudD1pPT57Y29uc3Qgcz10aGlzLl9nZXRQb2ludGVyVHlwZShpKSxyPXM9PT16Lk1vdXNlPzA6dGhpcy5fYWN0aXZlVG91Y2hJZHMuaW5kZXhPZihpLnBvaW50ZXJJZCk7dGhpcy5faW5wdXRzW3NdfHwodGhpcy5faW5wdXRzW3NdPXt9KSx0aGlzLl9pbnB1dHNbc11bcl18fHRoaXMuX2FkZFBvaW50ZXJEZXZpY2UocyxyLGkuY2xpZW50WCxpLmNsaWVudFkpO2NvbnN0IG49dGhpcy5faW5wdXRzW3NdW3JdO2lmKG4pe2NvbnN0IGE9aTthLmlucHV0SW5kZXg9US5Nb3ZlLG5bUS5Ib3Jpem9udGFsXT1pLmNsaWVudFgsbltRLlZlcnRpY2FsXT1pLmNsaWVudFksdGhpcy5fb25JbnB1dENoYW5nZWQocyxyLGEpLCF0aGlzLl91c2luZ1NhZmFyaSYmaS5idXR0b24hPT0tMSYmKGEuaW5wdXRJbmRleD1pLmJ1dHRvbisyLG5baS5idXR0b24rMl09bltpLmJ1dHRvbisyXT8wOjEsdGhpcy5fb25JbnB1dENoYW5nZWQocyxyLGEpKX19LHRoaXMuX3BvaW50ZXJEb3duRXZlbnQ9aT0+e2NvbnN0IHM9dGhpcy5fZ2V0UG9pbnRlclR5cGUoaSk7bGV0IHI9cz09PXouTW91c2U/MDppLnBvaW50ZXJJZDtpZihzPT09ei5Ub3VjaCl7Y29uc3QgYT10aGlzLl9hY3RpdmVUb3VjaElkcy5pbmRleE9mKC0xKTtpZihhPj0wKXI9YSx0aGlzLl9hY3RpdmVUb3VjaElkc1thXT1pLnBvaW50ZXJJZDtlbHNle0guV2FybihgTWF4IG51bWJlciBvZiB0b3VjaGVzIGV4Y2VlZGVkLiAgSWdub3JpbmcgdG91Y2hlcyBpbiBleGNlc3Mgb2YgJHt0aGlzLl9tYXhUb3VjaFBvaW50c31gKTtyZXR1cm59fXRoaXMuX2lucHV0c1tzXXx8KHRoaXMuX2lucHV0c1tzXT17fSksdGhpcy5faW5wdXRzW3NdW3JdP3M9PT16LlRvdWNoJiZ0aGlzLl9vbkRldmljZUNvbm5lY3RlZChzLHIpOnRoaXMuX2FkZFBvaW50ZXJEZXZpY2UocyxyLGkuY2xpZW50WCxpLmNsaWVudFkpO2NvbnN0IG49dGhpcy5faW5wdXRzW3NdW3JdO2lmKG4pe2NvbnN0IGE9bltRLkhvcml6b250YWxdLG89bltRLlZlcnRpY2FsXTtpZihzPT09ei5Nb3VzZSl7aWYodGhpcy5fbW91c2VJZD09PS0xJiYoaS5wb2ludGVySWQ9PT12b2lkIDA/dGhpcy5fbW91c2VJZD10aGlzLl9pc1VzaW5nRmlyZWZveD8wOjE6dGhpcy5fbW91c2VJZD1pLnBvaW50ZXJJZCksIWRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCl0cnl7dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uc2V0UG9pbnRlckNhcHR1cmUodGhpcy5fbW91c2VJZCl9Y2F0Y2h7fX1lbHNlIGlmKGkucG9pbnRlcklkJiYhZG9jdW1lbnQucG9pbnRlckxvY2tFbGVtZW50KXRyeXt0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5zZXRQb2ludGVyQ2FwdHVyZShpLnBvaW50ZXJJZCl9Y2F0Y2h7fW5bUS5Ib3Jpem9udGFsXT1pLmNsaWVudFgsbltRLlZlcnRpY2FsXT1pLmNsaWVudFksbltpLmJ1dHRvbisyXT0xO2NvbnN0IGg9aTtoLmlucHV0SW5kZXg9aS5idXR0b24rMix0aGlzLl9vbklucHV0Q2hhbmdlZChzLHIsaCksKGEhPT1pLmNsaWVudFh8fG8hPT1pLmNsaWVudFkpJiYoaC5pbnB1dEluZGV4PVEuTW92ZSx0aGlzLl9vbklucHV0Q2hhbmdlZChzLHIsaCkpfX0sdGhpcy5fcG9pbnRlclVwRXZlbnQ9aT0+e3ZhciBzLHIsbixhLG87Y29uc3QgaD10aGlzLl9nZXRQb2ludGVyVHlwZShpKSxsPWg9PT16Lk1vdXNlPzA6dGhpcy5fYWN0aXZlVG91Y2hJZHMuaW5kZXhPZihpLnBvaW50ZXJJZCk7aWYoaD09PXouVG91Y2gpe2lmKGw9PT0tMSlyZXR1cm47dGhpcy5fYWN0aXZlVG91Y2hJZHNbbF09LTF9Y29uc3QgdT0ocz10aGlzLl9pbnB1dHNbaF0pPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6c1tsXTtpZih1JiZ1W2kuYnV0dG9uKzJdIT09MCl7Y29uc3QgZD11W1EuSG9yaXpvbnRhbF0sZj11W1EuVmVydGljYWxdO3VbUS5Ib3Jpem9udGFsXT1pLmNsaWVudFgsdVtRLlZlcnRpY2FsXT1pLmNsaWVudFksdVtpLmJ1dHRvbisyXT0wO2NvbnN0IF89aTsoZCE9PWkuY2xpZW50WHx8ZiE9PWkuY2xpZW50WSkmJihfLmlucHV0SW5kZXg9US5Nb3ZlLHRoaXMuX29uSW5wdXRDaGFuZ2VkKGgsbCxfKSksXy5pbnB1dEluZGV4PWkuYnV0dG9uKzIsaD09PXouTW91c2UmJnRoaXMuX21vdXNlSWQ+PTAmJighKChuPShyPXRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvKS5oYXNQb2ludGVyQ2FwdHVyZSk9PT1udWxsfHxuPT09dm9pZCAwKSYmbi5jYWxsKHIsdGhpcy5fbW91c2VJZCkpP3RoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZSh0aGlzLl9tb3VzZUlkKTppLnBvaW50ZXJJZCYmKCEoKG89KGE9dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8pLmhhc1BvaW50ZXJDYXB0dXJlKT09PW51bGx8fG89PT12b2lkIDApJiZvLmNhbGwoYSxpLnBvaW50ZXJJZCkpJiZ0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZWxlYXNlUG9pbnRlckNhcHR1cmUoaS5wb2ludGVySWQpLHRoaXMuX29uSW5wdXRDaGFuZ2VkKGgsbCxfKSxoPT09ei5Ub3VjaCYmdGhpcy5fb25EZXZpY2VEaXNjb25uZWN0ZWQoaCxsKX19LHRoaXMuX3BvaW50ZXJDYW5jZWxFdmVudD1pPT57dmFyIHMscixuLGE7aWYoaS5wb2ludGVyVHlwZT09PSJtb3VzZSIpe2NvbnN0IG89dGhpcy5faW5wdXRzW3ouTW91c2VdWzBdO3RoaXMuX21vdXNlSWQ+PTAmJighKChyPShzPXRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvKS5oYXNQb2ludGVyQ2FwdHVyZSk9PT1udWxsfHxyPT09dm9pZCAwKSYmci5jYWxsKHMsdGhpcy5fbW91c2VJZCkpJiZ0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZWxlYXNlUG9pbnRlckNhcHR1cmUodGhpcy5fbW91c2VJZCk7Zm9yKGxldCBoPVEuTGVmdENsaWNrO2g8PVEuQnJvd3NlckZvcndhcmQ7aCsrKWlmKG9baF09PT0xKXtvW2hdPTA7Y29uc3QgbD1kaS5DcmVhdGVEZXZpY2VFdmVudCh6Lk1vdXNlLDAsaCwwLHRoaXMsdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8pO3RoaXMuX29uSW5wdXRDaGFuZ2VkKHouTW91c2UsMCxsKX19ZWxzZXtjb25zdCBvPXRoaXMuX2FjdGl2ZVRvdWNoSWRzLmluZGV4T2YoaS5wb2ludGVySWQpOyEoKGE9KG49dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8pLmhhc1BvaW50ZXJDYXB0dXJlKT09PW51bGx8fGE9PT12b2lkIDApJiZhLmNhbGwobixpLnBvaW50ZXJJZCkmJnRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShpLnBvaW50ZXJJZCksdGhpcy5faW5wdXRzW3ouVG91Y2hdW29dW1EuTGVmdENsaWNrXT0wO2NvbnN0IGg9ZGkuQ3JlYXRlRGV2aWNlRXZlbnQoei5Ub3VjaCxvLFEuTGVmdENsaWNrLDAsdGhpcyx0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyk7dGhpcy5fb25JbnB1dENoYW5nZWQoei5Ub3VjaCxvLGgpLHRoaXMuX2FjdGl2ZVRvdWNoSWRzW29dPS0xLHRoaXMuX29uRGV2aWNlRGlzY29ubmVjdGVkKHouVG91Y2gsbyl9fSx0aGlzLl93aGVlbEV2ZW50TmFtZT0ib253aGVlbCJpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKT8id2hlZWwiOmRvY3VtZW50Lm9ubW91c2V3aGVlbCE9PXZvaWQgMD8ibW91c2V3aGVlbCI6IkRPTU1vdXNlU2Nyb2xsIjtsZXQgZT0hMTtjb25zdCB0PWZ1bmN0aW9uKCl7fTt0cnl7Y29uc3QgaT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sInBhc3NpdmUiLHtnZXQ6ZnVuY3Rpb24oKXtlPSEwfX0pO3RoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIoInRlc3QiLHQsaSksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigidGVzdCIsdCxpKX1jYXRjaHt9dGhpcy5fcG9pbnRlckJsdXJFdmVudD0oKT0+e3ZhciBpLHMscixuLGE7aWYodGhpcy5pc0RldmljZUF2YWlsYWJsZSh6Lk1vdXNlKSl7Y29uc3Qgbz10aGlzLl9pbnB1dHNbei5Nb3VzZV1bMF07dGhpcy5fbW91c2VJZD49MCYmKCEoKHM9KGk9dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8pLmhhc1BvaW50ZXJDYXB0dXJlKT09PW51bGx8fHM9PT12b2lkIDApJiZzLmNhbGwoaSx0aGlzLl9tb3VzZUlkKSkmJnRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZSh0aGlzLl9tb3VzZUlkKTtmb3IobGV0IGg9US5MZWZ0Q2xpY2s7aDw9US5Ccm93c2VyRm9yd2FyZDtoKyspaWYob1toXT09PTEpe29baF09MDtjb25zdCBsPWRpLkNyZWF0ZURldmljZUV2ZW50KHouTW91c2UsMCxoLDAsdGhpcyx0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyk7dGhpcy5fb25JbnB1dENoYW5nZWQoei5Nb3VzZSwwLGwpfX1pZih0aGlzLmlzRGV2aWNlQXZhaWxhYmxlKHouVG91Y2gpKXtjb25zdCBvPXRoaXMuX2lucHV0c1t6LlRvdWNoXTtmb3IobGV0IGg9MDtoPHRoaXMuX2FjdGl2ZVRvdWNoSWRzLmxlbmd0aDtoKyspe2NvbnN0IGw9dGhpcy5fYWN0aXZlVG91Y2hJZHNbaF07aWYoISgobj0ocj10aGlzLl9lbGVtZW50VG9BdHRhY2hUbykuaGFzUG9pbnRlckNhcHR1cmUpPT09bnVsbHx8bj09PXZvaWQgMCkmJm4uY2FsbChyLGwpJiZ0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZWxlYXNlUG9pbnRlckNhcHR1cmUobCksbCE9PS0xJiYoKGE9b1toXSk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphW1EuTGVmdENsaWNrXSk9PT0xKXtvW2hdW1EuTGVmdENsaWNrXT0wO2NvbnN0IHU9ZGkuQ3JlYXRlRGV2aWNlRXZlbnQoei5Ub3VjaCxoLFEuTGVmdENsaWNrLDAsdGhpcyx0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyk7dGhpcy5fb25JbnB1dENoYW5nZWQoei5Ub3VjaCxoLHUpLHRoaXMuX2FjdGl2ZVRvdWNoSWRzW2hdPS0xLHRoaXMuX29uRGV2aWNlRGlzY29ubmVjdGVkKHouVG91Y2gsaCl9fX19LHRoaXMuX3BvaW50ZXJXaGVlbEV2ZW50PWk9Pntjb25zdCBzPXouTW91c2Uscj0wO3RoaXMuX2lucHV0c1tzXXx8KHRoaXMuX2lucHV0c1tzXT1bXSksdGhpcy5faW5wdXRzW3NdW3JdfHwodGhpcy5fcG9pbnRlckFjdGl2ZT0hMCx0aGlzLl9yZWdpc3RlckRldmljZShzLHIsYnIpKTtjb25zdCBuPXRoaXMuX2lucHV0c1tzXVtyXTtpZihuKXtuW1EuTW91c2VXaGVlbFhdPWkuZGVsdGFYfHwwLG5bUS5Nb3VzZVdoZWVsWV09aS5kZWx0YVl8fGkud2hlZWxEZWx0YXx8MCxuW1EuTW91c2VXaGVlbFpdPWkuZGVsdGFafHwwO2NvbnN0IGE9aTtuW1EuTW91c2VXaGVlbFhdIT09MCYmKGEuaW5wdXRJbmRleD1RLk1vdXNlV2hlZWxYLHRoaXMuX29uSW5wdXRDaGFuZ2VkKHMscixhKSksbltRLk1vdXNlV2hlZWxZXSE9PTAmJihhLmlucHV0SW5kZXg9US5Nb3VzZVdoZWVsWSx0aGlzLl9vbklucHV0Q2hhbmdlZChzLHIsYSkpLG5bUS5Nb3VzZVdoZWVsWl0hPT0wJiYoYS5pbnB1dEluZGV4PVEuTW91c2VXaGVlbFosdGhpcy5fb25JbnB1dENoYW5nZWQocyxyLGEpKX19LHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fZXZlbnRQcmVmaXgrIm1vdmUiLHRoaXMuX3BvaW50ZXJNb3ZlRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fZXZlbnRQcmVmaXgrImRvd24iLHRoaXMuX3BvaW50ZXJEb3duRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fZXZlbnRQcmVmaXgrInVwIix0aGlzLl9wb2ludGVyVXBFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsiY2FuY2VsIix0aGlzLl9wb2ludGVyQ2FuY2VsRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX3BvaW50ZXJCbHVyRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fd2hlZWxFdmVudE5hbWUsdGhpcy5fcG9pbnRlcldoZWVsRXZlbnQsZT97cGFzc2l2ZTohMX06ITEpLHRoaXMuX3BvaW50ZXJJbnB1dENsZWFyT2JzZXJ2ZXI9dGhpcy5fZW5naW5lLm9uRW5kRnJhbWVPYnNlcnZhYmxlLmFkZCgoKT0+e2lmKHRoaXMuaXNEZXZpY2VBdmFpbGFibGUoei5Nb3VzZSkpe2NvbnN0IGk9dGhpcy5faW5wdXRzW3ouTW91c2VdWzBdO2lbUS5Nb3VzZVdoZWVsWF09MCxpW1EuTW91c2VXaGVlbFldPTAsaVtRLk1vdXNlV2hlZWxaXT0wfX0pfV9oYW5kbGVHYW1lcGFkQWN0aW9ucygpe3RoaXMuX2dhbWVwYWRDb25uZWN0ZWRFdmVudD1lPT57dGhpcy5fYWRkR2FtZVBhZChlLmdhbWVwYWQpfSx0aGlzLl9nYW1lcGFkRGlzY29ubmVjdGVkRXZlbnQ9ZT0+e2lmKHRoaXMuX2dhbWVwYWRzKXtjb25zdCB0PXRoaXMuX2dldEdhbWVwYWREZXZpY2VUeXBlKGUuZ2FtZXBhZC5pZCksaT1lLmdhbWVwYWQuaW5kZXg7dGhpcy5fdW5yZWdpc3RlckRldmljZSh0LGkpLGRlbGV0ZSB0aGlzLl9nYW1lcGFkc1tpXX19LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJnYW1lcGFkY29ubmVjdGVkIix0aGlzLl9nYW1lcGFkQ29ubmVjdGVkRXZlbnQpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJnYW1lcGFkZGlzY29ubmVjdGVkIix0aGlzLl9nYW1lcGFkRGlzY29ubmVjdGVkRXZlbnQpfV91cGRhdGVEZXZpY2UoZSx0LGkpe2NvbnN0IHM9bmF2aWdhdG9yLmdldEdhbWVwYWRzKClbdF07aWYocyYmZT09PXRoaXMuX2dhbWVwYWRzW3RdKXtjb25zdCByPXRoaXMuX2lucHV0c1tlXVt0XTtpPj1zLmJ1dHRvbnMubGVuZ3RoP3JbaV09cy5heGVzW2ktcy5idXR0b25zLmxlbmd0aF0udmFsdWVPZigpOnJbaV09cy5idXR0b25zW2ldLnZhbHVlfX1fZ2V0R2FtZXBhZERldmljZVR5cGUoZSl7cmV0dXJuIGUuaW5kZXhPZigiMDU0YyIpIT09LTE/ZS5pbmRleE9mKCIwY2U2IikhPT0tMT96LkR1YWxTZW5zZTp6LkR1YWxTaG9jazplLmluZGV4T2YoIlhib3ggT25lIikhPT0tMXx8ZS5zZWFyY2goIlhib3ggMzYwIikhPT0tMXx8ZS5zZWFyY2goInhpbnB1dCIpIT09LTE/ei5YYm94OmUuaW5kZXhPZigiMDU3ZSIpIT09LTE/ei5Td2l0Y2g6ei5HZW5lcmljfV9nZXRQb2ludGVyVHlwZShlKXtsZXQgdD16Lk1vdXNlO3JldHVybihlLnBvaW50ZXJUeXBlPT09InRvdWNoInx8ZS5wb2ludGVyVHlwZT09PSJwZW4ifHxlLnRvdWNoZXMpJiYodD16LlRvdWNoKSx0fX1jbGFzcyBTcntjb25zdHJ1Y3RvcihlLHQsaT0wKXt0aGlzLmRldmljZVR5cGU9dCx0aGlzLmRldmljZVNsb3Q9aSx0aGlzLm9uSW5wdXRDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9kZXZpY2VJbnB1dFN5c3RlbT1lfWdldElucHV0KGUpe3JldHVybiB0aGlzLl9kZXZpY2VJbnB1dFN5c3RlbS5wb2xsSW5wdXQodGhpcy5kZXZpY2VUeXBlLHRoaXMuZGV2aWNlU2xvdCxlKX19Y2xhc3MgRG57Y29uc3RydWN0b3IoZSl7dGhpcy5fcmVnaXN0ZXJlZE1hbmFnZXJzPW5ldyBBcnJheSx0aGlzLl9yZWZDb3VudD0wLHRoaXMucmVnaXN0ZXJNYW5hZ2VyPW49Pntmb3IobGV0IGE9MDthPHRoaXMuX2RldmljZXMubGVuZ3RoO2ErKyl7Y29uc3Qgbz10aGlzLl9kZXZpY2VzW2FdO2Zvcihjb25zdCBoIGluIG8pe2NvbnN0IGw9K2g7bi5fYWRkRGV2aWNlKG5ldyBTcih0aGlzLl9kZXZpY2VJbnB1dFN5c3RlbSxhLGwpKX19dGhpcy5fcmVnaXN0ZXJlZE1hbmFnZXJzLnB1c2gobil9LHRoaXMudW5yZWdpc3Rlck1hbmFnZXI9bj0+e2NvbnN0IGE9dGhpcy5fcmVnaXN0ZXJlZE1hbmFnZXJzLmluZGV4T2Yobik7YT4tMSYmdGhpcy5fcmVnaXN0ZXJlZE1hbmFnZXJzLnNwbGljZShhLDEpfTtjb25zdCB0PU9iamVjdC5rZXlzKHopLmxlbmd0aC8yO3RoaXMuX2RldmljZXM9bmV3IEFycmF5KHQpO2NvbnN0IGk9KG4sYSk9Pnt0aGlzLl9kZXZpY2VzW25dfHwodGhpcy5fZGV2aWNlc1tuXT1uZXcgQXJyYXkpLHRoaXMuX2RldmljZXNbbl1bYV18fCh0aGlzLl9kZXZpY2VzW25dW2FdPWEpO2Zvcihjb25zdCBvIG9mIHRoaXMuX3JlZ2lzdGVyZWRNYW5hZ2Vycyl7Y29uc3QgaD1uZXcgU3IodGhpcy5fZGV2aWNlSW5wdXRTeXN0ZW0sbixhKTtvLl9hZGREZXZpY2UoaCl9fSxzPShuLGEpPT57dmFyIG87ISgobz10aGlzLl9kZXZpY2VzW25dKT09PW51bGx8fG89PT12b2lkIDApJiZvW2FdJiZkZWxldGUgdGhpcy5fZGV2aWNlc1tuXVthXTtmb3IoY29uc3QgaCBvZiB0aGlzLl9yZWdpc3RlcmVkTWFuYWdlcnMpaC5fcmVtb3ZlRGV2aWNlKG4sYSl9LHI9KG4sYSxvKT0+e2lmKG8pZm9yKGNvbnN0IGggb2YgdGhpcy5fcmVnaXN0ZXJlZE1hbmFnZXJzKWguX29uSW5wdXRDaGFuZ2VkKG4sYSxvKX07dHlwZW9mIF9uYXRpdmU8InUiP3RoaXMuX2RldmljZUlucHV0U3lzdGVtPW5ldyBJbihpLHMscik6dGhpcy5fZGV2aWNlSW5wdXRTeXN0ZW09bmV3IFBuKGUsaSxzLHIpfWRpc3Bvc2UoKXt0aGlzLl9kZXZpY2VJbnB1dFN5c3RlbS5kaXNwb3NlKCl9fWNsYXNzIEZue2NvbnN0cnVjdG9yKGUpe2NvbnN0IHQ9T2JqZWN0LmtleXMoeikubGVuZ3RoLzI7dGhpcy5fZGV2aWNlcz1uZXcgQXJyYXkodCksdGhpcy5fZmlyc3REZXZpY2U9bmV3IEFycmF5KHQpLHRoaXMuX2VuZ2luZT1lLHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlcnx8KHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlcj1uZXcgRG4oZSkpLHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlci5fcmVmQ291bnQrKyx0aGlzLm9uRGV2aWNlQ29ubmVjdGVkT2JzZXJ2YWJsZT1uZXcgRihpPT57Zm9yKGNvbnN0IHMgb2YgdGhpcy5fZGV2aWNlcylpZihzKWZvcihjb25zdCByIG9mIHMpciYmdGhpcy5vbkRldmljZUNvbm5lY3RlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXIoaSxyKX0pLHRoaXMub25EZXZpY2VEaXNjb25uZWN0ZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlci5yZWdpc3Rlck1hbmFnZXIodGhpcyksdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9ZS5vbkRpc3Bvc2VPYnNlcnZhYmxlLmFkZCgoKT0+e3RoaXMuZGlzcG9zZSgpfSl9Z2V0RGV2aWNlU291cmNlKGUsdCl7aWYodD09PXZvaWQgMCl7aWYodGhpcy5fZmlyc3REZXZpY2VbZV09PT12b2lkIDApcmV0dXJuIG51bGw7dD10aGlzLl9maXJzdERldmljZVtlXX1yZXR1cm4hdGhpcy5fZGV2aWNlc1tlXXx8dGhpcy5fZGV2aWNlc1tlXVt0XT09PXZvaWQgMD9udWxsOnRoaXMuX2RldmljZXNbZV1bdF19Z2V0RGV2aWNlU291cmNlcyhlKXtyZXR1cm4gdGhpcy5fZGV2aWNlc1tlXT90aGlzLl9kZXZpY2VzW2VdLmZpbHRlcih0PT4hIXQpOltdfWRpc3Bvc2UoKXt0aGlzLm9uRGV2aWNlQ29ubmVjdGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25EZXZpY2VEaXNjb25uZWN0ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyJiYodGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLnVucmVnaXN0ZXJNYW5hZ2VyKHRoaXMpLC0tdGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLl9yZWZDb3VudDwxJiYodGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLmRpc3Bvc2UoKSxkZWxldGUgdGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyKSksdGhpcy5fZW5naW5lLm9uRGlzcG9zZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uRGlzcG9zZU9ic2VydmVyKX1fYWRkRGV2aWNlKGUpe3RoaXMuX2RldmljZXNbZS5kZXZpY2VUeXBlXXx8KHRoaXMuX2RldmljZXNbZS5kZXZpY2VUeXBlXT1uZXcgQXJyYXkpLHRoaXMuX2RldmljZXNbZS5kZXZpY2VUeXBlXVtlLmRldmljZVNsb3RdfHwodGhpcy5fZGV2aWNlc1tlLmRldmljZVR5cGVdW2UuZGV2aWNlU2xvdF09ZSx0aGlzLl91cGRhdGVGaXJzdERldmljZXMoZS5kZXZpY2VUeXBlKSksdGhpcy5vbkRldmljZUNvbm5lY3RlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpfV9yZW1vdmVEZXZpY2UoZSx0KXt2YXIgaSxzO2NvbnN0IHI9KGk9dGhpcy5fZGV2aWNlc1tlXSk9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppW3RdO3RoaXMub25EZXZpY2VEaXNjb25uZWN0ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhyKSwhKChzPXRoaXMuX2RldmljZXNbZV0pPT09bnVsbHx8cz09PXZvaWQgMCkmJnNbdF0mJmRlbGV0ZSB0aGlzLl9kZXZpY2VzW2VdW3RdLHRoaXMuX3VwZGF0ZUZpcnN0RGV2aWNlcyhlKX1fb25JbnB1dENoYW5nZWQoZSx0LGkpe3ZhciBzLHI7KHI9KHM9dGhpcy5fZGV2aWNlc1tlXSk9PT1udWxsfHxzPT09dm9pZCAwP3ZvaWQgMDpzW3RdKT09PW51bGx8fHI9PT12b2lkIDB8fHIub25JbnB1dENoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhpKX1fdXBkYXRlRmlyc3REZXZpY2VzKGUpe3N3aXRjaChlKXtjYXNlIHouS2V5Ym9hcmQ6Y2FzZSB6Lk1vdXNlOnRoaXMuX2ZpcnN0RGV2aWNlW2VdPTA7YnJlYWs7Y2FzZSB6LlRvdWNoOmNhc2Ugei5EdWFsU2Vuc2U6Y2FzZSB6LkR1YWxTaG9jazpjYXNlIHouWGJveDpjYXNlIHouU3dpdGNoOmNhc2Ugei5HZW5lcmljOntkZWxldGUgdGhpcy5fZmlyc3REZXZpY2VbZV07Y29uc3QgdD10aGlzLl9kZXZpY2VzW2VdO2lmKHQpe2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHRbaV0pe3RoaXMuX2ZpcnN0RGV2aWNlW2VdPWk7YnJlYWt9fWJyZWFrfX19fWNsYXNzIHhye2NvbnN0cnVjdG9yKCl7dGhpcy5fc2luZ2xlQ2xpY2s9ITEsdGhpcy5fZG91YmxlQ2xpY2s9ITEsdGhpcy5faGFzU3dpcGVkPSExLHRoaXMuX2lnbm9yZT0hMX1nZXQgc2luZ2xlQ2xpY2soKXtyZXR1cm4gdGhpcy5fc2luZ2xlQ2xpY2t9Z2V0IGRvdWJsZUNsaWNrKCl7cmV0dXJuIHRoaXMuX2RvdWJsZUNsaWNrfWdldCBoYXNTd2lwZWQoKXtyZXR1cm4gdGhpcy5faGFzU3dpcGVkfWdldCBpZ25vcmUoKXtyZXR1cm4gdGhpcy5faWdub3JlfXNldCBzaW5nbGVDbGljayhlKXt0aGlzLl9zaW5nbGVDbGljaz1lfXNldCBkb3VibGVDbGljayhlKXt0aGlzLl9kb3VibGVDbGljaz1lfXNldCBoYXNTd2lwZWQoZSl7dGhpcy5faGFzU3dpcGVkPWV9c2V0IGlnbm9yZShlKXt0aGlzLl9pZ25vcmU9ZX19Y2xhc3MgRGV7Y29uc3RydWN0b3IoZSl7dGhpcy5fYWxyZWFkeUF0dGFjaGVkPSExLHRoaXMuX21lc2hQaWNrUHJvY2VlZD0hMSx0aGlzLl9jdXJyZW50UGlja1Jlc3VsdD1udWxsLHRoaXMuX3ByZXZpb3VzUGlja1Jlc3VsdD1udWxsLHRoaXMuX3RvdGFsUG9pbnRlcnNQcmVzc2VkPTAsdGhpcy5fZG91YmxlQ2xpY2tPY2N1cmVkPSExLHRoaXMuX2lzU3dpcGluZz0hMSx0aGlzLl9zd2lwZUJ1dHRvblByZXNzZWQ9LTEsdGhpcy5fc2tpcFBvaW50ZXJUYXA9ITEsdGhpcy5fcG9pbnRlclg9MCx0aGlzLl9wb2ludGVyWT0wLHRoaXMuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uPW5ldyB2ZSgwLDApLHRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyUG9zaXRpb249bmV3IHZlKDAsMCksdGhpcy5fc3RhcnRpbmdQb2ludGVyVGltZT0wLHRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyVGltZT0wLHRoaXMuX3BvaW50ZXJDYXB0dXJlcz17fSx0aGlzLl9tZXNoVW5kZXJQb2ludGVySWQ9e30sdGhpcy5fbW92ZVBvaW50ZXJJbmZvPW51bGwsdGhpcy5fY2FtZXJhT2JzZXJ2ZXJDb3VudD0wLHRoaXMuX2RldmljZVNvdXJjZU1hbmFnZXI9bnVsbCx0aGlzLl9zY2VuZT1lfHxmZS5MYXN0Q3JlYXRlZFNjZW5lLHRoaXMuX3NjZW5lfWdldCBtZXNoVW5kZXJQb2ludGVyKCl7cmV0dXJuIHRoaXMuX21vdmVQb2ludGVySW5mbyYmKHRoaXMuX21vdmVQb2ludGVySW5mby5fZ2VuZXJhdGVQaWNrSW5mbygpLHRoaXMuX21vdmVQb2ludGVySW5mbz1udWxsKSx0aGlzLl9wb2ludGVyT3Zlck1lc2h9Z2V0TWVzaFVuZGVyUG9pbnRlckJ5UG9pbnRlcklkKGUpe3JldHVybiB0aGlzLl9tZXNoVW5kZXJQb2ludGVySWRbZV18fG51bGx9Z2V0IHVuVHJhbnNsYXRlZFBvaW50ZXIoKXtyZXR1cm4gbmV3IHZlKHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZKX1nZXQgcG9pbnRlclgoKXtyZXR1cm4gdGhpcy5fcG9pbnRlclh9c2V0IHBvaW50ZXJYKGUpe3RoaXMuX3BvaW50ZXJYPWV9Z2V0IHBvaW50ZXJZKCl7cmV0dXJuIHRoaXMuX3BvaW50ZXJZfXNldCBwb2ludGVyWShlKXt0aGlzLl9wb2ludGVyWT1lfV91cGRhdGVQb2ludGVyUG9zaXRpb24oZSl7Y29uc3QgdD10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5nZXRJbnB1dEVsZW1lbnRDbGllbnRSZWN0KCk7dCYmKHRoaXMuX3BvaW50ZXJYPWUuY2xpZW50WC10LmxlZnQsdGhpcy5fcG9pbnRlclk9ZS5jbGllbnRZLXQudG9wLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYPXRoaXMuX3BvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZPXRoaXMuX3BvaW50ZXJZKX1fcHJvY2Vzc1BvaW50ZXJNb3ZlKGUsdCl7Y29uc3QgaT10aGlzLl9zY2VuZSxzPWkuZ2V0RW5naW5lKCkscj1zLmdldElucHV0RWxlbWVudCgpO3ImJihyLnRhYkluZGV4PXMuY2FudmFzVGFiSW5kZXgsaS5kb05vdEhhbmRsZUN1cnNvcnN8fChyLnN0eWxlLmN1cnNvcj1pLmRlZmF1bHRDdXJzb3IpKSx0aGlzLl9zZXRDdXJzb3JBbmRQb2ludGVyT3Zlck1lc2goZSx0LnBvaW50ZXJJZCxpKTtmb3IoY29uc3QgbyBvZiBpLl9wb2ludGVyTW92ZVN0YWdlKXtjb25zdCBoPSEhKGUhPW51bGwmJmUucGlja2VkTWVzaCk7ZT1vLmFjdGlvbih0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSxlLGgscil9Y29uc3Qgbj10LmlucHV0SW5kZXg+PVEuTW91c2VXaGVlbFgmJnQuaW5wdXRJbmRleDw9US5Nb3VzZVdoZWVsWj9UZS5QT0lOVEVSV0hFRUw6VGUuUE9JTlRFUk1PVkU7aS5vblBvaW50ZXJNb3ZlJiYoZT1lfHx0aGlzLl9waWNrTW92ZSh0LnBvaW50ZXJJZCksaS5vblBvaW50ZXJNb3ZlKHQsZSxuKSk7bGV0IGE7ZT8oYT1uZXcgdWkobix0LGUpLHRoaXMuX3NldFJheU9uUG9pbnRlckluZm8oZSx0KSk6KGE9bmV3IHVpKG4sdCxudWxsLHRoaXMpLHRoaXMuX21vdmVQb2ludGVySW5mbz1hKSxpLm9uUG9pbnRlck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJmkub25Qb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYSxuKX1fc2V0UmF5T25Qb2ludGVySW5mbyhlLHQpe2NvbnN0IGk9dGhpcy5fc2NlbmU7ZSYmaS5fcGlja2luZ0F2YWlsYWJsZSYmKGUucmF5fHwoZS5yYXk9aS5jcmVhdGVQaWNraW5nUmF5KHQub2Zmc2V0WCx0Lm9mZnNldFkseC5JZGVudGl0eSgpLGkuYWN0aXZlQ2FtZXJhKSkpfV9hZGRDYW1lcmFQb2ludGVyT2JzZXJ2ZXIoZSx0KXtyZXR1cm4gdGhpcy5fY2FtZXJhT2JzZXJ2ZXJDb3VudCsrLHRoaXMuX3NjZW5lLm9uUG9pbnRlck9ic2VydmFibGUuYWRkKGUsdCl9X3JlbW92ZUNhbWVyYVBvaW50ZXJPYnNlcnZlcihlKXtyZXR1cm4gdGhpcy5fY2FtZXJhT2JzZXJ2ZXJDb3VudC0tLHRoaXMuX3NjZW5lLm9uUG9pbnRlck9ic2VydmFibGUucmVtb3ZlKGUpfV9jaGVja0ZvclBpY2tpbmcoKXtyZXR1cm4hISh0aGlzLl9zY2VuZS5vblBvaW50ZXJPYnNlcnZhYmxlLm9ic2VydmVycy5sZW5ndGg+dGhpcy5fY2FtZXJhT2JzZXJ2ZXJDb3VudHx8dGhpcy5fc2NlbmUub25Qb2ludGVyUGljayl9X2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUoZSx0LGkpe2NvbnN0IHM9dGhpcy5fc2NlbmUscj1uZXcgQ24oaSx0LHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZKTtyZXR1cm4gZSYmKHIub3JpZ2luYWxQaWNraW5nSW5mbz1lLHIucmF5PWUucmF5LGUub3JpZ2luTWVzaCYmKHIubmVhckludGVyYWN0aW9uUGlja2luZ0luZm89ZSkpLHMub25QcmVQb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocixpKSwhIXIuc2tpcE9uUG9pbnRlck9ic2VydmFibGV9X3BpY2tNb3ZlKGUpe2NvbnN0IHQ9dGhpcy5fc2NlbmUsaT10LnBpY2sodGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclgsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclksdC5wb2ludGVyTW92ZVByZWRpY2F0ZSwhMSx0LmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMsdC5wb2ludGVyTW92ZVRyaWFuZ2xlUHJlZGljYXRlKTtyZXR1cm4gdGhpcy5fc2V0Q3Vyc29yQW5kUG9pbnRlck92ZXJNZXNoKGksZSx0KSxpfV9zZXRDdXJzb3JBbmRQb2ludGVyT3Zlck1lc2goZSx0LGkpe2NvbnN0IHI9aS5nZXRFbmdpbmUoKS5nZXRJbnB1dEVsZW1lbnQoKTtpZihlIT1udWxsJiZlLnBpY2tlZE1lc2gpe2lmKHRoaXMuc2V0UG9pbnRlck92ZXJNZXNoKGUucGlja2VkTWVzaCx0LGUpLCFpLmRvTm90SGFuZGxlQ3Vyc29ycyYmciYmdGhpcy5fcG9pbnRlck92ZXJNZXNoKXtjb25zdCBuPXRoaXMuX3BvaW50ZXJPdmVyTWVzaC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoKTtuJiZuLmhhc1BvaW50ZXJUcmlnZ2VycyYmKHIuc3R5bGUuY3Vyc29yPW4uaG92ZXJDdXJzb3J8fGkuaG92ZXJDdXJzb3IpfX1lbHNlIHRoaXMuc2V0UG9pbnRlck92ZXJNZXNoKG51bGwsdCxlKX1zaW11bGF0ZVBvaW50ZXJNb3ZlKGUsdCl7Y29uc3QgaT1uZXcgUG9pbnRlckV2ZW50KCJwb2ludGVybW92ZSIsdCk7aS5pbnB1dEluZGV4PVEuTW92ZSwhdGhpcy5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShlLGksVGUuUE9JTlRFUk1PVkUpJiZ0aGlzLl9wcm9jZXNzUG9pbnRlck1vdmUoZSxpKX1zaW11bGF0ZVBvaW50ZXJEb3duKGUsdCl7Y29uc3QgaT1uZXcgUG9pbnRlckV2ZW50KCJwb2ludGVyZG93biIsdCk7aS5pbnB1dEluZGV4PWkuYnV0dG9uKzIsIXRoaXMuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUoZSxpLFRlLlBPSU5URVJET1dOKSYmdGhpcy5fcHJvY2Vzc1BvaW50ZXJEb3duKGUsaSl9X3Byb2Nlc3NQb2ludGVyRG93bihlLHQpe2NvbnN0IGk9dGhpcy5fc2NlbmU7aWYoZSE9bnVsbCYmZS5waWNrZWRNZXNoKXt0aGlzLl9waWNrZWREb3duTWVzaD1lLnBpY2tlZE1lc2g7Y29uc3Qgbj1lLnBpY2tlZE1lc2guX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKCk7aWYobil7aWYobi5oYXNQaWNrVHJpZ2dlcnMpc3dpdGNoKG4ucHJvY2Vzc1RyaWdnZXIoNSxWZS5DcmVhdGVOZXcoZS5waWNrZWRNZXNoLHQpKSx0LmJ1dHRvbil7Y2FzZSAwOm4ucHJvY2Vzc1RyaWdnZXIoMixWZS5DcmVhdGVOZXcoZS5waWNrZWRNZXNoLHQpKTticmVhaztjYXNlIDE6bi5wcm9jZXNzVHJpZ2dlcig0LFZlLkNyZWF0ZU5ldyhlLnBpY2tlZE1lc2gsdCkpO2JyZWFrO2Nhc2UgMjpuLnByb2Nlc3NUcmlnZ2VyKDMsVmUuQ3JlYXRlTmV3KGUucGlja2VkTWVzaCx0KSk7YnJlYWt9bi5oYXNTcGVjaWZpY1RyaWdnZXIoOCkmJndpbmRvdy5zZXRUaW1lb3V0KCgpPT57Y29uc3QgYT1pLnBpY2sodGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclgsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclksbz0+by5pc1BpY2thYmxlJiZvLmlzVmlzaWJsZSYmby5pc1JlYWR5KCkmJm8uYWN0aW9uTWFuYWdlciYmby5hY3Rpb25NYW5hZ2VyLmhhc1NwZWNpZmljVHJpZ2dlcig4KSYmbz09PXRoaXMuX3BpY2tlZERvd25NZXNoLCExLGkuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyk7YSE9bnVsbCYmYS5waWNrZWRNZXNoJiZuJiZ0aGlzLl90b3RhbFBvaW50ZXJzUHJlc3NlZCE9PTAmJkRhdGUubm93KCktdGhpcy5fc3RhcnRpbmdQb2ludGVyVGltZT5EZS5Mb25nUHJlc3NEZWxheSYmIXRoaXMuX2lzUG9pbnRlclN3aXBpbmcoKSYmKHRoaXMuX3N0YXJ0aW5nUG9pbnRlclRpbWU9MCxuLnByb2Nlc3NUcmlnZ2VyKDgsVmUuQ3JlYXRlTmV3KGEucGlja2VkTWVzaCx0KSkpfSxEZS5Mb25nUHJlc3NEZWxheSl9fWVsc2UgZm9yKGNvbnN0IG4gb2YgaS5fcG9pbnRlckRvd25TdGFnZSllPW4uYWN0aW9uKHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZLGUsdCwhMSk7bGV0IHM7Y29uc3Qgcj1UZS5QT0lOVEVSRE9XTjtlPyhpLm9uUG9pbnRlckRvd24mJmkub25Qb2ludGVyRG93bih0LGUscikscz1uZXcgdWkocix0LGUpLHRoaXMuX3NldFJheU9uUG9pbnRlckluZm8oZSx0KSk6cz1uZXcgdWkocix0LG51bGwsdGhpcyksaS5vblBvaW50ZXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZpLm9uUG9pbnRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHMscil9X2lzUG9pbnRlclN3aXBpbmcoKXtyZXR1cm4gdGhpcy5faXNTd2lwaW5nfXNpbXVsYXRlUG9pbnRlclVwKGUsdCxpKXtjb25zdCBzPW5ldyBQb2ludGVyRXZlbnQoInBvaW50ZXJ1cCIsdCk7cy5pbnB1dEluZGV4PVEuTW92ZTtjb25zdCByPW5ldyB4cjtpP3IuZG91YmxlQ2xpY2s9ITA6ci5zaW5nbGVDbGljaz0hMCwhdGhpcy5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShlLHMsVGUuUE9JTlRFUlVQKSYmdGhpcy5fcHJvY2Vzc1BvaW50ZXJVcChlLHMscil9X3Byb2Nlc3NQb2ludGVyVXAoZSx0LGkpe2NvbnN0IHM9dGhpcy5fc2NlbmU7aWYoZSE9bnVsbCYmZS5waWNrZWRNZXNoKXtpZih0aGlzLl9waWNrZWRVcE1lc2g9ZS5waWNrZWRNZXNoLHRoaXMuX3BpY2tlZERvd25NZXNoPT09dGhpcy5fcGlja2VkVXBNZXNoJiYocy5vblBvaW50ZXJQaWNrJiZzLm9uUG9pbnRlclBpY2sodCxlKSxpLnNpbmdsZUNsaWNrJiYhaS5pZ25vcmUmJnMub25Qb2ludGVyT2JzZXJ2YWJsZS5vYnNlcnZlcnMubGVuZ3RoPnRoaXMuX2NhbWVyYU9ic2VydmVyQ291bnQpKXtjb25zdCBuPVRlLlBPSU5URVJQSUNLLGE9bmV3IHVpKG4sdCxlKTt0aGlzLl9zZXRSYXlPblBvaW50ZXJJbmZvKGUsdCkscy5vblBvaW50ZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhhLG4pfWNvbnN0IHI9ZS5waWNrZWRNZXNoLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcigpO2lmKHImJiFpLmlnbm9yZSl7ci5wcm9jZXNzVHJpZ2dlcig3LFZlLkNyZWF0ZU5ldyhlLnBpY2tlZE1lc2gsdCxlKSksIWkuaGFzU3dpcGVkJiZpLnNpbmdsZUNsaWNrJiZyLnByb2Nlc3NUcmlnZ2VyKDEsVmUuQ3JlYXRlTmV3KGUucGlja2VkTWVzaCx0LGUpKTtjb25zdCBuPWUucGlja2VkTWVzaC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoNik7aS5kb3VibGVDbGljayYmbiYmbi5wcm9jZXNzVHJpZ2dlcig2LFZlLkNyZWF0ZU5ldyhlLnBpY2tlZE1lc2gsdCxlKSl9fWVsc2UgaWYoIWkuaWdub3JlKWZvcihjb25zdCByIG9mIHMuX3BvaW50ZXJVcFN0YWdlKWU9ci5hY3Rpb24odGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclgsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclksZSx0LGkuZG91YmxlQ2xpY2spO2lmKHRoaXMuX3BpY2tlZERvd25NZXNoJiZ0aGlzLl9waWNrZWREb3duTWVzaCE9PXRoaXMuX3BpY2tlZFVwTWVzaCl7Y29uc3Qgcj10aGlzLl9waWNrZWREb3duTWVzaC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoMTYpO3ImJnIucHJvY2Vzc1RyaWdnZXIoMTYsVmUuQ3JlYXRlTmV3KHRoaXMuX3BpY2tlZERvd25NZXNoLHQpKX1pZighaS5pZ25vcmUpe2NvbnN0IHI9bmV3IHVpKFRlLlBPSU5URVJVUCx0LGUpO2lmKHRoaXMuX3NldFJheU9uUG9pbnRlckluZm8oZSx0KSxzLm9uUG9pbnRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHIsVGUuUE9JTlRFUlVQKSxzLm9uUG9pbnRlclVwJiZzLm9uUG9pbnRlclVwKHQsZSxUZS5QT0lOVEVSVVApLCFpLmhhc1N3aXBlZCYmIXRoaXMuX3NraXBQb2ludGVyVGFwKXtsZXQgbj0wO2lmKGkuc2luZ2xlQ2xpY2s/bj1UZS5QT0lOVEVSVEFQOmkuZG91YmxlQ2xpY2smJihuPVRlLlBPSU5URVJET1VCTEVUQVApLG4pe2NvbnN0IGE9bmV3IHVpKG4sdCxlKTtzLm9uUG9pbnRlck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJnMub25Qb2ludGVyT2JzZXJ2YWJsZS5oYXNTcGVjaWZpY01hc2sobikmJnMub25Qb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYSxuKX19fX1pc1BvaW50ZXJDYXB0dXJlZChlPTApe3JldHVybiB0aGlzLl9wb2ludGVyQ2FwdHVyZXNbZV19YXR0YWNoQ29udHJvbChlPSEwLHQ9ITAsaT0hMCxzPW51bGwpe2NvbnN0IHI9dGhpcy5fc2NlbmUsbj1yLmdldEVuZ2luZSgpO3N8fChzPW4uZ2V0SW5wdXRFbGVtZW50KCkpLHRoaXMuX2FscmVhZHlBdHRhY2hlZCYmdGhpcy5kZXRhY2hDb250cm9sKCkscyYmKHRoaXMuX2FscmVhZHlBdHRhY2hlZFRvPXMpLHRoaXMuX2RldmljZVNvdXJjZU1hbmFnZXI9bmV3IEZuKG4pLHRoaXMuX2luaXRBY3Rpb25NYW5hZ2VyPWE9PntpZighdGhpcy5fbWVzaFBpY2tQcm9jZWVkKXtjb25zdCBvPXIuc2tpcFBvaW50ZXJVcFBpY2tpbmd8fHIuX3JlZ2lzdGVyZWRBY3Rpb25zPT09MCYmIXRoaXMuX2NoZWNrRm9yUGlja2luZygpJiYhci5vblBvaW50ZXJVcD9udWxsOnIucGljayh0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSxyLnBvaW50ZXJVcFByZWRpY2F0ZSwhMSxyLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMpO3RoaXMuX2N1cnJlbnRQaWNrUmVzdWx0PW8sbyYmKGE9by5oaXQmJm8ucGlja2VkTWVzaD9vLnBpY2tlZE1lc2guX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKCk6bnVsbCksdGhpcy5fbWVzaFBpY2tQcm9jZWVkPSEwfXJldHVybiBhfSx0aGlzLl9kZWxheWVkU2ltcGxlQ2xpY2s9KGEsbyxoKT0+eyhEYXRlLm5vdygpLXRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyVGltZT5EZS5Eb3VibGVDbGlja0RlbGF5JiYhdGhpcy5fZG91YmxlQ2xpY2tPY2N1cmVkfHxhIT09dGhpcy5fcHJldmlvdXNCdXR0b25QcmVzc2VkKSYmKHRoaXMuX2RvdWJsZUNsaWNrT2NjdXJlZD0hMSxvLnNpbmdsZUNsaWNrPSEwLG8uaWdub3JlPSExLGgobyx0aGlzLl9jdXJyZW50UGlja1Jlc3VsdCkpfSx0aGlzLl9pbml0Q2xpY2tFdmVudD0oYSxvLGgsbCk9Pntjb25zdCB1PW5ldyB4cjt0aGlzLl9jdXJyZW50UGlja1Jlc3VsdD1udWxsO2xldCBkPW51bGwsZj1hLmhhc1NwZWNpZmljTWFzayhUZS5QT0lOVEVSUElDSyl8fG8uaGFzU3BlY2lmaWNNYXNrKFRlLlBPSU5URVJQSUNLKXx8YS5oYXNTcGVjaWZpY01hc2soVGUuUE9JTlRFUlRBUCl8fG8uaGFzU3BlY2lmaWNNYXNrKFRlLlBPSU5URVJUQVApfHxhLmhhc1NwZWNpZmljTWFzayhUZS5QT0lOVEVSRE9VQkxFVEFQKXx8by5oYXNTcGVjaWZpY01hc2soVGUuUE9JTlRFUkRPVUJMRVRBUCk7IWYmJnV0JiYoZD10aGlzLl9pbml0QWN0aW9uTWFuYWdlcihkLHUpLGQmJihmPWQuaGFzUGlja1RyaWdnZXJzKSk7bGV0IF89ITE7aWYoZil7Y29uc3QgRT1oLmJ1dHRvbjtpZih1Lmhhc1N3aXBlZD10aGlzLl9pc1BvaW50ZXJTd2lwaW5nKCksIXUuaGFzU3dpcGVkKXtsZXQgbT0hRGUuRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlO218fChtPSFhLmhhc1NwZWNpZmljTWFzayhUZS5QT0lOVEVSRE9VQkxFVEFQKSYmIW8uaGFzU3BlY2lmaWNNYXNrKFRlLlBPSU5URVJET1VCTEVUQVApLG0mJiF1dC5IYXNTcGVjaWZpY1RyaWdnZXIoNikmJihkPXRoaXMuX2luaXRBY3Rpb25NYW5hZ2VyKGQsdSksZCYmKG09IWQuaGFzU3BlY2lmaWNUcmlnZ2VyKDYpKSkpLG0/KERhdGUubm93KCktdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJUaW1lPkRlLkRvdWJsZUNsaWNrRGVsYXl8fEUhPT10aGlzLl9wcmV2aW91c0J1dHRvblByZXNzZWQpJiYodS5zaW5nbGVDbGljaz0hMCxsKHUsdGhpcy5fY3VycmVudFBpY2tSZXN1bHQpLF89ITApOih0aGlzLl9wcmV2aW91c0RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQ9dGhpcy5fZGVsYXllZFNpbXBsZUNsaWNrVGltZW91dCx0aGlzLl9kZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0PXdpbmRvdy5zZXRUaW1lb3V0KHRoaXMuX2RlbGF5ZWRTaW1wbGVDbGljay5iaW5kKHRoaXMsRSx1LGwpLERlLkRvdWJsZUNsaWNrRGVsYXkpKTtsZXQgdj1hLmhhc1NwZWNpZmljTWFzayhUZS5QT0lOVEVSRE9VQkxFVEFQKXx8by5oYXNTcGVjaWZpY01hc2soVGUuUE9JTlRFUkRPVUJMRVRBUCk7IXYmJnV0Lkhhc1NwZWNpZmljVHJpZ2dlcig2KSYmKGQ9dGhpcy5faW5pdEFjdGlvbk1hbmFnZXIoZCx1KSxkJiYodj1kLmhhc1NwZWNpZmljVHJpZ2dlcig2KSkpLHYmJihFPT09dGhpcy5fcHJldmlvdXNCdXR0b25QcmVzc2VkJiZEYXRlLm5vdygpLXRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyVGltZTxEZS5Eb3VibGVDbGlja0RlbGF5JiYhdGhpcy5fZG91YmxlQ2xpY2tPY2N1cmVkPyghdS5oYXNTd2lwZWQmJiF0aGlzLl9pc1BvaW50ZXJTd2lwaW5nKCk/KHRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyVGltZT0wLHRoaXMuX2RvdWJsZUNsaWNrT2NjdXJlZD0hMCx1LmRvdWJsZUNsaWNrPSEwLHUuaWdub3JlPSExLERlLkV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZSYmdGhpcy5fcHJldmlvdXNEZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0JiZjbGVhclRpbWVvdXQodGhpcy5fcHJldmlvdXNEZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0KSx0aGlzLl9wcmV2aW91c0RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQ9dGhpcy5fZGVsYXllZFNpbXBsZUNsaWNrVGltZW91dCxsKHUsdGhpcy5fY3VycmVudFBpY2tSZXN1bHQpKToodGhpcy5fZG91YmxlQ2xpY2tPY2N1cmVkPSExLHRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyVGltZT10aGlzLl9zdGFydGluZ1BvaW50ZXJUaW1lLHRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueD10aGlzLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi54LHRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueT10aGlzLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi55LHRoaXMuX3ByZXZpb3VzQnV0dG9uUHJlc3NlZD1FLERlLkV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZT8odGhpcy5fcHJldmlvdXNEZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0JiZjbGVhclRpbWVvdXQodGhpcy5fcHJldmlvdXNEZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0KSx0aGlzLl9wcmV2aW91c0RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQ9dGhpcy5fZGVsYXllZFNpbXBsZUNsaWNrVGltZW91dCxsKHUsdGhpcy5fcHJldmlvdXNQaWNrUmVzdWx0KSk6bCh1LHRoaXMuX2N1cnJlbnRQaWNrUmVzdWx0KSksXz0hMCk6KHRoaXMuX2RvdWJsZUNsaWNrT2NjdXJlZD0hMSx0aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclRpbWU9dGhpcy5fc3RhcnRpbmdQb2ludGVyVGltZSx0aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLng9dGhpcy5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueCx0aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLnk9dGhpcy5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueSx0aGlzLl9wcmV2aW91c0J1dHRvblByZXNzZWQ9RSkpfX1ffHxsKHUsdGhpcy5fY3VycmVudFBpY2tSZXN1bHQpfSx0aGlzLl9vblBvaW50ZXJNb3ZlPWE9PntpZihhLnBvaW50ZXJJZD09PXZvaWQgMCYmKGEucG9pbnRlcklkPTApLHRoaXMuX3VwZGF0ZVBvaW50ZXJQb3NpdGlvbihhKSwhdGhpcy5faXNTd2lwaW5nJiZ0aGlzLl9zd2lwZUJ1dHRvblByZXNzZWQhPT0tMSYmKHRoaXMuX2lzU3dpcGluZz1NYXRoLmFicyh0aGlzLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi54LXRoaXMuX3BvaW50ZXJYKT5EZS5EcmFnTW92ZW1lbnRUaHJlc2hvbGR8fE1hdGguYWJzKHRoaXMuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLnktdGhpcy5fcG9pbnRlclkpPkRlLkRyYWdNb3ZlbWVudFRocmVzaG9sZCksdGhpcy5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShudWxsLGEsYS5pbnB1dEluZGV4Pj1RLk1vdXNlV2hlZWxYJiZhLmlucHV0SW5kZXg8PVEuTW91c2VXaGVlbFo/VGUuUE9JTlRFUldIRUVMOlRlLlBPSU5URVJNT1ZFKXx8IXIuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyYmIXIuYWN0aXZlQ2FtZXJhKXJldHVybjtpZihyLnNraXBQb2ludGVyTW92ZVBpY2tpbmcpe3RoaXMuX3Byb2Nlc3NQb2ludGVyTW92ZShuZXcgVXQsYSk7cmV0dXJufXIucG9pbnRlck1vdmVQcmVkaWNhdGV8fChyLnBvaW50ZXJNb3ZlUHJlZGljYXRlPWg9PmguaXNQaWNrYWJsZSYmaC5pc1Zpc2libGUmJmguaXNSZWFkeSgpJiZoLmlzRW5hYmxlZCgpJiYoaC5lbmFibGVQb2ludGVyTW92ZUV2ZW50c3x8ci5jb25zdGFudGx5VXBkYXRlTWVzaFVuZGVyUG9pbnRlcnx8aC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoKSE9PW51bGwpJiYoIXIuY2FtZXJhVG9Vc2VGb3JQb2ludGVyc3x8KHIuY2FtZXJhVG9Vc2VGb3JQb2ludGVycy5sYXllck1hc2smaC5sYXllck1hc2spIT09MCkpO2NvbnN0IG89ci5fcmVnaXN0ZXJlZEFjdGlvbnM+MD90aGlzLl9waWNrTW92ZShhLnBvaW50ZXJJZCk6bnVsbDt0aGlzLl9wcm9jZXNzUG9pbnRlck1vdmUobyxhKX0sdGhpcy5fb25Qb2ludGVyRG93bj1hPT57aWYodGhpcy5fdG90YWxQb2ludGVyc1ByZXNzZWQrKyx0aGlzLl9waWNrZWREb3duTWVzaD1udWxsLHRoaXMuX21lc2hQaWNrUHJvY2VlZD0hMSxhLnBvaW50ZXJJZD09PXZvaWQgMCYmKGEucG9pbnRlcklkPTApLHRoaXMuX3VwZGF0ZVBvaW50ZXJQb3NpdGlvbihhKSx0aGlzLl9zd2lwZUJ1dHRvblByZXNzZWQ9PT0tMSYmKHRoaXMuX3N3aXBlQnV0dG9uUHJlc3NlZD1hLmJ1dHRvbiksci5wcmV2ZW50RGVmYXVsdE9uUG9pbnRlckRvd24mJnMmJihhLnByZXZlbnREZWZhdWx0KCkscy5mb2N1cygpKSx0aGlzLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi54PXRoaXMuX3BvaW50ZXJYLHRoaXMuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLnk9dGhpcy5fcG9pbnRlclksdGhpcy5fc3RhcnRpbmdQb2ludGVyVGltZT1EYXRlLm5vdygpLHRoaXMuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUobnVsbCxhLFRlLlBPSU5URVJET1dOKXx8IXIuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyYmIXIuYWN0aXZlQ2FtZXJhKXJldHVybjt0aGlzLl9wb2ludGVyQ2FwdHVyZXNbYS5wb2ludGVySWRdPSEwLHIucG9pbnRlckRvd25QcmVkaWNhdGV8fChyLnBvaW50ZXJEb3duUHJlZGljYXRlPWg9PmguaXNQaWNrYWJsZSYmaC5pc1Zpc2libGUmJmguaXNSZWFkeSgpJiZoLmlzRW5hYmxlZCgpJiYoIXIuY2FtZXJhVG9Vc2VGb3JQb2ludGVyc3x8KHIuY2FtZXJhVG9Vc2VGb3JQb2ludGVycy5sYXllck1hc2smaC5sYXllck1hc2spIT09MCkpLHRoaXMuX3BpY2tlZERvd25NZXNoPW51bGw7bGV0IG87ci5za2lwUG9pbnRlckRvd25QaWNraW5nfHxyLl9yZWdpc3RlcmVkQWN0aW9ucz09PTAmJiF0aGlzLl9jaGVja0ZvclBpY2tpbmcoKSYmIXIub25Qb2ludGVyRG93bj9vPW5ldyBVdDpvPXIucGljayh0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSxyLnBvaW50ZXJEb3duUHJlZGljYXRlLCExLHIuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyksdGhpcy5fcHJvY2Vzc1BvaW50ZXJEb3duKG8sYSl9LHRoaXMuX29uUG9pbnRlclVwPWE9Pnt0aGlzLl90b3RhbFBvaW50ZXJzUHJlc3NlZCE9PTAmJih0aGlzLl90b3RhbFBvaW50ZXJzUHJlc3NlZC0tLHRoaXMuX3BpY2tlZFVwTWVzaD1udWxsLHRoaXMuX21lc2hQaWNrUHJvY2VlZD0hMSxhLnBvaW50ZXJJZD09PXZvaWQgMCYmKGEucG9pbnRlcklkPTApLHRoaXMuX3VwZGF0ZVBvaW50ZXJQb3NpdGlvbihhKSxyLnByZXZlbnREZWZhdWx0T25Qb2ludGVyVXAmJnMmJihhLnByZXZlbnREZWZhdWx0KCkscy5mb2N1cygpKSx0aGlzLl9pbml0Q2xpY2tFdmVudChyLm9uUHJlUG9pbnRlck9ic2VydmFibGUsci5vblBvaW50ZXJPYnNlcnZhYmxlLGEsKG8saCk9PntpZihyLm9uUHJlUG9pbnRlck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJih0aGlzLl9za2lwUG9pbnRlclRhcD0hMSwhby5pZ25vcmUpKXtpZih0aGlzLl9jaGVja1ByZVBvaW50ZXJPYnNlcnZhYmxlKG51bGwsYSxUZS5QT0lOVEVSVVApKXt0aGlzLl9zd2lwZUJ1dHRvblByZXNzZWQ9PT1hLmJ1dHRvbiYmKHRoaXMuX2lzU3dpcGluZz0hMSx0aGlzLl9zd2lwZUJ1dHRvblByZXNzZWQ9LTEpO3JldHVybn1vLmhhc1N3aXBlZHx8KG8uc2luZ2xlQ2xpY2smJnIub25QcmVQb2ludGVyT2JzZXJ2YWJsZS5oYXNTcGVjaWZpY01hc2soVGUuUE9JTlRFUlRBUCkmJnRoaXMuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUobnVsbCxhLFRlLlBPSU5URVJUQVApJiYodGhpcy5fc2tpcFBvaW50ZXJUYXA9ITApLG8uZG91YmxlQ2xpY2smJnIub25QcmVQb2ludGVyT2JzZXJ2YWJsZS5oYXNTcGVjaWZpY01hc2soVGUuUE9JTlRFUkRPVUJMRVRBUCkmJnRoaXMuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUobnVsbCxhLFRlLlBPSU5URVJET1VCTEVUQVApJiYodGhpcy5fc2tpcFBvaW50ZXJUYXA9ITApKX10aGlzLl9wb2ludGVyQ2FwdHVyZXNbYS5wb2ludGVySWRdPSExLCEoIXIuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyYmIXIuYWN0aXZlQ2FtZXJhKSYmKHIucG9pbnRlclVwUHJlZGljYXRlfHwoci5wb2ludGVyVXBQcmVkaWNhdGU9bD0+bC5pc1BpY2thYmxlJiZsLmlzVmlzaWJsZSYmbC5pc1JlYWR5KCkmJmwuaXNFbmFibGVkKCkmJighci5jYW1lcmFUb1VzZUZvclBvaW50ZXJzfHwoci5jYW1lcmFUb1VzZUZvclBvaW50ZXJzLmxheWVyTWFzayZsLmxheWVyTWFzaykhPT0wKSksIXRoaXMuX21lc2hQaWNrUHJvY2VlZCYmKHV0JiZ1dC5IYXNUcmlnZ2Vyc3x8dGhpcy5fY2hlY2tGb3JQaWNraW5nKCl8fHIub25Qb2ludGVyVXApJiZ0aGlzLl9pbml0QWN0aW9uTWFuYWdlcihudWxsLG8pLGh8fChoPXRoaXMuX2N1cnJlbnRQaWNrUmVzdWx0KSx0aGlzLl9wcm9jZXNzUG9pbnRlclVwKGgsYSxvKSx0aGlzLl9wcmV2aW91c1BpY2tSZXN1bHQ9dGhpcy5fY3VycmVudFBpY2tSZXN1bHQsdGhpcy5fc3dpcGVCdXR0b25QcmVzc2VkPT09YS5idXR0b24mJih0aGlzLl9pc1N3aXBpbmc9ITEsdGhpcy5fc3dpcGVCdXR0b25QcmVzc2VkPS0xKSl9KSl9LHRoaXMuX29uS2V5RG93bj1hPT57Y29uc3Qgbz1KaS5LRVlET1dOO2lmKHIub25QcmVLZXlib2FyZE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpe2NvbnN0IGg9bmV3IF9yKG8sYSk7aWYoci5vblByZUtleWJvYXJkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaCxvKSxoLnNraXBPbktleWJvYXJkT2JzZXJ2YWJsZSlyZXR1cm59aWYoci5vbktleWJvYXJkT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSl7Y29uc3QgaD1uZXcgQ3MobyxhKTtyLm9uS2V5Ym9hcmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhoLG8pfXIuYWN0aW9uTWFuYWdlciYmci5hY3Rpb25NYW5hZ2VyLnByb2Nlc3NUcmlnZ2VyKDE0LFZlLkNyZWF0ZU5ld0Zyb21TY2VuZShyLGEpKX0sdGhpcy5fb25LZXlVcD1hPT57Y29uc3Qgbz1KaS5LRVlVUDtpZihyLm9uUHJlS2V5Ym9hcmRPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKXtjb25zdCBoPW5ldyBfcihvLGEpO2lmKHIub25QcmVLZXlib2FyZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGgsbyksaC5za2lwT25LZXlib2FyZE9ic2VydmFibGUpcmV0dXJufWlmKHIub25LZXlib2FyZE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpe2NvbnN0IGg9bmV3IENzKG8sYSk7ci5vbktleWJvYXJkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaCxvKX1yLmFjdGlvbk1hbmFnZXImJnIuYWN0aW9uTWFuYWdlci5wcm9jZXNzVHJpZ2dlcigxNSxWZS5DcmVhdGVOZXdGcm9tU2NlbmUocixhKSl9LHRoaXMuX2RldmljZVNvdXJjZU1hbmFnZXIub25EZXZpY2VDb25uZWN0ZWRPYnNlcnZhYmxlLmFkZChhPT57YS5kZXZpY2VUeXBlPT09ei5Nb3VzZT9hLm9uSW5wdXRDaGFuZ2VkT2JzZXJ2YWJsZS5hZGQobz0+e28uaW5wdXRJbmRleD09PVEuTGVmdENsaWNrfHxvLmlucHV0SW5kZXg9PT1RLk1pZGRsZUNsaWNrfHxvLmlucHV0SW5kZXg9PT1RLlJpZ2h0Q2xpY2t8fG8uaW5wdXRJbmRleD09PVEuQnJvd3NlckJhY2t8fG8uaW5wdXRJbmRleD09PVEuQnJvd3NlckZvcndhcmQ/dCYmYS5nZXRJbnB1dChvLmlucHV0SW5kZXgpPT09MT90aGlzLl9vblBvaW50ZXJEb3duKG8pOmUmJmEuZ2V0SW5wdXQoby5pbnB1dEluZGV4KT09PTAmJnRoaXMuX29uUG9pbnRlclVwKG8pOmkmJihvLmlucHV0SW5kZXg9PT1RLk1vdmU/dGhpcy5fb25Qb2ludGVyTW92ZShvKTooby5pbnB1dEluZGV4PT09US5Nb3VzZVdoZWVsWHx8by5pbnB1dEluZGV4PT09US5Nb3VzZVdoZWVsWXx8by5pbnB1dEluZGV4PT09US5Nb3VzZVdoZWVsWikmJnRoaXMuX29uUG9pbnRlck1vdmUobykpfSk6YS5kZXZpY2VUeXBlPT09ei5Ub3VjaD9hLm9uSW5wdXRDaGFuZ2VkT2JzZXJ2YWJsZS5hZGQobz0+e28uaW5wdXRJbmRleD09PVEuTGVmdENsaWNrJiYodCYmYS5nZXRJbnB1dChvLmlucHV0SW5kZXgpPT09MT90aGlzLl9vblBvaW50ZXJEb3duKG8pOmUmJmEuZ2V0SW5wdXQoby5pbnB1dEluZGV4KT09PTAmJnRoaXMuX29uUG9pbnRlclVwKG8pKSxpJiZvLmlucHV0SW5kZXg9PT1RLk1vdmUmJnRoaXMuX29uUG9pbnRlck1vdmUobyl9KTphLmRldmljZVR5cGU9PT16LktleWJvYXJkJiZhLm9uSW5wdXRDaGFuZ2VkT2JzZXJ2YWJsZS5hZGQobz0+e28udHlwZT09PSJrZXlkb3duIj90aGlzLl9vbktleURvd24obyk6by50eXBlPT09ImtleXVwIiYmdGhpcy5fb25LZXlVcChvKX0pfSksdGhpcy5fYWxyZWFkeUF0dGFjaGVkPSEwfWRldGFjaENvbnRyb2woKXt0aGlzLl9hbHJlYWR5QXR0YWNoZWQmJih0aGlzLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLmRpc3Bvc2UoKSx0aGlzLl9kZXZpY2VTb3VyY2VNYW5hZ2VyPW51bGwsdGhpcy5fYWxyZWFkeUF0dGFjaGVkVG8mJiF0aGlzLl9zY2VuZS5kb05vdEhhbmRsZUN1cnNvcnMmJih0aGlzLl9hbHJlYWR5QXR0YWNoZWRUby5zdHlsZS5jdXJzb3I9dGhpcy5fc2NlbmUuZGVmYXVsdEN1cnNvciksdGhpcy5fYWxyZWFkeUF0dGFjaGVkPSExLHRoaXMuX2FscmVhZHlBdHRhY2hlZFRvPW51bGwpfXNldFBvaW50ZXJPdmVyTWVzaChlLHQ9MCxpKXtpZih0aGlzLl9tZXNoVW5kZXJQb2ludGVySWRbdF09PT1lJiYoIWV8fCFlLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb2ludGVyT3ZlckRpc2FibGVNZXNoVGVzdGluZykpcmV0dXJuO2NvbnN0IHM9dGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkW3RdO2xldCByO3MmJihyPXMuX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKDEwKSxyJiZyLnByb2Nlc3NUcmlnZ2VyKDEwLFZlLkNyZWF0ZU5ldyhzLHZvaWQgMCx7cG9pbnRlcklkOnR9KSkpLGU/KHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFt0XT1lLHRoaXMuX3BvaW50ZXJPdmVyTWVzaD1lLHI9ZS5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoOSksciYmci5wcm9jZXNzVHJpZ2dlcig5LFZlLkNyZWF0ZU5ldyhlLHZvaWQgMCx7cG9pbnRlcklkOnQscGlja1Jlc3VsdDppfSkpKTooZGVsZXRlIHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFt0XSx0aGlzLl9wb2ludGVyT3Zlck1lc2g9bnVsbCl9Z2V0UG9pbnRlck92ZXJNZXNoKCl7cmV0dXJuIHRoaXMubWVzaFVuZGVyUG9pbnRlcn1faW52YWxpZGF0ZU1lc2goZSl7dGhpcy5fcG9pbnRlck92ZXJNZXNoPT09ZSYmKHRoaXMuX3BvaW50ZXJPdmVyTWVzaD1udWxsKSx0aGlzLl9waWNrZWREb3duTWVzaD09PWUmJih0aGlzLl9waWNrZWREb3duTWVzaD1udWxsKSx0aGlzLl9waWNrZWRVcE1lc2g9PT1lJiYodGhpcy5fcGlja2VkVXBNZXNoPW51bGwpO2Zvcihjb25zdCB0IGluIHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZCl0aGlzLl9tZXNoVW5kZXJQb2ludGVySWRbdF09PT1lJiZkZWxldGUgdGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkW3RdfX1EZS5EcmFnTW92ZW1lbnRUaHJlc2hvbGQ9MTAsRGUuTG9uZ1ByZXNzRGVsYXk9NTAwLERlLkRvdWJsZUNsaWNrRGVsYXk9MzAwLERlLkV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZT0hMTtjbGFzcyB4dHtjb25zdHJ1Y3RvcihlLHQsaSxzKXt0aGlzLm5vcm1hbD1uZXcgcChlLHQsaSksdGhpcy5kPXN9YXNBcnJheSgpe3JldHVyblt0aGlzLm5vcm1hbC54LHRoaXMubm9ybWFsLnksdGhpcy5ub3JtYWwueix0aGlzLmRdfWNsb25lKCl7cmV0dXJuIG5ldyB4dCh0aGlzLm5vcm1hbC54LHRoaXMubm9ybWFsLnksdGhpcy5ub3JtYWwueix0aGlzLmQpfWdldENsYXNzTmFtZSgpe3JldHVybiJQbGFuZSJ9Z2V0SGFzaENvZGUoKXtsZXQgZT10aGlzLm5vcm1hbC5nZXRIYXNoQ29kZSgpO3JldHVybiBlPWUqMzk3Xih0aGlzLmR8MCksZX1ub3JtYWxpemUoKXtjb25zdCBlPU1hdGguc3FydCh0aGlzLm5vcm1hbC54KnRoaXMubm9ybWFsLngrdGhpcy5ub3JtYWwueSp0aGlzLm5vcm1hbC55K3RoaXMubm9ybWFsLnoqdGhpcy5ub3JtYWwueik7bGV0IHQ9MDtyZXR1cm4gZSE9PTAmJih0PTEvZSksdGhpcy5ub3JtYWwueCo9dCx0aGlzLm5vcm1hbC55Kj10LHRoaXMubm9ybWFsLnoqPXQsdGhpcy5kKj10LHRoaXN9dHJhbnNmb3JtKGUpe2NvbnN0IHQ9eHQuX1RtcE1hdHJpeDtlLmludmVydFRvUmVmKHQpO2NvbnN0IGk9dC5tLHM9dGhpcy5ub3JtYWwueCxyPXRoaXMubm9ybWFsLnksbj10aGlzLm5vcm1hbC56LGE9dGhpcy5kLG89cyppWzBdK3IqaVsxXStuKmlbMl0rYSppWzNdLGg9cyppWzRdK3IqaVs1XStuKmlbNl0rYSppWzddLGw9cyppWzhdK3IqaVs5XStuKmlbMTBdK2EqaVsxMV0sdT1zKmlbMTJdK3IqaVsxM10rbippWzE0XSthKmlbMTVdO3JldHVybiBuZXcgeHQobyxoLGwsdSl9ZG90Q29vcmRpbmF0ZShlKXtyZXR1cm4gdGhpcy5ub3JtYWwueCplLngrdGhpcy5ub3JtYWwueSplLnkrdGhpcy5ub3JtYWwueiplLnordGhpcy5kfWNvcHlGcm9tUG9pbnRzKGUsdCxpKXtjb25zdCBzPXQueC1lLngscj10LnktZS55LG49dC56LWUueixhPWkueC1lLngsbz1pLnktZS55LGg9aS56LWUueixsPXIqaC1uKm8sdT1uKmEtcypoLGQ9cypvLXIqYSxmPU1hdGguc3FydChsKmwrdSp1K2QqZCk7bGV0IF87cmV0dXJuIGYhPT0wP189MS9mOl89MCx0aGlzLm5vcm1hbC54PWwqXyx0aGlzLm5vcm1hbC55PXUqXyx0aGlzLm5vcm1hbC56PWQqXyx0aGlzLmQ9LSh0aGlzLm5vcm1hbC54KmUueCt0aGlzLm5vcm1hbC55KmUueSt0aGlzLm5vcm1hbC56KmUueiksdGhpc31pc0Zyb250RmFjaW5nVG8oZSx0KXtyZXR1cm4gcC5Eb3QodGhpcy5ub3JtYWwsZSk8PXR9c2lnbmVkRGlzdGFuY2VUbyhlKXtyZXR1cm4gcC5Eb3QoZSx0aGlzLm5vcm1hbCkrdGhpcy5kfXN0YXRpYyBGcm9tQXJyYXkoZSl7cmV0dXJuIG5ldyB4dChlWzBdLGVbMV0sZVsyXSxlWzNdKX1zdGF0aWMgRnJvbVBvaW50cyhlLHQsaSl7Y29uc3Qgcz1uZXcgeHQoMCwwLDAsMCk7cmV0dXJuIHMuY29weUZyb21Qb2ludHMoZSx0LGkpLHN9c3RhdGljIEZyb21Qb3NpdGlvbkFuZE5vcm1hbChlLHQpe2NvbnN0IGk9bmV3IHh0KDAsMCwwLDApO3JldHVybiB0Lm5vcm1hbGl6ZSgpLGkubm9ybWFsPXQsaS5kPS0odC54KmUueCt0LnkqZS55K3QueiplLnopLGl9c3RhdGljIFNpZ25lZERpc3RhbmNlVG9QbGFuZUZyb21Qb3NpdGlvbkFuZE5vcm1hbChlLHQsaSl7Y29uc3Qgcz0tKHQueCplLngrdC55KmUueSt0LnoqZS56KTtyZXR1cm4gcC5Eb3QoaSx0KStzfX14dC5fVG1wTWF0cml4PXguSWRlbnRpdHkoKTtjbGFzcyBFdHtzdGF0aWMgR2V0UGxhbmVzKGUpe2NvbnN0IHQ9W107Zm9yKGxldCBpPTA7aTw2O2krKyl0LnB1c2gobmV3IHh0KDAsMCwwLDApKTtyZXR1cm4gRXQuR2V0UGxhbmVzVG9SZWYoZSx0KSx0fXN0YXRpYyBHZXROZWFyUGxhbmVUb1JlZihlLHQpe2NvbnN0IGk9ZS5tO3Qubm9ybWFsLng9aVszXStpWzJdLHQubm9ybWFsLnk9aVs3XStpWzZdLHQubm9ybWFsLno9aVsxMV0raVsxMF0sdC5kPWlbMTVdK2lbMTRdLHQubm9ybWFsaXplKCl9c3RhdGljIEdldEZhclBsYW5lVG9SZWYoZSx0KXtjb25zdCBpPWUubTt0Lm5vcm1hbC54PWlbM10taVsyXSx0Lm5vcm1hbC55PWlbN10taVs2XSx0Lm5vcm1hbC56PWlbMTFdLWlbMTBdLHQuZD1pWzE1XS1pWzE0XSx0Lm5vcm1hbGl6ZSgpfXN0YXRpYyBHZXRMZWZ0UGxhbmVUb1JlZihlLHQpe2NvbnN0IGk9ZS5tO3Qubm9ybWFsLng9aVszXStpWzBdLHQubm9ybWFsLnk9aVs3XStpWzRdLHQubm9ybWFsLno9aVsxMV0raVs4XSx0LmQ9aVsxNV0raVsxMl0sdC5ub3JtYWxpemUoKX1zdGF0aWMgR2V0UmlnaHRQbGFuZVRvUmVmKGUsdCl7Y29uc3QgaT1lLm07dC5ub3JtYWwueD1pWzNdLWlbMF0sdC5ub3JtYWwueT1pWzddLWlbNF0sdC5ub3JtYWwuej1pWzExXS1pWzhdLHQuZD1pWzE1XS1pWzEyXSx0Lm5vcm1hbGl6ZSgpfXN0YXRpYyBHZXRUb3BQbGFuZVRvUmVmKGUsdCl7Y29uc3QgaT1lLm07dC5ub3JtYWwueD1pWzNdLWlbMV0sdC5ub3JtYWwueT1pWzddLWlbNV0sdC5ub3JtYWwuej1pWzExXS1pWzldLHQuZD1pWzE1XS1pWzEzXSx0Lm5vcm1hbGl6ZSgpfXN0YXRpYyBHZXRCb3R0b21QbGFuZVRvUmVmKGUsdCl7Y29uc3QgaT1lLm07dC5ub3JtYWwueD1pWzNdK2lbMV0sdC5ub3JtYWwueT1pWzddK2lbNV0sdC5ub3JtYWwuej1pWzExXStpWzldLHQuZD1pWzE1XStpWzEzXSx0Lm5vcm1hbGl6ZSgpfXN0YXRpYyBHZXRQbGFuZXNUb1JlZihlLHQpe0V0LkdldE5lYXJQbGFuZVRvUmVmKGUsdFswXSksRXQuR2V0RmFyUGxhbmVUb1JlZihlLHRbMV0pLEV0LkdldExlZnRQbGFuZVRvUmVmKGUsdFsyXSksRXQuR2V0UmlnaHRQbGFuZVRvUmVmKGUsdFszXSksRXQuR2V0VG9wUGxhbmVUb1JlZihlLHRbNF0pLEV0LkdldEJvdHRvbVBsYW5lVG9SZWYoZSx0WzVdKX19Y2xhc3MgTXJ7c3RhdGljIGdldCBVbmlxdWVJZCgpe2NvbnN0IGU9dGhpcy5fVW5pcXVlSWRDb3VudGVyO3JldHVybiB0aGlzLl9VbmlxdWVJZENvdW50ZXIrKyxlfX1Nci5fVW5pcXVlSWRDb3VudGVyPTE7Y2xhc3MgRWV7c3RhdGljIENvbXBhcmVMaWdodHNQcmlvcml0eShlLHQpe3JldHVybiBlLnNoYWRvd0VuYWJsZWQhPT10LnNoYWRvd0VuYWJsZWQ/KHQuc2hhZG93RW5hYmxlZD8xOjApLShlLnNoYWRvd0VuYWJsZWQ/MTowKTp0LnJlbmRlclByaW9yaXR5LWUucmVuZGVyUHJpb3JpdHl9fUVlLkZBTExPRkZfREVGQVVMVD0wLEVlLkZBTExPRkZfUEhZU0lDQUw9MSxFZS5GQUxMT0ZGX0dMVEY9MixFZS5GQUxMT0ZGX1NUQU5EQVJEPTMsRWUuTElHSFRNQVBfREVGQVVMVD0wLEVlLkxJR0hUTUFQX1NQRUNVTEFSPTEsRWUuTElHSFRNQVBfU0hBRE9XU09OTFk9MixFZS5JTlRFTlNJVFlNT0RFX0FVVE9NQVRJQz0wLEVlLklOVEVOU0lUWU1PREVfTFVNSU5PVVNQT1dFUj0xLEVlLklOVEVOU0lUWU1PREVfTFVNSU5PVVNJTlRFTlNJVFk9MixFZS5JTlRFTlNJVFlNT0RFX0lMTFVNSU5BTkNFPTMsRWUuSU5URU5TSVRZTU9ERV9MVU1JTkFOQ0U9NCxFZS5MSUdIVFRZUEVJRF9QT0lOVExJR0hUPTAsRWUuTElHSFRUWVBFSURfRElSRUNUSU9OQUxMSUdIVD0xLEVlLkxJR0hUVFlQRUlEX1NQT1RMSUdIVD0yLEVlLkxJR0hUVFlQRUlEX0hFTUlTUEhFUklDTElHSFQ9Mzt2YXIgQ3Q7KGZ1bmN0aW9uKGMpe2NbYy5CYWNrd2FyZENvbXBhdGlibGU9MF09IkJhY2t3YXJkQ29tcGF0aWJsZSIsY1tjLkludGVybWVkaWF0ZT0xXT0iSW50ZXJtZWRpYXRlIixjW2MuQWdncmVzc2l2ZT0yXT0iQWdncmVzc2l2ZSJ9KShDdHx8KEN0PXt9KSk7Y2xhc3MgbmUgZXh0ZW5kcyBaaXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKCksdGhpcy5faW5wdXRNYW5hZ2VyPW5ldyBEZSh0aGlzKSx0aGlzLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnM9bnVsbCx0aGlzLl9pc1NjZW5lPSEwLHRoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbj0hMSx0aGlzLmF1dG9DbGVhcj0hMCx0aGlzLmF1dG9DbGVhckRlcHRoQW5kU3RlbmNpbD0hMCx0aGlzLmNsZWFyQ29sb3I9bmV3IG1lKC4yLC4yLC4zLDEpLHRoaXMuYW1iaWVudENvbG9yPW5ldyByZSgwLDAsMCksdGhpcy5lbnZpcm9ubWVudEludGVuc2l0eT0xLHRoaXMuX3BlcmZvcm1hbmNlUHJpb3JpdHk9Q3QuQmFja3dhcmRDb21wYXRpYmxlLHRoaXMuX2ZvcmNlV2lyZWZyYW1lPSExLHRoaXMuX3NraXBGcnVzdHVtQ2xpcHBpbmc9ITEsdGhpcy5fZm9yY2VQb2ludHNDbG91ZD0hMSx0aGlzLmFuaW1hdGlvbnNFbmFibGVkPSEwLHRoaXMuX2FuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZT1udWxsLHRoaXMudXNlQ29uc3RhbnRBbmltYXRpb25EZWx0YVRpbWU9ITEsdGhpcy5jb25zdGFudGx5VXBkYXRlTWVzaFVuZGVyUG9pbnRlcj0hMSx0aGlzLmhvdmVyQ3Vyc29yPSJwb2ludGVyIix0aGlzLmRlZmF1bHRDdXJzb3I9IiIsdGhpcy5kb05vdEhhbmRsZUN1cnNvcnM9ITEsdGhpcy5wcmV2ZW50RGVmYXVsdE9uUG9pbnRlckRvd249ITAsdGhpcy5wcmV2ZW50RGVmYXVsdE9uUG9pbnRlclVwPSEwLHRoaXMubWV0YWRhdGE9bnVsbCx0aGlzLnJlc2VydmVkRGF0YVN0b3JlPW51bGwsdGhpcy5kaXNhYmxlT2ZmbGluZVN1cHBvcnRFeGNlcHRpb25SdWxlcz1uZXcgQXJyYXksdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX29uRGlzcG9zZU9ic2VydmVyPW51bGwsdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGU9bmV3IEYsdGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlcj1udWxsLHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkFmdGVyUmVuZGVyQ2FtZXJhT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXI9bnVsbCx0aGlzLm9uQmVmb3JlQW5pbWF0aW9uc09ic2VydmFibGU9bmV3IEYsdGhpcy5vbkFmdGVyQW5pbWF0aW9uc09ic2VydmFibGU9bmV3IEYsdGhpcy5vbkJlZm9yZURyYXdQaGFzZU9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkFmdGVyRHJhd1BoYXNlT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uUmVhZHlPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX29uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2ZXI9bnVsbCx0aGlzLm9uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX29uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZlcj1udWxsLHRoaXMub25CZWZvcmVBY3RpdmVNZXNoZXNFdmFsdWF0aW9uT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQWZ0ZXJBY3RpdmVNZXNoZXNFdmFsdWF0aW9uT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQmVmb3JlUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQWZ0ZXJQYXJ0aWNsZXNSZW5kZXJpbmdPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25EYXRhTG9hZGVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uTmV3Q2FtZXJhQWRkZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25DYW1lcmFSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uTmV3TGlnaHRBZGRlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkxpZ2h0UmVtb3ZlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbk5ld0dlb21ldHJ5QWRkZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25HZW9tZXRyeVJlbW92ZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25OZXdUcmFuc2Zvcm1Ob2RlQWRkZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25UcmFuc2Zvcm1Ob2RlUmVtb3ZlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbk5ld01lc2hBZGRlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbk1lc2hSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uTmV3U2tlbGV0b25BZGRlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vblNrZWxldG9uUmVtb3ZlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbk5ld01hdGVyaWFsQWRkZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25OZXdNdWx0aU1hdGVyaWFsQWRkZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25NYXRlcmlhbFJlbW92ZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25NdWx0aU1hdGVyaWFsUmVtb3ZlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbk5ld1RleHR1cmVBZGRlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vblRleHR1cmVSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQmVmb3JlUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkFmdGVyUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkJlZm9yZVN0ZXBPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25BZnRlclN0ZXBPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25BY3RpdmVDYW1lcmFDaGFuZ2VkPW5ldyBGLHRoaXMub25BY3RpdmVDYW1lcmFzQ2hhbmdlZD1uZXcgRix0aGlzLm9uQmVmb3JlUmVuZGVyaW5nR3JvdXBPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25BZnRlclJlbmRlcmluZ0dyb3VwT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uTWVzaEltcG9ydGVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQW5pbWF0aW9uRmlsZUltcG9ydGVkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9yZWdpc3RlcmVkRm9yTGF0ZUFuaW1hdGlvbkJpbmRpbmdzPW5ldyBoaSgyNTYpLHRoaXMuc2tpcFBvaW50ZXJNb3ZlUGlja2luZz0hMSx0aGlzLnNraXBQb2ludGVyRG93blBpY2tpbmc9ITEsdGhpcy5za2lwUG9pbnRlclVwUGlja2luZz0hMSx0aGlzLm9uUHJlUG9pbnRlck9ic2VydmFibGU9bmV3IEYsdGhpcy5vblBvaW50ZXJPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25QcmVLZXlib2FyZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbktleWJvYXJkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl91c2VSaWdodEhhbmRlZFN5c3RlbT0hMSx0aGlzLl90aW1lQWNjdW11bGF0b3I9MCx0aGlzLl9jdXJyZW50U3RlcElkPTAsdGhpcy5fY3VycmVudEludGVybmFsU3RlcD0wLHRoaXMuX2ZvZ0VuYWJsZWQ9ITAsdGhpcy5fZm9nTW9kZT1uZS5GT0dNT0RFX05PTkUsdGhpcy5mb2dDb2xvcj1uZXcgcmUoLjIsLjIsLjMpLHRoaXMuZm9nRGVuc2l0eT0uMSx0aGlzLmZvZ1N0YXJ0PTAsdGhpcy5mb2dFbmQ9MWUzLHRoaXMubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXM9ITEsdGhpcy5fc2hhZG93c0VuYWJsZWQ9ITAsdGhpcy5fbGlnaHRzRW5hYmxlZD0hMCx0aGlzLl91bk9ic2VydmVBY3RpdmVDYW1lcmFzPW51bGwsdGhpcy5fdGV4dHVyZXNFbmFibGVkPSEwLHRoaXMucGh5c2ljc0VuYWJsZWQ9ITAsdGhpcy5wYXJ0aWNsZXNFbmFibGVkPSEwLHRoaXMuc3ByaXRlc0VuYWJsZWQ9ITAsdGhpcy5fc2tlbGV0b25zRW5hYmxlZD0hMCx0aGlzLmxlbnNGbGFyZXNFbmFibGVkPSEwLHRoaXMuY29sbGlzaW9uc0VuYWJsZWQ9ITAsdGhpcy5ncmF2aXR5PW5ldyBwKDAsLTkuODA3LDApLHRoaXMucG9zdFByb2Nlc3Nlc0VuYWJsZWQ9ITAsdGhpcy5yZW5kZXJUYXJnZXRzRW5hYmxlZD0hMCx0aGlzLmR1bXBOZXh0UmVuZGVyVGFyZ2V0cz0hMSx0aGlzLmN1c3RvbVJlbmRlclRhcmdldHM9bmV3IEFycmF5LHRoaXMuaW1wb3J0ZWRNZXNoZXNGaWxlcz1uZXcgQXJyYXksdGhpcy5wcm9iZXNFbmFibGVkPSEwLHRoaXMuX21lc2hlc0ZvckludGVyc2VjdGlvbnM9bmV3IGhpKDI1NiksdGhpcy5wcm9jZWR1cmFsVGV4dHVyZXNFbmFibGVkPSEwLHRoaXMuX3RvdGFsVmVydGljZXM9bmV3IFJ0LHRoaXMuX2FjdGl2ZUluZGljZXM9bmV3IFJ0LHRoaXMuX2FjdGl2ZVBhcnRpY2xlcz1uZXcgUnQsdGhpcy5fYWN0aXZlQm9uZXM9bmV3IFJ0LHRoaXMuX2FuaW1hdGlvblRpbWU9MCx0aGlzLmFuaW1hdGlvblRpbWVTY2FsZT0xLHRoaXMuX3JlbmRlcklkPTAsdGhpcy5fZnJhbWVJZD0wLHRoaXMuX2V4ZWN1dGVXaGVuUmVhZHlUaW1lb3V0SWQ9bnVsbCx0aGlzLl9pbnRlcm1lZGlhdGVSZW5kZXJpbmc9ITEsdGhpcy5fZGVmYXVsdEZyYW1lQnVmZmVyQ2xlYXJlZD0hMSx0aGlzLl92aWV3VXBkYXRlRmxhZz0tMSx0aGlzLl9wcm9qZWN0aW9uVXBkYXRlRmxhZz0tMSx0aGlzLl90b0JlRGlzcG9zZWQ9bmV3IEFycmF5KDI1NiksdGhpcy5fYWN0aXZlUmVxdWVzdHM9bmV3IEFycmF5LHRoaXMuX3BlbmRpbmdEYXRhPW5ldyBBcnJheSx0aGlzLl9pc0Rpc3Bvc2VkPSExLHRoaXMuZGlzcGF0Y2hBbGxTdWJNZXNoZXNPZkFjdGl2ZU1lc2hlcz0hMSx0aGlzLl9hY3RpdmVNZXNoZXM9bmV3ICRlKDI1NiksdGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzPW5ldyAkZSgyNTYpLHRoaXMuX3JlbmRlclRhcmdldHM9bmV3IGhpKDI1NiksdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cz1uZXcgaGkoMjU2KSx0aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXM9bmV3ICRlKDI1NiksdGhpcy5fYWN0aXZlU2tlbGV0b25zPW5ldyBoaSgzMiksdGhpcy5fc29mdHdhcmVTa2lubmVkTWVzaGVzPW5ldyBoaSgzMiksdGhpcy5fYWN0aXZlQW5pbWF0YWJsZXM9bmV3IEFycmF5LHRoaXMuX3RyYW5zZm9ybU1hdHJpeD14Llplcm8oKSx0aGlzLnJlcXVpcmVMaWdodFNvcnRpbmc9ITEsdGhpcy5fY29tcG9uZW50cz1bXSx0aGlzLl9zZXJpYWxpemFibGVDb21wb25lbnRzPVtdLHRoaXMuX3RyYW5zaWVudENvbXBvbmVudHM9W10sdGhpcy5fYmVmb3JlQ2FtZXJhVXBkYXRlU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fYmVmb3JlQ2xlYXJTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9iZWZvcmVSZW5kZXJUYXJnZXRDbGVhclN0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2dhdGhlclJlbmRlclRhcmdldHNTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9nYXRoZXJBY3RpdmVDYW1lcmFSZW5kZXJUYXJnZXRzU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5faXNSZWFkeUZvck1lc2hTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9iZWZvcmVFdmFsdWF0ZUFjdGl2ZU1lc2hTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9ldmFsdWF0ZVN1Yk1lc2hTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9wcmVBY3RpdmVNZXNoU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fY2FtZXJhRHJhd1JlbmRlclRhcmdldFN0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2JlZm9yZUNhbWVyYURyYXdTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9iZWZvcmVSZW5kZXJUYXJnZXREcmF3U3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fYmVmb3JlUmVuZGVyaW5nR3JvdXBEcmF3U3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fYmVmb3JlUmVuZGVyaW5nTWVzaFN0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2FmdGVyUmVuZGVyaW5nTWVzaFN0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2FmdGVyUmVuZGVyaW5nR3JvdXBEcmF3U3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fYWZ0ZXJDYW1lcmFEcmF3U3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fYWZ0ZXJDYW1lcmFQb3N0UHJvY2Vzc1N0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2FmdGVyUmVuZGVyVGFyZ2V0RHJhd1N0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2FmdGVyUmVuZGVyVGFyZ2V0UG9zdFByb2Nlc3NTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9hZnRlclJlbmRlclN0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX3BvaW50ZXJNb3ZlU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fcG9pbnRlckRvd25TdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9wb2ludGVyVXBTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZD1udWxsLHRoaXMuX2RlZmF1bHRNZXNoQ2FuZGlkYXRlcz17ZGF0YTpbXSxsZW5ndGg6MH0sdGhpcy5fZGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzPXtkYXRhOltdLGxlbmd0aDowfSx0aGlzLl9wcmV2ZW50RnJlZUFjdGl2ZU1lc2hlc0FuZFJlbmRlcmluZ0dyb3Vwcz0hMSx0aGlzLl9hY3RpdmVNZXNoZXNGcm96ZW49ITEsdGhpcy5fYWN0aXZlTWVzaGVzRnJvemVuQnV0S2VlcENsaXBwaW5nPSExLHRoaXMuX3NraXBFdmFsdWF0ZUFjdGl2ZU1lc2hlc0NvbXBsZXRlbHk9ITEsdGhpcy5fYWxsb3dQb3N0UHJvY2Vzc0NsZWFyQ29sb3I9ITAsdGhpcy5nZXREZXRlcm1pbmlzdGljRnJhbWVUaW1lPSgpPT50aGlzLl9lbmdpbmUuZ2V0VGltZVN0ZXAoKSx0aGlzLl9yZWdpc3RlcmVkQWN0aW9ucz0wLHRoaXMuX2Jsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbT0hMSx0aGlzLl9wZXJmQ29sbGVjdG9yPW51bGwsdGhpcy5hY3RpdmVDYW1lcmFzPW5ldyBBcnJheTtjb25zdCBpPXt1c2VHZW9tZXRyeVVuaXF1ZUlkc01hcDohMCx1c2VNYXRlcmlhbE1lc2hNYXA6ITAsdXNlQ2xvbmVkTWVzaE1hcDohMCx2aXJ0dWFsOiExLC4uLnR9O3RoaXMuX2VuZ2luZT1lfHxmZS5MYXN0Q3JlYXRlZEVuZ2luZSxpLnZpcnR1YWw/dGhpcy5fZW5naW5lLl92aXJ0dWFsU2NlbmVzLnB1c2godGhpcyk6KGZlLl9MYXN0Q3JlYXRlZFNjZW5lPXRoaXMsdGhpcy5fZW5naW5lLnNjZW5lcy5wdXNoKHRoaXMpKSx0aGlzLl91aWQ9bnVsbCx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyPW5ldyBXZSh0aGlzKSxRaSYmKHRoaXMucG9zdFByb2Nlc3NNYW5hZ2VyPW5ldyBRaSh0aGlzKSksamUoKSYmdGhpcy5hdHRhY2hDb250cm9sKCksdGhpcy5fY3JlYXRlVWJvKCkscGUmJih0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uPW5ldyBwZSksdGhpcy5zZXREZWZhdWx0Q2FuZGlkYXRlUHJvdmlkZXJzKCksaS51c2VHZW9tZXRyeVVuaXF1ZUlkc01hcCYmKHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkPXt9KSx0aGlzLnVzZU1hdGVyaWFsTWVzaE1hcD1pLnVzZU1hdGVyaWFsTWVzaE1hcCx0aGlzLnVzZUNsb25lZE1lc2hNYXA9aS51c2VDbG9uZWRNZXNoTWFwLCghdHx8IXQudmlydHVhbCkmJnRoaXMuX2VuZ2luZS5vbk5ld1NjZW5lQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX1zdGF0aWMgRGVmYXVsdE1hdGVyaWFsRmFjdG9yeShlKXt0aHJvdyAkKCJTdGFuZGFyZE1hdGVyaWFsIil9c3RhdGljIENvbGxpc2lvbkNvb3JkaW5hdG9yRmFjdG9yeSgpe3Rocm93ICQoIkRlZmF1bHRDb2xsaXNpb25Db29yZGluYXRvciIpfWdldCBlbnZpcm9ubWVudFRleHR1cmUoKXtyZXR1cm4gdGhpcy5fZW52aXJvbm1lbnRUZXh0dXJlfXNldCBlbnZpcm9ubWVudFRleHR1cmUoZSl7dGhpcy5fZW52aXJvbm1lbnRUZXh0dXJlIT09ZSYmKHRoaXMuX2Vudmlyb25tZW50VGV4dHVyZT1lLHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfWdldCBpbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uKCl7cmV0dXJuIHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb259Z2V0IHBlcmZvcm1hbmNlUHJpb3JpdHkoKXtyZXR1cm4gdGhpcy5fcGVyZm9ybWFuY2VQcmlvcml0eX1zZXQgcGVyZm9ybWFuY2VQcmlvcml0eShlKXtpZihlIT09dGhpcy5fcGVyZm9ybWFuY2VQcmlvcml0eSlzd2l0Y2godGhpcy5fcGVyZm9ybWFuY2VQcmlvcml0eT1lLGUpe2Nhc2UgQ3QuQmFja3dhcmRDb21wYXRpYmxlOnRoaXMuc2tpcEZydXN0dW1DbGlwcGluZz0hMSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLm1haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzPSExLHRoaXMuc2tpcFBvaW50ZXJNb3ZlUGlja2luZz0hMSx0aGlzLmF1dG9DbGVhcj0hMDticmVhaztjYXNlIEN0LkludGVybWVkaWF0ZTp0aGlzLnNraXBGcnVzdHVtQ2xpcHBpbmc9ITEsdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5tYWludGFpblN0YXRlQmV0d2VlbkZyYW1lcz0hMSx0aGlzLnNraXBQb2ludGVyTW92ZVBpY2tpbmc9ITAsdGhpcy5hdXRvQ2xlYXI9ITE7YnJlYWs7Y2FzZSBDdC5BZ2dyZXNzaXZlOnRoaXMuc2tpcEZydXN0dW1DbGlwcGluZz0hMCx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLm1haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzPSEwLHRoaXMuc2tpcFBvaW50ZXJNb3ZlUGlja2luZz0hMCx0aGlzLmF1dG9DbGVhcj0hMTticmVha319c2V0IGZvcmNlV2lyZWZyYW1lKGUpe3RoaXMuX2ZvcmNlV2lyZWZyYW1lIT09ZSYmKHRoaXMuX2ZvcmNlV2lyZWZyYW1lPWUsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxNikpfWdldCBmb3JjZVdpcmVmcmFtZSgpe3JldHVybiB0aGlzLl9mb3JjZVdpcmVmcmFtZX1zZXQgc2tpcEZydXN0dW1DbGlwcGluZyhlKXt0aGlzLl9za2lwRnJ1c3R1bUNsaXBwaW5nIT09ZSYmKHRoaXMuX3NraXBGcnVzdHVtQ2xpcHBpbmc9ZSl9Z2V0IHNraXBGcnVzdHVtQ2xpcHBpbmcoKXtyZXR1cm4gdGhpcy5fc2tpcEZydXN0dW1DbGlwcGluZ31zZXQgZm9yY2VQb2ludHNDbG91ZChlKXt0aGlzLl9mb3JjZVBvaW50c0Nsb3VkIT09ZSYmKHRoaXMuX2ZvcmNlUG9pbnRzQ2xvdWQ9ZSx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDE2KSl9Z2V0IGZvcmNlUG9pbnRzQ2xvdWQoKXtyZXR1cm4gdGhpcy5fZm9yY2VQb2ludHNDbG91ZH1nZXQgYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlKCl7cmV0dXJuIHRoaXMuX2FuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZX1zZXQgYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlKGUpe3RoaXMuX2FuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZT1lfXNldCBvbkRpc3Bvc2UoZSl7dGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXImJnRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXIpLHRoaXMuX29uRGlzcG9zZU9ic2VydmVyPXRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5hZGQoZSl9c2V0IGJlZm9yZVJlbmRlcihlKXt0aGlzLl9vbkJlZm9yZVJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlciksZSYmKHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKGUpKX1zZXQgYWZ0ZXJSZW5kZXIoZSl7dGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXIpLGUmJih0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSkpfXNldCBiZWZvcmVDYW1lcmFSZW5kZXIoZSl7dGhpcy5fb25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2ZXIpLHRoaXMuX29uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmFibGUuYWRkKGUpfXNldCBhZnRlckNhbWVyYVJlbmRlcihlKXt0aGlzLl9vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2ZXImJnRoaXMub25BZnRlckNhbWVyYVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZlciksdGhpcy5fb25BZnRlckNhbWVyYVJlbmRlck9ic2VydmVyPXRoaXMub25BZnRlckNhbWVyYVJlbmRlck9ic2VydmFibGUuYWRkKGUpfWdldCB1blRyYW5zbGF0ZWRQb2ludGVyKCl7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci51blRyYW5zbGF0ZWRQb2ludGVyfXN0YXRpYyBnZXQgRHJhZ01vdmVtZW50VGhyZXNob2xkKCl7cmV0dXJuIERlLkRyYWdNb3ZlbWVudFRocmVzaG9sZH1zdGF0aWMgc2V0IERyYWdNb3ZlbWVudFRocmVzaG9sZChlKXtEZS5EcmFnTW92ZW1lbnRUaHJlc2hvbGQ9ZX1zdGF0aWMgZ2V0IExvbmdQcmVzc0RlbGF5KCl7cmV0dXJuIERlLkxvbmdQcmVzc0RlbGF5fXN0YXRpYyBzZXQgTG9uZ1ByZXNzRGVsYXkoZSl7RGUuTG9uZ1ByZXNzRGVsYXk9ZX1zdGF0aWMgZ2V0IERvdWJsZUNsaWNrRGVsYXkoKXtyZXR1cm4gRGUuRG91YmxlQ2xpY2tEZWxheX1zdGF0aWMgc2V0IERvdWJsZUNsaWNrRGVsYXkoZSl7RGUuRG91YmxlQ2xpY2tEZWxheT1lfXN0YXRpYyBnZXQgRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlKCl7cmV0dXJuIERlLkV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZX1zdGF0aWMgc2V0IEV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZShlKXtEZS5FeGNsdXNpdmVEb3VibGVDbGlja01vZGU9ZX1iaW5kRXllUG9zaXRpb24oZSx0PSJ2RXllUG9zaXRpb24iLGk9ITEpe3ZhciBzO2NvbnN0IHI9dGhpcy5fZm9yY2VkVmlld1Bvc2l0aW9uP3RoaXMuX2ZvcmNlZFZpZXdQb3NpdGlvbjp0aGlzLl9taXJyb3JlZENhbWVyYVBvc2l0aW9uP3RoaXMuX21pcnJvcmVkQ2FtZXJhUG9zaXRpb246KHM9dGhpcy5hY3RpdmVDYW1lcmEuZ2xvYmFsUG9zaXRpb24pIT09bnVsbCYmcyE9PXZvaWQgMD9zOnRoaXMuYWN0aXZlQ2FtZXJhLmRldmljZVBvc2l0aW9uLG49dGhpcy51c2VSaWdodEhhbmRlZFN5c3RlbT09PSh0aGlzLl9taXJyb3JlZENhbWVyYVBvc2l0aW9uIT1udWxsKTtyZXR1cm4gRC5WZWN0b3I0WzBdLnNldChyLngsci55LHIueixuPy0xOjEpLGUmJihpP2Uuc2V0RmxvYXQzKHQsRC5WZWN0b3I0WzBdLngsRC5WZWN0b3I0WzBdLnksRC5WZWN0b3I0WzBdLnopOmUuc2V0VmVjdG9yNCh0LEQuVmVjdG9yNFswXSkpLEQuVmVjdG9yNFswXX1maW5hbGl6ZVNjZW5lVWJvKCl7Y29uc3QgZT10aGlzLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpLHQ9dGhpcy5iaW5kRXllUG9zaXRpb24obnVsbCk7cmV0dXJuIGUudXBkYXRlRmxvYXQ0KCJ2RXllUG9zaXRpb24iLHQueCx0LnksdC56LHQudyksZS51cGRhdGUoKSxlfXNldCB1c2VSaWdodEhhbmRlZFN5c3RlbShlKXt0aGlzLl91c2VSaWdodEhhbmRlZFN5c3RlbSE9PWUmJih0aGlzLl91c2VSaWdodEhhbmRlZFN5c3RlbT1lLHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMTYpKX1nZXQgdXNlUmlnaHRIYW5kZWRTeXN0ZW0oKXtyZXR1cm4gdGhpcy5fdXNlUmlnaHRIYW5kZWRTeXN0ZW19c2V0U3RlcElkKGUpe3RoaXMuX2N1cnJlbnRTdGVwSWQ9ZX1nZXRTdGVwSWQoKXtyZXR1cm4gdGhpcy5fY3VycmVudFN0ZXBJZH1nZXRJbnRlcm5hbFN0ZXAoKXtyZXR1cm4gdGhpcy5fY3VycmVudEludGVybmFsU3RlcH1zZXQgZm9nRW5hYmxlZChlKXt0aGlzLl9mb2dFbmFibGVkIT09ZSYmKHRoaXMuX2ZvZ0VuYWJsZWQ9ZSx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDE2KSl9Z2V0IGZvZ0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZm9nRW5hYmxlZH1zZXQgZm9nTW9kZShlKXt0aGlzLl9mb2dNb2RlIT09ZSYmKHRoaXMuX2ZvZ01vZGU9ZSx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDE2KSl9Z2V0IGZvZ01vZGUoKXtyZXR1cm4gdGhpcy5fZm9nTW9kZX1nZXQgcHJlUGFzcygpe3JldHVybiEhdGhpcy5wcmVQYXNzUmVuZGVyZXImJnRoaXMucHJlUGFzc1JlbmRlcmVyLmRlZmF1bHRSVC5lbmFibGVkfXNldCBzaGFkb3dzRW5hYmxlZChlKXt0aGlzLl9zaGFkb3dzRW5hYmxlZCE9PWUmJih0aGlzLl9zaGFkb3dzRW5hYmxlZD1lLHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMikpfWdldCBzaGFkb3dzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9zaGFkb3dzRW5hYmxlZH1zZXQgbGlnaHRzRW5hYmxlZChlKXt0aGlzLl9saWdodHNFbmFibGVkIT09ZSYmKHRoaXMuX2xpZ2h0c0VuYWJsZWQ9ZSx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDIpKX1nZXQgbGlnaHRzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9saWdodHNFbmFibGVkfWdldCBhY3RpdmVDYW1lcmFzKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUNhbWVyYXN9c2V0IGFjdGl2ZUNhbWVyYXMoZSl7dGhpcy5fdW5PYnNlcnZlQWN0aXZlQ2FtZXJhcyYmKHRoaXMuX3VuT2JzZXJ2ZUFjdGl2ZUNhbWVyYXMoKSx0aGlzLl91bk9ic2VydmVBY3RpdmVDYW1lcmFzPW51bGwpLGUmJih0aGlzLl91bk9ic2VydmVBY3RpdmVDYW1lcmFzPSRzKGUsKCk9Pnt0aGlzLm9uQWN0aXZlQ2FtZXJhc0NoYW5nZWQubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfSkpLHRoaXMuX2FjdGl2ZUNhbWVyYXM9ZX1nZXQgYWN0aXZlQ2FtZXJhKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUNhbWVyYX1zZXQgYWN0aXZlQ2FtZXJhKGUpe2UhPT10aGlzLl9hY3RpdmVDYW1lcmEmJih0aGlzLl9hY3RpdmVDYW1lcmE9ZSx0aGlzLm9uQWN0aXZlQ2FtZXJhQ2hhbmdlZC5ub3RpZnlPYnNlcnZlcnModGhpcykpfWdldCBkZWZhdWx0TWF0ZXJpYWwoKXtyZXR1cm4gdGhpcy5fZGVmYXVsdE1hdGVyaWFsfHwodGhpcy5fZGVmYXVsdE1hdGVyaWFsPW5lLkRlZmF1bHRNYXRlcmlhbEZhY3RvcnkodGhpcykpLHRoaXMuX2RlZmF1bHRNYXRlcmlhbH1zZXQgZGVmYXVsdE1hdGVyaWFsKGUpe3RoaXMuX2RlZmF1bHRNYXRlcmlhbD1lfXNldCB0ZXh0dXJlc0VuYWJsZWQoZSl7dGhpcy5fdGV4dHVyZXNFbmFibGVkIT09ZSYmKHRoaXMuX3RleHR1cmVzRW5hYmxlZD1lLHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfWdldCB0ZXh0dXJlc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZXNFbmFibGVkfXNldCBza2VsZXRvbnNFbmFibGVkKGUpe3RoaXMuX3NrZWxldG9uc0VuYWJsZWQhPT1lJiYodGhpcy5fc2tlbGV0b25zRW5hYmxlZD1lLHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoOCkpfWdldCBza2VsZXRvbnNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX3NrZWxldG9uc0VuYWJsZWR9Z2V0IGNvbGxpc2lvbkNvb3JkaW5hdG9yKCl7cmV0dXJuIHRoaXMuX2NvbGxpc2lvbkNvb3JkaW5hdG9yfHwodGhpcy5fY29sbGlzaW9uQ29vcmRpbmF0b3I9bmUuQ29sbGlzaW9uQ29vcmRpbmF0b3JGYWN0b3J5KCksdGhpcy5fY29sbGlzaW9uQ29vcmRpbmF0b3IuaW5pdCh0aGlzKSksdGhpcy5fY29sbGlzaW9uQ29vcmRpbmF0b3J9Z2V0IHJlbmRlcmluZ01hbmFnZXIoKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nTWFuYWdlcn1nZXQgZnJ1c3R1bVBsYW5lcygpe3JldHVybiB0aGlzLl9mcnVzdHVtUGxhbmVzfV9yZWdpc3RlclRyYW5zaWVudENvbXBvbmVudHMoKXtpZih0aGlzLl90cmFuc2llbnRDb21wb25lbnRzLmxlbmd0aD4wKXtmb3IoY29uc3QgZSBvZiB0aGlzLl90cmFuc2llbnRDb21wb25lbnRzKWUucmVnaXN0ZXIoKTt0aGlzLl90cmFuc2llbnRDb21wb25lbnRzLmxlbmd0aD0wfX1fYWRkQ29tcG9uZW50KGUpe3RoaXMuX2NvbXBvbmVudHMucHVzaChlKSx0aGlzLl90cmFuc2llbnRDb21wb25lbnRzLnB1c2goZSk7Y29uc3QgdD1lO3QuYWRkRnJvbUNvbnRhaW5lciYmdC5zZXJpYWxpemUmJnRoaXMuX3NlcmlhbGl6YWJsZUNvbXBvbmVudHMucHVzaCh0KX1fZ2V0Q29tcG9uZW50KGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2NvbXBvbmVudHMpaWYodC5uYW1lPT09ZSlyZXR1cm4gdDtyZXR1cm4gbnVsbH1nZXRDbGFzc05hbWUoKXtyZXR1cm4iU2NlbmUifV9nZXREZWZhdWx0TWVzaENhbmRpZGF0ZXMoKXtyZXR1cm4gdGhpcy5fZGVmYXVsdE1lc2hDYW5kaWRhdGVzLmRhdGE9dGhpcy5tZXNoZXMsdGhpcy5fZGVmYXVsdE1lc2hDYW5kaWRhdGVzLmxlbmd0aD10aGlzLm1lc2hlcy5sZW5ndGgsdGhpcy5fZGVmYXVsdE1lc2hDYW5kaWRhdGVzfV9nZXREZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXMoZSl7cmV0dXJuIHRoaXMuX2RlZmF1bHRTdWJNZXNoQ2FuZGlkYXRlcy5kYXRhPWUuc3ViTWVzaGVzLHRoaXMuX2RlZmF1bHRTdWJNZXNoQ2FuZGlkYXRlcy5sZW5ndGg9ZS5zdWJNZXNoZXMubGVuZ3RoLHRoaXMuX2RlZmF1bHRTdWJNZXNoQ2FuZGlkYXRlc31zZXREZWZhdWx0Q2FuZGlkYXRlUHJvdmlkZXJzKCl7dGhpcy5nZXRBY3RpdmVNZXNoQ2FuZGlkYXRlcz10aGlzLl9nZXREZWZhdWx0TWVzaENhbmRpZGF0ZXMuYmluZCh0aGlzKSx0aGlzLmdldEFjdGl2ZVN1Yk1lc2hDYW5kaWRhdGVzPXRoaXMuX2dldERlZmF1bHRTdWJNZXNoQ2FuZGlkYXRlcy5iaW5kKHRoaXMpLHRoaXMuZ2V0SW50ZXJzZWN0aW5nU3ViTWVzaENhbmRpZGF0ZXM9dGhpcy5fZ2V0RGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzLmJpbmQodGhpcyksdGhpcy5nZXRDb2xsaWRpbmdTdWJNZXNoQ2FuZGlkYXRlcz10aGlzLl9nZXREZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXMuYmluZCh0aGlzKX1nZXQgbWVzaFVuZGVyUG9pbnRlcigpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIubWVzaFVuZGVyUG9pbnRlcn1nZXQgcG9pbnRlclgoKXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLnBvaW50ZXJYfXNldCBwb2ludGVyWChlKXt0aGlzLl9pbnB1dE1hbmFnZXIucG9pbnRlclg9ZX1nZXQgcG9pbnRlclkoKXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLnBvaW50ZXJZfXNldCBwb2ludGVyWShlKXt0aGlzLl9pbnB1dE1hbmFnZXIucG9pbnRlclk9ZX1nZXRDYWNoZWRNYXRlcmlhbCgpe3JldHVybiB0aGlzLl9jYWNoZWRNYXRlcmlhbH1nZXRDYWNoZWRFZmZlY3QoKXtyZXR1cm4gdGhpcy5fY2FjaGVkRWZmZWN0fWdldENhY2hlZFZpc2liaWxpdHkoKXtyZXR1cm4gdGhpcy5fY2FjaGVkVmlzaWJpbGl0eX1pc0NhY2hlZE1hdGVyaWFsSW52YWxpZChlLHQsaT0xKXtyZXR1cm4gdGhpcy5fY2FjaGVkRWZmZWN0IT09dHx8dGhpcy5fY2FjaGVkTWF0ZXJpYWwhPT1lfHx0aGlzLl9jYWNoZWRWaXNpYmlsaXR5IT09aX1nZXRFbmdpbmUoKXtyZXR1cm4gdGhpcy5fZW5naW5lfWdldFRvdGFsVmVydGljZXMoKXtyZXR1cm4gdGhpcy5fdG90YWxWZXJ0aWNlcy5jdXJyZW50fWdldCB0b3RhbFZlcnRpY2VzUGVyZkNvdW50ZXIoKXtyZXR1cm4gdGhpcy5fdG90YWxWZXJ0aWNlc31nZXRBY3RpdmVJbmRpY2VzKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUluZGljZXMuY3VycmVudH1nZXQgdG90YWxBY3RpdmVJbmRpY2VzUGVyZkNvdW50ZXIoKXtyZXR1cm4gdGhpcy5fYWN0aXZlSW5kaWNlc31nZXRBY3RpdmVQYXJ0aWNsZXMoKXtyZXR1cm4gdGhpcy5fYWN0aXZlUGFydGljbGVzLmN1cnJlbnR9Z2V0IGFjdGl2ZVBhcnRpY2xlc1BlcmZDb3VudGVyKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZVBhcnRpY2xlc31nZXRBY3RpdmVCb25lcygpe3JldHVybiB0aGlzLl9hY3RpdmVCb25lcy5jdXJyZW50fWdldCBhY3RpdmVCb25lc1BlcmZDb3VudGVyKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUJvbmVzfWdldEFjdGl2ZU1lc2hlcygpe3JldHVybiB0aGlzLl9hY3RpdmVNZXNoZXN9Z2V0QW5pbWF0aW9uUmF0aW8oKXtyZXR1cm4gdGhpcy5fYW5pbWF0aW9uUmF0aW8hPT12b2lkIDA/dGhpcy5fYW5pbWF0aW9uUmF0aW86MX1nZXRSZW5kZXJJZCgpe3JldHVybiB0aGlzLl9yZW5kZXJJZH1nZXRGcmFtZUlkKCl7cmV0dXJuIHRoaXMuX2ZyYW1lSWR9aW5jcmVtZW50UmVuZGVySWQoKXt0aGlzLl9yZW5kZXJJZCsrfV9jcmVhdGVVYm8oKXt0aGlzLnNldFNjZW5lVW5pZm9ybUJ1ZmZlcih0aGlzLmNyZWF0ZVNjZW5lVW5pZm9ybUJ1ZmZlcigpKX1zaW11bGF0ZVBvaW50ZXJNb3ZlKGUsdCl7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci5zaW11bGF0ZVBvaW50ZXJNb3ZlKGUsdCksdGhpc31zaW11bGF0ZVBvaW50ZXJEb3duKGUsdCl7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci5zaW11bGF0ZVBvaW50ZXJEb3duKGUsdCksdGhpc31zaW11bGF0ZVBvaW50ZXJVcChlLHQsaSl7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci5zaW11bGF0ZVBvaW50ZXJVcChlLHQsaSksdGhpc31pc1BvaW50ZXJDYXB0dXJlZChlPTApe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIuaXNQb2ludGVyQ2FwdHVyZWQoZSl9YXR0YWNoQ29udHJvbChlPSEwLHQ9ITAsaT0hMCl7dGhpcy5faW5wdXRNYW5hZ2VyLmF0dGFjaENvbnRyb2woZSx0LGkpfWRldGFjaENvbnRyb2woKXt0aGlzLl9pbnB1dE1hbmFnZXIuZGV0YWNoQ29udHJvbCgpfWlzUmVhZHkoZT0hMCl7aWYodGhpcy5faXNEaXNwb3NlZClyZXR1cm4hMTtsZXQgdDtjb25zdCBpPXRoaXMuZ2V0RW5naW5lKCk7bGV0IHM9ITA7Zm9yKHRoaXMuX3BlbmRpbmdEYXRhLmxlbmd0aD4wJiYocz0hMSksZSYmKHRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5yZXNldCgpLHRoaXMuX21hdGVyaWFsc1JlbmRlclRhcmdldHMucmVzZXQoKSksdD0wO3Q8dGhpcy5tZXNoZXMubGVuZ3RoO3QrKyl7Y29uc3Qgcj10aGlzLm1lc2hlc1t0XTtpZighci5zdWJNZXNoZXN8fHIuc3ViTWVzaGVzLmxlbmd0aD09PTApY29udGludWU7aWYoIXIuaXNSZWFkeSghMCkpe3M9ITE7Y29udGludWV9Y29uc3Qgbj1yLmhhc1RoaW5JbnN0YW5jZXN8fHIuZ2V0Q2xhc3NOYW1lKCk9PT0iSW5zdGFuY2VkTWVzaCJ8fHIuZ2V0Q2xhc3NOYW1lKCk9PT0iSW5zdGFuY2VkTGluZXNNZXNoInx8aS5nZXRDYXBzKCkuaW5zdGFuY2VkQXJyYXlzJiZyLmluc3RhbmNlcy5sZW5ndGg+MDtmb3IoY29uc3QgbyBvZiB0aGlzLl9pc1JlYWR5Rm9yTWVzaFN0YWdlKW8uYWN0aW9uKHIsbil8fChzPSExKTtpZighZSljb250aW51ZTtjb25zdCBhPXIubWF0ZXJpYWx8fHRoaXMuZGVmYXVsdE1hdGVyaWFsO2lmKGEpaWYoYS5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcylmb3IoY29uc3QgbyBvZiByLnN1Yk1lc2hlcyl7Y29uc3QgaD1vLmdldE1hdGVyaWFsKCk7aCYmaC5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlcyYmaC5nZXRSZW5kZXJUYXJnZXRUZXh0dXJlcyE9bnVsbCYmdGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLmluZGV4T2YoaCk9PT0tMSYmKHRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5wdXNoKGgpLHRoaXMuX21hdGVyaWFsc1JlbmRlclRhcmdldHMuY29uY2F0V2l0aE5vRHVwbGljYXRlKGguZ2V0UmVuZGVyVGFyZ2V0VGV4dHVyZXMoKSkpfWVsc2UgYS5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlcyYmYS5nZXRSZW5kZXJUYXJnZXRUZXh0dXJlcyE9bnVsbCYmdGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLmluZGV4T2YoYSk9PT0tMSYmKHRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5wdXNoKGEpLHRoaXMuX21hdGVyaWFsc1JlbmRlclRhcmdldHMuY29uY2F0V2l0aE5vRHVwbGljYXRlKGEuZ2V0UmVuZGVyVGFyZ2V0VGV4dHVyZXMoKSkpfWlmKCFzfHwhaS5hcmVBbGxFZmZlY3RzUmVhZHkoKSlyZXR1cm4hMTtpZihlKXtmb3IodD0wO3Q8dGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5sZW5ndGg7Kyt0KWlmKCF0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLmRhdGFbdF0uaXNSZWFkeUZvclJlbmRlcmluZygpKXJldHVybiExfWZvcih0PTA7dDx0aGlzLmdlb21ldHJpZXMubGVuZ3RoO3QrKylpZih0aGlzLmdlb21ldHJpZXNbdF0uZGVsYXlMb2FkU3RhdGU9PT0yKXJldHVybiExO2lmKHRoaXMuYWN0aXZlQ2FtZXJhcyYmdGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aD4wKXtmb3IoY29uc3QgciBvZiB0aGlzLmFjdGl2ZUNhbWVyYXMpaWYoIXIuaXNSZWFkeSghMCkpcmV0dXJuITF9ZWxzZSBpZih0aGlzLmFjdGl2ZUNhbWVyYSYmIXRoaXMuYWN0aXZlQ2FtZXJhLmlzUmVhZHkoITApKXJldHVybiExO2Zvcihjb25zdCByIG9mIHRoaXMucGFydGljbGVTeXN0ZW1zKWlmKCFyLmlzUmVhZHkoKSlyZXR1cm4hMTtyZXR1cm4hMH1yZXNldENhY2hlZE1hdGVyaWFsKCl7dGhpcy5fY2FjaGVkTWF0ZXJpYWw9bnVsbCx0aGlzLl9jYWNoZWRFZmZlY3Q9bnVsbCx0aGlzLl9jYWNoZWRWaXNpYmlsaXR5PW51bGx9cmVnaXN0ZXJCZWZvcmVSZW5kZXIoZSl7dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKGUpfXVucmVnaXN0ZXJCZWZvcmVSZW5kZXIoZSl7dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlQ2FsbGJhY2soZSl9cmVnaXN0ZXJBZnRlclJlbmRlcihlKXt0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmFkZChlKX11bnJlZ2lzdGVyQWZ0ZXJSZW5kZXIoZSl7dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmVDYWxsYmFjayhlKX1fZXhlY3V0ZU9uY2VCZWZvcmVSZW5kZXIoZSl7Y29uc3QgdD0oKT0+e2UoKSxzZXRUaW1lb3V0KCgpPT57dGhpcy51bnJlZ2lzdGVyQmVmb3JlUmVuZGVyKHQpfSl9O3RoaXMucmVnaXN0ZXJCZWZvcmVSZW5kZXIodCl9ZXhlY3V0ZU9uY2VCZWZvcmVSZW5kZXIoZSx0KXt0IT09dm9pZCAwP3NldFRpbWVvdXQoKCk9Pnt0aGlzLl9leGVjdXRlT25jZUJlZm9yZVJlbmRlcihlKX0sdCk6dGhpcy5fZXhlY3V0ZU9uY2VCZWZvcmVSZW5kZXIoZSl9YWRkUGVuZGluZ0RhdGEoZSl7dGhpcy5fcGVuZGluZ0RhdGEucHVzaChlKX1yZW1vdmVQZW5kaW5nRGF0YShlKXtjb25zdCB0PXRoaXMuaXNMb2FkaW5nLGk9dGhpcy5fcGVuZGluZ0RhdGEuaW5kZXhPZihlKTtpIT09LTEmJnRoaXMuX3BlbmRpbmdEYXRhLnNwbGljZShpLDEpLHQmJiF0aGlzLmlzTG9hZGluZyYmdGhpcy5vbkRhdGFMb2FkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX1nZXRXYWl0aW5nSXRlbXNDb3VudCgpe3JldHVybiB0aGlzLl9wZW5kaW5nRGF0YS5sZW5ndGh9Z2V0IGlzTG9hZGluZygpe3JldHVybiB0aGlzLl9wZW5kaW5nRGF0YS5sZW5ndGg+MH1leGVjdXRlV2hlblJlYWR5KGUsdD0hMSl7dGhpcy5vblJlYWR5T2JzZXJ2YWJsZS5hZGRPbmNlKGUpLHRoaXMuX2V4ZWN1dGVXaGVuUmVhZHlUaW1lb3V0SWQ9PT1udWxsJiZ0aGlzLl9jaGVja0lzUmVhZHkodCl9d2hlblJlYWR5QXN5bmMoZT0hMSl7cmV0dXJuIG5ldyBQcm9taXNlKHQ9Pnt0aGlzLmV4ZWN1dGVXaGVuUmVhZHkoKCk9Pnt0KCl9LGUpfSl9X2NoZWNrSXNSZWFkeShlPSExKXtpZih0aGlzLl9yZWdpc3RlclRyYW5zaWVudENvbXBvbmVudHMoKSx0aGlzLmlzUmVhZHkoZSkpe3RoaXMub25SZWFkeU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMub25SZWFkeU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9leGVjdXRlV2hlblJlYWR5VGltZW91dElkPW51bGw7cmV0dXJufWlmKHRoaXMuX2lzRGlzcG9zZWQpe3RoaXMub25SZWFkeU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9leGVjdXRlV2hlblJlYWR5VGltZW91dElkPW51bGw7cmV0dXJufXRoaXMuX2V4ZWN1dGVXaGVuUmVhZHlUaW1lb3V0SWQ9c2V0VGltZW91dCgoKT0+e3RoaXMuaW5jcmVtZW50UmVuZGVySWQoKSx0aGlzLl9jaGVja0lzUmVhZHkoZSl9LDEwMCl9Z2V0IGFuaW1hdGFibGVzKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUFuaW1hdGFibGVzfXJlc2V0TGFzdEFuaW1hdGlvblRpbWVGcmFtZSgpe3RoaXMuX2FuaW1hdGlvblRpbWVMYXN0PWFpLk5vd31nZXRWaWV3TWF0cml4KCl7cmV0dXJuIHRoaXMuX3ZpZXdNYXRyaXh9Z2V0UHJvamVjdGlvbk1hdHJpeCgpe3JldHVybiB0aGlzLl9wcm9qZWN0aW9uTWF0cml4fWdldFRyYW5zZm9ybU1hdHJpeCgpe3JldHVybiB0aGlzLl90cmFuc2Zvcm1NYXRyaXh9c2V0VHJhbnNmb3JtTWF0cml4KGUsdCxpLHMpeyFpJiYhcyYmdGhpcy5fbXVsdGl2aWV3U2NlbmVVYm8mJih0aGlzLl9tdWx0aXZpZXdTY2VuZVViby5kaXNwb3NlKCksdGhpcy5fbXVsdGl2aWV3U2NlbmVVYm89bnVsbCksISh0aGlzLl92aWV3VXBkYXRlRmxhZz09PWUudXBkYXRlRmxhZyYmdGhpcy5fcHJvamVjdGlvblVwZGF0ZUZsYWc9PT10LnVwZGF0ZUZsYWcpJiYodGhpcy5fdmlld1VwZGF0ZUZsYWc9ZS51cGRhdGVGbGFnLHRoaXMuX3Byb2plY3Rpb25VcGRhdGVGbGFnPXQudXBkYXRlRmxhZyx0aGlzLl92aWV3TWF0cml4PWUsdGhpcy5fcHJvamVjdGlvbk1hdHJpeD10LHRoaXMuX3ZpZXdNYXRyaXgubXVsdGlwbHlUb1JlZih0aGlzLl9wcm9qZWN0aW9uTWF0cml4LHRoaXMuX3RyYW5zZm9ybU1hdHJpeCksdGhpcy5fZnJ1c3R1bVBsYW5lcz9FdC5HZXRQbGFuZXNUb1JlZih0aGlzLl90cmFuc2Zvcm1NYXRyaXgsdGhpcy5fZnJ1c3R1bVBsYW5lcyk6dGhpcy5fZnJ1c3R1bVBsYW5lcz1FdC5HZXRQbGFuZXModGhpcy5fdHJhbnNmb3JtTWF0cml4KSx0aGlzLl9tdWx0aXZpZXdTY2VuZVVibyYmdGhpcy5fbXVsdGl2aWV3U2NlbmVVYm8udXNlVWJvP3RoaXMuX3VwZGF0ZU11bHRpdmlld1VibyhpLHMpOnRoaXMuX3NjZW5lVWJvLnVzZVVibyYmKHRoaXMuX3NjZW5lVWJvLnVwZGF0ZU1hdHJpeCgidmlld1Byb2plY3Rpb24iLHRoaXMuX3RyYW5zZm9ybU1hdHJpeCksdGhpcy5fc2NlbmVVYm8udXBkYXRlTWF0cml4KCJ2aWV3Iix0aGlzLl92aWV3TWF0cml4KSx0aGlzLl9zY2VuZVViby51cGRhdGVNYXRyaXgoInByb2plY3Rpb24iLHRoaXMuX3Byb2plY3Rpb25NYXRyaXgpKSl9Z2V0U2NlbmVVbmlmb3JtQnVmZmVyKCl7cmV0dXJuIHRoaXMuX211bHRpdmlld1NjZW5lVWJvP3RoaXMuX211bHRpdmlld1NjZW5lVWJvOnRoaXMuX3NjZW5lVWJvfWNyZWF0ZVNjZW5lVW5pZm9ybUJ1ZmZlcihlKXtjb25zdCB0PW5ldyBWKHRoaXMuX2VuZ2luZSx2b2lkIDAsITEsZT8/InNjZW5lIik7cmV0dXJuIHQuYWRkVW5pZm9ybSgidmlld1Byb2plY3Rpb24iLDE2KSx0LmFkZFVuaWZvcm0oInZpZXciLDE2KSx0LmFkZFVuaWZvcm0oInByb2plY3Rpb24iLDE2KSx0LmFkZFVuaWZvcm0oInZFeWVQb3NpdGlvbiIsNCksdH1zZXRTY2VuZVVuaWZvcm1CdWZmZXIoZSl7dGhpcy5fc2NlbmVVYm89ZSx0aGlzLl92aWV3VXBkYXRlRmxhZz0tMSx0aGlzLl9wcm9qZWN0aW9uVXBkYXRlRmxhZz0tMX1nZXRVbmlxdWVJZCgpe3JldHVybiBNci5VbmlxdWVJZH1hZGRNZXNoKGUsdD0hMSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHwodGhpcy5tZXNoZXMucHVzaChlKSxlLl9yZXN5bmNMaWdodFNvdXJjZXMoKSxlLnBhcmVudHx8ZS5fYWRkVG9TY2VuZVJvb3ROb2RlcygpLHRoaXMub25OZXdNZXNoQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0JiZlLmdldENoaWxkTWVzaGVzKCkuZm9yRWFjaChpPT57dGhpcy5hZGRNZXNoKGkpfSkpfXJlbW92ZU1lc2goZSx0PSExKXtjb25zdCBpPXRoaXMubWVzaGVzLmluZGV4T2YoZSk7cmV0dXJuIGkhPT0tMSYmKHRoaXMubWVzaGVzW2ldPXRoaXMubWVzaGVzW3RoaXMubWVzaGVzLmxlbmd0aC0xXSx0aGlzLm1lc2hlcy5wb3AoKSxlLnBhcmVudHx8ZS5fcmVtb3ZlRnJvbVNjZW5lUm9vdE5vZGVzKCkpLHRoaXMuX2lucHV0TWFuYWdlci5faW52YWxpZGF0ZU1lc2goZSksdGhpcy5vbk1lc2hSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksdCYmZS5nZXRDaGlsZE1lc2hlcygpLmZvckVhY2gocz0+e3RoaXMucmVtb3ZlTWVzaChzKX0pLGl9YWRkVHJhbnNmb3JtTm9kZShlKXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fGUuZ2V0U2NlbmUoKT09PXRoaXMmJmUuX2luZGV4SW5TY2VuZVRyYW5zZm9ybU5vZGVzQXJyYXkhPT0tMXx8KGUuX2luZGV4SW5TY2VuZVRyYW5zZm9ybU5vZGVzQXJyYXk9dGhpcy50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGgsdGhpcy50cmFuc2Zvcm1Ob2Rlcy5wdXNoKGUpLGUucGFyZW50fHxlLl9hZGRUb1NjZW5lUm9vdE5vZGVzKCksdGhpcy5vbk5ld1RyYW5zZm9ybU5vZGVBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpKX1yZW1vdmVUcmFuc2Zvcm1Ob2RlKGUpe2NvbnN0IHQ9ZS5faW5kZXhJblNjZW5lVHJhbnNmb3JtTm9kZXNBcnJheTtpZih0IT09LTEpe2lmKHQhPT10aGlzLnRyYW5zZm9ybU5vZGVzLmxlbmd0aC0xKXtjb25zdCBpPXRoaXMudHJhbnNmb3JtTm9kZXNbdGhpcy50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGgtMV07dGhpcy50cmFuc2Zvcm1Ob2Rlc1t0XT1pLGkuX2luZGV4SW5TY2VuZVRyYW5zZm9ybU5vZGVzQXJyYXk9dH1lLl9pbmRleEluU2NlbmVUcmFuc2Zvcm1Ob2Rlc0FycmF5PS0xLHRoaXMudHJhbnNmb3JtTm9kZXMucG9wKCksZS5wYXJlbnR8fGUuX3JlbW92ZUZyb21TY2VuZVJvb3ROb2RlcygpfXJldHVybiB0aGlzLm9uVHJhbnNmb3JtTm9kZVJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0fXJlbW92ZVNrZWxldG9uKGUpe2NvbnN0IHQ9dGhpcy5za2VsZXRvbnMuaW5kZXhPZihlKTtyZXR1cm4gdCE9PS0xJiYodGhpcy5za2VsZXRvbnMuc3BsaWNlKHQsMSksdGhpcy5vblNrZWxldG9uUmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLHRoaXMuX2V4ZWN1dGVBY3RpdmVDb250YWluZXJDbGVhbnVwKHRoaXMuX2FjdGl2ZVNrZWxldG9ucykpLHR9cmVtb3ZlTW9ycGhUYXJnZXRNYW5hZ2VyKGUpe2NvbnN0IHQ9dGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMSYmdGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzLnNwbGljZSh0LDEpLHR9cmVtb3ZlTGlnaHQoZSl7Y29uc3QgdD10aGlzLmxpZ2h0cy5pbmRleE9mKGUpO2lmKHQhPT0tMSl7Zm9yKGNvbnN0IGkgb2YgdGhpcy5tZXNoZXMpaS5fcmVtb3ZlTGlnaHRTb3VyY2UoZSwhMSk7dGhpcy5saWdodHMuc3BsaWNlKHQsMSksdGhpcy5zb3J0TGlnaHRzQnlQcmlvcml0eSgpLGUucGFyZW50fHxlLl9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXMoKX1yZXR1cm4gdGhpcy5vbkxpZ2h0UmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLHR9cmVtb3ZlQ2FtZXJhKGUpe2NvbnN0IHQ9dGhpcy5jYW1lcmFzLmluZGV4T2YoZSk7aWYodCE9PS0xJiYodGhpcy5jYW1lcmFzLnNwbGljZSh0LDEpLGUucGFyZW50fHxlLl9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXMoKSksdGhpcy5hY3RpdmVDYW1lcmFzKXtjb25zdCBpPXRoaXMuYWN0aXZlQ2FtZXJhcy5pbmRleE9mKGUpO2khPT0tMSYmdGhpcy5hY3RpdmVDYW1lcmFzLnNwbGljZShpLDEpfXJldHVybiB0aGlzLmFjdGl2ZUNhbWVyYT09PWUmJih0aGlzLmNhbWVyYXMubGVuZ3RoPjA/dGhpcy5hY3RpdmVDYW1lcmE9dGhpcy5jYW1lcmFzWzBdOnRoaXMuYWN0aXZlQ2FtZXJhPW51bGwpLHRoaXMub25DYW1lcmFSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksdH1yZW1vdmVQYXJ0aWNsZVN5c3RlbShlKXtjb25zdCB0PXRoaXMucGFydGljbGVTeXN0ZW1zLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMSYmKHRoaXMucGFydGljbGVTeXN0ZW1zLnNwbGljZSh0LDEpLHRoaXMuX2V4ZWN1dGVBY3RpdmVDb250YWluZXJDbGVhbnVwKHRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcykpLHR9cmVtb3ZlQW5pbWF0aW9uKGUpe2NvbnN0IHQ9dGhpcy5hbmltYXRpb25zLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMSYmdGhpcy5hbmltYXRpb25zLnNwbGljZSh0LDEpLHR9c3RvcEFuaW1hdGlvbihlLHQsaSl7fXJlbW92ZUFuaW1hdGlvbkdyb3VwKGUpe2NvbnN0IHQ9dGhpcy5hbmltYXRpb25Hcm91cHMuaW5kZXhPZihlKTtyZXR1cm4gdCE9PS0xJiZ0aGlzLmFuaW1hdGlvbkdyb3Vwcy5zcGxpY2UodCwxKSx0fXJlbW92ZU11bHRpTWF0ZXJpYWwoZSl7Y29uc3QgdD10aGlzLm11bHRpTWF0ZXJpYWxzLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMSYmdGhpcy5tdWx0aU1hdGVyaWFscy5zcGxpY2UodCwxKSx0aGlzLm9uTXVsdGlNYXRlcmlhbFJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0fXJlbW92ZU1hdGVyaWFsKGUpe2NvbnN0IHQ9ZS5faW5kZXhJblNjZW5lTWF0ZXJpYWxBcnJheTtpZih0IT09LTEmJnQ8dGhpcy5tYXRlcmlhbHMubGVuZ3RoKXtpZih0IT09dGhpcy5tYXRlcmlhbHMubGVuZ3RoLTEpe2NvbnN0IGk9dGhpcy5tYXRlcmlhbHNbdGhpcy5tYXRlcmlhbHMubGVuZ3RoLTFdO3RoaXMubWF0ZXJpYWxzW3RdPWksaS5faW5kZXhJblNjZW5lTWF0ZXJpYWxBcnJheT10fWUuX2luZGV4SW5TY2VuZU1hdGVyaWFsQXJyYXk9LTEsdGhpcy5tYXRlcmlhbHMucG9wKCl9cmV0dXJuIHRoaXMub25NYXRlcmlhbFJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0fXJlbW92ZUFjdGlvbk1hbmFnZXIoZSl7Y29uc3QgdD10aGlzLmFjdGlvbk1hbmFnZXJzLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMSYmdGhpcy5hY3Rpb25NYW5hZ2Vycy5zcGxpY2UodCwxKSx0fXJlbW92ZVRleHR1cmUoZSl7Y29uc3QgdD10aGlzLnRleHR1cmVzLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMSYmdGhpcy50ZXh0dXJlcy5zcGxpY2UodCwxKSx0aGlzLm9uVGV4dHVyZVJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0fWFkZExpZ2h0KGUpe2lmKCF0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb24pe3RoaXMubGlnaHRzLnB1c2goZSksdGhpcy5zb3J0TGlnaHRzQnlQcmlvcml0eSgpLGUucGFyZW50fHxlLl9hZGRUb1NjZW5lUm9vdE5vZGVzKCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5tZXNoZXMpdC5saWdodFNvdXJjZXMuaW5kZXhPZihlKT09PS0xJiYodC5saWdodFNvdXJjZXMucHVzaChlKSx0Ll9yZXN5bmNMaWdodFNvdXJjZXMoKSk7dGhpcy5vbk5ld0xpZ2h0QWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKX19c29ydExpZ2h0c0J5UHJpb3JpdHkoKXt0aGlzLnJlcXVpcmVMaWdodFNvcnRpbmcmJnRoaXMubGlnaHRzLnNvcnQoRWUuQ29tcGFyZUxpZ2h0c1ByaW9yaXR5KX1hZGRDYW1lcmEoZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHwodGhpcy5jYW1lcmFzLnB1c2goZSksdGhpcy5vbk5ld0NhbWVyYUFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksZS5wYXJlbnR8fGUuX2FkZFRvU2NlbmVSb290Tm9kZXMoKSl9YWRkU2tlbGV0b24oZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHwodGhpcy5za2VsZXRvbnMucHVzaChlKSx0aGlzLm9uTmV3U2tlbGV0b25BZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpKX1hZGRQYXJ0aWNsZVN5c3RlbShlKXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fHRoaXMucGFydGljbGVTeXN0ZW1zLnB1c2goZSl9YWRkQW5pbWF0aW9uKGUpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8dGhpcy5hbmltYXRpb25zLnB1c2goZSl9YWRkQW5pbWF0aW9uR3JvdXAoZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHx0aGlzLmFuaW1hdGlvbkdyb3Vwcy5wdXNoKGUpfWFkZE11bHRpTWF0ZXJpYWwoZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHwodGhpcy5tdWx0aU1hdGVyaWFscy5wdXNoKGUpLHRoaXMub25OZXdNdWx0aU1hdGVyaWFsQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSl9YWRkTWF0ZXJpYWwoZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHxlLmdldFNjZW5lKCk9PT10aGlzJiZlLl9pbmRleEluU2NlbmVNYXRlcmlhbEFycmF5IT09LTF8fChlLl9pbmRleEluU2NlbmVNYXRlcmlhbEFycmF5PXRoaXMubWF0ZXJpYWxzLmxlbmd0aCx0aGlzLm1hdGVyaWFscy5wdXNoKGUpLHRoaXMub25OZXdNYXRlcmlhbEFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSkpfWFkZE1vcnBoVGFyZ2V0TWFuYWdlcihlKXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fHRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vycy5wdXNoKGUpfWFkZEdlb21ldHJ5KGUpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8KHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkJiYodGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWRbZS51bmlxdWVJZF09dGhpcy5nZW9tZXRyaWVzLmxlbmd0aCksdGhpcy5nZW9tZXRyaWVzLnB1c2goZSkpfWFkZEFjdGlvbk1hbmFnZXIoZSl7dGhpcy5hY3Rpb25NYW5hZ2Vycy5wdXNoKGUpfWFkZFRleHR1cmUoZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHwodGhpcy50ZXh0dXJlcy5wdXNoKGUpLHRoaXMub25OZXdUZXh0dXJlQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSl9c3dpdGNoQWN0aXZlQ2FtZXJhKGUsdD0hMCl7dGhpcy5fZW5naW5lLmdldElucHV0RWxlbWVudCgpJiYodGhpcy5hY3RpdmVDYW1lcmEmJnRoaXMuYWN0aXZlQ2FtZXJhLmRldGFjaENvbnRyb2woKSx0aGlzLmFjdGl2ZUNhbWVyYT1lLHQmJmUuYXR0YWNoQ29udHJvbCgpKX1zZXRBY3RpdmVDYW1lcmFCeUlkKGUpe2NvbnN0IHQ9dGhpcy5nZXRDYW1lcmFCeUlkKGUpO3JldHVybiB0Pyh0aGlzLmFjdGl2ZUNhbWVyYT10LHQpOm51bGx9c2V0QWN0aXZlQ2FtZXJhQnlOYW1lKGUpe2NvbnN0IHQ9dGhpcy5nZXRDYW1lcmFCeU5hbWUoZSk7cmV0dXJuIHQ/KHRoaXMuYWN0aXZlQ2FtZXJhPXQsdCk6bnVsbH1nZXRBbmltYXRpb25Hcm91cEJ5TmFtZShlKXtmb3IobGV0IHQ9MDt0PHRoaXMuYW5pbWF0aW9uR3JvdXBzLmxlbmd0aDt0KyspaWYodGhpcy5hbmltYXRpb25Hcm91cHNbdF0ubmFtZT09PWUpcmV0dXJuIHRoaXMuYW5pbWF0aW9uR3JvdXBzW3RdO3JldHVybiBudWxsfV9nZXRNYXRlcmlhbChlLHQpe2ZvcihsZXQgaT0wO2k8dGhpcy5tYXRlcmlhbHMubGVuZ3RoO2krKyl7Y29uc3Qgcz10aGlzLm1hdGVyaWFsc1tpXTtpZih0KHMpKXJldHVybiBzfWlmKGUpZm9yKGxldCBpPTA7aTx0aGlzLm11bHRpTWF0ZXJpYWxzLmxlbmd0aDtpKyspe2NvbnN0IHM9dGhpcy5tdWx0aU1hdGVyaWFsc1tpXTtpZih0KHMpKXJldHVybiBzfXJldHVybiBudWxsfWdldE1hdGVyaWFsQnlVbmlxdWVJRChlLHQ9ITEpe3JldHVybiB0aGlzLl9nZXRNYXRlcmlhbCh0LGk9PmkudW5pcXVlSWQ9PT1lKX1nZXRNYXRlcmlhbEJ5SWQoZSx0PSExKXtyZXR1cm4gdGhpcy5fZ2V0TWF0ZXJpYWwodCxpPT5pLmlkPT09ZSl9Z2V0TWF0ZXJpYWxCeU5hbWUoZSx0PSExKXtyZXR1cm4gdGhpcy5fZ2V0TWF0ZXJpYWwodCxpPT5pLm5hbWU9PT1lKX1nZXRMYXN0TWF0ZXJpYWxCeUlkKGUsdD0hMSl7Zm9yKGxldCBpPXRoaXMubWF0ZXJpYWxzLmxlbmd0aC0xO2k+PTA7aS0tKWlmKHRoaXMubWF0ZXJpYWxzW2ldLmlkPT09ZSlyZXR1cm4gdGhpcy5tYXRlcmlhbHNbaV07aWYodCl7Zm9yKGxldCBpPXRoaXMubXVsdGlNYXRlcmlhbHMubGVuZ3RoLTE7aT49MDtpLS0paWYodGhpcy5tdWx0aU1hdGVyaWFsc1tpXS5pZD09PWUpcmV0dXJuIHRoaXMubXVsdGlNYXRlcmlhbHNbaV19cmV0dXJuIG51bGx9Z2V0VGV4dHVyZUJ5VW5pcXVlSWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnRleHR1cmVzLmxlbmd0aDt0KyspaWYodGhpcy50ZXh0dXJlc1t0XS51bmlxdWVJZD09PWUpcmV0dXJuIHRoaXMudGV4dHVyZXNbdF07cmV0dXJuIG51bGx9Z2V0VGV4dHVyZUJ5TmFtZShlKXtmb3IobGV0IHQ9MDt0PHRoaXMudGV4dHVyZXMubGVuZ3RoO3QrKylpZih0aGlzLnRleHR1cmVzW3RdLm5hbWU9PT1lKXJldHVybiB0aGlzLnRleHR1cmVzW3RdO3JldHVybiBudWxsfWdldENhbWVyYUJ5SWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLmNhbWVyYXMubGVuZ3RoO3QrKylpZih0aGlzLmNhbWVyYXNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLmNhbWVyYXNbdF07cmV0dXJuIG51bGx9Z2V0Q2FtZXJhQnlVbmlxdWVJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMuY2FtZXJhcy5sZW5ndGg7dCsrKWlmKHRoaXMuY2FtZXJhc1t0XS51bmlxdWVJZD09PWUpcmV0dXJuIHRoaXMuY2FtZXJhc1t0XTtyZXR1cm4gbnVsbH1nZXRDYW1lcmFCeU5hbWUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLmNhbWVyYXMubGVuZ3RoO3QrKylpZih0aGlzLmNhbWVyYXNbdF0ubmFtZT09PWUpcmV0dXJuIHRoaXMuY2FtZXJhc1t0XTtyZXR1cm4gbnVsbH1nZXRCb25lQnlJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMuc2tlbGV0b25zLmxlbmd0aDt0Kyspe2NvbnN0IGk9dGhpcy5za2VsZXRvbnNbdF07Zm9yKGxldCBzPTA7czxpLmJvbmVzLmxlbmd0aDtzKyspaWYoaS5ib25lc1tzXS5pZD09PWUpcmV0dXJuIGkuYm9uZXNbc119cmV0dXJuIG51bGx9Z2V0Qm9uZUJ5TmFtZShlKXtmb3IobGV0IHQ9MDt0PHRoaXMuc2tlbGV0b25zLmxlbmd0aDt0Kyspe2NvbnN0IGk9dGhpcy5za2VsZXRvbnNbdF07Zm9yKGxldCBzPTA7czxpLmJvbmVzLmxlbmd0aDtzKyspaWYoaS5ib25lc1tzXS5uYW1lPT09ZSlyZXR1cm4gaS5ib25lc1tzXX1yZXR1cm4gbnVsbH1nZXRMaWdodEJ5TmFtZShlKXtmb3IobGV0IHQ9MDt0PHRoaXMubGlnaHRzLmxlbmd0aDt0KyspaWYodGhpcy5saWdodHNbdF0ubmFtZT09PWUpcmV0dXJuIHRoaXMubGlnaHRzW3RdO3JldHVybiBudWxsfWdldExpZ2h0QnlJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMubGlnaHRzLmxlbmd0aDt0KyspaWYodGhpcy5saWdodHNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLmxpZ2h0c1t0XTtyZXR1cm4gbnVsbH1nZXRMaWdodEJ5VW5pcXVlSWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLmxpZ2h0cy5sZW5ndGg7dCsrKWlmKHRoaXMubGlnaHRzW3RdLnVuaXF1ZUlkPT09ZSlyZXR1cm4gdGhpcy5saWdodHNbdF07cmV0dXJuIG51bGx9Z2V0UGFydGljbGVTeXN0ZW1CeUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoO3QrKylpZih0aGlzLnBhcnRpY2xlU3lzdGVtc1t0XS5pZD09PWUpcmV0dXJuIHRoaXMucGFydGljbGVTeXN0ZW1zW3RdO3JldHVybiBudWxsfWdldEdlb21ldHJ5QnlJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMuZ2VvbWV0cmllcy5sZW5ndGg7dCsrKWlmKHRoaXMuZ2VvbWV0cmllc1t0XS5pZD09PWUpcmV0dXJuIHRoaXMuZ2VvbWV0cmllc1t0XTtyZXR1cm4gbnVsbH1fZ2V0R2VvbWV0cnlCeVVuaXF1ZUlkKGUpe2lmKHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkKXtjb25zdCB0PXRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkW2VdO2lmKHQhPT12b2lkIDApcmV0dXJuIHRoaXMuZ2VvbWV0cmllc1t0XX1lbHNlIGZvcihsZXQgdD0wO3Q8dGhpcy5nZW9tZXRyaWVzLmxlbmd0aDt0KyspaWYodGhpcy5nZW9tZXRyaWVzW3RdLnVuaXF1ZUlkPT09ZSlyZXR1cm4gdGhpcy5nZW9tZXRyaWVzW3RdO3JldHVybiBudWxsfXB1c2hHZW9tZXRyeShlLHQpe3JldHVybiF0JiZ0aGlzLl9nZXRHZW9tZXRyeUJ5VW5pcXVlSWQoZS51bmlxdWVJZCk/ITE6KHRoaXMuYWRkR2VvbWV0cnkoZSksdGhpcy5vbk5ld0dlb21ldHJ5QWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSwhMCl9cmVtb3ZlR2VvbWV0cnkoZSl7bGV0IHQ7aWYodGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWQpe2lmKHQ9dGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWRbZS51bmlxdWVJZF0sdD09PXZvaWQgMClyZXR1cm4hMX1lbHNlIGlmKHQ9dGhpcy5nZW9tZXRyaWVzLmluZGV4T2YoZSksdDwwKXJldHVybiExO2lmKHQhPT10aGlzLmdlb21ldHJpZXMubGVuZ3RoLTEpe2NvbnN0IGk9dGhpcy5nZW9tZXRyaWVzW3RoaXMuZ2VvbWV0cmllcy5sZW5ndGgtMV07aSYmKHRoaXMuZ2VvbWV0cmllc1t0XT1pLHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkJiYodGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWRbaS51bmlxdWVJZF09dCkpfXJldHVybiB0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZCYmKHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkW2UudW5pcXVlSWRdPXZvaWQgMCksdGhpcy5nZW9tZXRyaWVzLnBvcCgpLHRoaXMub25HZW9tZXRyeVJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSwhMH1nZXRHZW9tZXRyaWVzKCl7cmV0dXJuIHRoaXMuZ2VvbWV0cmllc31nZXRNZXNoQnlJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMubWVzaGVzLmxlbmd0aDt0KyspaWYodGhpcy5tZXNoZXNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLm1lc2hlc1t0XTtyZXR1cm4gbnVsbH1nZXRNZXNoZXNCeUlkKGUpe3JldHVybiB0aGlzLm1lc2hlcy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWQ9PT1lfSl9Z2V0VHJhbnNmb3JtTm9kZUJ5SWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnRyYW5zZm9ybU5vZGVzLmxlbmd0aDt0KyspaWYodGhpcy50cmFuc2Zvcm1Ob2Rlc1t0XS5pZD09PWUpcmV0dXJuIHRoaXMudHJhbnNmb3JtTm9kZXNbdF07cmV0dXJuIG51bGx9Z2V0VHJhbnNmb3JtTm9kZUJ5VW5pcXVlSWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnRyYW5zZm9ybU5vZGVzLmxlbmd0aDt0KyspaWYodGhpcy50cmFuc2Zvcm1Ob2Rlc1t0XS51bmlxdWVJZD09PWUpcmV0dXJuIHRoaXMudHJhbnNmb3JtTm9kZXNbdF07cmV0dXJuIG51bGx9Z2V0VHJhbnNmb3JtTm9kZXNCeUlkKGUpe3JldHVybiB0aGlzLnRyYW5zZm9ybU5vZGVzLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5pZD09PWV9KX1nZXRNZXNoQnlVbmlxdWVJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMubWVzaGVzLmxlbmd0aDt0KyspaWYodGhpcy5tZXNoZXNbdF0udW5pcXVlSWQ9PT1lKXJldHVybiB0aGlzLm1lc2hlc1t0XTtyZXR1cm4gbnVsbH1nZXRMYXN0TWVzaEJ5SWQoZSl7Zm9yKGxldCB0PXRoaXMubWVzaGVzLmxlbmd0aC0xO3Q+PTA7dC0tKWlmKHRoaXMubWVzaGVzW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5tZXNoZXNbdF07cmV0dXJuIG51bGx9Z2V0TGFzdEVudHJ5QnlJZChlKXtsZXQgdDtmb3IodD10aGlzLm1lc2hlcy5sZW5ndGgtMTt0Pj0wO3QtLSlpZih0aGlzLm1lc2hlc1t0XS5pZD09PWUpcmV0dXJuIHRoaXMubWVzaGVzW3RdO2Zvcih0PXRoaXMudHJhbnNmb3JtTm9kZXMubGVuZ3RoLTE7dD49MDt0LS0paWYodGhpcy50cmFuc2Zvcm1Ob2Rlc1t0XS5pZD09PWUpcmV0dXJuIHRoaXMudHJhbnNmb3JtTm9kZXNbdF07Zm9yKHQ9dGhpcy5jYW1lcmFzLmxlbmd0aC0xO3Q+PTA7dC0tKWlmKHRoaXMuY2FtZXJhc1t0XS5pZD09PWUpcmV0dXJuIHRoaXMuY2FtZXJhc1t0XTtmb3IodD10aGlzLmxpZ2h0cy5sZW5ndGgtMTt0Pj0wO3QtLSlpZih0aGlzLmxpZ2h0c1t0XS5pZD09PWUpcmV0dXJuIHRoaXMubGlnaHRzW3RdO3JldHVybiBudWxsfWdldE5vZGVCeUlkKGUpe2NvbnN0IHQ9dGhpcy5nZXRNZXNoQnlJZChlKTtpZih0KXJldHVybiB0O2NvbnN0IGk9dGhpcy5nZXRUcmFuc2Zvcm1Ob2RlQnlJZChlKTtpZihpKXJldHVybiBpO2NvbnN0IHM9dGhpcy5nZXRMaWdodEJ5SWQoZSk7aWYocylyZXR1cm4gcztjb25zdCByPXRoaXMuZ2V0Q2FtZXJhQnlJZChlKTtpZihyKXJldHVybiByO2NvbnN0IG49dGhpcy5nZXRCb25lQnlJZChlKTtyZXR1cm4gbnx8bnVsbH1nZXROb2RlQnlOYW1lKGUpe2NvbnN0IHQ9dGhpcy5nZXRNZXNoQnlOYW1lKGUpO2lmKHQpcmV0dXJuIHQ7Y29uc3QgaT10aGlzLmdldFRyYW5zZm9ybU5vZGVCeU5hbWUoZSk7aWYoaSlyZXR1cm4gaTtjb25zdCBzPXRoaXMuZ2V0TGlnaHRCeU5hbWUoZSk7aWYocylyZXR1cm4gcztjb25zdCByPXRoaXMuZ2V0Q2FtZXJhQnlOYW1lKGUpO2lmKHIpcmV0dXJuIHI7Y29uc3Qgbj10aGlzLmdldEJvbmVCeU5hbWUoZSk7cmV0dXJuIG58fG51bGx9Z2V0TWVzaEJ5TmFtZShlKXtmb3IobGV0IHQ9MDt0PHRoaXMubWVzaGVzLmxlbmd0aDt0KyspaWYodGhpcy5tZXNoZXNbdF0ubmFtZT09PWUpcmV0dXJuIHRoaXMubWVzaGVzW3RdO3JldHVybiBudWxsfWdldFRyYW5zZm9ybU5vZGVCeU5hbWUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnRyYW5zZm9ybU5vZGVzLmxlbmd0aDt0KyspaWYodGhpcy50cmFuc2Zvcm1Ob2Rlc1t0XS5uYW1lPT09ZSlyZXR1cm4gdGhpcy50cmFuc2Zvcm1Ob2Rlc1t0XTtyZXR1cm4gbnVsbH1nZXRMYXN0U2tlbGV0b25CeUlkKGUpe2ZvcihsZXQgdD10aGlzLnNrZWxldG9ucy5sZW5ndGgtMTt0Pj0wO3QtLSlpZih0aGlzLnNrZWxldG9uc1t0XS5pZD09PWUpcmV0dXJuIHRoaXMuc2tlbGV0b25zW3RdO3JldHVybiBudWxsfWdldFNrZWxldG9uQnlVbmlxdWVJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMuc2tlbGV0b25zLmxlbmd0aDt0KyspaWYodGhpcy5za2VsZXRvbnNbdF0udW5pcXVlSWQ9PT1lKXJldHVybiB0aGlzLnNrZWxldG9uc1t0XTtyZXR1cm4gbnVsbH1nZXRTa2VsZXRvbkJ5SWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnNrZWxldG9ucy5sZW5ndGg7dCsrKWlmKHRoaXMuc2tlbGV0b25zW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5za2VsZXRvbnNbdF07cmV0dXJuIG51bGx9Z2V0U2tlbGV0b25CeU5hbWUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnNrZWxldG9ucy5sZW5ndGg7dCsrKWlmKHRoaXMuc2tlbGV0b25zW3RdLm5hbWU9PT1lKXJldHVybiB0aGlzLnNrZWxldG9uc1t0XTtyZXR1cm4gbnVsbH1nZXRNb3JwaFRhcmdldE1hbmFnZXJCeUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzLmxlbmd0aDt0KyspaWYodGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzW3RdLnVuaXF1ZUlkPT09ZSlyZXR1cm4gdGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzW3RdO3JldHVybiBudWxsfWdldE1vcnBoVGFyZ2V0QnlJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vycy5sZW5ndGg7Kyt0KXtjb25zdCBpPXRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vyc1t0XTtmb3IobGV0IHM9MDtzPGkubnVtVGFyZ2V0czsrK3Mpe2NvbnN0IHI9aS5nZXRUYXJnZXQocyk7aWYoci5pZD09PWUpcmV0dXJuIHJ9fXJldHVybiBudWxsfWdldE1vcnBoVGFyZ2V0QnlOYW1lKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzLmxlbmd0aDsrK3Qpe2NvbnN0IGk9dGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzW3RdO2ZvcihsZXQgcz0wO3M8aS5udW1UYXJnZXRzOysrcyl7Y29uc3Qgcj1pLmdldFRhcmdldChzKTtpZihyLm5hbWU9PT1lKXJldHVybiByfX1yZXR1cm4gbnVsbH1nZXRQb3N0UHJvY2Vzc0J5TmFtZShlKXtmb3IobGV0IHQ9MDt0PHRoaXMucG9zdFByb2Nlc3Nlcy5sZW5ndGg7Kyt0KXtjb25zdCBpPXRoaXMucG9zdFByb2Nlc3Nlc1t0XTtpZihpLm5hbWU9PT1lKXJldHVybiBpfXJldHVybiBudWxsfWlzQWN0aXZlTWVzaChlKXtyZXR1cm4gdGhpcy5fYWN0aXZlTWVzaGVzLmluZGV4T2YoZSkhPT0tMX1nZXQgdWlkKCl7cmV0dXJuIHRoaXMuX3VpZHx8KHRoaXMuX3VpZD1ILlJhbmRvbUlkKCkpLHRoaXMuX3VpZH1hZGRFeHRlcm5hbERhdGEoZSx0KXtyZXR1cm4gdGhpcy5fZXh0ZXJuYWxEYXRhfHwodGhpcy5fZXh0ZXJuYWxEYXRhPW5ldyBjciksdGhpcy5fZXh0ZXJuYWxEYXRhLmFkZChlLHQpfWdldEV4dGVybmFsRGF0YShlKXtyZXR1cm4gdGhpcy5fZXh0ZXJuYWxEYXRhP3RoaXMuX2V4dGVybmFsRGF0YS5nZXQoZSk6bnVsbH1nZXRPckFkZEV4dGVybmFsRGF0YVdpdGhGYWN0b3J5KGUsdCl7cmV0dXJuIHRoaXMuX2V4dGVybmFsRGF0YXx8KHRoaXMuX2V4dGVybmFsRGF0YT1uZXcgY3IpLHRoaXMuX2V4dGVybmFsRGF0YS5nZXRPckFkZFdpdGhGYWN0b3J5KGUsdCl9cmVtb3ZlRXh0ZXJuYWxEYXRhKGUpe3JldHVybiB0aGlzLl9leHRlcm5hbERhdGEucmVtb3ZlKGUpfV9ldmFsdWF0ZVN1Yk1lc2goZSx0LGkscyl7aWYoc3x8ZS5pc0luRnJ1c3R1bSh0aGlzLl9mcnVzdHVtUGxhbmVzKSl7Zm9yKGNvbnN0IG4gb2YgdGhpcy5fZXZhbHVhdGVTdWJNZXNoU3RhZ2Upbi5hY3Rpb24odCxlKTtjb25zdCByPWUuZ2V0TWF0ZXJpYWwoKTtyIT1udWxsJiYoci5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlcyYmci5nZXRSZW5kZXJUYXJnZXRUZXh0dXJlcyE9bnVsbCYmdGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLmluZGV4T2Yocik9PT0tMSYmKHRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5wdXNoKHIpLHRoaXMuX21hdGVyaWFsc1JlbmRlclRhcmdldHMuY29uY2F0V2l0aE5vRHVwbGljYXRlKHIuZ2V0UmVuZGVyVGFyZ2V0VGV4dHVyZXMoKSkpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZGlzcGF0Y2goZSx0LHIpKX19ZnJlZVByb2Nlc3NlZE1hdGVyaWFscygpe3RoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5kaXNwb3NlKCl9Z2V0IGJsb2NrZnJlZUFjdGl2ZU1lc2hlc0FuZFJlbmRlcmluZ0dyb3Vwcygpe3JldHVybiB0aGlzLl9wcmV2ZW50RnJlZUFjdGl2ZU1lc2hlc0FuZFJlbmRlcmluZ0dyb3Vwc31zZXQgYmxvY2tmcmVlQWN0aXZlTWVzaGVzQW5kUmVuZGVyaW5nR3JvdXBzKGUpe3RoaXMuX3ByZXZlbnRGcmVlQWN0aXZlTWVzaGVzQW5kUmVuZGVyaW5nR3JvdXBzIT09ZSYmKGUmJih0aGlzLmZyZWVBY3RpdmVNZXNoZXMoKSx0aGlzLmZyZWVSZW5kZXJpbmdHcm91cHMoKSksdGhpcy5fcHJldmVudEZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHM9ZSl9ZnJlZUFjdGl2ZU1lc2hlcygpe2lmKCF0aGlzLmJsb2NrZnJlZUFjdGl2ZU1lc2hlc0FuZFJlbmRlcmluZ0dyb3VwcyYmKHRoaXMuX2FjdGl2ZU1lc2hlcy5kaXNwb3NlKCksdGhpcy5hY3RpdmVDYW1lcmEmJnRoaXMuYWN0aXZlQ2FtZXJhLl9hY3RpdmVNZXNoZXMmJnRoaXMuYWN0aXZlQ2FtZXJhLl9hY3RpdmVNZXNoZXMuZGlzcG9zZSgpLHRoaXMuYWN0aXZlQ2FtZXJhcykpZm9yKGxldCBlPTA7ZTx0aGlzLmFjdGl2ZUNhbWVyYXMubGVuZ3RoO2UrKyl7Y29uc3QgdD10aGlzLmFjdGl2ZUNhbWVyYXNbZV07dCYmdC5fYWN0aXZlTWVzaGVzJiZ0Ll9hY3RpdmVNZXNoZXMuZGlzcG9zZSgpfX1mcmVlUmVuZGVyaW5nR3JvdXBzKCl7aWYoIXRoaXMuYmxvY2tmcmVlQWN0aXZlTWVzaGVzQW5kUmVuZGVyaW5nR3JvdXBzJiYodGhpcy5fcmVuZGVyaW5nTWFuYWdlciYmdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5mcmVlUmVuZGVyaW5nR3JvdXBzKCksdGhpcy50ZXh0dXJlcykpZm9yKGxldCBlPTA7ZTx0aGlzLnRleHR1cmVzLmxlbmd0aDtlKyspe2NvbnN0IHQ9dGhpcy50ZXh0dXJlc1tlXTt0JiZ0LnJlbmRlckxpc3QmJnQuZnJlZVJlbmRlcmluZ0dyb3VwcygpfX1faXNJbkludGVybWVkaWF0ZVJlbmRlcmluZygpe3JldHVybiB0aGlzLl9pbnRlcm1lZGlhdGVSZW5kZXJpbmd9ZnJlZXplQWN0aXZlTWVzaGVzKGU9ITEsdCxpLHM9ITAscj0hMSl7cmV0dXJuIHRoaXMuZXhlY3V0ZVdoZW5SZWFkeSgoKT0+e2lmKCF0aGlzLmFjdGl2ZUNhbWVyYSl7aSYmaSgiTm8gYWN0aXZlIGNhbWVyYSBmb3VuZCIpO3JldHVybn1pZih0aGlzLl9mcnVzdHVtUGxhbmVzfHx0aGlzLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCgpLHRoaXMuX2V2YWx1YXRlQWN0aXZlTWVzaGVzKCksdGhpcy5fYWN0aXZlTWVzaGVzRnJvemVuPSEwLHRoaXMuX2FjdGl2ZU1lc2hlc0Zyb3plbkJ1dEtlZXBDbGlwcGluZz1yLHRoaXMuX3NraXBFdmFsdWF0ZUFjdGl2ZU1lc2hlc0NvbXBsZXRlbHk9ZSxzKWZvcihsZXQgbj0wO248dGhpcy5fYWN0aXZlTWVzaGVzLmxlbmd0aDtuKyspdGhpcy5fYWN0aXZlTWVzaGVzLmRhdGFbbl0uX2ZyZWV6ZSgpO3QmJnQoKX0pLHRoaXN9dW5mcmVlemVBY3RpdmVNZXNoZXMoKXtmb3IobGV0IGU9MDtlPHRoaXMubWVzaGVzLmxlbmd0aDtlKyspe2NvbnN0IHQ9dGhpcy5tZXNoZXNbZV07dC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mbyYmKHQuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlPSExKX1mb3IobGV0IGU9MDtlPHRoaXMuX2FjdGl2ZU1lc2hlcy5sZW5ndGg7ZSsrKXRoaXMuX2FjdGl2ZU1lc2hlcy5kYXRhW2VdLl91bkZyZWV6ZSgpO3JldHVybiB0aGlzLl9hY3RpdmVNZXNoZXNGcm96ZW49ITEsdGhpc31fZXhlY3V0ZUFjdGl2ZUNvbnRhaW5lckNsZWFudXAoZSl7ISh0aGlzLl9lbmdpbmUuc25hcHNob3RSZW5kZXJpbmcmJnRoaXMuX2VuZ2luZS5zbmFwc2hvdFJlbmRlcmluZ01vZGU9PT0xKSYmdGhpcy5fYWN0aXZlTWVzaGVzRnJvemVuJiZ0aGlzLl9hY3RpdmVNZXNoZXMubGVuZ3RofHx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGRPbmNlKCgpPT5lLmRpc3Bvc2UoKSl9X2V2YWx1YXRlQWN0aXZlTWVzaGVzKCl7dmFyIGU7aWYodGhpcy5fZW5naW5lLnNuYXBzaG90UmVuZGVyaW5nJiZ0aGlzLl9lbmdpbmUuc25hcHNob3RSZW5kZXJpbmdNb2RlPT09MSl7dGhpcy5fYWN0aXZlTWVzaGVzLmxlbmd0aD4wJiYoKGU9dGhpcy5hY3RpdmVDYW1lcmEpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5fYWN0aXZlTWVzaGVzLnJlc2V0KCksdGhpcy5fYWN0aXZlTWVzaGVzLnJlc2V0KCksdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5yZXNldCgpLHRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5yZXNldCgpLHRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcy5yZXNldCgpLHRoaXMuX2FjdGl2ZVNrZWxldG9ucy5yZXNldCgpLHRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcy5yZXNldCgpKTtyZXR1cm59aWYodGhpcy5fYWN0aXZlTWVzaGVzRnJvemVuJiZ0aGlzLl9hY3RpdmVNZXNoZXMubGVuZ3RoKXtpZighdGhpcy5fc2tpcEV2YWx1YXRlQWN0aXZlTWVzaGVzQ29tcGxldGVseSl7Y29uc3Qgcz10aGlzLl9hY3RpdmVNZXNoZXMubGVuZ3RoO2ZvcihsZXQgcj0wO3I8cztyKyspdGhpcy5fYWN0aXZlTWVzaGVzLmRhdGFbcl0uY29tcHV0ZVdvcmxkTWF0cml4KCl9aWYodGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zKXtjb25zdCBzPXRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcy5sZW5ndGg7Zm9yKGxldCByPTA7cjxzO3IrKyl0aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXMuZGF0YVtyXS5hbmltYXRlKCl9dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5yZXNldFNwcml0ZXMoKTtyZXR1cm59aWYoIXRoaXMuYWN0aXZlQ2FtZXJhKXJldHVybjt0aGlzLm9uQmVmb3JlQWN0aXZlTWVzaGVzRXZhbHVhdGlvbk9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuYWN0aXZlQ2FtZXJhLl9hY3RpdmVNZXNoZXMucmVzZXQoKSx0aGlzLl9hY3RpdmVNZXNoZXMucmVzZXQoKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnJlc2V0KCksdGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLnJlc2V0KCksdGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zLnJlc2V0KCksdGhpcy5fYWN0aXZlU2tlbGV0b25zLnJlc2V0KCksdGhpcy5fc29mdHdhcmVTa2lubmVkTWVzaGVzLnJlc2V0KCksdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5yZXNldCgpO2Zvcihjb25zdCBzIG9mIHRoaXMuX2JlZm9yZUV2YWx1YXRlQWN0aXZlTWVzaFN0YWdlKXMuYWN0aW9uKCk7Y29uc3QgdD10aGlzLmdldEFjdGl2ZU1lc2hDYW5kaWRhdGVzKCksaT10Lmxlbmd0aDtmb3IobGV0IHM9MDtzPGk7cysrKXtjb25zdCByPXQuZGF0YVtzXTtpZihyLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jdXJyZW50TE9ESXNVcFRvRGF0ZT0hMSxyLmlzQmxvY2tlZHx8KHRoaXMuX3RvdGFsVmVydGljZXMuYWRkQ291bnQoci5nZXRUb3RhbFZlcnRpY2VzKCksITEpLCFyLmlzUmVhZHkoKXx8IXIuaXNFbmFibGVkKCl8fHIuc2NhbGluZy5oYXNBWmVyb0NvbXBvbmVudCkpY29udGludWU7ci5jb21wdXRlV29ybGRNYXRyaXgoKSxyLmFjdGlvbk1hbmFnZXImJnIuYWN0aW9uTWFuYWdlci5oYXNTcGVjaWZpY1RyaWdnZXJzMigxMiwxMykmJnRoaXMuX21lc2hlc0ZvckludGVyc2VjdGlvbnMucHVzaE5vRHVwbGljYXRlKHIpO2xldCBuPXRoaXMuY3VzdG9tTE9EU2VsZWN0b3I/dGhpcy5jdXN0b21MT0RTZWxlY3RvcihyLHRoaXMuYWN0aXZlQ2FtZXJhKTpyLmdldExPRCh0aGlzLmFjdGl2ZUNhbWVyYSk7aWYoci5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY3VycmVudExPRD1uLHIuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0RJc1VwVG9EYXRlPSEwLG4hPW51bGwmJihuIT09ciYmbi5iaWxsYm9hcmRNb2RlIT09MCYmbi5jb21wdXRlV29ybGRNYXRyaXgoKSxyLl9wcmVBY3RpdmF0ZSgpLHIuaXNWaXNpYmxlJiZyLnZpc2liaWxpdHk+MCYmci5sYXllck1hc2smdGhpcy5hY3RpdmVDYW1lcmEubGF5ZXJNYXNrJiYodGhpcy5fc2tpcEZydXN0dW1DbGlwcGluZ3x8ci5hbHdheXNTZWxlY3RBc0FjdGl2ZU1lc2h8fHIuaXNJbkZydXN0dW0odGhpcy5fZnJ1c3R1bVBsYW5lcykpKSl7dGhpcy5fYWN0aXZlTWVzaGVzLnB1c2gociksdGhpcy5hY3RpdmVDYW1lcmEuX2FjdGl2ZU1lc2hlcy5wdXNoKHIpLG4hPT1yJiZuLl9hY3RpdmF0ZSh0aGlzLl9yZW5kZXJJZCwhMSk7Zm9yKGNvbnN0IGEgb2YgdGhpcy5fcHJlQWN0aXZlTWVzaFN0YWdlKWEuYWN0aW9uKHIpO3IuX2FjdGl2YXRlKHRoaXMuX3JlbmRlcklkLCExKSYmKHIuaXNBbkluc3RhbmNlP3IuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2gmJihuPXIpOm4uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX29ubHlGb3JJbnN0YW5jZXM9ITEsbi5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmU9ITAsdGhpcy5fYWN0aXZlTWVzaChyLG4pKSxyLl9wb3N0QWN0aXZhdGUoKX19aWYodGhpcy5wYXJ0aWNsZXNFbmFibGVkKXt0aGlzLm9uQmVmb3JlUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7Zm9yKGxldCBzPTA7czx0aGlzLnBhcnRpY2xlU3lzdGVtcy5sZW5ndGg7cysrKXtjb25zdCByPXRoaXMucGFydGljbGVTeXN0ZW1zW3NdO2lmKCFyLmlzU3RhcnRlZCgpfHwhci5lbWl0dGVyKWNvbnRpbnVlO2NvbnN0IG49ci5lbWl0dGVyOyghbi5wb3NpdGlvbnx8bi5pc0VuYWJsZWQoKSkmJih0aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXMucHVzaChyKSxyLmFuaW1hdGUoKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLmRpc3BhdGNoUGFydGljbGVzKHIpKX10aGlzLm9uQWZ0ZXJQYXJ0aWNsZXNSZW5kZXJpbmdPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX19X2FjdGl2ZU1lc2goZSx0KXt0aGlzLl9za2VsZXRvbnNFbmFibGVkJiZ0LnNrZWxldG9uIT09bnVsbCYmdC5za2VsZXRvbiE9PXZvaWQgMCYmKHRoaXMuX2FjdGl2ZVNrZWxldG9ucy5wdXNoTm9EdXBsaWNhdGUodC5za2VsZXRvbikmJih0LnNrZWxldG9uLnByZXBhcmUoKSx0aGlzLl9hY3RpdmVCb25lcy5hZGRDb3VudCh0LnNrZWxldG9uLmJvbmVzLmxlbmd0aCwhMSkpLHQuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzfHx0aGlzLl9zb2Z0d2FyZVNraW5uZWRNZXNoZXMucHVzaE5vRHVwbGljYXRlKHQpKTtsZXQgaT1lLmhhc0luc3RhbmNlc3x8ZS5pc0FuSW5zdGFuY2V8fHRoaXMuZGlzcGF0Y2hBbGxTdWJNZXNoZXNPZkFjdGl2ZU1lc2hlc3x8dGhpcy5fc2tpcEZydXN0dW1DbGlwcGluZ3x8dC5hbHdheXNTZWxlY3RBc0FjdGl2ZU1lc2g7aWYodCYmdC5zdWJNZXNoZXMmJnQuc3ViTWVzaGVzLmxlbmd0aD4wKXtjb25zdCBzPXRoaXMuZ2V0QWN0aXZlU3ViTWVzaENhbmRpZGF0ZXModCkscj1zLmxlbmd0aDtpPWl8fHI9PT0xO2ZvcihsZXQgbj0wO248cjtuKyspe2NvbnN0IGE9cy5kYXRhW25dO3RoaXMuX2V2YWx1YXRlU3ViTWVzaChhLHQsZSxpKX19fXVwZGF0ZVRyYW5zZm9ybU1hdHJpeChlKXtpZih0aGlzLmFjdGl2ZUNhbWVyYSlpZih0aGlzLmFjdGl2ZUNhbWVyYS5fcmVuZGVyaW5nTXVsdGl2aWV3KXtjb25zdCB0PXRoaXMuYWN0aXZlQ2FtZXJhLl9yaWdDYW1lcmFzWzBdLGk9dGhpcy5hY3RpdmVDYW1lcmEuX3JpZ0NhbWVyYXNbMV07dGhpcy5zZXRUcmFuc2Zvcm1NYXRyaXgodC5nZXRWaWV3TWF0cml4KCksdC5nZXRQcm9qZWN0aW9uTWF0cml4KGUpLGkuZ2V0Vmlld01hdHJpeCgpLGkuZ2V0UHJvamVjdGlvbk1hdHJpeChlKSl9ZWxzZSB0aGlzLnNldFRyYW5zZm9ybU1hdHJpeCh0aGlzLmFjdGl2ZUNhbWVyYS5nZXRWaWV3TWF0cml4KCksdGhpcy5hY3RpdmVDYW1lcmEuZ2V0UHJvamVjdGlvbk1hdHJpeChlKSl9X2JpbmRGcmFtZUJ1ZmZlcihlLHQ9ITApe2UmJmUuX211bHRpdmlld1RleHR1cmU/ZS5fbXVsdGl2aWV3VGV4dHVyZS5fYmluZEZyYW1lQnVmZmVyKCk6ZSYmZS5vdXRwdXRSZW5kZXJUYXJnZXQ/ZS5vdXRwdXRSZW5kZXJUYXJnZXQuX2JpbmRGcmFtZUJ1ZmZlcigpOnRoaXMuX2VuZ2luZS5fY3VycmVudEZyYW1lQnVmZmVySXNEZWZhdWx0RnJhbWVCdWZmZXIoKXx8dGhpcy5fZW5naW5lLnJlc3RvcmVEZWZhdWx0RnJhbWVidWZmZXIoKSx0JiZ0aGlzLl9jbGVhckZyYW1lQnVmZmVyKGUpfV9jbGVhckZyYW1lQnVmZmVyKGUpe2lmKCEoZSYmZS5fbXVsdGl2aWV3VGV4dHVyZSkpaWYoZSYmZS5vdXRwdXRSZW5kZXJUYXJnZXQmJiFlLl9yZW5kZXJpbmdNdWx0aXZpZXcpe2NvbnN0IHQ9ZS5vdXRwdXRSZW5kZXJUYXJnZXQ7dC5vbkNsZWFyT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKT90Lm9uQ2xlYXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLl9lbmdpbmUpOnQuc2tpcEluaXRpYWxDbGVhcnx8KHRoaXMuYXV0b0NsZWFyJiZ0aGlzLl9lbmdpbmUuY2xlYXIodC5jbGVhckNvbG9yfHx0aGlzLmNsZWFyQ29sb3IsIXQuX2NsZWFyZWQsITAsITApLHQuX2NsZWFyZWQ9ITApfWVsc2UgdGhpcy5fZGVmYXVsdEZyYW1lQnVmZmVyQ2xlYXJlZD90aGlzLl9lbmdpbmUuY2xlYXIobnVsbCwhMSwhMCwhMCk6KHRoaXMuX2RlZmF1bHRGcmFtZUJ1ZmZlckNsZWFyZWQ9ITAsdGhpcy5fY2xlYXIoKSl9X3JlbmRlckZvckNhbWVyYShlLHQsaT0hMCl7dmFyIHMscixuO2lmKGUmJmUuX3NraXBSZW5kZXJpbmcpcmV0dXJuO2NvbnN0IGE9dGhpcy5fZW5naW5lO2lmKHRoaXMuX2FjdGl2ZUNhbWVyYT1lLCF0aGlzLmFjdGl2ZUNhbWVyYSl0aHJvdyBuZXcgRXJyb3IoIkFjdGl2ZSBjYW1lcmEgbm90IHNldCIpO2lmKGEuc2V0Vmlld3BvcnQodGhpcy5hY3RpdmVDYW1lcmEudmlld3BvcnQpLHRoaXMucmVzZXRDYWNoZWRNYXRlcmlhbCgpLHRoaXMuX3JlbmRlcklkKyssIXRoaXMucHJlUGFzcyYmaSl7bGV0IGg9ITA7ZS5fcmVuZGVyaW5nTXVsdGl2aWV3JiZlLm91dHB1dFJlbmRlclRhcmdldCYmKGg9ZS5vdXRwdXRSZW5kZXJUYXJnZXQuc2tpcEluaXRpYWxDbGVhcix0aGlzLmF1dG9DbGVhciYmKGUub3V0cHV0UmVuZGVyVGFyZ2V0LnNraXBJbml0aWFsQ2xlYXI9ITEpKSx0aGlzLl9iaW5kRnJhbWVCdWZmZXIodGhpcy5fYWN0aXZlQ2FtZXJhKSxlLl9yZW5kZXJpbmdNdWx0aXZpZXcmJmUub3V0cHV0UmVuZGVyVGFyZ2V0JiYoZS5vdXRwdXRSZW5kZXJUYXJnZXQuc2tpcEluaXRpYWxDbGVhcj1oKX10aGlzLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCgpLHRoaXMub25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLmFjdGl2ZUNhbWVyYSksdGhpcy5fZXZhbHVhdGVBY3RpdmVNZXNoZXMoKTtmb3IobGV0IGg9MDtoPHRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcy5sZW5ndGg7aCsrKXtjb25zdCBsPXRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcy5kYXRhW2hdO2wuYXBwbHlTa2VsZXRvbihsLnNrZWxldG9uKX10aGlzLm9uQmVmb3JlUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX3JlbmRlclRhcmdldHMuY29uY2F0V2l0aE5vRHVwbGljYXRlKHRoaXMuX21hdGVyaWFsc1JlbmRlclRhcmdldHMpLGUuY3VzdG9tUmVuZGVyVGFyZ2V0cyYmZS5jdXN0b21SZW5kZXJUYXJnZXRzLmxlbmd0aD4wJiZ0aGlzLl9yZW5kZXJUYXJnZXRzLmNvbmNhdFdpdGhOb0R1cGxpY2F0ZShlLmN1c3RvbVJlbmRlclRhcmdldHMpLHQmJnQuY3VzdG9tUmVuZGVyVGFyZ2V0cyYmdC5jdXN0b21SZW5kZXJUYXJnZXRzLmxlbmd0aD4wJiZ0aGlzLl9yZW5kZXJUYXJnZXRzLmNvbmNhdFdpdGhOb0R1cGxpY2F0ZSh0LmN1c3RvbVJlbmRlclRhcmdldHMpLHRoaXMuZW52aXJvbm1lbnRUZXh0dXJlJiZ0aGlzLmVudmlyb25tZW50VGV4dHVyZS5pc1JlbmRlclRhcmdldCYmdGhpcy5fcmVuZGVyVGFyZ2V0cy5wdXNoTm9EdXBsaWNhdGUodGhpcy5lbnZpcm9ubWVudFRleHR1cmUpO2Zvcihjb25zdCBoIG9mIHRoaXMuX2dhdGhlckFjdGl2ZUNhbWVyYVJlbmRlclRhcmdldHNTdGFnZSloLmFjdGlvbih0aGlzLl9yZW5kZXJUYXJnZXRzKTtsZXQgbz0hMTtpZih0aGlzLnJlbmRlclRhcmdldHNFbmFibGVkKXtpZih0aGlzLl9pbnRlcm1lZGlhdGVSZW5kZXJpbmc9ITAsdGhpcy5fcmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCl7SC5TdGFydFBlcmZvcm1hbmNlQ291bnRlcigiUmVuZGVyIHRhcmdldHMiLHRoaXMuX3JlbmRlclRhcmdldHMubGVuZ3RoPjApO2ZvcihsZXQgaD0wO2g8dGhpcy5fcmVuZGVyVGFyZ2V0cy5sZW5ndGg7aCsrKXtjb25zdCBsPXRoaXMuX3JlbmRlclRhcmdldHMuZGF0YVtoXTtpZihsLl9zaG91bGRSZW5kZXIoKSl7dGhpcy5fcmVuZGVySWQrKztjb25zdCB1PWwuYWN0aXZlQ2FtZXJhJiZsLmFjdGl2ZUNhbWVyYSE9PXRoaXMuYWN0aXZlQ2FtZXJhO2wucmVuZGVyKHUsdGhpcy5kdW1wTmV4dFJlbmRlclRhcmdldHMpLG89ITB9fUguRW5kUGVyZm9ybWFuY2VDb3VudGVyKCJSZW5kZXIgdGFyZ2V0cyIsdGhpcy5fcmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCksdGhpcy5fcmVuZGVySWQrK31mb3IoY29uc3QgaCBvZiB0aGlzLl9jYW1lcmFEcmF3UmVuZGVyVGFyZ2V0U3RhZ2Upbz1oLmFjdGlvbih0aGlzLmFjdGl2ZUNhbWVyYSl8fG87dGhpcy5faW50ZXJtZWRpYXRlUmVuZGVyaW5nPSExfXRoaXMuX2VuZ2luZS5jdXJyZW50UmVuZGVyUGFzc0lkPShuPShyPShzPWUub3V0cHV0UmVuZGVyVGFyZ2V0KT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMucmVuZGVyUGFzc0lkKSE9PW51bGwmJnIhPT12b2lkIDA/cjplLnJlbmRlclBhc3NJZCkhPT1udWxsJiZuIT09dm9pZCAwP246MCxvJiYhdGhpcy5wcmVQYXNzJiZ0aGlzLl9iaW5kRnJhbWVCdWZmZXIodGhpcy5fYWN0aXZlQ2FtZXJhLCExKSx0aGlzLm9uQWZ0ZXJSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5wb3N0UHJvY2Vzc01hbmFnZXImJiFlLl9tdWx0aXZpZXdUZXh0dXJlJiYhdGhpcy5wcmVQYXNzJiZ0aGlzLnBvc3RQcm9jZXNzTWFuYWdlci5fcHJlcGFyZUZyYW1lKCk7Zm9yKGNvbnN0IGggb2YgdGhpcy5fYmVmb3JlQ2FtZXJhRHJhd1N0YWdlKWguYWN0aW9uKHRoaXMuYWN0aXZlQ2FtZXJhKTt0aGlzLm9uQmVmb3JlRHJhd1BoYXNlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksYS5zbmFwc2hvdFJlbmRlcmluZyYmYS5zbmFwc2hvdFJlbmRlcmluZ01vZGU9PT0xJiZ0aGlzLmZpbmFsaXplU2NlbmVVYm8oKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnJlbmRlcihudWxsLG51bGwsITAsITApLHRoaXMub25BZnRlckRyYXdQaGFzZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2Zvcihjb25zdCBoIG9mIHRoaXMuX2FmdGVyQ2FtZXJhRHJhd1N0YWdlKWguYWN0aW9uKHRoaXMuYWN0aXZlQ2FtZXJhKTtpZih0aGlzLnBvc3RQcm9jZXNzTWFuYWdlciYmIWUuX211bHRpdmlld1RleHR1cmUpe2NvbnN0IGg9ZS5vdXRwdXRSZW5kZXJUYXJnZXQ/ZS5vdXRwdXRSZW5kZXJUYXJnZXQucmVuZGVyVGFyZ2V0OnZvaWQgMDt0aGlzLnBvc3RQcm9jZXNzTWFuYWdlci5fZmluYWxpemVGcmFtZShlLmlzSW50ZXJtZWRpYXRlLGgpfWZvcihjb25zdCBoIG9mIHRoaXMuX2FmdGVyQ2FtZXJhUG9zdFByb2Nlc3NTdGFnZSloLmFjdGlvbih0aGlzLmFjdGl2ZUNhbWVyYSk7dGhpcy5fcmVuZGVyVGFyZ2V0cy5yZXNldCgpLHRoaXMub25BZnRlckNhbWVyYVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMuYWN0aXZlQ2FtZXJhKX1fcHJvY2Vzc1N1YkNhbWVyYXMoZSx0PSEwKXtpZihlLmNhbWVyYVJpZ01vZGU9PT0wfHxlLl9yZW5kZXJpbmdNdWx0aXZpZXcpe2UuX3JlbmRlcmluZ011bHRpdmlldyYmIXRoaXMuX211bHRpdmlld1NjZW5lVWJvJiZ0aGlzLl9jcmVhdGVNdWx0aXZpZXdVYm8oKSx0aGlzLl9yZW5kZXJGb3JDYW1lcmEoZSx2b2lkIDAsdCksdGhpcy5vbkFmdGVyUmVuZGVyQ2FtZXJhT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSk7cmV0dXJufWlmKGUuX3VzZU11bHRpdmlld1RvU2luZ2xlVmlldyl0aGlzLl9yZW5kZXJNdWx0aXZpZXdUb1NpbmdsZVZpZXcoZSk7ZWxzZXt0aGlzLm9uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSk7Zm9yKGxldCBpPTA7aTxlLl9yaWdDYW1lcmFzLmxlbmd0aDtpKyspdGhpcy5fcmVuZGVyRm9yQ2FtZXJhKGUuX3JpZ0NhbWVyYXNbaV0sZSl9dGhpcy5fYWN0aXZlQ2FtZXJhPWUsdGhpcy51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKSx0aGlzLm9uQWZ0ZXJSZW5kZXJDYW1lcmFPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKX1fY2hlY2tJbnRlcnNlY3Rpb25zKCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl9tZXNoZXNGb3JJbnRlcnNlY3Rpb25zLmxlbmd0aDtlKyspe2NvbnN0IHQ9dGhpcy5fbWVzaGVzRm9ySW50ZXJzZWN0aW9ucy5kYXRhW2VdO2lmKHQuYWN0aW9uTWFuYWdlcilmb3IobGV0IGk9MDt0LmFjdGlvbk1hbmFnZXImJmk8dC5hY3Rpb25NYW5hZ2VyLmFjdGlvbnMubGVuZ3RoO2krKyl7Y29uc3Qgcz10LmFjdGlvbk1hbmFnZXIuYWN0aW9uc1tpXTtpZihzLnRyaWdnZXI9PT0xMnx8cy50cmlnZ2VyPT09MTMpe2NvbnN0IHI9cy5nZXRUcmlnZ2VyUGFyYW1ldGVyKCksbj1yLm1lc2g/ci5tZXNoOnIsYT1uLmludGVyc2VjdHNNZXNoKHQsci51c2VQcmVjaXNlSW50ZXJzZWN0aW9uKSxvPXQuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzLmluZGV4T2Yobik7YSYmbz09PS0xP3MudHJpZ2dlcj09PTEyPyhzLl9leGVjdXRlQ3VycmVudChWZS5DcmVhdGVOZXcodCx2b2lkIDAsbikpLHQuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzLnB1c2gobikpOnMudHJpZ2dlcj09PTEzJiZ0Ll9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5wdXNoKG4pOiFhJiZvPi0xJiYocy50cmlnZ2VyPT09MTMmJnMuX2V4ZWN1dGVDdXJyZW50KFZlLkNyZWF0ZU5ldyh0LHZvaWQgMCxuKSksKCF0LmFjdGlvbk1hbmFnZXIuaGFzU3BlY2lmaWNUcmlnZ2VyKDEzLGg9Pntjb25zdCBsPWgubWVzaD9oLm1lc2g6aDtyZXR1cm4gbj09PWx9KXx8cy50cmlnZ2VyPT09MTMpJiZ0Ll9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5zcGxpY2UobywxKSl9fX19X2FkdmFuY2VQaHlzaWNzRW5naW5lU3RlcChlKXt9X2FuaW1hdGUoKXt9YW5pbWF0ZSgpe2lmKHRoaXMuX2VuZ2luZS5pc0RldGVybWluaXN0aWNMb2NrU3RlcCgpKXtsZXQgZT1NYXRoLm1heChuZS5NaW5EZWx0YVRpbWUsTWF0aC5taW4odGhpcy5fZW5naW5lLmdldERlbHRhVGltZSgpLG5lLk1heERlbHRhVGltZSkpK3RoaXMuX3RpbWVBY2N1bXVsYXRvcjtjb25zdCB0PXRoaXMuX2VuZ2luZS5nZXRUaW1lU3RlcCgpLGk9MWUzL3QvMWUzO2xldCBzPTA7Y29uc3Qgcj10aGlzLl9lbmdpbmUuZ2V0TG9ja3N0ZXBNYXhTdGVwcygpO2xldCBuPU1hdGguZmxvb3IoZS90KTtmb3Iobj1NYXRoLm1pbihuLHIpO2U+MCYmczxuOyl0aGlzLm9uQmVmb3JlU3RlcE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX2FuaW1hdGlvblJhdGlvPXQqaSx0aGlzLl9hbmltYXRlKCksdGhpcy5vbkFmdGVyQW5pbWF0aW9uc09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMucGh5c2ljc0VuYWJsZWQmJnRoaXMuX2FkdmFuY2VQaHlzaWNzRW5naW5lU3RlcCh0KSx0aGlzLm9uQWZ0ZXJTdGVwT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fY3VycmVudFN0ZXBJZCsrLHMrKyxlLT10O3RoaXMuX3RpbWVBY2N1bXVsYXRvcj1lPDA/MDplfWVsc2V7Y29uc3QgZT10aGlzLnVzZUNvbnN0YW50QW5pbWF0aW9uRGVsdGFUaW1lPzE2Ok1hdGgubWF4KG5lLk1pbkRlbHRhVGltZSxNYXRoLm1pbih0aGlzLl9lbmdpbmUuZ2V0RGVsdGFUaW1lKCksbmUuTWF4RGVsdGFUaW1lKSk7dGhpcy5fYW5pbWF0aW9uUmF0aW89ZSooNjAvMWUzKSx0aGlzLl9hbmltYXRlKCksdGhpcy5vbkFmdGVyQW5pbWF0aW9uc09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMucGh5c2ljc0VuYWJsZWQmJnRoaXMuX2FkdmFuY2VQaHlzaWNzRW5naW5lU3RlcChlKX19X2NsZWFyKCl7KHRoaXMuYXV0b0NsZWFyRGVwdGhBbmRTdGVuY2lsfHx0aGlzLmF1dG9DbGVhcikmJnRoaXMuX2VuZ2luZS5jbGVhcih0aGlzLmNsZWFyQ29sb3IsdGhpcy5hdXRvQ2xlYXJ8fHRoaXMuZm9yY2VXaXJlZnJhbWV8fHRoaXMuZm9yY2VQb2ludHNDbG91ZCx0aGlzLmF1dG9DbGVhckRlcHRoQW5kU3RlbmNpbCx0aGlzLmF1dG9DbGVhckRlcHRoQW5kU3RlbmNpbCl9X2NoZWNrQ2FtZXJhUmVuZGVyVGFyZ2V0KGUpe3ZhciB0O2lmKGUhPW51bGwmJmUub3V0cHV0UmVuZGVyVGFyZ2V0JiYhKGUhPW51bGwmJmUuaXNSaWdDYW1lcmEpJiYoZS5vdXRwdXRSZW5kZXJUYXJnZXQuX2NsZWFyZWQ9ITEpLCEoKHQ9ZT09bnVsbD92b2lkIDA6ZS5yaWdDYW1lcmFzKT09PW51bGx8fHQ9PT12b2lkIDApJiZ0Lmxlbmd0aClmb3IobGV0IGk9MDtpPGUucmlnQ2FtZXJhcy5sZW5ndGg7KytpKXtjb25zdCBzPWUucmlnQ2FtZXJhc1tpXS5vdXRwdXRSZW5kZXJUYXJnZXQ7cyYmKHMuX2NsZWFyZWQ9ITEpfX1yZXNldERyYXdDYWNoZShlKXtpZih0aGlzLm1lc2hlcylmb3IoY29uc3QgdCBvZiB0aGlzLm1lc2hlcyl0LnJlc2V0RHJhd0NhY2hlKGUpfXJlbmRlcihlPSEwLHQ9ITEpe3ZhciBpLHMscjtpZih0aGlzLmlzRGlzcG9zZWQpcmV0dXJuO3RoaXMub25SZWFkeU9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJnRoaXMuX2V4ZWN1dGVXaGVuUmVhZHlUaW1lb3V0SWQ9PT1udWxsJiZ0aGlzLl9jaGVja0lzUmVhZHkoKSx0aGlzLl9mcmFtZUlkKyssdGhpcy5fZGVmYXVsdEZyYW1lQnVmZmVyQ2xlYXJlZD0hMSx0aGlzLl9jaGVja0NhbWVyYVJlbmRlclRhcmdldCh0aGlzLmFjdGl2ZUNhbWVyYSksISgoaT10aGlzLmFjdGl2ZUNhbWVyYXMpPT09bnVsbHx8aT09PXZvaWQgMCkmJmkubGVuZ3RoJiZ0aGlzLmFjdGl2ZUNhbWVyYXMuZm9yRWFjaCh0aGlzLl9jaGVja0NhbWVyYVJlbmRlclRhcmdldCksdGhpcy5fcmVnaXN0ZXJUcmFuc2llbnRDb21wb25lbnRzKCksdGhpcy5fYWN0aXZlUGFydGljbGVzLmZldGNoTmV3RnJhbWUoKSx0aGlzLl90b3RhbFZlcnRpY2VzLmZldGNoTmV3RnJhbWUoKSx0aGlzLl9hY3RpdmVJbmRpY2VzLmZldGNoTmV3RnJhbWUoKSx0aGlzLl9hY3RpdmVCb25lcy5mZXRjaE5ld0ZyYW1lKCksdGhpcy5fbWVzaGVzRm9ySW50ZXJzZWN0aW9ucy5yZXNldCgpLHRoaXMucmVzZXRDYWNoZWRNYXRlcmlhbCgpLHRoaXMub25CZWZvcmVBbmltYXRpb25zT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5hY3Rpb25NYW5hZ2VyJiZ0aGlzLmFjdGlvbk1hbmFnZXIucHJvY2Vzc1RyaWdnZXIoMTEpLHR8fHRoaXMuYW5pbWF0ZSgpO2Zvcihjb25zdCBvIG9mIHRoaXMuX2JlZm9yZUNhbWVyYVVwZGF0ZVN0YWdlKW8uYWN0aW9uKCk7aWYoZSl7aWYodGhpcy5hY3RpdmVDYW1lcmFzJiZ0aGlzLmFjdGl2ZUNhbWVyYXMubGVuZ3RoPjApZm9yKGxldCBvPTA7bzx0aGlzLmFjdGl2ZUNhbWVyYXMubGVuZ3RoO28rKyl7Y29uc3QgaD10aGlzLmFjdGl2ZUNhbWVyYXNbb107aWYoaC51cGRhdGUoKSxoLmNhbWVyYVJpZ01vZGUhPT0wKWZvcihsZXQgbD0wO2w8aC5fcmlnQ2FtZXJhcy5sZW5ndGg7bCsrKWguX3JpZ0NhbWVyYXNbbF0udXBkYXRlKCl9ZWxzZSBpZih0aGlzLmFjdGl2ZUNhbWVyYSYmKHRoaXMuYWN0aXZlQ2FtZXJhLnVwZGF0ZSgpLHRoaXMuYWN0aXZlQ2FtZXJhLmNhbWVyYVJpZ01vZGUhPT0wKSlmb3IobGV0IG89MDtvPHRoaXMuYWN0aXZlQ2FtZXJhLl9yaWdDYW1lcmFzLmxlbmd0aDtvKyspdGhpcy5hY3RpdmVDYW1lcmEuX3JpZ0NhbWVyYXNbb10udXBkYXRlKCl9dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2NvbnN0IG49dGhpcy5nZXRFbmdpbmUoKTt0aGlzLm9uQmVmb3JlUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2NvbnN0IGE9ISgocz10aGlzLmFjdGl2ZUNhbWVyYXMpPT09bnVsbHx8cz09PXZvaWQgMCkmJnMubGVuZ3RoP3RoaXMuYWN0aXZlQ2FtZXJhc1swXTp0aGlzLmFjdGl2ZUNhbWVyYTtpZih0aGlzLnJlbmRlclRhcmdldHNFbmFibGVkKXtILlN0YXJ0UGVyZm9ybWFuY2VDb3VudGVyKCJDdXN0b20gcmVuZGVyIHRhcmdldHMiLHRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCksdGhpcy5faW50ZXJtZWRpYXRlUmVuZGVyaW5nPSEwO2ZvcihsZXQgbz0wO288dGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzLmxlbmd0aDtvKyspe2NvbnN0IGg9dGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzW29dO2lmKGguX3Nob3VsZFJlbmRlcigpKXtpZih0aGlzLl9yZW5kZXJJZCsrLHRoaXMuYWN0aXZlQ2FtZXJhPWguYWN0aXZlQ2FtZXJhfHx0aGlzLmFjdGl2ZUNhbWVyYSwhdGhpcy5hY3RpdmVDYW1lcmEpdGhyb3cgbmV3IEVycm9yKCJBY3RpdmUgY2FtZXJhIG5vdCBzZXQiKTtuLnNldFZpZXdwb3J0KHRoaXMuYWN0aXZlQ2FtZXJhLnZpZXdwb3J0KSx0aGlzLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCgpLGgucmVuZGVyKGEhPT10aGlzLmFjdGl2ZUNhbWVyYSx0aGlzLmR1bXBOZXh0UmVuZGVyVGFyZ2V0cyl9fUguRW5kUGVyZm9ybWFuY2VDb3VudGVyKCJDdXN0b20gcmVuZGVyIHRhcmdldHMiLHRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCksdGhpcy5faW50ZXJtZWRpYXRlUmVuZGVyaW5nPSExLHRoaXMuX3JlbmRlcklkKyt9dGhpcy5fZW5naW5lLmN1cnJlbnRSZW5kZXJQYXNzSWQ9KHI9YT09bnVsbD92b2lkIDA6YS5yZW5kZXJQYXNzSWQpIT09bnVsbCYmciE9PXZvaWQgMD9yOjAsdGhpcy5hY3RpdmVDYW1lcmE9YSx0aGlzLl9hY3RpdmVDYW1lcmEmJnRoaXMuX2FjdGl2ZUNhbWVyYS5jYW1lcmFSaWdNb2RlIT09MjImJiF0aGlzLnByZVBhc3MmJnRoaXMuX2JpbmRGcmFtZUJ1ZmZlcih0aGlzLl9hY3RpdmVDYW1lcmEsITEpLHRoaXMub25BZnRlclJlbmRlclRhcmdldHNSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtmb3IoY29uc3QgbyBvZiB0aGlzLl9iZWZvcmVDbGVhclN0YWdlKW8uYWN0aW9uKCk7dGhpcy5fY2xlYXJGcmFtZUJ1ZmZlcih0aGlzLmFjdGl2ZUNhbWVyYSk7Zm9yKGNvbnN0IG8gb2YgdGhpcy5fZ2F0aGVyUmVuZGVyVGFyZ2V0c1N0YWdlKW8uYWN0aW9uKHRoaXMuX3JlbmRlclRhcmdldHMpO2lmKHRoaXMuYWN0aXZlQ2FtZXJhcyYmdGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aD4wKWZvcihsZXQgbz0wO288dGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aDtvKyspdGhpcy5fcHJvY2Vzc1N1YkNhbWVyYXModGhpcy5hY3RpdmVDYW1lcmFzW29dLG8+MCk7ZWxzZXtpZighdGhpcy5hY3RpdmVDYW1lcmEpdGhyb3cgbmV3IEVycm9yKCJObyBjYW1lcmEgZGVmaW5lZCIpO3RoaXMuX3Byb2Nlc3NTdWJDYW1lcmFzKHRoaXMuYWN0aXZlQ2FtZXJhLCEhdGhpcy5hY3RpdmVDYW1lcmEub3V0cHV0UmVuZGVyVGFyZ2V0KX10aGlzLl9jaGVja0ludGVyc2VjdGlvbnMoKTtmb3IoY29uc3QgbyBvZiB0aGlzLl9hZnRlclJlbmRlclN0YWdlKW8uYWN0aW9uKCk7aWYodGhpcy5hZnRlclJlbmRlciYmdGhpcy5hZnRlclJlbmRlcigpLHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX3RvQmVEaXNwb3NlZC5sZW5ndGgpe2ZvcihsZXQgbz0wO288dGhpcy5fdG9CZURpc3Bvc2VkLmxlbmd0aDtvKyspe2NvbnN0IGg9dGhpcy5fdG9CZURpc3Bvc2VkW29dO2gmJmguZGlzcG9zZSgpfXRoaXMuX3RvQmVEaXNwb3NlZC5sZW5ndGg9MH10aGlzLmR1bXBOZXh0UmVuZGVyVGFyZ2V0cyYmKHRoaXMuZHVtcE5leHRSZW5kZXJUYXJnZXRzPSExKSx0aGlzLl9hY3RpdmVCb25lcy5hZGRDb3VudCgwLCEwKSx0aGlzLl9hY3RpdmVJbmRpY2VzLmFkZENvdW50KDAsITApLHRoaXMuX2FjdGl2ZVBhcnRpY2xlcy5hZGRDb3VudCgwLCEwKSx0aGlzLl9lbmdpbmUucmVzdG9yZURlZmF1bHRGcmFtZWJ1ZmZlcigpfWZyZWV6ZU1hdGVyaWFscygpe2ZvcihsZXQgZT0wO2U8dGhpcy5tYXRlcmlhbHMubGVuZ3RoO2UrKyl0aGlzLm1hdGVyaWFsc1tlXS5mcmVlemUoKX11bmZyZWV6ZU1hdGVyaWFscygpe2ZvcihsZXQgZT0wO2U8dGhpcy5tYXRlcmlhbHMubGVuZ3RoO2UrKyl0aGlzLm1hdGVyaWFsc1tlXS51bmZyZWV6ZSgpfWRpc3Bvc2UoKXtpZih0aGlzLmlzRGlzcG9zZWQpcmV0dXJuO3RoaXMuYmVmb3JlUmVuZGVyPW51bGwsdGhpcy5hZnRlclJlbmRlcj1udWxsLHRoaXMubWV0YWRhdGE9bnVsbCx0aGlzLnNrZWxldG9ucy5sZW5ndGg9MCx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMubGVuZ3RoPTAsdGhpcy5fdHJhbnNpZW50Q29tcG9uZW50cy5sZW5ndGg9MCx0aGlzLl9pc1JlYWR5Rm9yTWVzaFN0YWdlLmNsZWFyKCksdGhpcy5fYmVmb3JlRXZhbHVhdGVBY3RpdmVNZXNoU3RhZ2UuY2xlYXIoKSx0aGlzLl9ldmFsdWF0ZVN1Yk1lc2hTdGFnZS5jbGVhcigpLHRoaXMuX3ByZUFjdGl2ZU1lc2hTdGFnZS5jbGVhcigpLHRoaXMuX2NhbWVyYURyYXdSZW5kZXJUYXJnZXRTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZUNhbWVyYURyYXdTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZVJlbmRlclRhcmdldERyYXdTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZVJlbmRlcmluZ0dyb3VwRHJhd1N0YWdlLmNsZWFyKCksdGhpcy5fYmVmb3JlUmVuZGVyaW5nTWVzaFN0YWdlLmNsZWFyKCksdGhpcy5fYWZ0ZXJSZW5kZXJpbmdNZXNoU3RhZ2UuY2xlYXIoKSx0aGlzLl9hZnRlclJlbmRlcmluZ0dyb3VwRHJhd1N0YWdlLmNsZWFyKCksdGhpcy5fYWZ0ZXJDYW1lcmFEcmF3U3RhZ2UuY2xlYXIoKSx0aGlzLl9hZnRlclJlbmRlclRhcmdldERyYXdTdGFnZS5jbGVhcigpLHRoaXMuX2FmdGVyUmVuZGVyU3RhZ2UuY2xlYXIoKSx0aGlzLl9iZWZvcmVDYW1lcmFVcGRhdGVTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZUNsZWFyU3RhZ2UuY2xlYXIoKSx0aGlzLl9nYXRoZXJSZW5kZXJUYXJnZXRzU3RhZ2UuY2xlYXIoKSx0aGlzLl9nYXRoZXJBY3RpdmVDYW1lcmFSZW5kZXJUYXJnZXRzU3RhZ2UuY2xlYXIoKSx0aGlzLl9wb2ludGVyTW92ZVN0YWdlLmNsZWFyKCksdGhpcy5fcG9pbnRlckRvd25TdGFnZS5jbGVhcigpLHRoaXMuX3BvaW50ZXJVcFN0YWdlLmNsZWFyKCksdGhpcy5pbXBvcnRlZE1lc2hlc0ZpbGVzPW5ldyBBcnJheSx0aGlzLnN0b3BBbGxBbmltYXRpb25zJiZ0aGlzLnN0b3BBbGxBbmltYXRpb25zKCksdGhpcy5yZXNldENhY2hlZE1hdGVyaWFsKCksdGhpcy5hY3RpdmVDYW1lcmEmJih0aGlzLmFjdGl2ZUNhbWVyYS5fYWN0aXZlTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLmFjdGl2ZUNhbWVyYT1udWxsKSx0aGlzLmFjdGl2ZUNhbWVyYXM9bnVsbCx0aGlzLl9hY3RpdmVNZXNoZXMuZGlzcG9zZSgpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZGlzcG9zZSgpLHRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5kaXNwb3NlKCksdGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zLmRpc3Bvc2UoKSx0aGlzLl9hY3RpdmVTa2VsZXRvbnMuZGlzcG9zZSgpLHRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcy5kaXNwb3NlKCksdGhpcy5fcmVuZGVyVGFyZ2V0cy5kaXNwb3NlKCksdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5kaXNwb3NlKCksdGhpcy5fcmVnaXN0ZXJlZEZvckxhdGVBbmltYXRpb25CaW5kaW5ncy5kaXNwb3NlKCksdGhpcy5fbWVzaGVzRm9ySW50ZXJzZWN0aW9ucy5kaXNwb3NlKCksdGhpcy5fdG9CZURpc3Bvc2VkLmxlbmd0aD0wO2NvbnN0IGU9dGhpcy5fYWN0aXZlUmVxdWVzdHMuc2xpY2UoKTtmb3IoY29uc3QgciBvZiBlKXIuYWJvcnQoKTt0aGlzLl9hY3RpdmVSZXF1ZXN0cy5sZW5ndGg9MDt0cnl7dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX1jYXRjaChyKXtjb25zb2xlLmVycm9yKCJBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBjYWxsaW5nIG9uRGlzcG9zZU9ic2VydmFibGUhIixyKX1pZih0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclN0ZXBPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVN0ZXBPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZUFjdGl2ZU1lc2hlc0V2YWx1YXRpb25PYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyQWN0aXZlTWVzaGVzRXZhbHVhdGlvbk9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlRHJhd1BoYXNlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlckRyYXdQaGFzZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlQW5pbWF0aW9uc09ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJBbmltYXRpb25zT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25EYXRhTG9hZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVSZW5kZXJpbmdHcm91cE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJSZW5kZXJpbmdHcm91cE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTWVzaEltcG9ydGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25SZWFkeU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3Q2FtZXJhQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNhbWVyYVJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld0xpZ2h0QWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkxpZ2h0UmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3R2VvbWV0cnlBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uR2VvbWV0cnlSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdUcmFuc2Zvcm1Ob2RlQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblRyYW5zZm9ybU5vZGVSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdNZXNoQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk1lc2hSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdTa2VsZXRvbkFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25Ta2VsZXRvblJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld01hdGVyaWFsQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld011bHRpTWF0ZXJpYWxBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTWF0ZXJpYWxSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25NdWx0aU1hdGVyaWFsUmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3VGV4dHVyZUFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25UZXh0dXJlUmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uUHJlUG9pbnRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uUG9pbnRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uUHJlS2V5Ym9hcmRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbktleWJvYXJkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BY3RpdmVDYW1lcmFDaGFuZ2VkLmNsZWFyKCksdGhpcy5kZXRhY2hDb250cm9sKCksdGhpcy5fZW5naW5lLmdldElucHV0RWxlbWVudCgpKWZvcihsZXQgcj0wO3I8dGhpcy5jYW1lcmFzLmxlbmd0aDtyKyspdGhpcy5jYW1lcmFzW3JdLmRldGFjaENvbnRyb2woKTt0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLmFuaW1hdGlvbkdyb3VwcyksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy5saWdodHMpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMubWVzaGVzLHI9PnIuZGlzcG9zZSghMCkpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMudHJhbnNmb3JtTm9kZXMscj0+ci5kaXNwb3NlKCEwKSk7Y29uc3QgaT10aGlzLmNhbWVyYXM7dGhpcy5fZGlzcG9zZUxpc3QoaSksdGhpcy5fZGVmYXVsdE1hdGVyaWFsJiZ0aGlzLl9kZWZhdWx0TWF0ZXJpYWwuZGlzcG9zZSgpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMubXVsdGlNYXRlcmlhbHMpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMubWF0ZXJpYWxzKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLnBhcnRpY2xlU3lzdGVtcyksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy5wb3N0UHJvY2Vzc2VzKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLnRleHR1cmVzKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMpLHRoaXMuX3NjZW5lVWJvLmRpc3Bvc2UoKSx0aGlzLl9tdWx0aXZpZXdTY2VuZVVibyYmdGhpcy5fbXVsdGl2aWV3U2NlbmVVYm8uZGlzcG9zZSgpLHRoaXMucG9zdFByb2Nlc3NNYW5hZ2VyLmRpc3Bvc2UoKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLl9jb21wb25lbnRzKTtsZXQgcz10aGlzLl9lbmdpbmUuc2NlbmVzLmluZGV4T2YodGhpcyk7cz4tMSYmdGhpcy5fZW5naW5lLnNjZW5lcy5zcGxpY2UocywxKSxmZS5fTGFzdENyZWF0ZWRTY2VuZT09PXRoaXMmJih0aGlzLl9lbmdpbmUuc2NlbmVzLmxlbmd0aD4wP2ZlLl9MYXN0Q3JlYXRlZFNjZW5lPXRoaXMuX2VuZ2luZS5zY2VuZXNbdGhpcy5fZW5naW5lLnNjZW5lcy5sZW5ndGgtMV06ZmUuX0xhc3RDcmVhdGVkU2NlbmU9bnVsbCkscz10aGlzLl9lbmdpbmUuX3ZpcnR1YWxTY2VuZXMuaW5kZXhPZih0aGlzKSxzPi0xJiZ0aGlzLl9lbmdpbmUuX3ZpcnR1YWxTY2VuZXMuc3BsaWNlKHMsMSksdGhpcy5fZW5naW5lLndpcGVDYWNoZXMoITApLHRoaXMuX2lzRGlzcG9zZWQ9ITB9X2Rpc3Bvc2VMaXN0KGUsdCl7Y29uc3QgaT1lLnNsaWNlKDApO3Q9dD8/KHM9PnMuZGlzcG9zZSgpKTtmb3IoY29uc3QgcyBvZiBpKXQocyk7ZS5sZW5ndGg9MH1nZXQgaXNEaXNwb3NlZCgpe3JldHVybiB0aGlzLl9pc0Rpc3Bvc2VkfWNsZWFyQ2FjaGVkVmVydGV4RGF0YSgpe2ZvcihsZXQgZT0wO2U8dGhpcy5tZXNoZXMubGVuZ3RoO2UrKyl7Y29uc3QgaT10aGlzLm1lc2hlc1tlXS5nZW9tZXRyeTtpJiZpLmNsZWFyQ2FjaGVkRGF0YSgpfX1jbGVhbkNhY2hlZFRleHR1cmVCdWZmZXIoKXtmb3IoY29uc3QgZSBvZiB0aGlzLnRleHR1cmVzKWUuX2J1ZmZlciYmKGUuX2J1ZmZlcj1udWxsKX1nZXRXb3JsZEV4dGVuZHMoZSl7Y29uc3QgdD1uZXcgcChOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksaT1uZXcgcCgtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSk7cmV0dXJuIGU9ZXx8KCgpPT4hMCksdGhpcy5tZXNoZXMuZmlsdGVyKGUpLmZvckVhY2gocz0+e2lmKHMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSwhcy5zdWJNZXNoZXN8fHMuc3ViTWVzaGVzLmxlbmd0aD09PTB8fHMuaW5maW5pdGVEaXN0YW5jZSlyZXR1cm47Y29uc3Qgcj1zLmdldEJvdW5kaW5nSW5mbygpLG49ci5ib3VuZGluZ0JveC5taW5pbXVtV29ybGQsYT1yLmJvdW5kaW5nQm94Lm1heGltdW1Xb3JsZDtwLkNoZWNrRXh0ZW5kcyhuLHQsaSkscC5DaGVja0V4dGVuZHMoYSx0LGkpfSkse21pbjp0LG1heDppfX1jcmVhdGVQaWNraW5nUmF5KGUsdCxpLHMscj0hMSl7dGhyb3cgJCgiUmF5Iil9Y3JlYXRlUGlja2luZ1JheVRvUmVmKGUsdCxpLHMscixuPSExLGE9ITEpe3Rocm93ICQoIlJheSIpfWNyZWF0ZVBpY2tpbmdSYXlJbkNhbWVyYVNwYWNlKGUsdCxpKXt0aHJvdyAkKCJSYXkiKX1jcmVhdGVQaWNraW5nUmF5SW5DYW1lcmFTcGFjZVRvUmVmKGUsdCxpLHMpe3Rocm93ICQoIlJheSIpfWdldCBfcGlja2luZ0F2YWlsYWJsZSgpe3JldHVybiExfXBpY2soZSx0LGkscyxyLG4pe3JldHVybiBuZXcgVXR9cGlja1dpdGhCb3VuZGluZ0luZm8oZSx0LGkscyxyKXtyZXR1cm4gbmV3IFV0fXBpY2tXaXRoUmF5KGUsdCxpLHMpe3Rocm93ICQoIlJheSIpfW11bHRpUGljayhlLHQsaSxzLHIpe3Rocm93ICQoIlJheSIpfW11bHRpUGlja1dpdGhSYXkoZSx0LGkpe3Rocm93ICQoIlJheSIpfXNldFBvaW50ZXJPdmVyTWVzaChlLHQsaSl7dGhpcy5faW5wdXRNYW5hZ2VyLnNldFBvaW50ZXJPdmVyTWVzaChlLHQsaSl9Z2V0UG9pbnRlck92ZXJNZXNoKCl7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci5nZXRQb2ludGVyT3Zlck1lc2goKX1fcmVidWlsZEdlb21ldHJpZXMoKXtmb3IoY29uc3QgZSBvZiB0aGlzLmdlb21ldHJpZXMpZS5fcmVidWlsZCgpO2Zvcihjb25zdCBlIG9mIHRoaXMubWVzaGVzKWUuX3JlYnVpbGQoKTt0aGlzLnBvc3RQcm9jZXNzTWFuYWdlciYmdGhpcy5wb3N0UHJvY2Vzc01hbmFnZXIuX3JlYnVpbGQoKTtmb3IoY29uc3QgZSBvZiB0aGlzLl9jb21wb25lbnRzKWUucmVidWlsZCgpO2Zvcihjb25zdCBlIG9mIHRoaXMucGFydGljbGVTeXN0ZW1zKWUucmVidWlsZCgpO2lmKHRoaXMuc3ByaXRlTWFuYWdlcnMpZm9yKGNvbnN0IGUgb2YgdGhpcy5zcHJpdGVNYW5hZ2VycyllLnJlYnVpbGQoKX1fcmVidWlsZFRleHR1cmVzKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy50ZXh0dXJlcyllLl9yZWJ1aWxkKCk7dGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKX1fZ2V0QnlUYWdzKGUsdCxpKXtpZih0PT09dm9pZCAwKXJldHVybiBlO2NvbnN0IHM9W107aT1pfHwocj0+e30pO2Zvcihjb25zdCByIGluIGUpe2NvbnN0IG49ZVtyXTtnZSYmZ2UuTWF0Y2hlc1F1ZXJ5KG4sdCkmJihzLnB1c2gobiksaShuKSl9cmV0dXJuIHN9Z2V0TWVzaGVzQnlUYWdzKGUsdCl7cmV0dXJuIHRoaXMuX2dldEJ5VGFncyh0aGlzLm1lc2hlcyxlLHQpfWdldENhbWVyYXNCeVRhZ3MoZSx0KXtyZXR1cm4gdGhpcy5fZ2V0QnlUYWdzKHRoaXMuY2FtZXJhcyxlLHQpfWdldExpZ2h0c0J5VGFncyhlLHQpe3JldHVybiB0aGlzLl9nZXRCeVRhZ3ModGhpcy5saWdodHMsZSx0KX1nZXRNYXRlcmlhbEJ5VGFncyhlLHQpe3JldHVybiB0aGlzLl9nZXRCeVRhZ3ModGhpcy5tYXRlcmlhbHMsZSx0KS5jb25jYXQodGhpcy5fZ2V0QnlUYWdzKHRoaXMubXVsdGlNYXRlcmlhbHMsZSx0KSl9Z2V0VHJhbnNmb3JtTm9kZXNCeVRhZ3MoZSx0KXtyZXR1cm4gdGhpcy5fZ2V0QnlUYWdzKHRoaXMudHJhbnNmb3JtTm9kZXMsZSx0KX1zZXRSZW5kZXJpbmdPcmRlcihlLHQ9bnVsbCxpPW51bGwscz1udWxsKXt0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnNldFJlbmRlcmluZ09yZGVyKGUsdCxpLHMpfXNldFJlbmRlcmluZ0F1dG9DbGVhckRlcHRoU3RlbmNpbChlLHQsaT0hMCxzPSEwKXt0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnNldFJlbmRlcmluZ0F1dG9DbGVhckRlcHRoU3RlbmNpbChlLHQsaSxzKX1nZXRBdXRvQ2xlYXJEZXB0aFN0ZW5jaWxTZXR1cChlKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5nZXRBdXRvQ2xlYXJEZXB0aFN0ZW5jaWxTZXR1cChlKX1nZXQgYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtKCl7cmV0dXJuIHRoaXMuX2Jsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbX1zZXQgYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtKGUpe3RoaXMuX2Jsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbSE9PWUmJih0aGlzLl9ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc209ZSxlfHx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDYzKSl9bWFya0FsbE1hdGVyaWFsc0FzRGlydHkoZSx0KXtpZighdGhpcy5fYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtKWZvcihjb25zdCBpIG9mIHRoaXMubWF0ZXJpYWxzKXQmJiF0KGkpfHxpLm1hcmtBc0RpcnR5KGUpfV9sb2FkRmlsZShlLHQsaSxzLHIsbixhKXtjb25zdCBvPWp0KGUsdCxpLHM/dGhpcy5vZmZsaW5lUHJvdmlkZXI6dm9pZCAwLHIsbixhKTtyZXR1cm4gdGhpcy5fYWN0aXZlUmVxdWVzdHMucHVzaChvKSxvLm9uQ29tcGxldGVPYnNlcnZhYmxlLmFkZChoPT57dGhpcy5fYWN0aXZlUmVxdWVzdHMuc3BsaWNlKHRoaXMuX2FjdGl2ZVJlcXVlc3RzLmluZGV4T2YoaCksMSl9KSxvfV9sb2FkRmlsZUFzeW5jKGUsdCxpLHMscil7cmV0dXJuIG5ldyBQcm9taXNlKChuLGEpPT57dGhpcy5fbG9hZEZpbGUoZSxvPT57bihvKX0sdCxpLHMsKG8saCk9PnthKGgpfSxyKX0pfV9yZXF1ZXN0RmlsZShlLHQsaSxzLHIsbixhKXtjb25zdCBvPXhzKGUsdCxpLHM/dGhpcy5vZmZsaW5lUHJvdmlkZXI6dm9pZCAwLHIsbixhKTtyZXR1cm4gdGhpcy5fYWN0aXZlUmVxdWVzdHMucHVzaChvKSxvLm9uQ29tcGxldGVPYnNlcnZhYmxlLmFkZChoPT57dGhpcy5fYWN0aXZlUmVxdWVzdHMuc3BsaWNlKHRoaXMuX2FjdGl2ZVJlcXVlc3RzLmluZGV4T2YoaCksMSl9KSxvfV9yZXF1ZXN0RmlsZUFzeW5jKGUsdCxpLHMscil7cmV0dXJuIG5ldyBQcm9taXNlKChuLGEpPT57dGhpcy5fcmVxdWVzdEZpbGUoZSxvPT57bihvKX0sdCxpLHMsbz0+e2Eobyl9LHIpfSl9X3JlYWRGaWxlKGUsdCxpLHMscil7Y29uc3Qgbj13aShlLHQsaSxzLHIpO3JldHVybiB0aGlzLl9hY3RpdmVSZXF1ZXN0cy5wdXNoKG4pLG4ub25Db21wbGV0ZU9ic2VydmFibGUuYWRkKGE9Pnt0aGlzLl9hY3RpdmVSZXF1ZXN0cy5zcGxpY2UodGhpcy5fYWN0aXZlUmVxdWVzdHMuaW5kZXhPZihhKSwxKX0pLG59X3JlYWRGaWxlQXN5bmMoZSx0LGkpe3JldHVybiBuZXcgUHJvbWlzZSgocyxyKT0+e3RoaXMuX3JlYWRGaWxlKGUsbj0+e3Mobil9LHQsaSxuPT57cihuKX0pfSl9Z2V0UGVyZkNvbGxlY3Rvcigpe3Rocm93ICQoInBlcmZvcm1hbmNlVmlld2VyU2NlbmVFeHRlbnNpb24iKX19bmUuRk9HTU9ERV9OT05FPTAsbmUuRk9HTU9ERV9FWFA9MSxuZS5GT0dNT0RFX0VYUDI9MixuZS5GT0dNT0RFX0xJTkVBUj0zLG5lLk1pbkRlbHRhVGltZT0xLG5lLk1heERlbHRhVGltZT0xZTMsbmUucHJvdG90eXBlLnNldEFjdGl2ZUNhbWVyYUJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuc2V0QWN0aXZlQ2FtZXJhQnlJZChjKX0sbmUucHJvdG90eXBlLmdldExhc3RNYXRlcmlhbEJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0TGFzdE1hdGVyaWFsQnlJZChjKX0sbmUucHJvdG90eXBlLmdldE1hdGVyaWFsQnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRNYXRlcmlhbEJ5SWQoYyl9LG5lLnByb3RvdHlwZS5nZXRUZXh0dXJlQnlVbmlxdWVJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRUZXh0dXJlQnlVbmlxdWVJZChjKX0sbmUucHJvdG90eXBlLmdldENhbWVyYUJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0Q2FtZXJhQnlJZChjKX0sbmUucHJvdG90eXBlLmdldENhbWVyYUJ5VW5pcXVlSUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0Q2FtZXJhQnlVbmlxdWVJZChjKX0sbmUucHJvdG90eXBlLmdldEJvbmVCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldEJvbmVCeUlkKGMpfSxuZS5wcm90b3R5cGUuZ2V0TGlnaHRCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldExpZ2h0QnlJZChjKX0sbmUucHJvdG90eXBlLmdldExpZ2h0QnlVbmlxdWVJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRMaWdodEJ5VW5pcXVlSWQoYyl9LG5lLnByb3RvdHlwZS5nZXRQYXJ0aWNsZVN5c3RlbUJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0UGFydGljbGVTeXN0ZW1CeUlkKGMpfSxuZS5wcm90b3R5cGUuZ2V0R2VvbWV0cnlCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldEdlb21ldHJ5QnlJZChjKX0sbmUucHJvdG90eXBlLmdldE1lc2hCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldE1lc2hCeUlkKGMpfSxuZS5wcm90b3R5cGUuZ2V0TWVzaGVzQnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRNZXNoZXNCeUlkKGMpfSxuZS5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtTm9kZUJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0VHJhbnNmb3JtTm9kZUJ5SWQoYyl9LG5lLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1Ob2RlQnlVbmlxdWVJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRUcmFuc2Zvcm1Ob2RlQnlVbmlxdWVJZChjKX0sbmUucHJvdG90eXBlLmdldFRyYW5zZm9ybU5vZGVzQnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRUcmFuc2Zvcm1Ob2Rlc0J5SWQoYyl9LG5lLnByb3RvdHlwZS5nZXRNZXNoQnlVbmlxdWVJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRNZXNoQnlVbmlxdWVJZChjKX0sbmUucHJvdG90eXBlLmdldExhc3RNZXNoQnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRMYXN0TWVzaEJ5SWQoYyl9LG5lLnByb3RvdHlwZS5nZXRMYXN0RW50cnlCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldExhc3RFbnRyeUJ5SWQoYyl9LG5lLnByb3RvdHlwZS5nZXROb2RlQnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXROb2RlQnlJZChjKX0sbmUucHJvdG90eXBlLmdldExhc3RTa2VsZXRvbkJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0TGFzdFNrZWxldG9uQnlJZChjKX07ZnVuY3Rpb24gSXMoYyxlLHQpe3RyeXtjb25zdCBpPWMubmV4dCgpO2kuZG9uZT9lKGkpOmkudmFsdWU/aS52YWx1ZS50aGVuKCgpPT57aS52YWx1ZT12b2lkIDAsZShpKX0sdCk6ZShpKX1jYXRjaChpKXt0KGkpfX1mdW5jdGlvbiB3bihjPTI1KXtsZXQgZTtyZXR1cm4odCxpLHMpPT57Y29uc3Qgcj1wZXJmb3JtYW5jZS5ub3coKTtlPT09dm9pZCAwfHxyLWU+Yz8oZT1yLHNldFRpbWVvdXQoKCk9PntJcyh0LGkscyl9LDApKTpJcyh0LGkscyl9fWZ1bmN0aW9uIEFyKGMsZSx0LGkscyl7Y29uc3Qgcj0oKT0+e2xldCBuO2NvbnN0IGE9bz0+e28uZG9uZT90KG8udmFsdWUpOm49PT12b2lkIDA/bj0hMDpyKCl9O2RvIG49dm9pZCAwLCFzfHwhcy5hYm9ydGVkP2UoYyxhLGkpOmkobmV3IEVycm9yKCJBYm9ydGVkIikpLG49PT12b2lkIDAmJihuPSExKTt3aGlsZShuKX07cigpfWZ1bmN0aW9uIFBzKGMsZSl7bGV0IHQ7cmV0dXJuIEFyKGMsSXMsaT0+dD1pLGk9Pnt0aHJvdyBpfSxlKSx0fWZ1bmN0aW9uIE9uKGMsZSx0KXtyZXR1cm4gbmV3IFByb21pc2UoKGkscyk9PntBcihjLGUsaSxzLHQpfSl9ZnVuY3Rpb24gTG4oYyxlKXtyZXR1cm4oLi4udCk9PlBzKGMoLi4udCksZSl9Y2xhc3MgTm57Y29uc3RydWN0b3IoKXt0aGlzLl9kb05vdFNlcmlhbGl6ZT0hMSx0aGlzLl9pc0Rpc3Bvc2VkPSExLHRoaXMuX3NjZW5lUm9vdE5vZGVzSW5kZXg9LTEsdGhpcy5faXNFbmFibGVkPSEwLHRoaXMuX2lzUGFyZW50RW5hYmxlZD0hMCx0aGlzLl9pc1JlYWR5PSEwLHRoaXMuX29uRW5hYmxlZFN0YXRlQ2hhbmdlZE9ic2VydmFibGU9bmV3IEYsdGhpcy5fb25DbG9uZWRPYnNlcnZhYmxlPW5ldyBGfX1jbGFzcyB6ZXtjb25zdHJ1Y3RvcihlLHQ9bnVsbCl7dGhpcy5faXNEaXJ0eT0hMSx0aGlzLl9ub2RlRGF0YVN0b3JhZ2U9bmV3IE5uLHRoaXMuc3RhdGU9IiIsdGhpcy5tZXRhZGF0YT1udWxsLHRoaXMucmVzZXJ2ZWREYXRhU3RvcmU9bnVsbCx0aGlzLl9hY2Nlc3NpYmlsaXR5VGFnPW51bGwsdGhpcy5vbkFjY2Vzc2liaWxpdHlUYWdDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbCx0aGlzLmFuaW1hdGlvbnM9bmV3IEFycmF5LHRoaXMuX3Jhbmdlcz17fSx0aGlzLm9uUmVhZHk9bnVsbCx0aGlzLl9jdXJyZW50UmVuZGVySWQ9LTEsdGhpcy5fcGFyZW50VXBkYXRlSWQ9LTEsdGhpcy5fY2hpbGRVcGRhdGVJZD0tMSx0aGlzLl93YWl0aW5nUGFyZW50SWQ9bnVsbCx0aGlzLl93YWl0aW5nUGFyZW50SW5zdGFuY2VJbmRleD1udWxsLHRoaXMuX3dhaXRpbmdQYXJzZWRVbmlxdWVJZD1udWxsLHRoaXMuX2NhY2hlPXt9LHRoaXMuX3BhcmVudE5vZGU9bnVsbCx0aGlzLl9jaGlsZHJlbj1udWxsLHRoaXMuX3dvcmxkTWF0cml4PXguSWRlbnRpdHkoKSx0aGlzLl93b3JsZE1hdHJpeERldGVybWluYW50PTAsdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudElzRGlydHk9ITAsdGhpcy5fYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlPW51bGwsdGhpcy5faXNOb2RlPSEwLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj1udWxsLHRoaXMuX2JlaGF2aW9ycz1uZXcgQXJyYXksdGhpcy5uYW1lPWUsdGhpcy5pZD1lLHRoaXMuX3NjZW5lPXR8fGZlLkxhc3RDcmVhdGVkU2NlbmUsdGhpcy51bmlxdWVJZD10aGlzLl9zY2VuZS5nZXRVbmlxdWVJZCgpLHRoaXMuX2luaXRDYWNoZSgpfXN0YXRpYyBBZGROb2RlQ29uc3RydWN0b3IoZSx0KXt0aGlzLl9Ob2RlQ29uc3RydWN0b3JzW2VdPXR9c3RhdGljIENvbnN0cnVjdChlLHQsaSxzKXtjb25zdCByPXRoaXMuX05vZGVDb25zdHJ1Y3RvcnNbZV07cmV0dXJuIHI/cih0LGkscyk6bnVsbH1zZXQgYWNjZXNzaWJpbGl0eVRhZyhlKXt0aGlzLl9hY2Nlc3NpYmlsaXR5VGFnPWUsdGhpcy5vbkFjY2Vzc2liaWxpdHlUYWdDaGFuZ2VkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSl9Z2V0IGFjY2Vzc2liaWxpdHlUYWcoKXtyZXR1cm4gdGhpcy5fYWNjZXNzaWJpbGl0eVRhZ31nZXQgZG9Ob3RTZXJpYWxpemUoKXtyZXR1cm4gdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9kb05vdFNlcmlhbGl6ZT8hMDp0aGlzLl9wYXJlbnROb2RlP3RoaXMuX3BhcmVudE5vZGUuZG9Ob3RTZXJpYWxpemU6ITF9c2V0IGRvTm90U2VyaWFsaXplKGUpe3RoaXMuX25vZGVEYXRhU3RvcmFnZS5fZG9Ob3RTZXJpYWxpemU9ZX1pc0Rpc3Bvc2VkKCl7cmV0dXJuIHRoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNEaXNwb3NlZH1zZXQgcGFyZW50KGUpe2lmKHRoaXMuX3BhcmVudE5vZGU9PT1lKXJldHVybjtjb25zdCB0PXRoaXMuX3BhcmVudE5vZGU7aWYodGhpcy5fcGFyZW50Tm9kZSYmdGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRyZW4hPT12b2lkIDAmJnRoaXMuX3BhcmVudE5vZGUuX2NoaWxkcmVuIT09bnVsbCl7Y29uc3QgaT10aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbi5pbmRleE9mKHRoaXMpO2khPT0tMSYmdGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRyZW4uc3BsaWNlKGksMSksIWUmJiF0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzRGlzcG9zZWQmJnRoaXMuX2FkZFRvU2NlbmVSb290Tm9kZXMoKX10aGlzLl9wYXJlbnROb2RlPWUsdGhpcy5fcGFyZW50Tm9kZSYmKCh0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbj09PXZvaWQgMHx8dGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRyZW49PT1udWxsKSYmKHRoaXMuX3BhcmVudE5vZGUuX2NoaWxkcmVuPW5ldyBBcnJheSksdGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRyZW4ucHVzaCh0aGlzKSx0fHx0aGlzLl9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXMoKSksdGhpcy5fc3luY1BhcmVudEVuYWJsZWRTdGF0ZSgpfWdldCBwYXJlbnQoKXtyZXR1cm4gdGhpcy5fcGFyZW50Tm9kZX1fc2VyaWFsaXplQXNQYXJlbnQoZSl7ZS5wYXJlbnRJZD10aGlzLnVuaXF1ZUlkfV9hZGRUb1NjZW5lUm9vdE5vZGVzKCl7dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9zY2VuZVJvb3ROb2Rlc0luZGV4PT09LTEmJih0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXg9dGhpcy5fc2NlbmUucm9vdE5vZGVzLmxlbmd0aCx0aGlzLl9zY2VuZS5yb290Tm9kZXMucHVzaCh0aGlzKSl9X3JlbW92ZUZyb21TY2VuZVJvb3ROb2Rlcygpe2lmKHRoaXMuX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleCE9PS0xKXtjb25zdCBlPXRoaXMuX3NjZW5lLnJvb3ROb2Rlcyx0PWUubGVuZ3RoLTE7ZVt0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXhdPWVbdF0sZVt0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXhdLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXg9dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9zY2VuZVJvb3ROb2Rlc0luZGV4LHRoaXMuX3NjZW5lLnJvb3ROb2Rlcy5wb3AoKSx0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXg9LTF9fWdldCBhbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGUoKXtyZXR1cm4gdGhpcy5fYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlP3RoaXMuX2FuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZTp0aGlzLl9zY2VuZS5hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGV9c2V0IGFuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZShlKXt0aGlzLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGU9ZX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iTm9kZSJ9c2V0IG9uRGlzcG9zZShlKXt0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciYmdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciksdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmFkZChlKX1nZXQgb25FbmFibGVkU3RhdGVDaGFuZ2VkT2JzZXJ2YWJsZSgpe3JldHVybiB0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX29uRW5hYmxlZFN0YXRlQ2hhbmdlZE9ic2VydmFibGV9Z2V0IG9uQ2xvbmVkT2JzZXJ2YWJsZSgpe3JldHVybiB0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX29uQ2xvbmVkT2JzZXJ2YWJsZX1nZXRTY2VuZSgpe3JldHVybiB0aGlzLl9zY2VuZX1nZXRFbmdpbmUoKXtyZXR1cm4gdGhpcy5fc2NlbmUuZ2V0RW5naW5lKCl9YWRkQmVoYXZpb3IoZSx0PSExKXtyZXR1cm4gdGhpcy5fYmVoYXZpb3JzLmluZGV4T2YoZSkhPT0tMT90aGlzOihlLmluaXQoKSx0aGlzLl9zY2VuZS5pc0xvYWRpbmcmJiF0P3RoaXMuX3NjZW5lLm9uRGF0YUxvYWRlZE9ic2VydmFibGUuYWRkT25jZSgoKT0+e2UuYXR0YWNoKHRoaXMpfSk6ZS5hdHRhY2godGhpcyksdGhpcy5fYmVoYXZpb3JzLnB1c2goZSksdGhpcyl9cmVtb3ZlQmVoYXZpb3IoZSl7Y29uc3QgdD10aGlzLl9iZWhhdmlvcnMuaW5kZXhPZihlKTtyZXR1cm4gdD09PS0xP3RoaXM6KHRoaXMuX2JlaGF2aW9yc1t0XS5kZXRhY2goKSx0aGlzLl9iZWhhdmlvcnMuc3BsaWNlKHQsMSksdGhpcyl9Z2V0IGJlaGF2aW9ycygpe3JldHVybiB0aGlzLl9iZWhhdmlvcnN9Z2V0QmVoYXZpb3JCeU5hbWUoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fYmVoYXZpb3JzKWlmKHQubmFtZT09PWUpcmV0dXJuIHQ7cmV0dXJuIG51bGx9Z2V0V29ybGRNYXRyaXgoKXtyZXR1cm4gdGhpcy5fY3VycmVudFJlbmRlcklkIT09dGhpcy5fc2NlbmUuZ2V0UmVuZGVySWQoKSYmdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoKSx0aGlzLl93b3JsZE1hdHJpeH1fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpe3JldHVybiB0aGlzLl93b3JsZE1hdHJpeERldGVybWluYW50SXNEaXJ0eSYmKHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnRJc0RpcnR5PSExLHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnQ9dGhpcy5fd29ybGRNYXRyaXguZGV0ZXJtaW5hbnQoKSksdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudH1nZXQgd29ybGRNYXRyaXhGcm9tQ2FjaGUoKXtyZXR1cm4gdGhpcy5fd29ybGRNYXRyaXh9X2luaXRDYWNoZSgpe3RoaXMuX2NhY2hlPXt9LHRoaXMuX2NhY2hlLnBhcmVudD12b2lkIDB9dXBkYXRlQ2FjaGUoZSl7IWUmJnRoaXMuaXNTeW5jaHJvbml6ZWQoKXx8KHRoaXMuX2NhY2hlLnBhcmVudD10aGlzLnBhcmVudCx0aGlzLl91cGRhdGVDYWNoZSgpKX1fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoZSx0PSEwKXtyZXR1cm4gdGhpcy5wYXJlbnQ/dGhpcy5wYXJlbnQuX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKGUsITEpOm51bGx9X3VwZGF0ZUNhY2hlKGUpe31faXNTeW5jaHJvbml6ZWQoKXtyZXR1cm4hMH1fbWFya1N5bmNlZFdpdGhQYXJlbnQoKXt0aGlzLl9wYXJlbnROb2RlJiYodGhpcy5fcGFyZW50VXBkYXRlSWQ9dGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRVcGRhdGVJZCl9aXNTeW5jaHJvbml6ZWRXaXRoUGFyZW50KCl7cmV0dXJuIHRoaXMuX3BhcmVudE5vZGU/dGhpcy5fcGFyZW50Tm9kZS5faXNEaXJ0eXx8dGhpcy5fcGFyZW50VXBkYXRlSWQhPT10aGlzLl9wYXJlbnROb2RlLl9jaGlsZFVwZGF0ZUlkPyExOnRoaXMuX3BhcmVudE5vZGUuaXNTeW5jaHJvbml6ZWQoKTohMH1pc1N5bmNocm9uaXplZCgpe3JldHVybiB0aGlzLl9jYWNoZS5wYXJlbnQhPT10aGlzLl9wYXJlbnROb2RlPyh0aGlzLl9jYWNoZS5wYXJlbnQ9dGhpcy5fcGFyZW50Tm9kZSwhMSk6dGhpcy5fcGFyZW50Tm9kZSYmIXRoaXMuaXNTeW5jaHJvbml6ZWRXaXRoUGFyZW50KCk/ITE6dGhpcy5faXNTeW5jaHJvbml6ZWQoKX1pc1JlYWR5KGU9ITEpe3JldHVybiB0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUmVhZHl9bWFya0FzRGlydHkoZSl7cmV0dXJuIHRoaXMuX2N1cnJlbnRSZW5kZXJJZD1OdW1iZXIuTUFYX1ZBTFVFLHRoaXMuX2lzRGlydHk9ITAsdGhpc31pc0VuYWJsZWQoZT0hMCl7cmV0dXJuIGU9PT0hMT90aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzRW5hYmxlZDp0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzRW5hYmxlZD90aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUGFyZW50RW5hYmxlZDohMX1fc3luY1BhcmVudEVuYWJsZWRTdGF0ZSgpe3RoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNQYXJlbnRFbmFibGVkPXRoaXMuX3BhcmVudE5vZGU/dGhpcy5fcGFyZW50Tm9kZS5pc0VuYWJsZWQoKTohMCx0aGlzLl9jaGlsZHJlbiYmdGhpcy5fY2hpbGRyZW4uZm9yRWFjaChlPT57ZS5fc3luY1BhcmVudEVuYWJsZWRTdGF0ZSgpfSl9c2V0RW5hYmxlZChlKXt0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzRW5hYmxlZCE9PWUmJih0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzRW5hYmxlZD1lLHRoaXMuX3N5bmNQYXJlbnRFbmFibGVkU3RhdGUoKSx0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX29uRW5hYmxlZFN0YXRlQ2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpKX1pc0Rlc2NlbmRhbnRPZihlKXtyZXR1cm4gdGhpcy5wYXJlbnQ/dGhpcy5wYXJlbnQ9PT1lPyEwOnRoaXMucGFyZW50LmlzRGVzY2VuZGFudE9mKGUpOiExfV9nZXREZXNjZW5kYW50cyhlLHQ9ITEsaSl7aWYodGhpcy5fY2hpbGRyZW4pZm9yKGxldCBzPTA7czx0aGlzLl9jaGlsZHJlbi5sZW5ndGg7cysrKXtjb25zdCByPXRoaXMuX2NoaWxkcmVuW3NdOyghaXx8aShyKSkmJmUucHVzaChyKSx0fHxyLl9nZXREZXNjZW5kYW50cyhlLCExLGkpfX1nZXREZXNjZW5kYW50cyhlLHQpe2NvbnN0IGk9bmV3IEFycmF5O3JldHVybiB0aGlzLl9nZXREZXNjZW5kYW50cyhpLGUsdCksaX1nZXRDaGlsZE1lc2hlcyhlLHQpe2NvbnN0IGk9W107cmV0dXJuIHRoaXMuX2dldERlc2NlbmRhbnRzKGksZSxzPT4oIXR8fHQocykpJiZzLmN1bGxpbmdTdHJhdGVneSE9PXZvaWQgMCksaX1nZXRDaGlsZHJlbihlLHQ9ITApe3JldHVybiB0aGlzLmdldERlc2NlbmRhbnRzKHQsZSl9X3NldFJlYWR5KGUpe2lmKGUhPT10aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUmVhZHkpe2lmKCFlKXt0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUmVhZHk9ITE7cmV0dXJufXRoaXMub25SZWFkeSYmdGhpcy5vblJlYWR5KHRoaXMpLHRoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNSZWFkeT0hMH19Z2V0QW5pbWF0aW9uQnlOYW1lKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5hbmltYXRpb25zLmxlbmd0aDt0Kyspe2NvbnN0IGk9dGhpcy5hbmltYXRpb25zW3RdO2lmKGkubmFtZT09PWUpcmV0dXJuIGl9cmV0dXJuIG51bGx9Y3JlYXRlQW5pbWF0aW9uUmFuZ2UoZSx0LGkpe2lmKCF0aGlzLl9yYW5nZXNbZV0pe3RoaXMuX3Jhbmdlc1tlXT16ZS5fQW5pbWF0aW9uUmFuZ2VGYWN0b3J5KGUsdCxpKTtmb3IobGV0IHM9MCxyPXRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7czxyO3MrKyl0aGlzLmFuaW1hdGlvbnNbc10mJnRoaXMuYW5pbWF0aW9uc1tzXS5jcmVhdGVSYW5nZShlLHQsaSl9fWRlbGV0ZUFuaW1hdGlvblJhbmdlKGUsdD0hMCl7Zm9yKGxldCBpPTAscz10aGlzLmFuaW1hdGlvbnMubGVuZ3RoO2k8cztpKyspdGhpcy5hbmltYXRpb25zW2ldJiZ0aGlzLmFuaW1hdGlvbnNbaV0uZGVsZXRlUmFuZ2UoZSx0KTt0aGlzLl9yYW5nZXNbZV09bnVsbH1nZXRBbmltYXRpb25SYW5nZShlKXtyZXR1cm4gdGhpcy5fcmFuZ2VzW2VdfHxudWxsfWdldEFuaW1hdGlvblJhbmdlcygpe2NvbnN0IGU9W107bGV0IHQ7Zm9yKHQgaW4gdGhpcy5fcmFuZ2VzKWUucHVzaCh0aGlzLl9yYW5nZXNbdF0pO3JldHVybiBlfWJlZ2luQW5pbWF0aW9uKGUsdCxpLHMpe2NvbnN0IHI9dGhpcy5nZXRBbmltYXRpb25SYW5nZShlKTtyZXR1cm4gcj90aGlzLl9zY2VuZS5iZWdpbkFuaW1hdGlvbih0aGlzLHIuZnJvbSxyLnRvLHQsaSxzKTpudWxsfXNlcmlhbGl6ZUFuaW1hdGlvblJhbmdlcygpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgaW4gdGhpcy5fcmFuZ2VzKXtjb25zdCBpPXRoaXMuX3Jhbmdlc1t0XTtpZighaSljb250aW51ZTtjb25zdCBzPXt9O3MubmFtZT10LHMuZnJvbT1pLmZyb20scy50bz1pLnRvLGUucHVzaChzKX1yZXR1cm4gZX1jb21wdXRlV29ybGRNYXRyaXgoZSl7cmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4fHwodGhpcy5fd29ybGRNYXRyaXg9eC5JZGVudGl0eSgpKSx0aGlzLl93b3JsZE1hdHJpeH1kaXNwb3NlKGUsdD0hMSl7aWYodGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0Rpc3Bvc2VkPSEwLCFlKXtjb25zdCBpPXRoaXMuZ2V0RGVzY2VuZGFudHMoITApO2Zvcihjb25zdCBzIG9mIGkpcy5kaXNwb3NlKGUsdCl9dGhpcy5wYXJlbnQ/dGhpcy5wYXJlbnQ9bnVsbDp0aGlzLl9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXMoKSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25FbmFibGVkU3RhdGVDaGFuZ2VkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25DbG9uZWRPYnNlcnZhYmxlLmNsZWFyKCk7Zm9yKGNvbnN0IGkgb2YgdGhpcy5fYmVoYXZpb3JzKWkuZGV0YWNoKCk7dGhpcy5fYmVoYXZpb3JzLmxlbmd0aD0wLHRoaXMubWV0YWRhdGE9bnVsbH1zdGF0aWMgUGFyc2VBbmltYXRpb25SYW5nZXMoZSx0LGkpe2lmKHQucmFuZ2VzKWZvcihsZXQgcz0wO3M8dC5yYW5nZXMubGVuZ3RoO3MrKyl7Y29uc3Qgcj10LnJhbmdlc1tzXTtlLmNyZWF0ZUFuaW1hdGlvblJhbmdlKHIubmFtZSxyLmZyb20sci50byl9fWdldEhpZXJhcmNoeUJvdW5kaW5nVmVjdG9ycyhlPSEwLHQ9bnVsbCl7dGhpcy5nZXRTY2VuZSgpLmluY3JlbWVudFJlbmRlcklkKCksdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoITApO2xldCBpLHM7Y29uc3Qgcj10aGlzO2lmKHIuZ2V0Qm91bmRpbmdJbmZvJiZyLnN1Yk1lc2hlcyl7Y29uc3Qgbj1yLmdldEJvdW5kaW5nSW5mbygpO2k9bi5ib3VuZGluZ0JveC5taW5pbXVtV29ybGQuY2xvbmUoKSxzPW4uYm91bmRpbmdCb3gubWF4aW11bVdvcmxkLmNsb25lKCl9ZWxzZSBpPW5ldyBwKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSxzPW5ldyBwKC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFKTtpZihlKXtjb25zdCBuPXRoaXMuZ2V0RGVzY2VuZGFudHMoITEpO2Zvcihjb25zdCBhIG9mIG4pe2NvbnN0IG89YTtpZihvLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksdCYmIXQobyl8fCFvLmdldEJvdW5kaW5nSW5mb3x8by5nZXRUb3RhbFZlcnRpY2VzKCk9PT0wKWNvbnRpbnVlO2NvbnN0IGw9by5nZXRCb3VuZGluZ0luZm8oKS5ib3VuZGluZ0JveCx1PWwubWluaW11bVdvcmxkLGQ9bC5tYXhpbXVtV29ybGQ7cC5DaGVja0V4dGVuZHModSxpLHMpLHAuQ2hlY2tFeHRlbmRzKGQsaSxzKX19cmV0dXJue21pbjppLG1heDpzfX19emUuX0FuaW1hdGlvblJhbmdlRmFjdG9yeT0oYyxlLHQpPT57dGhyb3cgJCgiQW5pbWF0aW9uUmFuZ2UiKX0semUuX05vZGVDb25zdHJ1Y3RvcnM9e30sVChbUigpXSx6ZS5wcm90b3R5cGUsIm5hbWUiLHZvaWQgMCksVChbUigpXSx6ZS5wcm90b3R5cGUsImlkIix2b2lkIDApLFQoW1IoKV0semUucHJvdG90eXBlLCJ1bmlxdWVJZCIsdm9pZCAwKSxUKFtSKCldLHplLnByb3RvdHlwZSwic3RhdGUiLHZvaWQgMCksVChbUigpXSx6ZS5wcm90b3R5cGUsIm1ldGFkYXRhIix2b2lkIDApO2NsYXNzIEJpe2NvbnN0cnVjdG9yKGUsdCxpLHMpe3RoaXMueD1lLHRoaXMueT10LHRoaXMud2lkdGg9aSx0aGlzLmhlaWdodD1zfXRvR2xvYmFsKGUsdCl7cmV0dXJuIG5ldyBCaSh0aGlzLngqZSx0aGlzLnkqdCx0aGlzLndpZHRoKmUsdGhpcy5oZWlnaHQqdCl9dG9HbG9iYWxUb1JlZihlLHQsaSl7cmV0dXJuIGkueD10aGlzLngqZSxpLnk9dGhpcy55KnQsaS53aWR0aD10aGlzLndpZHRoKmUsaS5oZWlnaHQ9dGhpcy5oZWlnaHQqdCx0aGlzfWNsb25lKCl7cmV0dXJuIG5ldyBCaSh0aGlzLngsdGhpcy55LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfX1jbGFzcyBqIGV4dGVuZHMgemV7Y29uc3RydWN0b3IoZSx0LGkscz0hMCl7c3VwZXIoZSxpKSx0aGlzLl9wb3NpdGlvbj1wLlplcm8oKSx0aGlzLl91cFZlY3Rvcj1wLlVwKCksdGhpcy5fb3J0aG9MZWZ0PW51bGwsdGhpcy5fb3J0aG9SaWdodD1udWxsLHRoaXMuX29ydGhvQm90dG9tPW51bGwsdGhpcy5fb3J0aG9Ub3A9bnVsbCx0aGlzLmZvdj0uOCx0aGlzLnByb2plY3Rpb25QbGFuZVRpbHQ9MCx0aGlzLm1pblo9MSx0aGlzLm1heFo9MWU0LHRoaXMuaW5lcnRpYT0uOSx0aGlzLl9tb2RlPWouUEVSU1BFQ1RJVkVfQ0FNRVJBLHRoaXMuaXNJbnRlcm1lZGlhdGU9ITEsdGhpcy52aWV3cG9ydD1uZXcgQmkoMCwwLDEsMSksdGhpcy5sYXllck1hc2s9MjY4NDM1NDU1LHRoaXMuZm92TW9kZT1qLkZPVk1PREVfVkVSVElDQUxfRklYRUQsdGhpcy5jYW1lcmFSaWdNb2RlPWouUklHX01PREVfTk9ORSx0aGlzLmN1c3RvbVJlbmRlclRhcmdldHM9bmV3IEFycmF5LHRoaXMub3V0cHV0UmVuZGVyVGFyZ2V0PW51bGwsdGhpcy5vblZpZXdNYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uUHJvamVjdGlvbk1hdHJpeENoYW5nZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25BZnRlckNoZWNrSW5wdXRzT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uUmVzdG9yZVN0YXRlT2JzZXJ2YWJsZT1uZXcgRix0aGlzLmlzUmlnQ2FtZXJhPSExLHRoaXMuX3JpZ0NhbWVyYXM9bmV3IEFycmF5LHRoaXMuX3dlYnZyVmlld01hdHJpeD14LklkZW50aXR5KCksdGhpcy5fc2tpcFJlbmRlcmluZz0hMSx0aGlzLl9wcm9qZWN0aW9uTWF0cml4PW5ldyB4LHRoaXMuX3Bvc3RQcm9jZXNzZXM9bmV3IEFycmF5LHRoaXMuX2FjdGl2ZU1lc2hlcz1uZXcgJGUoMjU2KSx0aGlzLl9nbG9iYWxQb3NpdGlvbj1wLlplcm8oKSx0aGlzLl9jb21wdXRlZFZpZXdNYXRyaXg9eC5JZGVudGl0eSgpLHRoaXMuX2RvTm90Q29tcHV0ZVByb2plY3Rpb25NYXRyaXg9ITEsdGhpcy5fdHJhbnNmb3JtTWF0cml4PXguWmVybygpLHRoaXMuX3JlZnJlc2hGcnVzdHVtUGxhbmVzPSEwLHRoaXMuX2Fic29sdXRlUm90YXRpb249Wi5JZGVudGl0eSgpLHRoaXMuX2lzQ2FtZXJhPSEwLHRoaXMuX2lzTGVmdENhbWVyYT0hMSx0aGlzLl9pc1JpZ2h0Q2FtZXJhPSExLHRoaXMuZ2V0U2NlbmUoKS5hZGRDYW1lcmEodGhpcykscyYmIXRoaXMuZ2V0U2NlbmUoKS5hY3RpdmVDYW1lcmEmJih0aGlzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhPXRoaXMpLHRoaXMucG9zaXRpb249dCx0aGlzLnJlbmRlclBhc3NJZD10aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkuY3JlYXRlUmVuZGVyUGFzc0lkKGBDYW1lcmEgJHtlfWApfWdldCBwb3NpdGlvbigpe3JldHVybiB0aGlzLl9wb3NpdGlvbn1zZXQgcG9zaXRpb24oZSl7dGhpcy5fcG9zaXRpb249ZX1zZXQgdXBWZWN0b3IoZSl7dGhpcy5fdXBWZWN0b3I9ZX1nZXQgdXBWZWN0b3IoKXtyZXR1cm4gdGhpcy5fdXBWZWN0b3J9Z2V0IHNjcmVlbkFyZWEoKXt2YXIgZSx0LGkscztsZXQgcj0wLG49MDtpZih0aGlzLm1vZGU9PT1qLlBFUlNQRUNUSVZFX0NBTUVSQSl0aGlzLmZvdk1vZGU9PT1qLkZPVk1PREVfVkVSVElDQUxfRklYRUQ/KG49dGhpcy5taW5aKjIqTWF0aC50YW4odGhpcy5mb3YvMikscj10aGlzLmdldEVuZ2luZSgpLmdldEFzcGVjdFJhdGlvKHRoaXMpKm4pOihyPXRoaXMubWluWioyKk1hdGgudGFuKHRoaXMuZm92LzIpLG49ci90aGlzLmdldEVuZ2luZSgpLmdldEFzcGVjdFJhdGlvKHRoaXMpKTtlbHNle2NvbnN0IGE9dGhpcy5nZXRFbmdpbmUoKS5nZXRSZW5kZXJXaWR0aCgpLzIsbz10aGlzLmdldEVuZ2luZSgpLmdldFJlbmRlckhlaWdodCgpLzI7cj0oKGU9dGhpcy5vcnRob1JpZ2h0KSE9PW51bGwmJmUhPT12b2lkIDA/ZTphKS0oKHQ9dGhpcy5vcnRob0xlZnQpIT09bnVsbCYmdCE9PXZvaWQgMD90Oi1hKSxuPSgoaT10aGlzLm9ydGhvVG9wKSE9PW51bGwmJmkhPT12b2lkIDA/aTpvKS0oKHM9dGhpcy5vcnRob0JvdHRvbSkhPT1udWxsJiZzIT09dm9pZCAwP3M6LW8pfXJldHVybiByKm59c2V0IG9ydGhvTGVmdChlKXt0aGlzLl9vcnRob0xlZnQ9ZTtmb3IoY29uc3QgdCBvZiB0aGlzLl9yaWdDYW1lcmFzKXQub3J0aG9MZWZ0PWV9Z2V0IG9ydGhvTGVmdCgpe3JldHVybiB0aGlzLl9vcnRob0xlZnR9c2V0IG9ydGhvUmlnaHQoZSl7dGhpcy5fb3J0aG9SaWdodD1lO2Zvcihjb25zdCB0IG9mIHRoaXMuX3JpZ0NhbWVyYXMpdC5vcnRob1JpZ2h0PWV9Z2V0IG9ydGhvUmlnaHQoKXtyZXR1cm4gdGhpcy5fb3J0aG9SaWdodH1zZXQgb3J0aG9Cb3R0b20oZSl7dGhpcy5fb3J0aG9Cb3R0b209ZTtmb3IoY29uc3QgdCBvZiB0aGlzLl9yaWdDYW1lcmFzKXQub3J0aG9Cb3R0b209ZX1nZXQgb3J0aG9Cb3R0b20oKXtyZXR1cm4gdGhpcy5fb3J0aG9Cb3R0b219c2V0IG9ydGhvVG9wKGUpe3RoaXMuX29ydGhvVG9wPWU7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcmlnQ2FtZXJhcyl0Lm9ydGhvVG9wPWV9Z2V0IG9ydGhvVG9wKCl7cmV0dXJuIHRoaXMuX29ydGhvVG9wfXNldCBtb2RlKGUpe3RoaXMuX21vZGU9ZTtmb3IoY29uc3QgdCBvZiB0aGlzLl9yaWdDYW1lcmFzKXQubW9kZT1lfWdldCBtb2RlKCl7cmV0dXJuIHRoaXMuX21vZGV9c3RvcmVTdGF0ZSgpe3JldHVybiB0aGlzLl9zdGF0ZVN0b3JlZD0hMCx0aGlzLl9zdG9yZWRGb3Y9dGhpcy5mb3YsdGhpc31fcmVzdG9yZVN0YXRlVmFsdWVzKCl7cmV0dXJuIHRoaXMuX3N0YXRlU3RvcmVkPyh0aGlzLmZvdj10aGlzLl9zdG9yZWRGb3YsITApOiExfXJlc3RvcmVTdGF0ZSgpe3JldHVybiB0aGlzLl9yZXN0b3JlU3RhdGVWYWx1ZXMoKT8odGhpcy5vblJlc3RvcmVTdGF0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLCEwKTohMX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iQ2FtZXJhIn10b1N0cmluZyhlKXtsZXQgdD0iTmFtZTogIit0aGlzLm5hbWU7aWYodCs9IiwgdHlwZTogIit0aGlzLmdldENsYXNzTmFtZSgpLHRoaXMuYW5pbWF0aW9ucylmb3IobGV0IGk9MDtpPHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7aSsrKXQrPSIsIGFuaW1hdGlvblswXTogIit0aGlzLmFuaW1hdGlvbnNbaV0udG9TdHJpbmcoZSk7cmV0dXJuIHR9YXBwbHlWZXJ0aWNhbENvcnJlY3Rpb24oKXtjb25zdCBlPXRoaXMuYWJzb2x1dGVSb3RhdGlvbi50b0V1bGVyQW5nbGVzKCk7dGhpcy5wcm9qZWN0aW9uUGxhbmVUaWx0PXRoaXMuX3NjZW5lLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPy1lLng6ZS54fWdldCBnbG9iYWxQb3NpdGlvbigpe3JldHVybiB0aGlzLl9nbG9iYWxQb3NpdGlvbn1nZXRBY3RpdmVNZXNoZXMoKXtyZXR1cm4gdGhpcy5fYWN0aXZlTWVzaGVzfWlzQWN0aXZlTWVzaChlKXtyZXR1cm4gdGhpcy5fYWN0aXZlTWVzaGVzLmluZGV4T2YoZSkhPT0tMX1pc1JlYWR5KGU9ITEpe2lmKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX3Bvc3RQcm9jZXNzZXMpaWYodCYmIXQuaXNSZWFkeSgpKXJldHVybiExfXJldHVybiBzdXBlci5pc1JlYWR5KGUpfV9pbml0Q2FjaGUoKXtzdXBlci5faW5pdENhY2hlKCksdGhpcy5fY2FjaGUucG9zaXRpb249bmV3IHAoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX2NhY2hlLnVwVmVjdG9yPW5ldyBwKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jYWNoZS5tb2RlPXZvaWQgMCx0aGlzLl9jYWNoZS5taW5aPXZvaWQgMCx0aGlzLl9jYWNoZS5tYXhaPXZvaWQgMCx0aGlzLl9jYWNoZS5mb3Y9dm9pZCAwLHRoaXMuX2NhY2hlLmZvdk1vZGU9dm9pZCAwLHRoaXMuX2NhY2hlLmFzcGVjdFJhdGlvPXZvaWQgMCx0aGlzLl9jYWNoZS5vcnRob0xlZnQ9dm9pZCAwLHRoaXMuX2NhY2hlLm9ydGhvUmlnaHQ9dm9pZCAwLHRoaXMuX2NhY2hlLm9ydGhvQm90dG9tPXZvaWQgMCx0aGlzLl9jYWNoZS5vcnRob1RvcD12b2lkIDAsdGhpcy5fY2FjaGUucmVuZGVyV2lkdGg9dm9pZCAwLHRoaXMuX2NhY2hlLnJlbmRlckhlaWdodD12b2lkIDB9X3VwZGF0ZUNhY2hlKGUpe2V8fHN1cGVyLl91cGRhdGVDYWNoZSgpLHRoaXMuX2NhY2hlLnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMucG9zaXRpb24pLHRoaXMuX2NhY2hlLnVwVmVjdG9yLmNvcHlGcm9tKHRoaXMudXBWZWN0b3IpfV9pc1N5bmNocm9uaXplZCgpe3JldHVybiB0aGlzLl9pc1N5bmNocm9uaXplZFZpZXdNYXRyaXgoKSYmdGhpcy5faXNTeW5jaHJvbml6ZWRQcm9qZWN0aW9uTWF0cml4KCl9X2lzU3luY2hyb25pemVkVmlld01hdHJpeCgpe3JldHVybiBzdXBlci5faXNTeW5jaHJvbml6ZWQoKT90aGlzLl9jYWNoZS5wb3NpdGlvbi5lcXVhbHModGhpcy5wb3NpdGlvbikmJnRoaXMuX2NhY2hlLnVwVmVjdG9yLmVxdWFscyh0aGlzLnVwVmVjdG9yKSYmdGhpcy5pc1N5bmNocm9uaXplZFdpdGhQYXJlbnQoKTohMX1faXNTeW5jaHJvbml6ZWRQcm9qZWN0aW9uTWF0cml4KCl7bGV0IGU9dGhpcy5fY2FjaGUubW9kZT09PXRoaXMubW9kZSYmdGhpcy5fY2FjaGUubWluWj09PXRoaXMubWluWiYmdGhpcy5fY2FjaGUubWF4Wj09PXRoaXMubWF4WjtpZighZSlyZXR1cm4hMTtjb25zdCB0PXRoaXMuZ2V0RW5naW5lKCk7cmV0dXJuIHRoaXMubW9kZT09PWouUEVSU1BFQ1RJVkVfQ0FNRVJBP2U9dGhpcy5fY2FjaGUuZm92PT09dGhpcy5mb3YmJnRoaXMuX2NhY2hlLmZvdk1vZGU9PT10aGlzLmZvdk1vZGUmJnRoaXMuX2NhY2hlLmFzcGVjdFJhdGlvPT09dC5nZXRBc3BlY3RSYXRpbyh0aGlzKSYmdGhpcy5fY2FjaGUucHJvamVjdGlvblBsYW5lVGlsdD09PXRoaXMucHJvamVjdGlvblBsYW5lVGlsdDplPXRoaXMuX2NhY2hlLm9ydGhvTGVmdD09PXRoaXMub3J0aG9MZWZ0JiZ0aGlzLl9jYWNoZS5vcnRob1JpZ2h0PT09dGhpcy5vcnRob1JpZ2h0JiZ0aGlzLl9jYWNoZS5vcnRob0JvdHRvbT09PXRoaXMub3J0aG9Cb3R0b20mJnRoaXMuX2NhY2hlLm9ydGhvVG9wPT09dGhpcy5vcnRob1RvcCYmdGhpcy5fY2FjaGUucmVuZGVyV2lkdGg9PT10LmdldFJlbmRlcldpZHRoKCkmJnRoaXMuX2NhY2hlLnJlbmRlckhlaWdodD09PXQuZ2V0UmVuZGVySGVpZ2h0KCksZX1hdHRhY2hDb250cm9sKGUsdCl7fWRldGFjaENvbnRyb2woZSl7fXVwZGF0ZSgpe3RoaXMuX2NoZWNrSW5wdXRzKCksdGhpcy5jYW1lcmFSaWdNb2RlIT09ai5SSUdfTU9ERV9OT05FJiZ0aGlzLl91cGRhdGVSaWdDYW1lcmFzKCl9X2NoZWNrSW5wdXRzKCl7dGhpcy5vbkFmdGVyQ2hlY2tJbnB1dHNPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX1nZXQgcmlnQ2FtZXJhcygpe3JldHVybiB0aGlzLl9yaWdDYW1lcmFzfWdldCByaWdQb3N0UHJvY2Vzcygpe3JldHVybiB0aGlzLl9yaWdQb3N0UHJvY2Vzc31fZ2V0Rmlyc3RQb3N0UHJvY2Vzcygpe2ZvcihsZXQgZT0wO2U8dGhpcy5fcG9zdFByb2Nlc3Nlcy5sZW5ndGg7ZSsrKWlmKHRoaXMuX3Bvc3RQcm9jZXNzZXNbZV0hPT1udWxsKXJldHVybiB0aGlzLl9wb3N0UHJvY2Vzc2VzW2VdO3JldHVybiBudWxsfV9jYXNjYWRlUG9zdFByb2Nlc3Nlc1RvUmlnQ2Ftcygpe2NvbnN0IGU9dGhpcy5fZ2V0Rmlyc3RQb3N0UHJvY2VzcygpO2UmJmUubWFya1RleHR1cmVEaXJ0eSgpO2ZvcihsZXQgdD0wLGk9dGhpcy5fcmlnQ2FtZXJhcy5sZW5ndGg7dDxpO3QrKyl7Y29uc3Qgcz10aGlzLl9yaWdDYW1lcmFzW3RdLHI9cy5fcmlnUG9zdFByb2Nlc3M7cj8oci5nZXRFZmZlY3ROYW1lKCk9PT0icGFzcyImJihzLmlzSW50ZXJtZWRpYXRlPXRoaXMuX3Bvc3RQcm9jZXNzZXMubGVuZ3RoPT09MCkscy5fcG9zdFByb2Nlc3Nlcz10aGlzLl9wb3N0UHJvY2Vzc2VzLnNsaWNlKDApLmNvbmNhdChyKSxyLm1hcmtUZXh0dXJlRGlydHkoKSk6cy5fcG9zdFByb2Nlc3Nlcz10aGlzLl9wb3N0UHJvY2Vzc2VzLnNsaWNlKDApfX1hdHRhY2hQb3N0UHJvY2VzcyhlLHQ9bnVsbCl7cmV0dXJuIWUuaXNSZXVzYWJsZSgpJiZ0aGlzLl9wb3N0UHJvY2Vzc2VzLmluZGV4T2YoZSk+LTE/KE8uRXJyb3IoIllvdSdyZSB0cnlpbmcgdG8gcmV1c2UgYSBwb3N0IHByb2Nlc3Mgbm90IGRlZmluZWQgYXMgcmV1c2FibGUuIiksMCk6KHQ9PW51bGx8fHQ8MD90aGlzLl9wb3N0UHJvY2Vzc2VzLnB1c2goZSk6dGhpcy5fcG9zdFByb2Nlc3Nlc1t0XT09PW51bGw/dGhpcy5fcG9zdFByb2Nlc3Nlc1t0XT1lOnRoaXMuX3Bvc3RQcm9jZXNzZXMuc3BsaWNlKHQsMCxlKSx0aGlzLl9jYXNjYWRlUG9zdFByb2Nlc3Nlc1RvUmlnQ2FtcygpLHRoaXMuX3NjZW5lLnByZVBhc3NSZW5kZXJlciYmdGhpcy5fc2NlbmUucHJlUGFzc1JlbmRlcmVyLm1hcmtBc0RpcnR5KCksdGhpcy5fcG9zdFByb2Nlc3Nlcy5pbmRleE9mKGUpKX1kZXRhY2hQb3N0UHJvY2VzcyhlKXtjb25zdCB0PXRoaXMuX3Bvc3RQcm9jZXNzZXMuaW5kZXhPZihlKTt0IT09LTEmJih0aGlzLl9wb3N0UHJvY2Vzc2VzW3RdPW51bGwpLHRoaXMuX3NjZW5lLnByZVBhc3NSZW5kZXJlciYmdGhpcy5fc2NlbmUucHJlUGFzc1JlbmRlcmVyLm1hcmtBc0RpcnR5KCksdGhpcy5fY2FzY2FkZVBvc3RQcm9jZXNzZXNUb1JpZ0NhbXMoKX1nZXRXb3JsZE1hdHJpeCgpe3JldHVybiB0aGlzLl9pc1N5bmNocm9uaXplZFZpZXdNYXRyaXgoKT90aGlzLl93b3JsZE1hdHJpeDoodGhpcy5nZXRWaWV3TWF0cml4KCksdGhpcy5fd29ybGRNYXRyaXgpfV9nZXRWaWV3TWF0cml4KCl7cmV0dXJuIHguSWRlbnRpdHkoKX1nZXRWaWV3TWF0cml4KGUpe3JldHVybiFlJiZ0aGlzLl9pc1N5bmNocm9uaXplZFZpZXdNYXRyaXgoKT90aGlzLl9jb21wdXRlZFZpZXdNYXRyaXg6KHRoaXMudXBkYXRlQ2FjaGUoKSx0aGlzLl9jb21wdXRlZFZpZXdNYXRyaXg9dGhpcy5fZ2V0Vmlld01hdHJpeCgpLHRoaXMuX2N1cnJlbnRSZW5kZXJJZD10aGlzLmdldFNjZW5lKCkuZ2V0UmVuZGVySWQoKSx0aGlzLl9jaGlsZFVwZGF0ZUlkKyssdGhpcy5fcmVmcmVzaEZydXN0dW1QbGFuZXM9ITAsdGhpcy5fY2FtZXJhUmlnUGFyYW1zJiZ0aGlzLl9jYW1lcmFSaWdQYXJhbXMudnJQcmVWaWV3TWF0cml4JiZ0aGlzLl9jb21wdXRlZFZpZXdNYXRyaXgubXVsdGlwbHlUb1JlZih0aGlzLl9jYW1lcmFSaWdQYXJhbXMudnJQcmVWaWV3TWF0cml4LHRoaXMuX2NvbXB1dGVkVmlld01hdHJpeCksdGhpcy5wYXJlbnQmJnRoaXMucGFyZW50Lm9uVmlld01hdHJpeENoYW5nZWRPYnNlcnZhYmxlJiZ0aGlzLnBhcmVudC5vblZpZXdNYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5wYXJlbnQpLHRoaXMub25WaWV3TWF0cml4Q2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX2NvbXB1dGVkVmlld01hdHJpeC5pbnZlcnRUb1JlZih0aGlzLl93b3JsZE1hdHJpeCksdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4KX1mcmVlemVQcm9qZWN0aW9uTWF0cml4KGUpe3RoaXMuX2RvTm90Q29tcHV0ZVByb2plY3Rpb25NYXRyaXg9ITAsZSE9PXZvaWQgMCYmKHRoaXMuX3Byb2plY3Rpb25NYXRyaXg9ZSl9dW5mcmVlemVQcm9qZWN0aW9uTWF0cml4KCl7dGhpcy5fZG9Ob3RDb21wdXRlUHJvamVjdGlvbk1hdHJpeD0hMX1nZXRQcm9qZWN0aW9uTWF0cml4KGUpe3ZhciB0LGkscyxyLG4sYSxvLGg7aWYodGhpcy5fZG9Ob3RDb21wdXRlUHJvamVjdGlvbk1hdHJpeHx8IWUmJnRoaXMuX2lzU3luY2hyb25pemVkUHJvamVjdGlvbk1hdHJpeCgpKXJldHVybiB0aGlzLl9wcm9qZWN0aW9uTWF0cml4O3RoaXMuX2NhY2hlLm1vZGU9dGhpcy5tb2RlLHRoaXMuX2NhY2hlLm1pblo9dGhpcy5taW5aLHRoaXMuX2NhY2hlLm1heFo9dGhpcy5tYXhaLHRoaXMuX3JlZnJlc2hGcnVzdHVtUGxhbmVzPSEwO2NvbnN0IGw9dGhpcy5nZXRFbmdpbmUoKSx1PXRoaXMuZ2V0U2NlbmUoKSxkPWwudXNlUmV2ZXJzZURlcHRoQnVmZmVyO2lmKHRoaXMubW9kZT09PWouUEVSU1BFQ1RJVkVfQ0FNRVJBKXt0aGlzLl9jYWNoZS5mb3Y9dGhpcy5mb3YsdGhpcy5fY2FjaGUuZm92TW9kZT10aGlzLmZvdk1vZGUsdGhpcy5fY2FjaGUuYXNwZWN0UmF0aW89bC5nZXRBc3BlY3RSYXRpbyh0aGlzKSx0aGlzLl9jYWNoZS5wcm9qZWN0aW9uUGxhbmVUaWx0PXRoaXMucHJvamVjdGlvblBsYW5lVGlsdCx0aGlzLm1pblo8PTAmJih0aGlzLm1pblo9LjEpO2xldCBmO3UudXNlUmlnaHRIYW5kZWRTeXN0ZW0/Zj14LlBlcnNwZWN0aXZlRm92UkhUb1JlZjpmPXguUGVyc3BlY3RpdmVGb3ZMSFRvUmVmLGYodGhpcy5mb3YsbC5nZXRBc3BlY3RSYXRpbyh0aGlzKSxkP3RoaXMubWF4Wjp0aGlzLm1pblosZD90aGlzLm1pblo6dGhpcy5tYXhaLHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsdGhpcy5mb3ZNb2RlPT09ai5GT1ZNT0RFX1ZFUlRJQ0FMX0ZJWEVELGwuaXNORENIYWxmWlJhbmdlLHRoaXMucHJvamVjdGlvblBsYW5lVGlsdCxkKX1lbHNle2NvbnN0IGY9bC5nZXRSZW5kZXJXaWR0aCgpLzIsXz1sLmdldFJlbmRlckhlaWdodCgpLzI7dS51c2VSaWdodEhhbmRlZFN5c3RlbT94Lk9ydGhvT2ZmQ2VudGVyUkhUb1JlZigodD10aGlzLm9ydGhvTGVmdCkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6LWYsKGk9dGhpcy5vcnRob1JpZ2h0KSE9PW51bGwmJmkhPT12b2lkIDA/aTpmLChzPXRoaXMub3J0aG9Cb3R0b20pIT09bnVsbCYmcyE9PXZvaWQgMD9zOi1fLChyPXRoaXMub3J0aG9Ub3ApIT09bnVsbCYmciE9PXZvaWQgMD9yOl8sZD90aGlzLm1heFo6dGhpcy5taW5aLGQ/dGhpcy5taW5aOnRoaXMubWF4Wix0aGlzLl9wcm9qZWN0aW9uTWF0cml4LGwuaXNORENIYWxmWlJhbmdlKTp4Lk9ydGhvT2ZmQ2VudGVyTEhUb1JlZigobj10aGlzLm9ydGhvTGVmdCkhPT1udWxsJiZuIT09dm9pZCAwP246LWYsKGE9dGhpcy5vcnRob1JpZ2h0KSE9PW51bGwmJmEhPT12b2lkIDA/YTpmLChvPXRoaXMub3J0aG9Cb3R0b20pIT09bnVsbCYmbyE9PXZvaWQgMD9vOi1fLChoPXRoaXMub3J0aG9Ub3ApIT09bnVsbCYmaCE9PXZvaWQgMD9oOl8sZD90aGlzLm1heFo6dGhpcy5taW5aLGQ/dGhpcy5taW5aOnRoaXMubWF4Wix0aGlzLl9wcm9qZWN0aW9uTWF0cml4LGwuaXNORENIYWxmWlJhbmdlKSx0aGlzLl9jYWNoZS5vcnRob0xlZnQ9dGhpcy5vcnRob0xlZnQsdGhpcy5fY2FjaGUub3J0aG9SaWdodD10aGlzLm9ydGhvUmlnaHQsdGhpcy5fY2FjaGUub3J0aG9Cb3R0b209dGhpcy5vcnRob0JvdHRvbSx0aGlzLl9jYWNoZS5vcnRob1RvcD10aGlzLm9ydGhvVG9wLHRoaXMuX2NhY2hlLnJlbmRlcldpZHRoPWwuZ2V0UmVuZGVyV2lkdGgoKSx0aGlzLl9jYWNoZS5yZW5kZXJIZWlnaHQ9bC5nZXRSZW5kZXJIZWlnaHQoKX1yZXR1cm4gdGhpcy5vblByb2plY3Rpb25NYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fcHJvamVjdGlvbk1hdHJpeH1nZXRUcmFuc2Zvcm1hdGlvbk1hdHJpeCgpe3JldHVybiB0aGlzLl9jb21wdXRlZFZpZXdNYXRyaXgubXVsdGlwbHlUb1JlZih0aGlzLl9wcm9qZWN0aW9uTWF0cml4LHRoaXMuX3RyYW5zZm9ybU1hdHJpeCksdGhpcy5fdHJhbnNmb3JtTWF0cml4fV91cGRhdGVGcnVzdHVtUGxhbmVzKCl7dGhpcy5fcmVmcmVzaEZydXN0dW1QbGFuZXMmJih0aGlzLmdldFRyYW5zZm9ybWF0aW9uTWF0cml4KCksdGhpcy5fZnJ1c3R1bVBsYW5lcz9FdC5HZXRQbGFuZXNUb1JlZih0aGlzLl90cmFuc2Zvcm1NYXRyaXgsdGhpcy5fZnJ1c3R1bVBsYW5lcyk6dGhpcy5fZnJ1c3R1bVBsYW5lcz1FdC5HZXRQbGFuZXModGhpcy5fdHJhbnNmb3JtTWF0cml4KSx0aGlzLl9yZWZyZXNoRnJ1c3R1bVBsYW5lcz0hMSl9aXNJbkZydXN0dW0oZSx0PSExKXtpZih0aGlzLl91cGRhdGVGcnVzdHVtUGxhbmVzKCksdCYmdGhpcy5yaWdDYW1lcmFzLmxlbmd0aD4wKXtsZXQgaT0hMTtyZXR1cm4gdGhpcy5yaWdDYW1lcmFzLmZvckVhY2gocz0+e3MuX3VwZGF0ZUZydXN0dW1QbGFuZXMoKSxpPWl8fGUuaXNJbkZydXN0dW0ocy5fZnJ1c3R1bVBsYW5lcyl9KSxpfWVsc2UgcmV0dXJuIGUuaXNJbkZydXN0dW0odGhpcy5fZnJ1c3R1bVBsYW5lcyl9aXNDb21wbGV0ZWx5SW5GcnVzdHVtKGUpe3JldHVybiB0aGlzLl91cGRhdGVGcnVzdHVtUGxhbmVzKCksZS5pc0NvbXBsZXRlbHlJbkZydXN0dW0odGhpcy5fZnJ1c3R1bVBsYW5lcyl9Z2V0Rm9yd2FyZFJheShlPTEwMCx0LGkpe3Rocm93ICQoIlJheSIpfWdldEZvcndhcmRSYXlUb1JlZihlLHQ9MTAwLGkscyl7dGhyb3cgJCgiUmF5Iil9ZGlzcG9zZShlLHQ9ITEpe2Zvcih0aGlzLm9uVmlld01hdHJpeENoYW5nZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblByb2plY3Rpb25NYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlckNoZWNrSW5wdXRzT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25SZXN0b3JlU3RhdGVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5pbnB1dHMmJnRoaXMuaW5wdXRzLmNsZWFyKCksdGhpcy5nZXRTY2VuZSgpLnN0b3BBbmltYXRpb24odGhpcyksdGhpcy5nZXRTY2VuZSgpLnJlbW92ZUNhbWVyYSh0aGlzKTt0aGlzLl9yaWdDYW1lcmFzLmxlbmd0aD4wOyl7Y29uc3Qgcz10aGlzLl9yaWdDYW1lcmFzLnBvcCgpO3MmJnMuZGlzcG9zZSgpfWlmKHRoaXMuX3BhcmVudENvbnRhaW5lcil7Y29uc3Qgcz10aGlzLl9wYXJlbnRDb250YWluZXIuY2FtZXJhcy5pbmRleE9mKHRoaXMpO3M+LTEmJnRoaXMuX3BhcmVudENvbnRhaW5lci5jYW1lcmFzLnNwbGljZShzLDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfWlmKHRoaXMuX3JpZ1Bvc3RQcm9jZXNzKXRoaXMuX3JpZ1Bvc3RQcm9jZXNzLmRpc3Bvc2UodGhpcyksdGhpcy5fcmlnUG9zdFByb2Nlc3M9bnVsbCx0aGlzLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aD0wO2Vsc2UgaWYodGhpcy5jYW1lcmFSaWdNb2RlIT09ai5SSUdfTU9ERV9OT05FKXRoaXMuX3JpZ1Bvc3RQcm9jZXNzPW51bGwsdGhpcy5fcG9zdFByb2Nlc3Nlcy5sZW5ndGg9MDtlbHNle2xldCBzPXRoaXMuX3Bvc3RQcm9jZXNzZXMubGVuZ3RoO2Zvcig7LS1zPj0wOyl7Y29uc3Qgcj10aGlzLl9wb3N0UHJvY2Vzc2VzW3NdO3ImJnIuZGlzcG9zZSh0aGlzKX19bGV0IGk9dGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzLmxlbmd0aDtmb3IoOy0taT49MDspdGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzW2ldLmRpc3Bvc2UoKTt0aGlzLmN1c3RvbVJlbmRlclRhcmdldHMubGVuZ3RoPTAsdGhpcy5fYWN0aXZlTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkucmVsZWFzZVJlbmRlclBhc3NJZCh0aGlzLnJlbmRlclBhc3NJZCksc3VwZXIuZGlzcG9zZShlLHQpfWdldCBpc0xlZnRDYW1lcmEoKXtyZXR1cm4gdGhpcy5faXNMZWZ0Q2FtZXJhfWdldCBpc1JpZ2h0Q2FtZXJhKCl7cmV0dXJuIHRoaXMuX2lzUmlnaHRDYW1lcmF9Z2V0IGxlZnRDYW1lcmEoKXtyZXR1cm4gdGhpcy5fcmlnQ2FtZXJhcy5sZW5ndGg8MT9udWxsOnRoaXMuX3JpZ0NhbWVyYXNbMF19Z2V0IHJpZ2h0Q2FtZXJhKCl7cmV0dXJuIHRoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoPDI/bnVsbDp0aGlzLl9yaWdDYW1lcmFzWzFdfWdldExlZnRUYXJnZXQoKXtyZXR1cm4gdGhpcy5fcmlnQ2FtZXJhcy5sZW5ndGg8MT9udWxsOnRoaXMuX3JpZ0NhbWVyYXNbMF0uZ2V0VGFyZ2V0KCl9Z2V0UmlnaHRUYXJnZXQoKXtyZXR1cm4gdGhpcy5fcmlnQ2FtZXJhcy5sZW5ndGg8Mj9udWxsOnRoaXMuX3JpZ0NhbWVyYXNbMV0uZ2V0VGFyZ2V0KCl9c2V0Q2FtZXJhUmlnTW9kZShlLHQpe2lmKHRoaXMuY2FtZXJhUmlnTW9kZSE9PWUpe2Zvcig7dGhpcy5fcmlnQ2FtZXJhcy5sZW5ndGg+MDspe2NvbnN0IGk9dGhpcy5fcmlnQ2FtZXJhcy5wb3AoKTtpJiZpLmRpc3Bvc2UoKX1pZih0aGlzLmNhbWVyYVJpZ01vZGU9ZSx0aGlzLl9jYW1lcmFSaWdQYXJhbXM9e30sdGhpcy5fY2FtZXJhUmlnUGFyYW1zLmludGVyYXhpYWxEaXN0YW5jZT10LmludGVyYXhpYWxEaXN0YW5jZXx8LjA2MzcsdGhpcy5fY2FtZXJhUmlnUGFyYW1zLnN0ZXJlb0hhbGZBbmdsZT1ILlRvUmFkaWFucyh0aGlzLl9jYW1lcmFSaWdQYXJhbXMuaW50ZXJheGlhbERpc3RhbmNlLy4wNjM3KSx0aGlzLmNhbWVyYVJpZ01vZGUhPT1qLlJJR19NT0RFX05PTkUpe2NvbnN0IGk9dGhpcy5jcmVhdGVSaWdDYW1lcmEodGhpcy5uYW1lKyJfTCIsMCk7aSYmKGkuX2lzTGVmdENhbWVyYT0hMCk7Y29uc3Qgcz10aGlzLmNyZWF0ZVJpZ0NhbWVyYSh0aGlzLm5hbWUrIl9SIiwxKTtzJiYocy5faXNSaWdodENhbWVyYT0hMCksaSYmcyYmKHRoaXMuX3JpZ0NhbWVyYXMucHVzaChpKSx0aGlzLl9yaWdDYW1lcmFzLnB1c2gocykpfXRoaXMuX3NldFJpZ01vZGUodCksdGhpcy5fY2FzY2FkZVBvc3RQcm9jZXNzZXNUb1JpZ0NhbXMoKSx0aGlzLnVwZGF0ZSgpfX1fc2V0UmlnTW9kZShlKXt9X2dldFZSUHJvamVjdGlvbk1hdHJpeCgpe3JldHVybiB4LlBlcnNwZWN0aXZlRm92TEhUb1JlZih0aGlzLl9jYW1lcmFSaWdQYXJhbXMudnJNZXRyaWNzLmFzcGVjdFJhdGlvRm92LHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy52ck1ldHJpY3MuYXNwZWN0UmF0aW8sdGhpcy5taW5aLHRoaXMubWF4Wix0aGlzLl9jYW1lcmFSaWdQYXJhbXMudnJXb3JrTWF0cml4LCEwLHRoaXMuZ2V0RW5naW5lKCkuaXNORENIYWxmWlJhbmdlKSx0aGlzLl9jYW1lcmFSaWdQYXJhbXMudnJXb3JrTWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZySE1hdHJpeCx0aGlzLl9wcm9qZWN0aW9uTWF0cml4KSx0aGlzLl9wcm9qZWN0aW9uTWF0cml4fV91cGRhdGVDYW1lcmFSb3RhdGlvbk1hdHJpeCgpe31fdXBkYXRlV2ViVlJDYW1lcmFSb3RhdGlvbk1hdHJpeCgpe31fZ2V0V2ViVlJQcm9qZWN0aW9uTWF0cml4KCl7cmV0dXJuIHguSWRlbnRpdHkoKX1fZ2V0V2ViVlJWaWV3TWF0cml4KCl7cmV0dXJuIHguSWRlbnRpdHkoKX1zZXRDYW1lcmFSaWdQYXJhbWV0ZXIoZSx0KXt0aGlzLl9jYW1lcmFSaWdQYXJhbXN8fCh0aGlzLl9jYW1lcmFSaWdQYXJhbXM9e30pLHRoaXMuX2NhbWVyYVJpZ1BhcmFtc1tlXT10LGU9PT0iaW50ZXJheGlhbERpc3RhbmNlIiYmKHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy5zdGVyZW9IYWxmQW5nbGU9SC5Ub1JhZGlhbnModC8uMDYzNykpfWNyZWF0ZVJpZ0NhbWVyYShlLHQpe3JldHVybiBudWxsfV91cGRhdGVSaWdDYW1lcmFzKCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl9yaWdDYW1lcmFzLmxlbmd0aDtlKyspdGhpcy5fcmlnQ2FtZXJhc1tlXS5taW5aPXRoaXMubWluWix0aGlzLl9yaWdDYW1lcmFzW2VdLm1heFo9dGhpcy5tYXhaLHRoaXMuX3JpZ0NhbWVyYXNbZV0uZm92PXRoaXMuZm92LHRoaXMuX3JpZ0NhbWVyYXNbZV0udXBWZWN0b3IuY29weUZyb20odGhpcy51cFZlY3Rvcik7dGhpcy5jYW1lcmFSaWdNb2RlPT09ai5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfQU5BR0xZUEgmJih0aGlzLl9yaWdDYW1lcmFzWzBdLnZpZXdwb3J0PXRoaXMuX3JpZ0NhbWVyYXNbMV0udmlld3BvcnQ9dGhpcy52aWV3cG9ydCl9X3NldHVwSW5wdXRzKCl7fXNlcmlhbGl6ZSgpe2NvbnN0IGU9YWUuU2VyaWFsaXplKHRoaXMpO3JldHVybiBlLnVuaXF1ZUlkPXRoaXMudW5pcXVlSWQsZS50eXBlPXRoaXMuZ2V0Q2xhc3NOYW1lKCksdGhpcy5wYXJlbnQmJnRoaXMucGFyZW50Ll9zZXJpYWxpemVBc1BhcmVudChlKSx0aGlzLmlucHV0cyYmdGhpcy5pbnB1dHMuc2VyaWFsaXplKGUpLGFlLkFwcGVuZFNlcmlhbGl6ZWRBbmltYXRpb25zKHRoaXMsZSksZS5yYW5nZXM9dGhpcy5zZXJpYWxpemVBbmltYXRpb25SYW5nZXMoKSxlLmlzRW5hYmxlZD10aGlzLmlzRW5hYmxlZCgpLGV9Y2xvbmUoZSx0PW51bGwpe2NvbnN0IGk9YWUuQ2xvbmUoai5HZXRDb25zdHJ1Y3RvckZyb21OYW1lKHRoaXMuZ2V0Q2xhc3NOYW1lKCksZSx0aGlzLmdldFNjZW5lKCksdGhpcy5pbnRlcmF4aWFsRGlzdGFuY2UsdGhpcy5pc1N0ZXJlb3Njb3BpY1NpZGVCeVNpZGUpLHRoaXMpO3JldHVybiBpLm5hbWU9ZSxpLnBhcmVudD10LHRoaXMub25DbG9uZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhpKSxpfWdldERpcmVjdGlvbihlKXtjb25zdCB0PXAuWmVybygpO3JldHVybiB0aGlzLmdldERpcmVjdGlvblRvUmVmKGUsdCksdH1nZXQgYWJzb2x1dGVSb3RhdGlvbigpe3JldHVybiB0aGlzLmdldFdvcmxkTWF0cml4KCkuZGVjb21wb3NlKHZvaWQgMCx0aGlzLl9hYnNvbHV0ZVJvdGF0aW9uKSx0aGlzLl9hYnNvbHV0ZVJvdGF0aW9ufWdldERpcmVjdGlvblRvUmVmKGUsdCl7cC5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihlLHRoaXMuZ2V0V29ybGRNYXRyaXgoKSx0KX1zdGF0aWMgR2V0Q29uc3RydWN0b3JGcm9tTmFtZShlLHQsaSxzPTAscj0hMCl7Y29uc3Qgbj16ZS5Db25zdHJ1Y3QoZSx0LGkse2ludGVyYXhpYWxfZGlzdGFuY2U6cyxpc1N0ZXJlb3Njb3BpY1NpZGVCeVNpZGU6cn0pO3JldHVybiBufHwoKCk9PmouX0NyZWF0ZURlZmF1bHRQYXJzZWRDYW1lcmEodCxpKSl9Y29tcHV0ZVdvcmxkTWF0cml4KCl7cmV0dXJuIHRoaXMuZ2V0V29ybGRNYXRyaXgoKX1zdGF0aWMgUGFyc2UoZSx0KXtjb25zdCBpPWUudHlwZSxzPWouR2V0Q29uc3RydWN0b3JGcm9tTmFtZShpLGUubmFtZSx0LGUuaW50ZXJheGlhbF9kaXN0YW5jZSxlLmlzU3RlcmVvc2NvcGljU2lkZUJ5U2lkZSkscj1hZS5QYXJzZShzLGUsdCk7aWYoZS5wYXJlbnRJZCE9PXZvaWQgMCYmKHIuX3dhaXRpbmdQYXJlbnRJZD1lLnBhcmVudElkKSxlLnBhcmVudEluc3RhbmNlSW5kZXghPT12b2lkIDAmJihyLl93YWl0aW5nUGFyZW50SW5zdGFuY2VJbmRleD1lLnBhcmVudEluc3RhbmNlSW5kZXgpLHIuaW5wdXRzJiYoci5pbnB1dHMucGFyc2UoZSksci5fc2V0dXBJbnB1dHMoKSksZS51cFZlY3RvciYmKHIudXBWZWN0b3I9cC5Gcm9tQXJyYXkoZS51cFZlY3RvcikpLHIuc2V0UG9zaXRpb24mJihyLnBvc2l0aW9uLmNvcHlGcm9tRmxvYXRzKDAsMCwwKSxyLnNldFBvc2l0aW9uKHAuRnJvbUFycmF5KGUucG9zaXRpb24pKSksZS50YXJnZXQmJnIuc2V0VGFyZ2V0JiZyLnNldFRhcmdldChwLkZyb21BcnJheShlLnRhcmdldCkpLGUuY2FtZXJhUmlnTW9kZSl7Y29uc3Qgbj1lLmludGVyYXhpYWxfZGlzdGFuY2U/e2ludGVyYXhpYWxEaXN0YW5jZTplLmludGVyYXhpYWxfZGlzdGFuY2V9Ont9O3Iuc2V0Q2FtZXJhUmlnTW9kZShlLmNhbWVyYVJpZ01vZGUsbil9aWYoZS5hbmltYXRpb25zKXtmb3IobGV0IG49MDtuPGUuYW5pbWF0aW9ucy5sZW5ndGg7bisrKXtjb25zdCBhPWUuYW5pbWF0aW9uc1tuXSxvPXJpKCJCQUJZTE9OLkFuaW1hdGlvbiIpO28mJnIuYW5pbWF0aW9ucy5wdXNoKG8uUGFyc2UoYSkpfXplLlBhcnNlQW5pbWF0aW9uUmFuZ2VzKHIsZSx0KX1yZXR1cm4gZS5hdXRvQW5pbWF0ZSYmdC5iZWdpbkFuaW1hdGlvbihyLGUuYXV0b0FuaW1hdGVGcm9tLGUuYXV0b0FuaW1hdGVUbyxlLmF1dG9BbmltYXRlTG9vcCxlLmF1dG9BbmltYXRlU3BlZWR8fDEpLGUuaXNFbmFibGVkIT09dm9pZCAwJiZyLnNldEVuYWJsZWQoZS5pc0VuYWJsZWQpLHJ9fWouX0NyZWF0ZURlZmF1bHRQYXJzZWRDYW1lcmE9KGMsZSk9Pnt0aHJvdyAkKCJVbml2ZXJzYWxDYW1lcmEiKX0sai5QRVJTUEVDVElWRV9DQU1FUkE9MCxqLk9SVEhPR1JBUEhJQ19DQU1FUkE9MSxqLkZPVk1PREVfVkVSVElDQUxfRklYRUQ9MCxqLkZPVk1PREVfSE9SSVpPTlRBTF9GSVhFRD0xLGouUklHX01PREVfTk9ORT0wLGouUklHX01PREVfU1RFUkVPU0NPUElDX0FOQUdMWVBIPTEwLGouUklHX01PREVfU1RFUkVPU0NPUElDX1NJREVCWVNJREVfUEFSQUxMRUw9MTEsai5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfU0lERUJZU0lERV9DUk9TU0VZRUQ9MTIsai5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfT1ZFUlVOREVSPTEzLGouUklHX01PREVfU1RFUkVPU0NPUElDX0lOVEVSTEFDRUQ9MTQsai5SSUdfTU9ERV9WUj0yMCxqLlJJR19NT0RFX1dFQlZSPTIxLGouUklHX01PREVfQ1VTVE9NPTIyLGouRm9yY2VBdHRhY2hDb250cm9sVG9BbHdheXNQcmV2ZW50RGVmYXVsdD0hMSxUKFtCdCgicG9zaXRpb24iKV0sai5wcm90b3R5cGUsIl9wb3NpdGlvbiIsdm9pZCAwKSxUKFtCdCgidXBWZWN0b3IiKV0sai5wcm90b3R5cGUsIl91cFZlY3RvciIsdm9pZCAwKSxUKFtSKCldLGoucHJvdG90eXBlLCJvcnRob0xlZnQiLG51bGwpLFQoW1IoKV0sai5wcm90b3R5cGUsIm9ydGhvUmlnaHQiLG51bGwpLFQoW1IoKV0sai5wcm90b3R5cGUsIm9ydGhvQm90dG9tIixudWxsKSxUKFtSKCldLGoucHJvdG90eXBlLCJvcnRob1RvcCIsbnVsbCksVChbUigpXSxqLnByb3RvdHlwZSwiZm92Iix2b2lkIDApLFQoW1IoKV0sai5wcm90b3R5cGUsInByb2plY3Rpb25QbGFuZVRpbHQiLHZvaWQgMCksVChbUigpXSxqLnByb3RvdHlwZSwibWluWiIsdm9pZCAwKSxUKFtSKCldLGoucHJvdG90eXBlLCJtYXhaIix2b2lkIDApLFQoW1IoKV0sai5wcm90b3R5cGUsImluZXJ0aWEiLHZvaWQgMCksVChbUigpXSxqLnByb3RvdHlwZSwibW9kZSIsbnVsbCksVChbUigpXSxqLnByb3RvdHlwZSwibGF5ZXJNYXNrIix2b2lkIDApLFQoW1IoKV0sai5wcm90b3R5cGUsImZvdk1vZGUiLHZvaWQgMCksVChbUigpXSxqLnByb3RvdHlwZSwiY2FtZXJhUmlnTW9kZSIsdm9pZCAwKSxUKFtSKCldLGoucHJvdG90eXBlLCJpbnRlcmF4aWFsRGlzdGFuY2UiLHZvaWQgMCksVChbUigpXSxqLnByb3RvdHlwZSwiaXNTdGVyZW9zY29waWNTaWRlQnlTaWRlIix2b2lkIDApO2NsYXNzIGVle2NvbnN0cnVjdG9yKCl7dGhpcy5fYXBwbHlUbz1Mbih0aGlzLl9hcHBseVRvQ29yb3V0aW5lLmJpbmQodGhpcykpfXNldChlLHQpe3N3aXRjaChlLmxlbmd0aHx8Ty5XYXJuKGBTZXR0aW5nIHZlcnRleCBkYXRhIGtpbmQgJyR7dH0nIHdpdGggYW4gZW1wdHkgYXJyYXlgKSx0KXtjYXNlIGcuUG9zaXRpb25LaW5kOnRoaXMucG9zaXRpb25zPWU7YnJlYWs7Y2FzZSBnLk5vcm1hbEtpbmQ6dGhpcy5ub3JtYWxzPWU7YnJlYWs7Y2FzZSBnLlRhbmdlbnRLaW5kOnRoaXMudGFuZ2VudHM9ZTticmVhaztjYXNlIGcuVVZLaW5kOnRoaXMudXZzPWU7YnJlYWs7Y2FzZSBnLlVWMktpbmQ6dGhpcy51dnMyPWU7YnJlYWs7Y2FzZSBnLlVWM0tpbmQ6dGhpcy51dnMzPWU7YnJlYWs7Y2FzZSBnLlVWNEtpbmQ6dGhpcy51dnM0PWU7YnJlYWs7Y2FzZSBnLlVWNUtpbmQ6dGhpcy51dnM1PWU7YnJlYWs7Y2FzZSBnLlVWNktpbmQ6dGhpcy51dnM2PWU7YnJlYWs7Y2FzZSBnLkNvbG9yS2luZDp0aGlzLmNvbG9ycz1lO2JyZWFrO2Nhc2UgZy5NYXRyaWNlc0luZGljZXNLaW5kOnRoaXMubWF0cmljZXNJbmRpY2VzPWU7YnJlYWs7Y2FzZSBnLk1hdHJpY2VzV2VpZ2h0c0tpbmQ6dGhpcy5tYXRyaWNlc1dlaWdodHM9ZTticmVhaztjYXNlIGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kOnRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmE9ZTticmVhaztjYXNlIGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kOnRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmE9ZTticmVha319YXBwbHlUb01lc2goZSx0KXtyZXR1cm4gdGhpcy5fYXBwbHlUbyhlLHQsITEpLHRoaXN9YXBwbHlUb0dlb21ldHJ5KGUsdCl7cmV0dXJuIHRoaXMuX2FwcGx5VG8oZSx0LCExKSx0aGlzfXVwZGF0ZU1lc2goZSl7cmV0dXJuIHRoaXMuX3VwZGF0ZShlKSx0aGlzfXVwZGF0ZUdlb21ldHJ5KGUpe3JldHVybiB0aGlzLl91cGRhdGUoZSksdGhpc30qX2FwcGx5VG9Db3JvdXRpbmUoZSx0PSExLGkpe3JldHVybiB0aGlzLnBvc2l0aW9ucyYmKGUuc2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kLHRoaXMucG9zaXRpb25zLHQpLGkmJih5aWVsZCkpLHRoaXMubm9ybWFscyYmKGUuc2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCx0aGlzLm5vcm1hbHMsdCksaSYmKHlpZWxkKSksdGhpcy50YW5nZW50cyYmKGUuc2V0VmVydGljZXNEYXRhKGcuVGFuZ2VudEtpbmQsdGhpcy50YW5nZW50cyx0KSxpJiYoeWllbGQpKSx0aGlzLnV2cyYmKGUuc2V0VmVydGljZXNEYXRhKGcuVVZLaW5kLHRoaXMudXZzLHQpLGkmJih5aWVsZCkpLHRoaXMudXZzMiYmKGUuc2V0VmVydGljZXNEYXRhKGcuVVYyS2luZCx0aGlzLnV2czIsdCksaSYmKHlpZWxkKSksdGhpcy51dnMzJiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5VVjNLaW5kLHRoaXMudXZzMyx0KSxpJiYoeWllbGQpKSx0aGlzLnV2czQmJihlLnNldFZlcnRpY2VzRGF0YShnLlVWNEtpbmQsdGhpcy51dnM0LHQpLGkmJih5aWVsZCkpLHRoaXMudXZzNSYmKGUuc2V0VmVydGljZXNEYXRhKGcuVVY1S2luZCx0aGlzLnV2czUsdCksaSYmKHlpZWxkKSksdGhpcy51dnM2JiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5VVjZLaW5kLHRoaXMudXZzNix0KSxpJiYoeWllbGQpKSx0aGlzLmNvbG9ycyYmKGUuc2V0VmVydGljZXNEYXRhKGcuQ29sb3JLaW5kLHRoaXMuY29sb3JzLHQpLGkmJih5aWVsZCkpLHRoaXMubWF0cmljZXNJbmRpY2VzJiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzLHQpLGkmJih5aWVsZCkpLHRoaXMubWF0cmljZXNXZWlnaHRzJiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzLHQpLGkmJih5aWVsZCkpLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEmJihlLnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhLHQpLGkmJih5aWVsZCkpLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEmJihlLnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhLHQpLGkmJih5aWVsZCkpLHRoaXMuaW5kaWNlcz8oZS5zZXRJbmRpY2VzKHRoaXMuaW5kaWNlcyxudWxsLHQpLGkmJih5aWVsZCkpOmUuc2V0SW5kaWNlcyhbXSxudWxsKSx0aGlzfV91cGRhdGUoZSx0LGkpe3JldHVybiB0aGlzLnBvc2l0aW9ucyYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQsdGhpcy5wb3NpdGlvbnMsdCxpKSx0aGlzLm5vcm1hbHMmJmUudXBkYXRlVmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCx0aGlzLm5vcm1hbHMsdCxpKSx0aGlzLnRhbmdlbnRzJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLlRhbmdlbnRLaW5kLHRoaXMudGFuZ2VudHMsdCxpKSx0aGlzLnV2cyYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5VVktpbmQsdGhpcy51dnMsdCxpKSx0aGlzLnV2czImJmUudXBkYXRlVmVydGljZXNEYXRhKGcuVVYyS2luZCx0aGlzLnV2czIsdCxpKSx0aGlzLnV2czMmJmUudXBkYXRlVmVydGljZXNEYXRhKGcuVVYzS2luZCx0aGlzLnV2czMsdCxpKSx0aGlzLnV2czQmJmUudXBkYXRlVmVydGljZXNEYXRhKGcuVVY0S2luZCx0aGlzLnV2czQsdCxpKSx0aGlzLnV2czUmJmUudXBkYXRlVmVydGljZXNEYXRhKGcuVVY1S2luZCx0aGlzLnV2czUsdCxpKSx0aGlzLnV2czYmJmUudXBkYXRlVmVydGljZXNEYXRhKGcuVVY2S2luZCx0aGlzLnV2czYsdCxpKSx0aGlzLmNvbG9ycyYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5Db2xvcktpbmQsdGhpcy5jb2xvcnMsdCxpKSx0aGlzLm1hdHJpY2VzSW5kaWNlcyYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzLHQsaSksdGhpcy5tYXRyaWNlc1dlaWdodHMmJmUudXBkYXRlVmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzS2luZCx0aGlzLm1hdHJpY2VzV2VpZ2h0cyx0LGkpLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEmJmUudXBkYXRlVmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEsdCxpKSx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhLHQsaSksdGhpcy5pbmRpY2VzJiZlLnNldEluZGljZXModGhpcy5pbmRpY2VzLG51bGwpLHRoaXN9c3RhdGljIF9UcmFuc2Zvcm1WZWN0b3IzQ29vcmRpbmF0ZXMoZSx0LGk9MCxzPWUubGVuZ3RoKXtjb25zdCByPUQuVmVjdG9yM1swXSxuPUQuVmVjdG9yM1sxXTtmb3IobGV0IGE9aTthPGkrczthKz0zKXAuRnJvbUFycmF5VG9SZWYoZSxhLHIpLHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihyLHQsbiksZVthXT1uLngsZVthKzFdPW4ueSxlW2ErMl09bi56fXN0YXRpYyBfVHJhbnNmb3JtVmVjdG9yM05vcm1hbHMoZSx0LGk9MCxzPWUubGVuZ3RoKXtjb25zdCByPUQuVmVjdG9yM1swXSxuPUQuVmVjdG9yM1sxXTtmb3IobGV0IGE9aTthPGkrczthKz0zKXAuRnJvbUFycmF5VG9SZWYoZSxhLHIpLHAuVHJhbnNmb3JtTm9ybWFsVG9SZWYocix0LG4pLGVbYV09bi54LGVbYSsxXT1uLnksZVthKzJdPW4uen1zdGF0aWMgX1RyYW5zZm9ybVZlY3RvcjROb3JtYWxzKGUsdCxpPTAscz1lLmxlbmd0aCl7Y29uc3Qgcj1ELlZlY3RvcjRbMF0sbj1ELlZlY3RvcjRbMV07Zm9yKGxldCBhPWk7YTxpK3M7YSs9NClDZS5Gcm9tQXJyYXlUb1JlZihlLGEsciksQ2UuVHJhbnNmb3JtTm9ybWFsVG9SZWYocix0LG4pLGVbYV09bi54LGVbYSsxXT1uLnksZVthKzJdPW4ueixlW2ErM109bi53fXN0YXRpYyBfRmxpcEZhY2VzKGUsdD0wLGk9ZS5sZW5ndGgpe2ZvcihsZXQgcz10O3M8dCtpO3MrPTMpe2NvbnN0IHI9ZVtzKzFdO2VbcysxXT1lW3MrMl0sZVtzKzJdPXJ9fXRyYW5zZm9ybShlKXtjb25zdCB0PWUuZGV0ZXJtaW5hbnQoKTwwO3JldHVybiB0aGlzLnBvc2l0aW9ucyYmZWUuX1RyYW5zZm9ybVZlY3RvcjNDb29yZGluYXRlcyh0aGlzLnBvc2l0aW9ucyxlKSx0aGlzLm5vcm1hbHMmJmVlLl9UcmFuc2Zvcm1WZWN0b3IzTm9ybWFscyh0aGlzLm5vcm1hbHMsZSksdGhpcy50YW5nZW50cyYmZWUuX1RyYW5zZm9ybVZlY3RvcjROb3JtYWxzKHRoaXMudGFuZ2VudHMsZSksdCYmdGhpcy5pbmRpY2VzJiZlZS5fRmxpcEZhY2VzKHRoaXMuaW5kaWNlcyksdGhpc31tZXJnZShlLHQ9ITEsaT0hMSl7Y29uc3Qgcz1BcnJheS5pc0FycmF5KGUpP2UubWFwKHI9PltyLHZvaWQgMF0pOltbZSx2b2lkIDBdXTtyZXR1cm4gUHModGhpcy5fbWVyZ2VDb3JvdXRpbmUodm9pZCAwLHMsdCwhMSxpKSl9Kl9tZXJnZUNvcm91dGluZShlLHQsaT0hMSxzLHIpe3ZhciBuLGEsbyxoO3RoaXMuX3ZhbGlkYXRlKCk7Y29uc3QgbD10Lm1hcChfPT5fWzBdKTtmb3IoY29uc3QgXyBvZiBsKWlmKF8uX3ZhbGlkYXRlKCksIXRoaXMubm9ybWFscyE9IV8ubm9ybWFsc3x8IXRoaXMudGFuZ2VudHMhPSFfLnRhbmdlbnRzfHwhdGhpcy51dnMhPSFfLnV2c3x8IXRoaXMudXZzMiE9IV8udXZzMnx8IXRoaXMudXZzMyE9IV8udXZzM3x8IXRoaXMudXZzNCE9IV8udXZzNHx8IXRoaXMudXZzNSE9IV8udXZzNXx8IXRoaXMudXZzNiE9IV8udXZzNnx8IXRoaXMuY29sb3JzIT0hXy5jb2xvcnN8fCF0aGlzLm1hdHJpY2VzSW5kaWNlcyE9IV8ubWF0cmljZXNJbmRpY2VzfHwhdGhpcy5tYXRyaWNlc1dlaWdodHMhPSFfLm1hdHJpY2VzV2VpZ2h0c3x8IXRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEhPSFfLm1hdHJpY2VzSW5kaWNlc0V4dHJhfHwhdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSE9IV8ubWF0cmljZXNXZWlnaHRzRXh0cmEpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgbWVyZ2UgdmVydGV4IGRhdGEgdGhhdCBkbyBub3QgaGF2ZSB0aGUgc2FtZSBzZXQgb2YgYXR0cmlidXRlcyIpO2NvbnN0IHU9bC5yZWR1Y2UoKF8sRSk9Pnt2YXIgbSx2O3JldHVybiBfKygodj0obT1FLmluZGljZXMpPT09bnVsbHx8bT09PXZvaWQgMD92b2lkIDA6bS5sZW5ndGgpIT09bnVsbCYmdiE9PXZvaWQgMD92OjApfSwoYT0obj10aGlzLmluZGljZXMpPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi5sZW5ndGgpIT09bnVsbCYmYSE9PXZvaWQgMD9hOjApO2xldCBmPXJ8fGwuc29tZShfPT5fLmluZGljZXM9PT10aGlzLmluZGljZXMpPyhvPXRoaXMuaW5kaWNlcyk9PT1udWxsfHxvPT09dm9pZCAwP3ZvaWQgMDpvLnNsaWNlKCk6dGhpcy5pbmRpY2VzO2lmKHU+MCl7bGV0IF89KGg9Zj09bnVsbD92b2lkIDA6Zi5sZW5ndGgpIT09bnVsbCYmaCE9PXZvaWQgMD9oOjA7aWYoZnx8KGY9bmV3IEFycmF5KHUpKSxmLmxlbmd0aCE9PXUpe2lmKEFycmF5LmlzQXJyYXkoZikpZi5sZW5ndGg9dTtlbHNle2NvbnN0IG09aXx8ZiBpbnN0YW5jZW9mIFVpbnQzMkFycmF5P25ldyBVaW50MzJBcnJheSh1KTpuZXcgVWludDE2QXJyYXkodSk7bS5zZXQoZiksZj1tfWUmJmUuZGV0ZXJtaW5hbnQoKTwwJiZlZS5fRmxpcEZhY2VzKGYsMCxfKX1sZXQgRT10aGlzLnBvc2l0aW9ucz90aGlzLnBvc2l0aW9ucy5sZW5ndGgvMzowO2Zvcihjb25zdFttLHZdb2YgdClpZihtLmluZGljZXMpe2ZvcihsZXQgUz0wO1M8bS5pbmRpY2VzLmxlbmd0aDtTKyspZltfK1NdPW0uaW5kaWNlc1tTXStFO3YmJnYuZGV0ZXJtaW5hbnQoKTwwJiZlZS5fRmxpcEZhY2VzKGYsXyxtLmluZGljZXMubGVuZ3RoKSxFKz1tLnBvc2l0aW9ucy5sZW5ndGgvMyxfKz1tLmluZGljZXMubGVuZ3RoLHMmJih5aWVsZCl9fXJldHVybiB0aGlzLmluZGljZXM9Zix0aGlzLnBvc2l0aW9ucz1lZS5fTWVyZ2VFbGVtZW50KGcuUG9zaXRpb25LaW5kLHRoaXMucG9zaXRpb25zLGUsdC5tYXAoXz0+W19bMF0ucG9zaXRpb25zLF9bMV1dKSkscyYmKHlpZWxkKSx0aGlzLm5vcm1hbHM9ZWUuX01lcmdlRWxlbWVudChnLk5vcm1hbEtpbmQsdGhpcy5ub3JtYWxzLGUsdC5tYXAoXz0+W19bMF0ubm9ybWFscyxfWzFdXSkpLHMmJih5aWVsZCksdGhpcy50YW5nZW50cz1lZS5fTWVyZ2VFbGVtZW50KGcuVGFuZ2VudEtpbmQsdGhpcy50YW5nZW50cyxlLHQubWFwKF89PltfWzBdLnRhbmdlbnRzLF9bMV1dKSkscyYmKHlpZWxkKSx0aGlzLnV2cz1lZS5fTWVyZ2VFbGVtZW50KGcuVVZLaW5kLHRoaXMudXZzLGUsdC5tYXAoXz0+W19bMF0udXZzLF9bMV1dKSkscyYmKHlpZWxkKSx0aGlzLnV2czI9ZWUuX01lcmdlRWxlbWVudChnLlVWMktpbmQsdGhpcy51dnMyLGUsdC5tYXAoXz0+W19bMF0udXZzMixfWzFdXSkpLHMmJih5aWVsZCksdGhpcy51dnMzPWVlLl9NZXJnZUVsZW1lbnQoZy5VVjNLaW5kLHRoaXMudXZzMyxlLHQubWFwKF89PltfWzBdLnV2czMsX1sxXV0pKSxzJiYoeWllbGQpLHRoaXMudXZzND1lZS5fTWVyZ2VFbGVtZW50KGcuVVY0S2luZCx0aGlzLnV2czQsZSx0Lm1hcChfPT5bX1swXS51dnM0LF9bMV1dKSkscyYmKHlpZWxkKSx0aGlzLnV2czU9ZWUuX01lcmdlRWxlbWVudChnLlVWNUtpbmQsdGhpcy51dnM1LGUsdC5tYXAoXz0+W19bMF0udXZzNSxfWzFdXSkpLHMmJih5aWVsZCksdGhpcy51dnM2PWVlLl9NZXJnZUVsZW1lbnQoZy5VVjZLaW5kLHRoaXMudXZzNixlLHQubWFwKF89PltfWzBdLnV2czYsX1sxXV0pKSxzJiYoeWllbGQpLHRoaXMuY29sb3JzPWVlLl9NZXJnZUVsZW1lbnQoZy5Db2xvcktpbmQsdGhpcy5jb2xvcnMsZSx0Lm1hcChfPT5bX1swXS5jb2xvcnMsX1sxXV0pKSxzJiYoeWllbGQpLHRoaXMubWF0cmljZXNJbmRpY2VzPWVlLl9NZXJnZUVsZW1lbnQoZy5NYXRyaWNlc0luZGljZXNLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzLGUsdC5tYXAoXz0+W19bMF0ubWF0cmljZXNJbmRpY2VzLF9bMV1dKSkscyYmKHlpZWxkKSx0aGlzLm1hdHJpY2VzV2VpZ2h0cz1lZS5fTWVyZ2VFbGVtZW50KGcuTWF0cmljZXNXZWlnaHRzS2luZCx0aGlzLm1hdHJpY2VzV2VpZ2h0cyxlLHQubWFwKF89PltfWzBdLm1hdHJpY2VzV2VpZ2h0cyxfWzFdXSkpLHMmJih5aWVsZCksdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYT1lZS5fTWVyZ2VFbGVtZW50KGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEsZSx0Lm1hcChfPT5bX1swXS5tYXRyaWNlc0luZGljZXNFeHRyYSxfWzFdXSkpLHMmJih5aWVsZCksdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYT1lZS5fTWVyZ2VFbGVtZW50KGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEsZSx0Lm1hcChfPT5bX1swXS5tYXRyaWNlc1dlaWdodHNFeHRyYSxfWzFdXSkpLHRoaXN9c3RhdGljIF9NZXJnZUVsZW1lbnQoZSx0LGkscyl7Y29uc3Qgcj1zLmZpbHRlcihvPT5vWzBdIT09bnVsbCYmb1swXSE9PXZvaWQgMCk7aWYoIXQmJnIubGVuZ3RoPT0wKXJldHVybiB0O2lmKCF0KXJldHVybiB0aGlzLl9NZXJnZUVsZW1lbnQoZSxyWzBdWzBdLHJbMF1bMV0sci5zbGljZSgxKSk7Y29uc3Qgbj1yLnJlZHVjZSgobyxoKT0+bytoWzBdLmxlbmd0aCx0Lmxlbmd0aCksYT1lPT09Zy5Qb3NpdGlvbktpbmQ/ZWUuX1RyYW5zZm9ybVZlY3RvcjNDb29yZGluYXRlczplPT09Zy5Ob3JtYWxLaW5kP2VlLl9UcmFuc2Zvcm1WZWN0b3IzTm9ybWFsczplPT09Zy5UYW5nZW50S2luZD9lZS5fVHJhbnNmb3JtVmVjdG9yNE5vcm1hbHM6KCk9Pnt9O2lmKHQgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpe2NvbnN0IG89bmV3IEZsb2F0MzJBcnJheShuKTtvLnNldCh0KSxpJiZhKG8saSwwLHQubGVuZ3RoKTtsZXQgaD10Lmxlbmd0aDtmb3IoY29uc3RbbCx1XW9mIHIpby5zZXQobCxoKSx1JiZhKG8sdSxoLGwubGVuZ3RoKSxoKz1sLmxlbmd0aDtyZXR1cm4gb31lbHNle2NvbnN0IG89bmV3IEFycmF5KG4pO2ZvcihsZXQgbD0wO2w8dC5sZW5ndGg7bCsrKW9bbF09dFtsXTtpJiZhKG8saSwwLHQubGVuZ3RoKTtsZXQgaD10Lmxlbmd0aDtmb3IoY29uc3RbbCx1XW9mIHIpe2ZvcihsZXQgZD0wO2Q8bC5sZW5ndGg7ZCsrKW9baCtkXT1sW2RdO3UmJmEobyx1LGgsbC5sZW5ndGgpLGgrPWwubGVuZ3RofXJldHVybiBvfX1fdmFsaWRhdGUoKXtpZighdGhpcy5wb3NpdGlvbnMpdGhyb3cgbmV3IE50KCJQb3NpdGlvbnMgYXJlIHJlcXVpcmVkIixvaS5NZXNoSW52YWxpZFBvc2l0aW9uc0Vycm9yKTtjb25zdCBlPShzLHIpPT57Y29uc3Qgbj1nLkRlZHVjZVN0cmlkZShzKTtpZihyLmxlbmd0aCVuIT09MCl0aHJvdyBuZXcgRXJyb3IoIlRoZSAiK3MrInMgYXJyYXkgY291bnQgbXVzdCBiZSBhIG11bHRpcGxlIG9mICIrbik7cmV0dXJuIHIubGVuZ3RoL259LHQ9ZShnLlBvc2l0aW9uS2luZCx0aGlzLnBvc2l0aW9ucyksaT0ocyxyKT0+e2NvbnN0IG49ZShzLHIpO2lmKG4hPT10KXRocm93IG5ldyBFcnJvcigiVGhlICIrcysicyBlbGVtZW50IGNvdW50ICgiK24rIikgZG9lcyBub3QgbWF0Y2ggdGhlIHBvc2l0aW9ucyBjb3VudCAoIit0KyIpIil9O3RoaXMubm9ybWFscyYmaShnLk5vcm1hbEtpbmQsdGhpcy5ub3JtYWxzKSx0aGlzLnRhbmdlbnRzJiZpKGcuVGFuZ2VudEtpbmQsdGhpcy50YW5nZW50cyksdGhpcy51dnMmJmkoZy5VVktpbmQsdGhpcy51dnMpLHRoaXMudXZzMiYmaShnLlVWMktpbmQsdGhpcy51dnMyKSx0aGlzLnV2czMmJmkoZy5VVjNLaW5kLHRoaXMudXZzMyksdGhpcy51dnM0JiZpKGcuVVY0S2luZCx0aGlzLnV2czQpLHRoaXMudXZzNSYmaShnLlVWNUtpbmQsdGhpcy51dnM1KSx0aGlzLnV2czYmJmkoZy5VVjZLaW5kLHRoaXMudXZzNiksdGhpcy5jb2xvcnMmJmkoZy5Db2xvcktpbmQsdGhpcy5jb2xvcnMpLHRoaXMubWF0cmljZXNJbmRpY2VzJiZpKGcuTWF0cmljZXNJbmRpY2VzS2luZCx0aGlzLm1hdHJpY2VzSW5kaWNlcyksdGhpcy5tYXRyaWNlc1dlaWdodHMmJmkoZy5NYXRyaWNlc1dlaWdodHNLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzKSx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhJiZpKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEpLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEmJmkoZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSl9c2VyaWFsaXplKCl7Y29uc3QgZT17fTtyZXR1cm4gdGhpcy5wb3NpdGlvbnMmJihlLnBvc2l0aW9ucz10aGlzLnBvc2l0aW9ucyksdGhpcy5ub3JtYWxzJiYoZS5ub3JtYWxzPXRoaXMubm9ybWFscyksdGhpcy50YW5nZW50cyYmKGUudGFuZ2VudHM9dGhpcy50YW5nZW50cyksdGhpcy51dnMmJihlLnV2cz10aGlzLnV2cyksdGhpcy51dnMyJiYoZS51dnMyPXRoaXMudXZzMiksdGhpcy51dnMzJiYoZS51dnMzPXRoaXMudXZzMyksdGhpcy51dnM0JiYoZS51dnM0PXRoaXMudXZzNCksdGhpcy51dnM1JiYoZS51dnM1PXRoaXMudXZzNSksdGhpcy51dnM2JiYoZS51dnM2PXRoaXMudXZzNiksdGhpcy5jb2xvcnMmJihlLmNvbG9ycz10aGlzLmNvbG9ycyksdGhpcy5tYXRyaWNlc0luZGljZXMmJihlLm1hdHJpY2VzSW5kaWNlcz10aGlzLm1hdHJpY2VzSW5kaWNlcyxlLm1hdHJpY2VzSW5kaWNlcy5faXNFeHBhbmRlZD0hMCksdGhpcy5tYXRyaWNlc1dlaWdodHMmJihlLm1hdHJpY2VzV2VpZ2h0cz10aGlzLm1hdHJpY2VzV2VpZ2h0cyksdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSYmKGUubWF0cmljZXNJbmRpY2VzRXh0cmE9dGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSxlLm1hdHJpY2VzSW5kaWNlc0V4dHJhLl9pc0V4cGFuZGVkPSEwKSx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhJiYoZS5tYXRyaWNlc1dlaWdodHNFeHRyYT10aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhKSxlLmluZGljZXM9dGhpcy5pbmRpY2VzLGV9c3RhdGljIEV4dHJhY3RGcm9tTWVzaChlLHQsaSl7cmV0dXJuIGVlLl9FeHRyYWN0RnJvbShlLHQsaSl9c3RhdGljIEV4dHJhY3RGcm9tR2VvbWV0cnkoZSx0LGkpe3JldHVybiBlZS5fRXh0cmFjdEZyb20oZSx0LGkpfXN0YXRpYyBfRXh0cmFjdEZyb20oZSx0LGkpe2NvbnN0IHM9bmV3IGVlO3JldHVybiBlLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlBvc2l0aW9uS2luZCkmJihzLnBvc2l0aW9ucz1lLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCx0LGkpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQpJiYocy5ub3JtYWxzPWUuZ2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCx0LGkpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlRhbmdlbnRLaW5kKSYmKHMudGFuZ2VudHM9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5UYW5nZW50S2luZCx0LGkpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWS2luZCkmJihzLnV2cz1lLmdldFZlcnRpY2VzRGF0YShnLlVWS2luZCx0LGkpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWMktpbmQpJiYocy51dnMyPWUuZ2V0VmVydGljZXNEYXRhKGcuVVYyS2luZCx0LGkpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWM0tpbmQpJiYocy51dnMzPWUuZ2V0VmVydGljZXNEYXRhKGcuVVYzS2luZCx0LGkpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWNEtpbmQpJiYocy51dnM0PWUuZ2V0VmVydGljZXNEYXRhKGcuVVY0S2luZCx0LGkpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWNUtpbmQpJiYocy51dnM1PWUuZ2V0VmVydGljZXNEYXRhKGcuVVY1S2luZCx0LGkpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWNktpbmQpJiYocy51dnM2PWUuZ2V0VmVydGljZXNEYXRhKGcuVVY2S2luZCx0LGkpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChnLkNvbG9yS2luZCkmJihzLmNvbG9ycz1lLmdldFZlcnRpY2VzRGF0YShnLkNvbG9yS2luZCx0LGkpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk1hdHJpY2VzSW5kaWNlc0tpbmQpJiYocy5tYXRyaWNlc0luZGljZXM9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTWF0cmljZXNXZWlnaHRzS2luZCkmJihzLm1hdHJpY2VzV2VpZ2h0cz1lLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQsdCxpKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQpJiYocy5tYXRyaWNlc0luZGljZXNFeHRyYT1lLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCx0LGkpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCkmJihzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhPWUuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kLHQsaSkpLHMuaW5kaWNlcz1lLmdldEluZGljZXModCxpKSxzfXN0YXRpYyBDcmVhdGVSaWJib24oZSl7dGhyb3cgJCgicmliYm9uQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVCb3goZSl7dGhyb3cgJCgiYm94QnVpbGRlciIpfXN0YXRpYyBDcmVhdGVUaWxlZEJveChlKXt0aHJvdyAkKCJ0aWxlZEJveEJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlVGlsZWRQbGFuZShlKXt0aHJvdyAkKCJ0aWxlZFBsYW5lQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVTcGhlcmUoZSl7dGhyb3cgJCgic3BoZXJlQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVDeWxpbmRlcihlKXt0aHJvdyAkKCJjeWxpbmRlckJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlVG9ydXMoZSl7dGhyb3cgJCgidG9ydXNCdWlsZGVyIil9c3RhdGljIENyZWF0ZUxpbmVTeXN0ZW0oZSl7dGhyb3cgJCgibGluZXNCdWlsZGVyIil9c3RhdGljIENyZWF0ZURhc2hlZExpbmVzKGUpe3Rocm93ICQoImxpbmVzQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVHcm91bmQoZSl7dGhyb3cgJCgiZ3JvdW5kQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVUaWxlZEdyb3VuZChlKXt0aHJvdyAkKCJncm91bmRCdWlsZGVyIil9c3RhdGljIENyZWF0ZUdyb3VuZEZyb21IZWlnaHRNYXAoZSl7dGhyb3cgJCgiZ3JvdW5kQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVQbGFuZShlKXt0aHJvdyAkKCJwbGFuZUJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlRGlzYyhlKXt0aHJvdyAkKCJkaXNjQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVQb2x5Z29uKGUsdCxpLHMscixuLGEpe3Rocm93ICQoInBvbHlnb25CdWlsZGVyIil9c3RhdGljIENyZWF0ZUljb1NwaGVyZShlKXt0aHJvdyAkKCJpY29TcGhlcmVCdWlsZGVyIil9c3RhdGljIENyZWF0ZVBvbHloZWRyb24oZSl7dGhyb3cgJCgicG9seWhlZHJvbkJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlQ2Fwc3VsZShlPXtvcmllbnRhdGlvbjpwLlVwKCksc3ViZGl2aXNpb25zOjIsdGVzc2VsbGF0aW9uOjE2LGhlaWdodDoxLHJhZGl1czouMjUsY2FwU3ViZGl2aXNpb25zOjZ9KXt0aHJvdyAkKCJjYXBzdWxlQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVUb3J1c0tub3QoZSl7dGhyb3cgJCgidG9ydXNLbm90QnVpbGRlciIpfXN0YXRpYyBDb21wdXRlTm9ybWFscyhlLHQsaSxzKXtsZXQgcj0wLG49MCxhPTAsbz0wLGg9MCxsPTAsdT0wLGQ9MCxmPTAsXz0wLEU9MCxtPTAsdj0wLFM9MCx5PTAsQT0wLEM9MCxiPTAsTT0wLEw9MCxrPSExLHc9ITEsZGU9ITEsY2U9ITEsc2U9MSx0ZT0wLEZlPW51bGw7cyYmKGs9ISFzLmZhY2V0Tm9ybWFscyx3PSEhcy5mYWNldFBvc2l0aW9ucyxkZT0hIXMuZmFjZXRQYXJ0aXRpb25pbmcsc2U9cy51c2VSaWdodEhhbmRlZFN5c3RlbT09PSEwPy0xOjEsdGU9cy5yYXRpb3x8MCxjZT0hIXMuZGVwdGhTb3J0LEZlPXMuZGlzdGFuY2VUbyxjZSYmRmU9PT12b2lkIDAmJihGZT1wLlplcm8oKSkpO2xldCB3ZT0wLEhlPTAsS2U9MCxZZT0wO2ZvcihkZSYmcyYmcy5iYlNpemUmJih3ZT1zLnN1YkRpdi5YKnRlL3MuYmJTaXplLngsSGU9cy5zdWJEaXYuWSp0ZS9zLmJiU2l6ZS55LEtlPXMuc3ViRGl2LloqdGUvcy5iYlNpemUueixZZT1zLnN1YkRpdi5tYXgqcy5zdWJEaXYubWF4LHMuZmFjZXRQYXJ0aXRpb25pbmcubGVuZ3RoPTApLHI9MDtyPGUubGVuZ3RoO3IrKylpW3JdPTA7Y29uc3QgcHQ9dC5sZW5ndGgvM3wwO2ZvcihyPTA7cjxwdDtyKyspe2lmKG09dFtyKjNdKjMsdj1tKzEsUz1tKzIseT10W3IqMysxXSozLEE9eSsxLEM9eSsyLGI9dFtyKjMrMl0qMyxNPWIrMSxMPWIrMixuPWVbbV0tZVt5XSxhPWVbdl0tZVtBXSxvPWVbU10tZVtDXSxoPWVbYl0tZVt5XSxsPWVbTV0tZVtBXSx1PWVbTF0tZVtDXSxkPXNlKihhKnUtbypsKSxmPXNlKihvKmgtbip1KSxfPXNlKihuKmwtYSpoKSxFPU1hdGguc3FydChkKmQrZipmK18qXyksRT1FPT09MD8xOkUsZC89RSxmLz1FLF8vPUUsayYmcyYmKHMuZmFjZXROb3JtYWxzW3JdLng9ZCxzLmZhY2V0Tm9ybWFsc1tyXS55PWYscy5mYWNldE5vcm1hbHNbcl0uej1fKSx3JiZzJiYocy5mYWNldFBvc2l0aW9uc1tyXS54PShlW21dK2VbeV0rZVtiXSkvMyxzLmZhY2V0UG9zaXRpb25zW3JdLnk9KGVbdl0rZVtBXStlW01dKS8zLHMuZmFjZXRQb3NpdGlvbnNbcl0uej0oZVtTXStlW0NdK2VbTF0pLzMpLGRlJiZzKXtjb25zdCBodD1NYXRoLmZsb29yKChzLmZhY2V0UG9zaXRpb25zW3JdLngtcy5iSW5mby5taW5pbXVtLngqdGUpKndlKSx3dD1NYXRoLmZsb29yKChzLmZhY2V0UG9zaXRpb25zW3JdLnktcy5iSW5mby5taW5pbXVtLnkqdGUpKkhlKSxzaT1NYXRoLmZsb29yKChzLmZhY2V0UG9zaXRpb25zW3JdLnotcy5iSW5mby5taW5pbXVtLnoqdGUpKktlKSxkcz1NYXRoLmZsb29yKChlW21dLXMuYkluZm8ubWluaW11bS54KnRlKSp3ZSksZnM9TWF0aC5mbG9vcigoZVt2XS1zLmJJbmZvLm1pbmltdW0ueSp0ZSkqSGUpLF9zPU1hdGguZmxvb3IoKGVbU10tcy5iSW5mby5taW5pbXVtLnoqdGUpKktlKSxYcz1NYXRoLmZsb29yKChlW3ldLXMuYkluZm8ubWluaW11bS54KnRlKSp3ZSksSHM9TWF0aC5mbG9vcigoZVtBXS1zLmJJbmZvLm1pbmltdW0ueSp0ZSkqSGUpLEtzPU1hdGguZmxvb3IoKGVbQ10tcy5iSW5mby5taW5pbXVtLnoqdGUpKktlKSxZcz1NYXRoLmZsb29yKChlW2JdLXMuYkluZm8ubWluaW11bS54KnRlKSp3ZSksWnM9TWF0aC5mbG9vcigoZVtNXS1zLmJJbmZvLm1pbmltdW0ueSp0ZSkqSGUpLHFzPU1hdGguZmxvb3IoKGVbTF0tcy5iSW5mby5taW5pbXVtLnoqdGUpKktlKSxIdD1kcytzLnN1YkRpdi5tYXgqZnMrWWUqX3MsS3Q9WHMrcy5zdWJEaXYubWF4KkhzK1llKktzLFl0PVlzK3Muc3ViRGl2Lm1heCpacytZZSpxcyxadD1odCtzLnN1YkRpdi5tYXgqd3QrWWUqc2k7cy5mYWNldFBhcnRpdGlvbmluZ1tadF09cy5mYWNldFBhcnRpdGlvbmluZ1tadF0/cy5mYWNldFBhcnRpdGlvbmluZ1tadF06bmV3IEFycmF5LHMuZmFjZXRQYXJ0aXRpb25pbmdbSHRdPXMuZmFjZXRQYXJ0aXRpb25pbmdbSHRdP3MuZmFjZXRQYXJ0aXRpb25pbmdbSHRdOm5ldyBBcnJheSxzLmZhY2V0UGFydGl0aW9uaW5nW0t0XT1zLmZhY2V0UGFydGl0aW9uaW5nW0t0XT9zLmZhY2V0UGFydGl0aW9uaW5nW0t0XTpuZXcgQXJyYXkscy5mYWNldFBhcnRpdGlvbmluZ1tZdF09cy5mYWNldFBhcnRpdGlvbmluZ1tZdF0/cy5mYWNldFBhcnRpdGlvbmluZ1tZdF06bmV3IEFycmF5LHMuZmFjZXRQYXJ0aXRpb25pbmdbSHRdLnB1c2gociksS3QhPUh0JiZzLmZhY2V0UGFydGl0aW9uaW5nW0t0XS5wdXNoKHIpLFl0PT1LdHx8WXQ9PUh0fHxzLmZhY2V0UGFydGl0aW9uaW5nW1l0XS5wdXNoKHIpLFp0PT1IdHx8WnQ9PUt0fHxadD09WXR8fHMuZmFjZXRQYXJ0aXRpb25pbmdbWnRdLnB1c2gocil9aWYoY2UmJnMmJnMuZmFjZXRQb3NpdGlvbnMpe2NvbnN0IGh0PXMuZGVwdGhTb3J0ZWRGYWNldHNbcl07aHQuaW5kPXIqMyxodC5zcURpc3RhbmNlPXAuRGlzdGFuY2VTcXVhcmVkKHMuZmFjZXRQb3NpdGlvbnNbcl0sRmUpfWlbbV0rPWQsaVt2XSs9ZixpW1NdKz1fLGlbeV0rPWQsaVtBXSs9ZixpW0NdKz1fLGlbYl0rPWQsaVtNXSs9ZixpW0xdKz1ffWZvcihyPTA7cjxpLmxlbmd0aC8zO3IrKylkPWlbciozXSxmPWlbciozKzFdLF89aVtyKjMrMl0sRT1NYXRoLnNxcnQoZCpkK2YqZitfKl8pLEU9RT09PTA/MTpFLGQvPUUsZi89RSxfLz1FLGlbciozXT1kLGlbciozKzFdPWYsaVtyKjMrMl09X31zdGF0aWMgX0NvbXB1dGVTaWRlcyhlLHQsaSxzLHIsbixhKXtjb25zdCBvPWkubGVuZ3RoLGg9cy5sZW5ndGg7bGV0IGwsdTtzd2l0Y2goZT1lfHxlZS5ERUZBVUxUU0lERSxlKXtjYXNlIGVlLkZST05UU0lERTpicmVhaztjYXNlIGVlLkJBQ0tTSURFOmZvcihsPTA7bDxvO2wrPTMpe2NvbnN0IGQ9aVtsXTtpW2xdPWlbbCsyXSxpW2wrMl09ZH1mb3IodT0wO3U8aDt1Kyspc1t1XT0tc1t1XTticmVhaztjYXNlIGVlLkRPVUJMRVNJREU6e2NvbnN0IGQ9dC5sZW5ndGgsZj1kLzM7Zm9yKGxldCBtPTA7bTxkO20rKyl0W2QrbV09dFttXTtmb3IobD0wO2w8bztsKz0zKWlbbCtvXT1pW2wrMl0rZixpW2wrMStvXT1pW2wrMV0rZixpW2wrMitvXT1pW2xdK2Y7Zm9yKHU9MDt1PGg7dSsrKXNbaCt1XT0tc1t1XTtjb25zdCBfPXIubGVuZ3RoO2xldCBFPTA7Zm9yKEU9MDtFPF87RSsrKXJbRStfXT1yW0VdO2ZvcihuPW58fG5ldyBDZSgwLDAsMSwxKSxhPWF8fG5ldyBDZSgwLDAsMSwxKSxFPTAsbD0wO2w8Xy8yO2wrKylyW0VdPW4ueCsobi56LW4ueCkqcltFXSxyW0UrMV09bi55KyhuLnctbi55KSpyW0UrMV0scltFK19dPWEueCsoYS56LWEueCkqcltFK19dLHJbRStfKzFdPWEueSsoYS53LWEueSkqcltFK18rMV0sRSs9MjticmVha319fXN0YXRpYyBJbXBvcnRWZXJ0ZXhEYXRhKGUsdCl7Y29uc3QgaT1uZXcgZWUscz1lLnBvc2l0aW9ucztzJiZpLnNldChzLGcuUG9zaXRpb25LaW5kKTtjb25zdCByPWUubm9ybWFscztyJiZpLnNldChyLGcuTm9ybWFsS2luZCk7Y29uc3Qgbj1lLnRhbmdlbnRzO24mJmkuc2V0KG4sZy5UYW5nZW50S2luZCk7Y29uc3QgYT1lLnV2czthJiZpLnNldChhLGcuVVZLaW5kKTtjb25zdCBvPWUudXYycztvJiZpLnNldChvLGcuVVYyS2luZCk7Y29uc3QgaD1lLnV2M3M7aCYmaS5zZXQoaCxnLlVWM0tpbmQpO2NvbnN0IGw9ZS51djRzO2wmJmkuc2V0KGwsZy5VVjRLaW5kKTtjb25zdCB1PWUudXY1czt1JiZpLnNldCh1LGcuVVY1S2luZCk7Y29uc3QgZD1lLnV2NnM7ZCYmaS5zZXQoZCxnLlVWNktpbmQpO2NvbnN0IGY9ZS5jb2xvcnM7ZiYmaS5zZXQobWUuQ2hlY2tDb2xvcnM0KGYscy5sZW5ndGgvMyksZy5Db2xvcktpbmQpO2NvbnN0IF89ZS5tYXRyaWNlc0luZGljZXM7XyYmaS5zZXQoXyxnLk1hdHJpY2VzSW5kaWNlc0tpbmQpO2NvbnN0IEU9ZS5tYXRyaWNlc1dlaWdodHM7RSYmaS5zZXQoRSxnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpO2NvbnN0IG09ZS5pbmRpY2VzO20mJihpLmluZGljZXM9bSksdC5zZXRBbGxWZXJ0aWNlc0RhdGEoaSxlLnVwZGF0YWJsZSl9fWVlLkZST05UU0lERT0wLGVlLkJBQ0tTSURFPTEsZWUuRE9VQkxFU0lERT0yLGVlLkRFRkFVTFRTSURFPTAsVChbJHQuZmlsdGVyKCguLi5bY10pPT4hQXJyYXkuaXNBcnJheShjKSldLGVlLCJfVHJhbnNmb3JtVmVjdG9yM0Nvb3JkaW5hdGVzIixudWxsKSxUKFskdC5maWx0ZXIoKC4uLltjXSk9PiFBcnJheS5pc0FycmF5KGMpKV0sZWUsIl9UcmFuc2Zvcm1WZWN0b3IzTm9ybWFscyIsbnVsbCksVChbJHQuZmlsdGVyKCguLi5bY10pPT4hQXJyYXkuaXNBcnJheShjKSldLGVlLCJfVHJhbnNmb3JtVmVjdG9yNE5vcm1hbHMiLG51bGwpLFQoWyR0LmZpbHRlcigoLi4uW2NdKT0+IUFycmF5LmlzQXJyYXkoYykpXSxlZSwiX0ZsaXBGYWNlcyIsbnVsbCk7Y2xhc3MgRHN7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuYnU9ZSx0aGlzLmJ2PXQsdGhpcy5kaXN0YW5jZT1pLHRoaXMuZmFjZUlkPTAsdGhpcy5zdWJNZXNoSWQ9MH19Y2xhc3Mga3R7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMudmVjdG9ycz1CZS5CdWlsZEFycmF5KDgscC5aZXJvKSx0aGlzLmNlbnRlcj1wLlplcm8oKSx0aGlzLmNlbnRlcldvcmxkPXAuWmVybygpLHRoaXMuZXh0ZW5kU2l6ZT1wLlplcm8oKSx0aGlzLmV4dGVuZFNpemVXb3JsZD1wLlplcm8oKSx0aGlzLmRpcmVjdGlvbnM9QmUuQnVpbGRBcnJheSgzLHAuWmVybyksdGhpcy52ZWN0b3JzV29ybGQ9QmUuQnVpbGRBcnJheSg4LHAuWmVybyksdGhpcy5taW5pbXVtV29ybGQ9cC5aZXJvKCksdGhpcy5tYXhpbXVtV29ybGQ9cC5aZXJvKCksdGhpcy5taW5pbXVtPXAuWmVybygpLHRoaXMubWF4aW11bT1wLlplcm8oKSx0aGlzLl9kcmF3V3JhcHBlckZyb250PW51bGwsdGhpcy5fZHJhd1dyYXBwZXJCYWNrPW51bGwsdGhpcy5yZUNvbnN0cnVjdChlLHQsaSl9cmVDb25zdHJ1Y3QoZSx0LGkpe2NvbnN0IHM9ZS54LHI9ZS55LG49ZS56LGE9dC54LG89dC55LGg9dC56LGw9dGhpcy52ZWN0b3JzO3RoaXMubWluaW11bS5jb3B5RnJvbUZsb2F0cyhzLHIsbiksdGhpcy5tYXhpbXVtLmNvcHlGcm9tRmxvYXRzKGEsbyxoKSxsWzBdLmNvcHlGcm9tRmxvYXRzKHMscixuKSxsWzFdLmNvcHlGcm9tRmxvYXRzKGEsbyxoKSxsWzJdLmNvcHlGcm9tRmxvYXRzKGEscixuKSxsWzNdLmNvcHlGcm9tRmxvYXRzKHMsbyxuKSxsWzRdLmNvcHlGcm9tRmxvYXRzKHMscixoKSxsWzVdLmNvcHlGcm9tRmxvYXRzKGEsbyxuKSxsWzZdLmNvcHlGcm9tRmxvYXRzKHMsbyxoKSxsWzddLmNvcHlGcm9tRmxvYXRzKGEscixoKSx0LmFkZFRvUmVmKGUsdGhpcy5jZW50ZXIpLnNjYWxlSW5QbGFjZSguNSksdC5zdWJ0cmFjdFRvUmVmKGUsdGhpcy5leHRlbmRTaXplKS5zY2FsZUluUGxhY2UoLjUpLHRoaXMuX3dvcmxkTWF0cml4PWl8fHguSWRlbnRpdHlSZWFkT25seSx0aGlzLl91cGRhdGUodGhpcy5fd29ybGRNYXRyaXgpfXNjYWxlKGUpe2NvbnN0IHQ9a3QuX1RtcFZlY3RvcjMsaT10aGlzLm1heGltdW0uc3VidHJhY3RUb1JlZih0aGlzLm1pbmltdW0sdFswXSkscz1pLmxlbmd0aCgpO2kubm9ybWFsaXplRnJvbUxlbmd0aChzKTtjb25zdCByPXMqZSxuPWkuc2NhbGVJblBsYWNlKHIqLjUpLGE9dGhpcy5jZW50ZXIuc3VidHJhY3RUb1JlZihuLHRbMV0pLG89dGhpcy5jZW50ZXIuYWRkVG9SZWYobix0WzJdKTtyZXR1cm4gdGhpcy5yZUNvbnN0cnVjdChhLG8sdGhpcy5fd29ybGRNYXRyaXgpLHRoaXN9Z2V0V29ybGRNYXRyaXgoKXtyZXR1cm4gdGhpcy5fd29ybGRNYXRyaXh9X3VwZGF0ZShlKXtjb25zdCB0PXRoaXMubWluaW11bVdvcmxkLGk9dGhpcy5tYXhpbXVtV29ybGQscz10aGlzLmRpcmVjdGlvbnMscj10aGlzLnZlY3RvcnNXb3JsZCxuPXRoaXMudmVjdG9ycztpZihlLmlzSWRlbnRpdHkoKSl7dC5jb3B5RnJvbSh0aGlzLm1pbmltdW0pLGkuY29weUZyb20odGhpcy5tYXhpbXVtKTtmb3IobGV0IGE9MDthPDg7KythKXJbYV0uY29weUZyb20oblthXSk7dGhpcy5leHRlbmRTaXplV29ybGQuY29weUZyb20odGhpcy5leHRlbmRTaXplKSx0aGlzLmNlbnRlcldvcmxkLmNvcHlGcm9tKHRoaXMuY2VudGVyKX1lbHNle3Quc2V0QWxsKE51bWJlci5NQVhfVkFMVUUpLGkuc2V0QWxsKC1OdW1iZXIuTUFYX1ZBTFVFKTtmb3IobGV0IGE9MDthPDg7KythKXtjb25zdCBvPXJbYV07cC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKG5bYV0sZSxvKSx0Lm1pbmltaXplSW5QbGFjZShvKSxpLm1heGltaXplSW5QbGFjZShvKX1pLnN1YnRyYWN0VG9SZWYodCx0aGlzLmV4dGVuZFNpemVXb3JsZCkuc2NhbGVJblBsYWNlKC41KSxpLmFkZFRvUmVmKHQsdGhpcy5jZW50ZXJXb3JsZCkuc2NhbGVJblBsYWNlKC41KX1wLkZyb21BcnJheVRvUmVmKGUubSwwLHNbMF0pLHAuRnJvbUFycmF5VG9SZWYoZS5tLDQsc1sxXSkscC5Gcm9tQXJyYXlUb1JlZihlLm0sOCxzWzJdKSx0aGlzLl93b3JsZE1hdHJpeD1lfWlzSW5GcnVzdHVtKGUpe3JldHVybiBrdC5Jc0luRnJ1c3R1bSh0aGlzLnZlY3RvcnNXb3JsZCxlKX1pc0NvbXBsZXRlbHlJbkZydXN0dW0oZSl7cmV0dXJuIGt0LklzQ29tcGxldGVseUluRnJ1c3R1bSh0aGlzLnZlY3RvcnNXb3JsZCxlKX1pbnRlcnNlY3RzUG9pbnQoZSl7Y29uc3QgdD10aGlzLm1pbmltdW1Xb3JsZCxpPXRoaXMubWF4aW11bVdvcmxkLHM9dC54LHI9dC55LG49dC56LGE9aS54LG89aS55LGg9aS56LGw9ZS54LHU9ZS55LGQ9ZS56LGY9LXhlO3JldHVybiEoYS1sPGZ8fGY+bC1zfHxvLXU8Znx8Zj51LXJ8fGgtZDxmfHxmPmQtbil9aW50ZXJzZWN0c1NwaGVyZShlKXtyZXR1cm4ga3QuSW50ZXJzZWN0c1NwaGVyZSh0aGlzLm1pbmltdW1Xb3JsZCx0aGlzLm1heGltdW1Xb3JsZCxlLmNlbnRlcldvcmxkLGUucmFkaXVzV29ybGQpfWludGVyc2VjdHNNaW5NYXgoZSx0KXtjb25zdCBpPXRoaXMubWluaW11bVdvcmxkLHM9dGhpcy5tYXhpbXVtV29ybGQscj1pLngsbj1pLnksYT1pLnosbz1zLngsaD1zLnksbD1zLnosdT1lLngsZD1lLnksZj1lLnosXz10LngsRT10LnksbT10Lno7cmV0dXJuIShvPHV8fHI+X3x8aDxkfHxuPkV8fGw8Znx8YT5tKX1kaXNwb3NlKCl7dmFyIGUsdDsoZT10aGlzLl9kcmF3V3JhcHBlckZyb250KT09PW51bGx8fGU9PT12b2lkIDB8fGUuZGlzcG9zZSgpLCh0PXRoaXMuX2RyYXdXcmFwcGVyQmFjayk9PT1udWxsfHx0PT09dm9pZCAwfHx0LmRpc3Bvc2UoKX1zdGF0aWMgSW50ZXJzZWN0cyhlLHQpe3JldHVybiBlLmludGVyc2VjdHNNaW5NYXgodC5taW5pbXVtV29ybGQsdC5tYXhpbXVtV29ybGQpfXN0YXRpYyBJbnRlcnNlY3RzU3BoZXJlKGUsdCxpLHMpe2NvbnN0IHI9a3QuX1RtcFZlY3RvcjNbMF07cmV0dXJuIHAuQ2xhbXBUb1JlZihpLGUsdCxyKSxwLkRpc3RhbmNlU3F1YXJlZChpLHIpPD1zKnN9c3RhdGljIElzQ29tcGxldGVseUluRnJ1c3R1bShlLHQpe2ZvcihsZXQgaT0wO2k8NjsrK2kpe2NvbnN0IHM9dFtpXTtmb3IobGV0IHI9MDtyPDg7KytyKWlmKHMuZG90Q29vcmRpbmF0ZShlW3JdKTwwKXJldHVybiExfXJldHVybiEwfXN0YXRpYyBJc0luRnJ1c3R1bShlLHQpe2ZvcihsZXQgaT0wO2k8NjsrK2kpe2xldCBzPSEwO2NvbnN0IHI9dFtpXTtmb3IobGV0IG49MDtuPDg7KytuKWlmKHIuZG90Q29vcmRpbmF0ZShlW25dKT49MCl7cz0hMTticmVha31pZihzKXJldHVybiExfXJldHVybiEwfX1rdC5fVG1wVmVjdG9yMz1CZS5CdWlsZEFycmF5KDMscC5aZXJvKTtjbGFzcyBmaXtjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5jZW50ZXI9cC5aZXJvKCksdGhpcy5jZW50ZXJXb3JsZD1wLlplcm8oKSx0aGlzLm1pbmltdW09cC5aZXJvKCksdGhpcy5tYXhpbXVtPXAuWmVybygpLHRoaXMucmVDb25zdHJ1Y3QoZSx0LGkpfXJlQ29uc3RydWN0KGUsdCxpKXt0aGlzLm1pbmltdW0uY29weUZyb20oZSksdGhpcy5tYXhpbXVtLmNvcHlGcm9tKHQpO2NvbnN0IHM9cC5EaXN0YW5jZShlLHQpO3QuYWRkVG9SZWYoZSx0aGlzLmNlbnRlcikuc2NhbGVJblBsYWNlKC41KSx0aGlzLnJhZGl1cz1zKi41LHRoaXMuX3VwZGF0ZShpfHx4LklkZW50aXR5UmVhZE9ubHkpfXNjYWxlKGUpe2NvbnN0IHQ9dGhpcy5yYWRpdXMqZSxpPWZpLl9UbXBWZWN0b3IzLHM9aVswXS5zZXRBbGwodCkscj10aGlzLmNlbnRlci5zdWJ0cmFjdFRvUmVmKHMsaVsxXSksbj10aGlzLmNlbnRlci5hZGRUb1JlZihzLGlbMl0pO3JldHVybiB0aGlzLnJlQ29uc3RydWN0KHIsbix0aGlzLl93b3JsZE1hdHJpeCksdGhpc31nZXRXb3JsZE1hdHJpeCgpe3JldHVybiB0aGlzLl93b3JsZE1hdHJpeH1fdXBkYXRlKGUpe2lmKGUuaXNJZGVudGl0eSgpKXRoaXMuY2VudGVyV29ybGQuY29weUZyb20odGhpcy5jZW50ZXIpLHRoaXMucmFkaXVzV29ybGQ9dGhpcy5yYWRpdXM7ZWxzZXtwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodGhpcy5jZW50ZXIsZSx0aGlzLmNlbnRlcldvcmxkKTtjb25zdCB0PWZpLl9UbXBWZWN0b3IzWzBdO3AuVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKDEsMSwxLGUsdCksdGhpcy5yYWRpdXNXb3JsZD1NYXRoLm1heChNYXRoLmFicyh0LngpLE1hdGguYWJzKHQueSksTWF0aC5hYnModC56KSkqdGhpcy5yYWRpdXN9fWlzSW5GcnVzdHVtKGUpe2NvbnN0IHQ9dGhpcy5jZW50ZXJXb3JsZCxpPXRoaXMucmFkaXVzV29ybGQ7Zm9yKGxldCBzPTA7czw2O3MrKylpZihlW3NdLmRvdENvb3JkaW5hdGUodCk8PS1pKXJldHVybiExO3JldHVybiEwfWlzQ2VudGVySW5GcnVzdHVtKGUpe2NvbnN0IHQ9dGhpcy5jZW50ZXJXb3JsZDtmb3IobGV0IGk9MDtpPDY7aSsrKWlmKGVbaV0uZG90Q29vcmRpbmF0ZSh0KTwwKXJldHVybiExO3JldHVybiEwfWludGVyc2VjdHNQb2ludChlKXtjb25zdCB0PXAuRGlzdGFuY2VTcXVhcmVkKHRoaXMuY2VudGVyV29ybGQsZSk7cmV0dXJuISh0aGlzLnJhZGl1c1dvcmxkKnRoaXMucmFkaXVzV29ybGQ8dCl9c3RhdGljIEludGVyc2VjdHMoZSx0KXtjb25zdCBpPXAuRGlzdGFuY2VTcXVhcmVkKGUuY2VudGVyV29ybGQsdC5jZW50ZXJXb3JsZCkscz1lLnJhZGl1c1dvcmxkK3QucmFkaXVzV29ybGQ7cmV0dXJuIShzKnM8aSl9c3RhdGljIENyZWF0ZUZyb21DZW50ZXJBbmRSYWRpdXMoZSx0LGkpe3RoaXMuX1RtcFZlY3RvcjNbMF0uY29weUZyb20oZSksdGhpcy5fVG1wVmVjdG9yM1sxXS5jb3B5RnJvbUZsb2F0cygwLDAsdCksdGhpcy5fVG1wVmVjdG9yM1syXS5jb3B5RnJvbShlKSx0aGlzLl9UbXBWZWN0b3IzWzBdLmFkZEluUGxhY2UodGhpcy5fVG1wVmVjdG9yM1sxXSksdGhpcy5fVG1wVmVjdG9yM1syXS5zdWJ0cmFjdEluUGxhY2UodGhpcy5fVG1wVmVjdG9yM1sxXSk7Y29uc3Qgcz1uZXcgZmkodGhpcy5fVG1wVmVjdG9yM1swXSx0aGlzLl9UbXBWZWN0b3IzWzJdKTtyZXR1cm4gaT9zLl93b3JsZE1hdHJpeD1pOnMuX3dvcmxkTWF0cml4PXguSWRlbnRpdHkoKSxzfX1maS5fVG1wVmVjdG9yMz1CZS5CdWlsZEFycmF5KDMscC5aZXJvKTtjb25zdCBGcz17bWluOjAsbWF4OjB9LHdzPXttaW46MCxtYXg6MH0sUnI9KGMsZSx0KT0+e2NvbnN0IGk9cC5Eb3QoZS5jZW50ZXJXb3JsZCxjKSxzPU1hdGguYWJzKHAuRG90KGUuZGlyZWN0aW9uc1swXSxjKSkqZS5leHRlbmRTaXplLngscj1NYXRoLmFicyhwLkRvdChlLmRpcmVjdGlvbnNbMV0sYykpKmUuZXh0ZW5kU2l6ZS55LG49TWF0aC5hYnMocC5Eb3QoZS5kaXJlY3Rpb25zWzJdLGMpKSplLmV4dGVuZFNpemUueixhPXMrcituO3QubWluPWktYSx0Lm1heD1pK2F9LHJ0PShjLGUsdCk9PihScihjLGUsRnMpLFJyKGMsdCx3cyksIShGcy5taW4+d3MubWF4fHx3cy5taW4+RnMubWF4KSk7Y2xhc3MgZHR7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuX2lzTG9ja2VkPSExLHRoaXMuYm91bmRpbmdCb3g9bmV3IGt0KGUsdCxpKSx0aGlzLmJvdW5kaW5nU3BoZXJlPW5ldyBmaShlLHQsaSl9cmVDb25zdHJ1Y3QoZSx0LGkpe3RoaXMuYm91bmRpbmdCb3gucmVDb25zdHJ1Y3QoZSx0LGkpLHRoaXMuYm91bmRpbmdTcGhlcmUucmVDb25zdHJ1Y3QoZSx0LGkpfWdldCBtaW5pbXVtKCl7cmV0dXJuIHRoaXMuYm91bmRpbmdCb3gubWluaW11bX1nZXQgbWF4aW11bSgpe3JldHVybiB0aGlzLmJvdW5kaW5nQm94Lm1heGltdW19Z2V0IGlzTG9ja2VkKCl7cmV0dXJuIHRoaXMuX2lzTG9ja2VkfXNldCBpc0xvY2tlZChlKXt0aGlzLl9pc0xvY2tlZD1lfXVwZGF0ZShlKXt0aGlzLl9pc0xvY2tlZHx8KHRoaXMuYm91bmRpbmdCb3guX3VwZGF0ZShlKSx0aGlzLmJvdW5kaW5nU3BoZXJlLl91cGRhdGUoZSkpfWNlbnRlck9uKGUsdCl7Y29uc3QgaT1kdC5fVG1wVmVjdG9yM1swXS5jb3B5RnJvbShlKS5zdWJ0cmFjdEluUGxhY2UodCkscz1kdC5fVG1wVmVjdG9yM1sxXS5jb3B5RnJvbShlKS5hZGRJblBsYWNlKHQpO3JldHVybiB0aGlzLmJvdW5kaW5nQm94LnJlQ29uc3RydWN0KGkscyx0aGlzLmJvdW5kaW5nQm94LmdldFdvcmxkTWF0cml4KCkpLHRoaXMuYm91bmRpbmdTcGhlcmUucmVDb25zdHJ1Y3QoaSxzLHRoaXMuYm91bmRpbmdCb3guZ2V0V29ybGRNYXRyaXgoKSksdGhpc31lbmNhcHN1bGF0ZShlKXtjb25zdCB0PXAuTWluaW1pemUodGhpcy5taW5pbXVtLGUpLGk9cC5NYXhpbWl6ZSh0aGlzLm1heGltdW0sZSk7cmV0dXJuIHRoaXMucmVDb25zdHJ1Y3QodCxpLHRoaXMuYm91bmRpbmdCb3guZ2V0V29ybGRNYXRyaXgoKSksdGhpc31lbmNhcHN1bGF0ZUJvdW5kaW5nSW5mbyhlKXtyZXR1cm4gdGhpcy5lbmNhcHN1bGF0ZShlLmJvdW5kaW5nQm94LmNlbnRlcldvcmxkLnN1YnRyYWN0KGUuYm91bmRpbmdCb3guZXh0ZW5kU2l6ZVdvcmxkKSksdGhpcy5lbmNhcHN1bGF0ZShlLmJvdW5kaW5nQm94LmNlbnRlcldvcmxkLmFkZChlLmJvdW5kaW5nQm94LmV4dGVuZFNpemVXb3JsZCkpLHRoaXN9c2NhbGUoZSl7cmV0dXJuIHRoaXMuYm91bmRpbmdCb3guc2NhbGUoZSksdGhpcy5ib3VuZGluZ1NwaGVyZS5zY2FsZShlKSx0aGlzfWlzSW5GcnVzdHVtKGUsdD0wKXtyZXR1cm4odD09PTJ8fHQ9PT0zKSYmdGhpcy5ib3VuZGluZ1NwaGVyZS5pc0NlbnRlckluRnJ1c3R1bShlKT8hMDp0aGlzLmJvdW5kaW5nU3BoZXJlLmlzSW5GcnVzdHVtKGUpP3Q9PT0xfHx0PT09Mz8hMDp0aGlzLmJvdW5kaW5nQm94LmlzSW5GcnVzdHVtKGUpOiExfWdldCBkaWFnb25hbExlbmd0aCgpe2NvbnN0IGU9dGhpcy5ib3VuZGluZ0JveDtyZXR1cm4gZS5tYXhpbXVtV29ybGQuc3VidHJhY3RUb1JlZihlLm1pbmltdW1Xb3JsZCxkdC5fVG1wVmVjdG9yM1swXSkubGVuZ3RoKCl9aXNDb21wbGV0ZWx5SW5GcnVzdHVtKGUpe3JldHVybiB0aGlzLmJvdW5kaW5nQm94LmlzQ29tcGxldGVseUluRnJ1c3R1bShlKX1fY2hlY2tDb2xsaXNpb24oZSl7cmV0dXJuIGUuX2NhbkRvQ29sbGlzaW9uKHRoaXMuYm91bmRpbmdTcGhlcmUuY2VudGVyV29ybGQsdGhpcy5ib3VuZGluZ1NwaGVyZS5yYWRpdXNXb3JsZCx0aGlzLmJvdW5kaW5nQm94Lm1pbmltdW1Xb3JsZCx0aGlzLmJvdW5kaW5nQm94Lm1heGltdW1Xb3JsZCl9aW50ZXJzZWN0c1BvaW50KGUpe3JldHVybiEoIXRoaXMuYm91bmRpbmdTcGhlcmUuY2VudGVyV29ybGR8fCF0aGlzLmJvdW5kaW5nU3BoZXJlLmludGVyc2VjdHNQb2ludChlKXx8IXRoaXMuYm91bmRpbmdCb3guaW50ZXJzZWN0c1BvaW50KGUpKX1pbnRlcnNlY3RzKGUsdCl7aWYoIWZpLkludGVyc2VjdHModGhpcy5ib3VuZGluZ1NwaGVyZSxlLmJvdW5kaW5nU3BoZXJlKXx8IWt0LkludGVyc2VjdHModGhpcy5ib3VuZGluZ0JveCxlLmJvdW5kaW5nQm94KSlyZXR1cm4hMTtpZighdClyZXR1cm4hMDtjb25zdCBpPXRoaXMuYm91bmRpbmdCb3gscz1lLmJvdW5kaW5nQm94O3JldHVybiEoIXJ0KGkuZGlyZWN0aW9uc1swXSxpLHMpfHwhcnQoaS5kaXJlY3Rpb25zWzFdLGkscyl8fCFydChpLmRpcmVjdGlvbnNbMl0saSxzKXx8IXJ0KHMuZGlyZWN0aW9uc1swXSxpLHMpfHwhcnQocy5kaXJlY3Rpb25zWzFdLGkscyl8fCFydChzLmRpcmVjdGlvbnNbMl0saSxzKXx8IXJ0KHAuQ3Jvc3MoaS5kaXJlY3Rpb25zWzBdLHMuZGlyZWN0aW9uc1swXSksaSxzKXx8IXJ0KHAuQ3Jvc3MoaS5kaXJlY3Rpb25zWzBdLHMuZGlyZWN0aW9uc1sxXSksaSxzKXx8IXJ0KHAuQ3Jvc3MoaS5kaXJlY3Rpb25zWzBdLHMuZGlyZWN0aW9uc1syXSksaSxzKXx8IXJ0KHAuQ3Jvc3MoaS5kaXJlY3Rpb25zWzFdLHMuZGlyZWN0aW9uc1swXSksaSxzKXx8IXJ0KHAuQ3Jvc3MoaS5kaXJlY3Rpb25zWzFdLHMuZGlyZWN0aW9uc1sxXSksaSxzKXx8IXJ0KHAuQ3Jvc3MoaS5kaXJlY3Rpb25zWzFdLHMuZGlyZWN0aW9uc1syXSksaSxzKXx8IXJ0KHAuQ3Jvc3MoaS5kaXJlY3Rpb25zWzJdLHMuZGlyZWN0aW9uc1swXSksaSxzKXx8IXJ0KHAuQ3Jvc3MoaS5kaXJlY3Rpb25zWzJdLHMuZGlyZWN0aW9uc1sxXSksaSxzKXx8IXJ0KHAuQ3Jvc3MoaS5kaXJlY3Rpb25zWzJdLHMuZGlyZWN0aW9uc1syXSksaSxzKSl9fWR0Ll9UbXBWZWN0b3IzPUJlLkJ1aWxkQXJyYXkoMixwLlplcm8pO2NsYXNzIGlze3N0YXRpYyBleHRyYWN0TWluQW5kTWF4SW5kZXhlZChlLHQsaSxzLHIsbil7Zm9yKGxldCBhPWk7YTxpK3M7YSsrKXtjb25zdCBvPXRbYV0qMyxoPWVbb10sbD1lW28rMV0sdT1lW28rMl07ci5taW5pbWl6ZUluUGxhY2VGcm9tRmxvYXRzKGgsbCx1KSxuLm1heGltaXplSW5QbGFjZUZyb21GbG9hdHMoaCxsLHUpfX1zdGF0aWMgZXh0cmFjdE1pbkFuZE1heChlLHQsaSxzLHIsbil7Zm9yKGxldCBhPXQsbz10KnM7YTx0K2k7YSsrLG8rPXMpe2NvbnN0IGg9ZVtvXSxsPWVbbysxXSx1PWVbbysyXTtyLm1pbmltaXplSW5QbGFjZUZyb21GbG9hdHMoaCxsLHUpLG4ubWF4aW1pemVJblBsYWNlRnJvbUZsb2F0cyhoLGwsdSl9fX1UKFskdC5maWx0ZXIoKC4uLltjLGVdKT0+IUFycmF5LmlzQXJyYXkoYykmJiFBcnJheS5pc0FycmF5KGUpKV0saXMsImV4dHJhY3RNaW5BbmRNYXhJbmRleGVkIixudWxsKSxUKFskdC5maWx0ZXIoKC4uLltjXSk9PiFBcnJheS5pc0FycmF5KGMpKV0saXMsImV4dHJhY3RNaW5BbmRNYXgiLG51bGwpO2Z1bmN0aW9uIEJuKGMsZSx0LGkscz1udWxsKXtjb25zdCByPW5ldyBwKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSxuPW5ldyBwKC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFKTtyZXR1cm4gaXMuZXh0cmFjdE1pbkFuZE1heEluZGV4ZWQoYyxlLHQsaSxyLG4pLHMmJihyLngtPXIueCpzLngrcy55LHIueS09ci55KnMueCtzLnksci56LT1yLnoqcy54K3MueSxuLngrPW4ueCpzLngrcy55LG4ueSs9bi55KnMueCtzLnksbi56Kz1uLnoqcy54K3MueSkse21pbmltdW06cixtYXhpbXVtOm59fWZ1bmN0aW9uIHlyKGMsZSx0LGk9bnVsbCxzKXtjb25zdCByPW5ldyBwKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSxuPW5ldyBwKC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFKTtyZXR1cm4gc3x8KHM9MyksaXMuZXh0cmFjdE1pbkFuZE1heChjLGUsdCxzLHIsbiksaSYmKHIueC09ci54KmkueCtpLnksci55LT1yLnkqaS54K2kueSxyLnotPXIueippLngraS55LG4ueCs9bi54KmkueCtpLnksbi55Kz1uLnkqaS54K2kueSxuLnorPW4ueippLngraS55KSx7bWluaW11bTpyLG1heGltdW06bn19Y2xhc3MgdnR7Y29uc3RydWN0b3IoZSx0LGkscyxyLG4sYSxvPSEwLGg9ITApe3RoaXMubWF0ZXJpYWxJbmRleD1lLHRoaXMudmVydGljZXNTdGFydD10LHRoaXMudmVydGljZXNDb3VudD1pLHRoaXMuaW5kZXhTdGFydD1zLHRoaXMuaW5kZXhDb3VudD1yLHRoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlPW51bGwsdGhpcy5fbGluZXNJbmRleENvdW50PTAsdGhpcy5fbGluZXNJbmRleEJ1ZmZlcj1udWxsLHRoaXMuX2xhc3RDb2xsaWRlcldvcmxkVmVydGljZXM9bnVsbCx0aGlzLl9sYXN0Q29sbGlkZXJUcmFuc2Zvcm1NYXRyaXg9bnVsbCx0aGlzLl93YXNEaXNwYXRjaGVkPSExLHRoaXMuX3JlbmRlcklkPTAsdGhpcy5fYWxwaGFJbmRleD0wLHRoaXMuX2Rpc3RhbmNlVG9DYW1lcmE9MCx0aGlzLl9jdXJyZW50TWF0ZXJpYWw9bnVsbCx0aGlzLl9tZXNoPW4sdGhpcy5fcmVuZGVyaW5nTWVzaD1hfHxuLGgmJm4uc3ViTWVzaGVzLnB1c2godGhpcyksdGhpcy5fZW5naW5lPXRoaXMuX21lc2guZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKSx0aGlzLnJlc2V0RHJhd0NhY2hlKCksdGhpcy5fdHJpYW5nbGVQbGFuZXM9W10sdGhpcy5faWQ9bi5zdWJNZXNoZXMubGVuZ3RoLTEsbyYmKHRoaXMucmVmcmVzaEJvdW5kaW5nSW5mbygpLG4uY29tcHV0ZVdvcmxkTWF0cml4KCEwKSl9Z2V0IG1hdGVyaWFsRGVmaW5lcygpe3ZhciBlO3JldHVybiB0aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZT90aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZS5kZWZpbmVzOihlPXRoaXMuX2dldERyYXdXcmFwcGVyKCkpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5kZWZpbmVzfXNldCBtYXRlcmlhbERlZmluZXMoZSl7dmFyIHQ7Y29uc3QgaT0odD10aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6dGhpcy5fZ2V0RHJhd1dyYXBwZXIodm9pZCAwLCEwKTtpLmRlZmluZXM9ZX1fZ2V0RHJhd1dyYXBwZXIoZSx0PSExKXtlPWU/P3RoaXMuX2VuZ2luZS5jdXJyZW50UmVuZGVyUGFzc0lkO2xldCBpPXRoaXMuX2RyYXdXcmFwcGVyc1tlXTtyZXR1cm4haSYmdCYmKHRoaXMuX2RyYXdXcmFwcGVyc1tlXT1pPW5ldyBtaSh0aGlzLl9tZXNoLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkpKSxpfV9yZW1vdmVEcmF3V3JhcHBlcihlLHQ9ITApe3ZhciBpO3QmJigoaT10aGlzLl9kcmF3V3JhcHBlcnNbZV0pPT09bnVsbHx8aT09PXZvaWQgMHx8aS5kaXNwb3NlKCkpLHRoaXMuX2RyYXdXcmFwcGVyc1tlXT12b2lkIDB9Z2V0IGVmZmVjdCgpe3ZhciBlLHQ7cmV0dXJuIHRoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlP3RoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlLmVmZmVjdDoodD0oZT10aGlzLl9nZXREcmF3V3JhcHBlcigpKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuZWZmZWN0KSE9PW51bGwmJnQhPT12b2lkIDA/dDpudWxsfWdldCBfZHJhd1dyYXBwZXIoKXt2YXIgZTtyZXR1cm4oZT10aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZSkhPT1udWxsJiZlIT09dm9pZCAwP2U6dGhpcy5fZ2V0RHJhd1dyYXBwZXIodm9pZCAwLCEwKX1nZXQgX2RyYXdXcmFwcGVyT3ZlcnJpZGUoKXtyZXR1cm4gdGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGV9X3NldE1haW5EcmF3V3JhcHBlck92ZXJyaWRlKGUpe3RoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlPWV9c2V0RWZmZWN0KGUsdD1udWxsLGkscz0hMCl7Y29uc3Qgcj10aGlzLl9kcmF3V3JhcHBlcjtyLnNldEVmZmVjdChlLHQscyksaSE9PXZvaWQgMCYmKHIubWF0ZXJpYWxDb250ZXh0PWkpLGV8fChyLmRlZmluZXM9bnVsbCxyLm1hdGVyaWFsQ29udGV4dD12b2lkIDApfXJlc2V0RHJhd0NhY2hlKGUpe2lmKHRoaXMuX2RyYXdXcmFwcGVycylpZihlIT09dm9pZCAwKXt0aGlzLl9yZW1vdmVEcmF3V3JhcHBlcihlKTtyZXR1cm59ZWxzZSBmb3IoY29uc3QgdCBvZiB0aGlzLl9kcmF3V3JhcHBlcnMpdD09bnVsbHx8dC5kaXNwb3NlKCk7dGhpcy5fZHJhd1dyYXBwZXJzPVtdfXN0YXRpYyBBZGRUb01lc2goZSx0LGkscyxyLG4sYSxvPSEwKXtyZXR1cm4gbmV3IHZ0KGUsdCxpLHMscixuLGEsbyl9Z2V0IElzR2xvYmFsKCl7cmV0dXJuIHRoaXMudmVydGljZXNTdGFydD09PTAmJnRoaXMudmVydGljZXNDb3VudD09PXRoaXMuX21lc2guZ2V0VG90YWxWZXJ0aWNlcygpJiZ0aGlzLmluZGV4U3RhcnQ9PT0wJiZ0aGlzLmluZGV4Q291bnQ9PT10aGlzLl9tZXNoLmdldFRvdGFsSW5kaWNlcygpfWdldEJvdW5kaW5nSW5mbygpe3JldHVybiB0aGlzLklzR2xvYmFsP3RoaXMuX21lc2guZ2V0Qm91bmRpbmdJbmZvKCk6dGhpcy5fYm91bmRpbmdJbmZvfXNldEJvdW5kaW5nSW5mbyhlKXtyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvPWUsdGhpc31nZXRNZXNoKCl7cmV0dXJuIHRoaXMuX21lc2h9Z2V0UmVuZGVyaW5nTWVzaCgpe3JldHVybiB0aGlzLl9yZW5kZXJpbmdNZXNofWdldFJlcGxhY2VtZW50TWVzaCgpe3JldHVybiB0aGlzLl9tZXNoLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoP3RoaXMuX21lc2g6bnVsbH1nZXRFZmZlY3RpdmVNZXNoKCl7Y29uc3QgZT10aGlzLl9tZXNoLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoP3RoaXMuX21lc2g6bnVsbDtyZXR1cm4gZXx8dGhpcy5fcmVuZGVyaW5nTWVzaH1nZXRNYXRlcmlhbChlPSEwKXt2YXIgdDtjb25zdCBpPSh0PXRoaXMuX3JlbmRlcmluZ01lc2guZ2V0TWF0ZXJpYWxGb3JSZW5kZXJQYXNzKHRoaXMuX2VuZ2luZS5jdXJyZW50UmVuZGVyUGFzc0lkKSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6dGhpcy5fcmVuZGVyaW5nTWVzaC5tYXRlcmlhbDtpZihpKXtpZih0aGlzLl9pc011bHRpTWF0ZXJpYWwoaSkpe2NvbnN0IHM9aS5nZXRTdWJNYXRlcmlhbCh0aGlzLm1hdGVyaWFsSW5kZXgpO3JldHVybiB0aGlzLl9jdXJyZW50TWF0ZXJpYWwhPT1zJiYodGhpcy5fY3VycmVudE1hdGVyaWFsPXMsdGhpcy5yZXNldERyYXdDYWNoZSgpKSxzfX1lbHNlIHJldHVybiBlP3RoaXMuX21lc2guZ2V0U2NlbmUoKS5kZWZhdWx0TWF0ZXJpYWw6bnVsbDtyZXR1cm4gaX1faXNNdWx0aU1hdGVyaWFsKGUpe3JldHVybiBlLmdldFN1Yk1hdGVyaWFsIT09dm9pZCAwfXJlZnJlc2hCb3VuZGluZ0luZm8oZT1udWxsKXtpZih0aGlzLl9sYXN0Q29sbGlkZXJXb3JsZFZlcnRpY2VzPW51bGwsdGhpcy5Jc0dsb2JhbHx8IXRoaXMuX3JlbmRlcmluZ01lc2h8fCF0aGlzLl9yZW5kZXJpbmdNZXNoLmdlb21ldHJ5KXJldHVybiB0aGlzO2lmKGV8fChlPXRoaXMuX3JlbmRlcmluZ01lc2guZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kKSksIWUpcmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbz10aGlzLl9tZXNoLmdldEJvdW5kaW5nSW5mbygpLHRoaXM7Y29uc3QgdD10aGlzLl9yZW5kZXJpbmdNZXNoLmdldEluZGljZXMoKTtsZXQgaTtpZih0aGlzLmluZGV4U3RhcnQ9PT0wJiZ0aGlzLmluZGV4Q291bnQ9PT10Lmxlbmd0aCl7Y29uc3Qgcz10aGlzLl9yZW5kZXJpbmdNZXNoLmdldEJvdW5kaW5nSW5mbygpO2k9e21pbmltdW06cy5taW5pbXVtLmNsb25lKCksbWF4aW11bTpzLm1heGltdW0uY2xvbmUoKX19ZWxzZSBpPUJuKGUsdCx0aGlzLmluZGV4U3RhcnQsdGhpcy5pbmRleENvdW50LHRoaXMuX3JlbmRlcmluZ01lc2guZ2VvbWV0cnkuYm91bmRpbmdCaWFzKTtyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvP3RoaXMuX2JvdW5kaW5nSW5mby5yZUNvbnN0cnVjdChpLm1pbmltdW0saS5tYXhpbXVtKTp0aGlzLl9ib3VuZGluZ0luZm89bmV3IGR0KGkubWluaW11bSxpLm1heGltdW0pLHRoaXN9X2NoZWNrQ29sbGlzaW9uKGUpe3JldHVybiB0aGlzLmdldEJvdW5kaW5nSW5mbygpLl9jaGVja0NvbGxpc2lvbihlKX11cGRhdGVCb3VuZGluZ0luZm8oZSl7bGV0IHQ9dGhpcy5nZXRCb3VuZGluZ0luZm8oKTtyZXR1cm4gdHx8KHRoaXMucmVmcmVzaEJvdW5kaW5nSW5mbygpLHQ9dGhpcy5nZXRCb3VuZGluZ0luZm8oKSksdCYmdC51cGRhdGUoZSksdGhpc31pc0luRnJ1c3R1bShlKXtjb25zdCB0PXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7cmV0dXJuIHQ/dC5pc0luRnJ1c3R1bShlLHRoaXMuX21lc2guY3VsbGluZ1N0cmF0ZWd5KTohMX1pc0NvbXBsZXRlbHlJbkZydXN0dW0oZSl7Y29uc3QgdD10aGlzLmdldEJvdW5kaW5nSW5mbygpO3JldHVybiB0P3QuaXNDb21wbGV0ZWx5SW5GcnVzdHVtKGUpOiExfXJlbmRlcihlKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nTWVzaC5yZW5kZXIodGhpcyxlLHRoaXMuX21lc2guX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2g/dGhpcy5fbWVzaDp2b2lkIDApLHRoaXN9X2dldExpbmVzSW5kZXhCdWZmZXIoZSx0KXtpZighdGhpcy5fbGluZXNJbmRleEJ1ZmZlcil7Y29uc3QgaT1bXTtmb3IobGV0IHM9dGhpcy5pbmRleFN0YXJ0O3M8dGhpcy5pbmRleFN0YXJ0K3RoaXMuaW5kZXhDb3VudDtzKz0zKWkucHVzaChlW3NdLGVbcysxXSxlW3MrMV0sZVtzKzJdLGVbcysyXSxlW3NdKTt0aGlzLl9saW5lc0luZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIoaSksdGhpcy5fbGluZXNJbmRleENvdW50PWkubGVuZ3RofXJldHVybiB0aGlzLl9saW5lc0luZGV4QnVmZmVyfWNhbkludGVyc2VjdHMoZSl7Y29uc3QgdD10aGlzLmdldEJvdW5kaW5nSW5mbygpO3JldHVybiB0P2UuaW50ZXJzZWN0c0JveCh0LmJvdW5kaW5nQm94KTohMX1pbnRlcnNlY3RzKGUsdCxpLHMscil7Y29uc3Qgbj10aGlzLmdldE1hdGVyaWFsKCk7aWYoIW4pcmV0dXJuIG51bGw7bGV0IGE9MyxvPSExO3N3aXRjaChuLmZpbGxNb2RlKXtjYXNlIDM6Y2FzZSA1OmNhc2UgNjpjYXNlIDg6cmV0dXJuIG51bGw7Y2FzZSA3OmE9MSxvPSEwO2JyZWFrfXJldHVybiBuLmZpbGxNb2RlPT09ND9pLmxlbmd0aD90aGlzLl9pbnRlcnNlY3RMaW5lcyhlLHQsaSx0aGlzLl9tZXNoLmludGVyc2VjdGlvblRocmVzaG9sZCxzKTp0aGlzLl9pbnRlcnNlY3RVbkluZGV4ZWRMaW5lcyhlLHQsaSx0aGlzLl9tZXNoLmludGVyc2VjdGlvblRocmVzaG9sZCxzKTohaS5sZW5ndGgmJnRoaXMuX21lc2guX3VuSW5kZXhlZD90aGlzLl9pbnRlcnNlY3RVbkluZGV4ZWRUcmlhbmdsZXMoZSx0LGkscyxyKTp0aGlzLl9pbnRlcnNlY3RUcmlhbmdsZXMoZSx0LGksYSxvLHMscil9X2ludGVyc2VjdExpbmVzKGUsdCxpLHMscil7bGV0IG49bnVsbDtmb3IobGV0IGE9dGhpcy5pbmRleFN0YXJ0O2E8dGhpcy5pbmRleFN0YXJ0K3RoaXMuaW5kZXhDb3VudDthKz0yKXtjb25zdCBvPXRbaVthXV0saD10W2lbYSsxXV0sbD1lLmludGVyc2VjdGlvblNlZ21lbnQobyxoLHMpO2lmKCEobDwwKSYmKHJ8fCFufHxsPG4uZGlzdGFuY2UpJiYobj1uZXcgRHMobnVsbCxudWxsLGwpLG4uZmFjZUlkPWEvMixyKSlicmVha31yZXR1cm4gbn1faW50ZXJzZWN0VW5JbmRleGVkTGluZXMoZSx0LGkscyxyKXtsZXQgbj1udWxsO2ZvcihsZXQgYT10aGlzLnZlcnRpY2VzU3RhcnQ7YTx0aGlzLnZlcnRpY2VzU3RhcnQrdGhpcy52ZXJ0aWNlc0NvdW50O2ErPTIpe2NvbnN0IG89dFthXSxoPXRbYSsxXSxsPWUuaW50ZXJzZWN0aW9uU2VnbWVudChvLGgscyk7aWYoIShsPDApJiYocnx8IW58fGw8bi5kaXN0YW5jZSkmJihuPW5ldyBEcyhudWxsLG51bGwsbCksbi5mYWNlSWQ9YS8yLHIpKWJyZWFrfXJldHVybiBufV9pbnRlcnNlY3RUcmlhbmdsZXMoZSx0LGkscyxyLG4sYSl7bGV0IG89bnVsbCxoPS0xO2ZvcihsZXQgbD10aGlzLmluZGV4U3RhcnQ7bDx0aGlzLmluZGV4U3RhcnQrdGhpcy5pbmRleENvdW50LSgzLXMpO2wrPXMpe2grKztjb25zdCB1PWlbbF0sZD1pW2wrMV0sZj1pW2wrMl07aWYociYmZj09PTQyOTQ5NjcyOTUpe2wrPTI7Y29udGludWV9Y29uc3QgXz10W3VdLEU9dFtkXSxtPXRbZl07aWYoIV98fCFFfHwhbXx8YSYmIWEoXyxFLG0sZSx1LGQsZikpY29udGludWU7Y29uc3Qgdj1lLmludGVyc2VjdHNUcmlhbmdsZShfLEUsbSk7aWYodil7aWYodi5kaXN0YW5jZTwwKWNvbnRpbnVlO2lmKChufHwhb3x8di5kaXN0YW5jZTxvLmRpc3RhbmNlKSYmKG89dixvLmZhY2VJZD1oLG4pKWJyZWFrfX1yZXR1cm4gb31faW50ZXJzZWN0VW5JbmRleGVkVHJpYW5nbGVzKGUsdCxpLHMscil7bGV0IG49bnVsbDtmb3IobGV0IGE9dGhpcy52ZXJ0aWNlc1N0YXJ0O2E8dGhpcy52ZXJ0aWNlc1N0YXJ0K3RoaXMudmVydGljZXNDb3VudDthKz0zKXtjb25zdCBvPXRbYV0saD10W2ErMV0sbD10W2ErMl07aWYociYmIXIobyxoLGwsZSwtMSwtMSwtMSkpY29udGludWU7Y29uc3QgdT1lLmludGVyc2VjdHNUcmlhbmdsZShvLGgsbCk7aWYodSl7aWYodS5kaXN0YW5jZTwwKWNvbnRpbnVlO2lmKChzfHwhbnx8dS5kaXN0YW5jZTxuLmRpc3RhbmNlKSYmKG49dSxuLmZhY2VJZD1hLzMscykpYnJlYWt9fXJldHVybiBufV9yZWJ1aWxkKCl7dGhpcy5fbGluZXNJbmRleEJ1ZmZlciYmKHRoaXMuX2xpbmVzSW5kZXhCdWZmZXI9bnVsbCl9Y2xvbmUoZSx0KXtjb25zdCBpPW5ldyB2dCh0aGlzLm1hdGVyaWFsSW5kZXgsdGhpcy52ZXJ0aWNlc1N0YXJ0LHRoaXMudmVydGljZXNDb3VudCx0aGlzLmluZGV4U3RhcnQsdGhpcy5pbmRleENvdW50LGUsdCwhMSk7aWYoIXRoaXMuSXNHbG9iYWwpe2NvbnN0IHM9dGhpcy5nZXRCb3VuZGluZ0luZm8oKTtpZighcylyZXR1cm4gaTtpLl9ib3VuZGluZ0luZm89bmV3IGR0KHMubWluaW11bSxzLm1heGltdW0pfXJldHVybiBpfWRpc3Bvc2UoKXt0aGlzLl9saW5lc0luZGV4QnVmZmVyJiYodGhpcy5fbWVzaC5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLl9yZWxlYXNlQnVmZmVyKHRoaXMuX2xpbmVzSW5kZXhCdWZmZXIpLHRoaXMuX2xpbmVzSW5kZXhCdWZmZXI9bnVsbCk7Y29uc3QgZT10aGlzLl9tZXNoLnN1Yk1lc2hlcy5pbmRleE9mKHRoaXMpO3RoaXMuX21lc2guc3ViTWVzaGVzLnNwbGljZShlLDEpLHRoaXMucmVzZXREcmF3Q2FjaGUoKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iU3ViTWVzaCJ9c3RhdGljIENyZWF0ZUZyb21JbmRpY2VzKGUsdCxpLHMscixuPSEwKXtsZXQgYT1OdW1iZXIuTUFYX1ZBTFVFLG89LU51bWJlci5NQVhfVkFMVUU7Y29uc3QgbD0ocnx8cykuZ2V0SW5kaWNlcygpO2ZvcihsZXQgdT10O3U8dCtpO3UrKyl7Y29uc3QgZD1sW3VdO2Q8YSYmKGE9ZCksZD5vJiYobz1kKX1yZXR1cm4gbmV3IHZ0KGUsYSxvLWErMSx0LGkscyxyLG4pfX1jbGFzcyBPZXtzdGF0aWMgZ2V0IEZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsKCl7cmV0dXJuIE9lLl9Gb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbH1zdGF0aWMgc2V0IEZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsKGUpe09lLl9Gb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbD1lfXN0YXRpYyBnZXQgU2hvd0xvYWRpbmdTY3JlZW4oKXtyZXR1cm4gT2UuX1Nob3dMb2FkaW5nU2NyZWVufXN0YXRpYyBzZXQgU2hvd0xvYWRpbmdTY3JlZW4oZSl7T2UuX1Nob3dMb2FkaW5nU2NyZWVuPWV9c3RhdGljIGdldCBsb2dnaW5nTGV2ZWwoKXtyZXR1cm4gT2UuX0xvZ2dpbmdMZXZlbH1zdGF0aWMgc2V0IGxvZ2dpbmdMZXZlbChlKXtPZS5fTG9nZ2luZ0xldmVsPWV9c3RhdGljIGdldCBDbGVhbkJvbmVNYXRyaXhXZWlnaHRzKCl7cmV0dXJuIE9lLl9DbGVhbkJvbmVNYXRyaXhXZWlnaHRzfXN0YXRpYyBzZXQgQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cyhlKXtPZS5fQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cz1lfX1PZS5fRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWw9ITEsT2UuX1Nob3dMb2FkaW5nU2NyZWVuPSEwLE9lLl9DbGVhbkJvbmVNYXRyaXhXZWlnaHRzPSExLE9lLl9Mb2dnaW5nTGV2ZWw9MDtjbGFzcyBmdHt9ZnQuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVj0hMTtjbGFzcyBhdHtjb25zdHJ1Y3RvcihlLHQsaSxzPSExLHI9bnVsbCl7dGhpcy5kZWxheUxvYWRTdGF0ZT0wLHRoaXMuX3RvdGFsVmVydGljZXM9MCx0aGlzLl9pc0Rpc3Bvc2VkPSExLHRoaXMuX2luZGV4QnVmZmVySXNVcGRhdGFibGU9ITEsdGhpcy5fcG9zaXRpb25zQ2FjaGU9W10sdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGwsdGhpcy51c2VCb3VuZGluZ0luZm9Gcm9tR2VvbWV0cnk9ITEsdGhpcy5fc2NlbmU9dHx8ZmUuTGFzdENyZWF0ZWRTY2VuZSx0aGlzLl9zY2VuZSYmKHRoaXMuaWQ9ZSx0aGlzLnVuaXF1ZUlkPXRoaXMuX3NjZW5lLmdldFVuaXF1ZUlkKCksdGhpcy5fZW5naW5lPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLHRoaXMuX21lc2hlcz1bXSx0aGlzLl92ZXJ0ZXhCdWZmZXJzPXt9LHRoaXMuX2luZGljZXM9W10sdGhpcy5fdXBkYXRhYmxlPXMsaT90aGlzLnNldEFsbFZlcnRpY2VzRGF0YShpLHMpOnRoaXMuX3RvdGFsVmVydGljZXM9MCx0aGlzLl9lbmdpbmUuZ2V0Q2FwcygpLnZlcnRleEFycmF5T2JqZWN0JiYodGhpcy5fdmVydGV4QXJyYXlPYmplY3RzPXt9KSxyJiYodGhpcy5hcHBseVRvTWVzaChyKSxyLmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpKX1nZXQgYm91bmRpbmdCaWFzKCl7cmV0dXJuIHRoaXMuX2JvdW5kaW5nQmlhc31zZXQgYm91bmRpbmdCaWFzKGUpe3RoaXMuX2JvdW5kaW5nQmlhcz90aGlzLl9ib3VuZGluZ0JpYXMuY29weUZyb20oZSk6dGhpcy5fYm91bmRpbmdCaWFzPWUuY2xvbmUoKSx0aGlzLl91cGRhdGVCb3VuZGluZ0luZm8oITAsbnVsbCl9c3RhdGljIENyZWF0ZUdlb21ldHJ5Rm9yTWVzaChlKXtjb25zdCB0PW5ldyBhdChhdC5SYW5kb21JZCgpLGUuZ2V0U2NlbmUoKSk7cmV0dXJuIHQuYXBwbHlUb01lc2goZSksdH1nZXQgbWVzaGVzKCl7cmV0dXJuIHRoaXMuX21lc2hlc31nZXQgZXh0ZW5kKCl7cmV0dXJuIHRoaXMuX2V4dGVuZH1nZXRTY2VuZSgpe3JldHVybiB0aGlzLl9zY2VuZX1nZXRFbmdpbmUoKXtyZXR1cm4gdGhpcy5fZW5naW5lfWlzUmVhZHkoKXtyZXR1cm4gdGhpcy5kZWxheUxvYWRTdGF0ZT09PTF8fHRoaXMuZGVsYXlMb2FkU3RhdGU9PT0wfWdldCBkb05vdFNlcmlhbGl6ZSgpe2ZvcihsZXQgZT0wO2U8dGhpcy5fbWVzaGVzLmxlbmd0aDtlKyspaWYoIXRoaXMuX21lc2hlc1tlXS5kb05vdFNlcmlhbGl6ZSlyZXR1cm4hMTtyZXR1cm4hMH1fcmVidWlsZCgpe3RoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyYmKHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cz17fSksdGhpcy5fbWVzaGVzLmxlbmd0aCE9PTAmJnRoaXMuX2luZGljZXMmJih0aGlzLl9pbmRleEJ1ZmZlcj10aGlzLl9lbmdpbmUuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5faW5kaWNlcyx0aGlzLl91cGRhdGFibGUpKTtmb3IoY29uc3QgZSBpbiB0aGlzLl92ZXJ0ZXhCdWZmZXJzKXRoaXMuX3ZlcnRleEJ1ZmZlcnNbZV0uX3JlYnVpbGQoKX1zZXRBbGxWZXJ0aWNlc0RhdGEoZSx0KXtlLmFwcGx5VG9HZW9tZXRyeSh0aGlzLHQpLHRoaXMuX25vdGlmeVVwZGF0ZSgpfXNldFZlcnRpY2VzRGF0YShlLHQsaT0hMSxzKXtpJiZBcnJheS5pc0FycmF5KHQpJiYodD1uZXcgRmxvYXQzMkFycmF5KHQpKTtjb25zdCByPW5ldyBnKHRoaXMuX2VuZ2luZSx0LGUsaSx0aGlzLl9tZXNoZXMubGVuZ3RoPT09MCxzKTt0aGlzLnNldFZlcnRpY2VzQnVmZmVyKHIpfXJlbW92ZVZlcnRpY2VzRGF0YShlKXt0aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdJiYodGhpcy5fdmVydGV4QnVmZmVyc1tlXS5kaXNwb3NlKCksZGVsZXRlIHRoaXMuX3ZlcnRleEJ1ZmZlcnNbZV0pLHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyYmdGhpcy5fZGlzcG9zZVZlcnRleEFycmF5T2JqZWN0cygpfXNldFZlcnRpY2VzQnVmZmVyKGUsdD1udWxsLGk9ITApe2NvbnN0IHM9ZS5nZXRLaW5kKCk7dGhpcy5fdmVydGV4QnVmZmVyc1tzXSYmaSYmdGhpcy5fdmVydGV4QnVmZmVyc1tzXS5kaXNwb3NlKCksZS5fYnVmZmVyJiZlLl9idWZmZXIuX2luY3JlYXNlUmVmZXJlbmNlcygpLHRoaXMuX3ZlcnRleEJ1ZmZlcnNbc109ZTtjb25zdCByPXRoaXMuX21lc2hlcyxuPXIubGVuZ3RoO2lmKHM9PT1nLlBvc2l0aW9uS2luZCl7Y29uc3QgYT1lLmdldERhdGEoKTt0IT1udWxsP3RoaXMuX3RvdGFsVmVydGljZXM9dDphIT1udWxsJiYodGhpcy5fdG90YWxWZXJ0aWNlcz1hLmxlbmd0aC8oZS50eXBlPT09Zy5CWVRFP2UuYnl0ZVN0cmlkZTplLmJ5dGVTdHJpZGUvNCkpLHRoaXMuX3VwZGF0ZUV4dGVuZChhKSx0aGlzLl9yZXNldFBvaW50c0FycmF5Q2FjaGUoKTtmb3IobGV0IG89MDtvPG47bysrKXtjb25zdCBoPXJbb107aC5idWlsZEJvdW5kaW5nSW5mbyh0aGlzLl9leHRlbmQubWluaW11bSx0aGlzLl9leHRlbmQubWF4aW11bSksaC5fY3JlYXRlR2xvYmFsU3ViTWVzaChoLmlzVW5JbmRleGVkKSxoLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksaC5zeW5jaHJvbml6ZUluc3RhbmNlcygpfX10aGlzLl9ub3RpZnlVcGRhdGUocyl9dXBkYXRlVmVydGljZXNEYXRhRGlyZWN0bHkoZSx0LGkscz0hMSl7Y29uc3Qgcj10aGlzLmdldFZlcnRleEJ1ZmZlcihlKTtyJiYoci51cGRhdGVEaXJlY3RseSh0LGkscyksdGhpcy5fbm90aWZ5VXBkYXRlKGUpKX11cGRhdGVWZXJ0aWNlc0RhdGEoZSx0LGk9ITEpe2NvbnN0IHM9dGhpcy5nZXRWZXJ0ZXhCdWZmZXIoZSk7cyYmKHMudXBkYXRlKHQpLGU9PT1nLlBvc2l0aW9uS2luZCYmdGhpcy5fdXBkYXRlQm91bmRpbmdJbmZvKGksdCksdGhpcy5fbm90aWZ5VXBkYXRlKGUpKX1fdXBkYXRlQm91bmRpbmdJbmZvKGUsdCl7aWYoZSYmdGhpcy5fdXBkYXRlRXh0ZW5kKHQpLHRoaXMuX3Jlc2V0UG9pbnRzQXJyYXlDYWNoZSgpLGUpe2NvbnN0IGk9dGhpcy5fbWVzaGVzO2Zvcihjb25zdCBzIG9mIGkpe3MuaGFzQm91bmRpbmdJbmZvP3MuZ2V0Qm91bmRpbmdJbmZvKCkucmVDb25zdHJ1Y3QodGhpcy5fZXh0ZW5kLm1pbmltdW0sdGhpcy5fZXh0ZW5kLm1heGltdW0pOnMuYnVpbGRCb3VuZGluZ0luZm8odGhpcy5fZXh0ZW5kLm1pbmltdW0sdGhpcy5fZXh0ZW5kLm1heGltdW0pO2NvbnN0IHI9cy5zdWJNZXNoZXM7Zm9yKGNvbnN0IG4gb2YgciluLnJlZnJlc2hCb3VuZGluZ0luZm8oKX19fV9iaW5kKGUsdCxpLHMpe2lmKCFlKXJldHVybjt0PT09dm9pZCAwJiYodD10aGlzLl9pbmRleEJ1ZmZlcik7Y29uc3Qgcj10aGlzLmdldFZlcnRleEJ1ZmZlcnMoKTtpZighcilyZXR1cm47aWYodCE9dGhpcy5faW5kZXhCdWZmZXJ8fCF0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMmJiFzKXt0aGlzLl9lbmdpbmUuYmluZEJ1ZmZlcnMocix0LGUsaSk7cmV0dXJufWNvbnN0IG49c3x8dGhpcy5fdmVydGV4QXJyYXlPYmplY3RzO25bZS5rZXldfHwobltlLmtleV09dGhpcy5fZW5naW5lLnJlY29yZFZlcnRleEFycmF5T2JqZWN0KHIsdCxlLGkpKSx0aGlzLl9lbmdpbmUuYmluZFZlcnRleEFycmF5T2JqZWN0KG5bZS5rZXldLHQpfWdldFRvdGFsVmVydGljZXMoKXtyZXR1cm4gdGhpcy5pc1JlYWR5KCk/dGhpcy5fdG90YWxWZXJ0aWNlczowfWdldFZlcnRpY2VzRGF0YShlLHQsaSl7Y29uc3Qgcz10aGlzLmdldFZlcnRleEJ1ZmZlcihlKTtyZXR1cm4gcz9zLmdldEZsb2F0RGF0YSh0aGlzLl90b3RhbFZlcnRpY2VzLGl8fHQmJnRoaXMuX21lc2hlcy5sZW5ndGghPT0xKTpudWxsfWlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGUpe2NvbnN0IHQ9dGhpcy5fdmVydGV4QnVmZmVyc1tlXTtyZXR1cm4gdD90LmlzVXBkYXRhYmxlKCk6ITF9Z2V0VmVydGV4QnVmZmVyKGUpe3JldHVybiB0aGlzLmlzUmVhZHkoKT90aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdOm51bGx9Z2V0VmVydGV4QnVmZmVycygpe3JldHVybiB0aGlzLmlzUmVhZHkoKT90aGlzLl92ZXJ0ZXhCdWZmZXJzOm51bGx9aXNWZXJ0aWNlc0RhdGFQcmVzZW50KGUpe3JldHVybiB0aGlzLl92ZXJ0ZXhCdWZmZXJzP3RoaXMuX3ZlcnRleEJ1ZmZlcnNbZV0hPT12b2lkIDA6dGhpcy5fZGVsYXlJbmZvP3RoaXMuX2RlbGF5SW5mby5pbmRleE9mKGUpIT09LTE6ITF9Z2V0VmVydGljZXNEYXRhS2luZHMoKXtjb25zdCBlPVtdO2xldCB0O2lmKCF0aGlzLl92ZXJ0ZXhCdWZmZXJzJiZ0aGlzLl9kZWxheUluZm8pZm9yKHQgaW4gdGhpcy5fZGVsYXlJbmZvKWUucHVzaCh0KTtlbHNlIGZvcih0IGluIHRoaXMuX3ZlcnRleEJ1ZmZlcnMpZS5wdXNoKHQpO3JldHVybiBlfXVwZGF0ZUluZGljZXMoZSx0LGk9ITEpe2lmKHRoaXMuX2luZGV4QnVmZmVyKWlmKCF0aGlzLl9pbmRleEJ1ZmZlcklzVXBkYXRhYmxlKXRoaXMuc2V0SW5kaWNlcyhlLG51bGwsITApO2Vsc2V7Y29uc3Qgcz1lLmxlbmd0aCE9PXRoaXMuX2luZGljZXMubGVuZ3RoO2lmKGl8fCh0aGlzLl9pbmRpY2VzPWUuc2xpY2UoKSksdGhpcy5fZW5naW5lLnVwZGF0ZUR5bmFtaWNJbmRleEJ1ZmZlcih0aGlzLl9pbmRleEJ1ZmZlcixlLHQpLHMpZm9yKGNvbnN0IHIgb2YgdGhpcy5fbWVzaGVzKXIuX2NyZWF0ZUdsb2JhbFN1Yk1lc2goITApfX1zZXRJbmRpY2VzKGUsdD1udWxsLGk9ITEpe3RoaXMuX2luZGV4QnVmZmVyJiZ0aGlzLl9lbmdpbmUuX3JlbGVhc2VCdWZmZXIodGhpcy5faW5kZXhCdWZmZXIpLHRoaXMuX2luZGljZXM9ZSx0aGlzLl9pbmRleEJ1ZmZlcklzVXBkYXRhYmxlPWksdGhpcy5fbWVzaGVzLmxlbmd0aCE9PTAmJnRoaXMuX2luZGljZXMmJih0aGlzLl9pbmRleEJ1ZmZlcj10aGlzLl9lbmdpbmUuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5faW5kaWNlcyxpKSksdCE9bnVsbCYmKHRoaXMuX3RvdGFsVmVydGljZXM9dCk7Zm9yKGNvbnN0IHMgb2YgdGhpcy5fbWVzaGVzKXMuX2NyZWF0ZUdsb2JhbFN1Yk1lc2goITApLHMuc3luY2hyb25pemVJbnN0YW5jZXMoKTt0aGlzLl9ub3RpZnlVcGRhdGUoKX1nZXRUb3RhbEluZGljZXMoKXtyZXR1cm4gdGhpcy5pc1JlYWR5KCk/dGhpcy5faW5kaWNlcy5sZW5ndGg6MH1nZXRJbmRpY2VzKGUsdCl7aWYoIXRoaXMuaXNSZWFkeSgpKXJldHVybiBudWxsO2NvbnN0IGk9dGhpcy5faW5kaWNlcztyZXR1cm4hdCYmKCFlfHx0aGlzLl9tZXNoZXMubGVuZ3RoPT09MSk/aTppLnNsaWNlKCl9Z2V0SW5kZXhCdWZmZXIoKXtyZXR1cm4gdGhpcy5pc1JlYWR5KCk/dGhpcy5faW5kZXhCdWZmZXI6bnVsbH1fcmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KGU9bnVsbCl7IWV8fCF0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHN8fHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0c1tlLmtleV0mJih0aGlzLl9lbmdpbmUucmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0c1tlLmtleV0pLGRlbGV0ZSB0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHNbZS5rZXldKX1yZWxlYXNlRm9yTWVzaChlLHQpe2NvbnN0IGk9dGhpcy5fbWVzaGVzLHM9aS5pbmRleE9mKGUpO3MhPT0tMSYmKGkuc3BsaWNlKHMsMSksdGhpcy5fdmVydGV4QXJyYXlPYmplY3RzJiZlLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpLGUuX2dlb21ldHJ5PW51bGwsaS5sZW5ndGg9PT0wJiZ0JiZ0aGlzLmRpc3Bvc2UoKSl9YXBwbHlUb01lc2goZSl7aWYoZS5fZ2VvbWV0cnk9PT10aGlzKXJldHVybjtjb25zdCB0PWUuX2dlb21ldHJ5O3QmJnQucmVsZWFzZUZvck1lc2goZSksdGhpcy5fdmVydGV4QXJyYXlPYmplY3RzJiZlLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpO2NvbnN0IGk9dGhpcy5fbWVzaGVzO2UuX2dlb21ldHJ5PXRoaXMsZS5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9zaXRpb25zPW51bGwsdGhpcy5fc2NlbmUucHVzaEdlb21ldHJ5KHRoaXMpLGkucHVzaChlKSx0aGlzLmlzUmVhZHkoKT90aGlzLl9hcHBseVRvTWVzaChlKTp0aGlzLl9ib3VuZGluZ0luZm8mJmUuc2V0Qm91bmRpbmdJbmZvKHRoaXMuX2JvdW5kaW5nSW5mbyl9X3VwZGF0ZUV4dGVuZChlPW51bGwpe2lmKHRoaXMudXNlQm91bmRpbmdJbmZvRnJvbUdlb21ldHJ5JiZ0aGlzLl9ib3VuZGluZ0luZm8pdGhpcy5fZXh0ZW5kPXttaW5pbXVtOnRoaXMuX2JvdW5kaW5nSW5mby5taW5pbXVtLmNsb25lKCksbWF4aW11bTp0aGlzLl9ib3VuZGluZ0luZm8ubWF4aW11bS5jbG9uZSgpfTtlbHNle2lmKCFlJiYoZT10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCksIWUpKXJldHVybjt0aGlzLl9leHRlbmQ9eXIoZSwwLHRoaXMuX3RvdGFsVmVydGljZXMsdGhpcy5ib3VuZGluZ0JpYXMsMyl9fV9hcHBseVRvTWVzaChlKXtjb25zdCB0PXRoaXMuX21lc2hlcy5sZW5ndGg7Zm9yKGNvbnN0IGkgaW4gdGhpcy5fdmVydGV4QnVmZmVycyl0PT09MSYmdGhpcy5fdmVydGV4QnVmZmVyc1tpXS5jcmVhdGUoKSxpPT09Zy5Qb3NpdGlvbktpbmQmJih0aGlzLl9leHRlbmR8fHRoaXMuX3VwZGF0ZUV4dGVuZCgpLGUuYnVpbGRCb3VuZGluZ0luZm8odGhpcy5fZXh0ZW5kLm1pbmltdW0sdGhpcy5fZXh0ZW5kLm1heGltdW0pLGUuX2NyZWF0ZUdsb2JhbFN1Yk1lc2goZS5pc1VuSW5kZXhlZCksZS5fdXBkYXRlQm91bmRpbmdJbmZvKCkpO3Q9PT0xJiZ0aGlzLl9pbmRpY2VzJiZ0aGlzLl9pbmRpY2VzLmxlbmd0aD4wJiYodGhpcy5faW5kZXhCdWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuX2luZGljZXMsdGhpcy5fdXBkYXRhYmxlKSksZS5fc3luY0dlb21ldHJ5V2l0aE1vcnBoVGFyZ2V0TWFuYWdlcigpLGUuc3luY2hyb25pemVJbnN0YW5jZXMoKX1fbm90aWZ5VXBkYXRlKGUpe3RoaXMub25HZW9tZXRyeVVwZGF0ZWQmJnRoaXMub25HZW9tZXRyeVVwZGF0ZWQodGhpcyxlKSx0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMmJnRoaXMuX2Rpc3Bvc2VWZXJ0ZXhBcnJheU9iamVjdHMoKTtmb3IoY29uc3QgdCBvZiB0aGlzLl9tZXNoZXMpdC5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCl9bG9hZChlLHQpe2lmKHRoaXMuZGVsYXlMb2FkU3RhdGUhPT0yKXtpZih0aGlzLmlzUmVhZHkoKSl7dCYmdCgpO3JldHVybn10aGlzLmRlbGF5TG9hZFN0YXRlPTIsdGhpcy5fcXVldWVMb2FkKGUsdCl9fV9xdWV1ZUxvYWQoZSx0KXt0aGlzLmRlbGF5TG9hZGluZ0ZpbGUmJihlLmFkZFBlbmRpbmdEYXRhKHRoaXMpLGUuX2xvYWRGaWxlKHRoaXMuZGVsYXlMb2FkaW5nRmlsZSxpPT57aWYoIXRoaXMuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uKXJldHVybjt0aGlzLl9kZWxheUxvYWRpbmdGdW5jdGlvbihKU09OLnBhcnNlKGkpLHRoaXMpLHRoaXMuZGVsYXlMb2FkU3RhdGU9MSx0aGlzLl9kZWxheUluZm89W10sZS5yZW1vdmVQZW5kaW5nRGF0YSh0aGlzKTtjb25zdCBzPXRoaXMuX21lc2hlcyxyPXMubGVuZ3RoO2ZvcihsZXQgbj0wO248cjtuKyspdGhpcy5fYXBwbHlUb01lc2goc1tuXSk7dCYmdCgpfSx2b2lkIDAsITApKX10b0xlZnRIYW5kZWQoKXtjb25zdCBlPXRoaXMuZ2V0SW5kaWNlcyghMSk7aWYoZSE9bnVsbCYmZS5sZW5ndGg+MCl7Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKz0zKXtjb25zdCByPWVbcyswXTtlW3MrMF09ZVtzKzJdLGVbcysyXT1yfXRoaXMuc2V0SW5kaWNlcyhlKX1jb25zdCB0PXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kLCExKTtpZih0IT1udWxsJiZ0Lmxlbmd0aD4wKXtmb3IobGV0IHM9MDtzPHQubGVuZ3RoO3MrPTMpdFtzKzJdPS10W3MrMl07dGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQsdCwhMSl9Y29uc3QgaT10aGlzLmdldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsITEpO2lmKGkhPW51bGwmJmkubGVuZ3RoPjApe2ZvcihsZXQgcz0wO3M8aS5sZW5ndGg7cys9MylpW3MrMl09LWlbcysyXTt0aGlzLnNldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsaSwhMSl9fV9yZXNldFBvaW50c0FycmF5Q2FjaGUoKXt0aGlzLl9wb3NpdGlvbnM9bnVsbH1fZ2VuZXJhdGVQb2ludHNBcnJheSgpe2lmKHRoaXMuX3Bvc2l0aW9ucylyZXR1cm4hMDtjb25zdCBlPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kKTtpZighZXx8ZS5sZW5ndGg9PT0wKXJldHVybiExO2ZvcihsZXQgdD10aGlzLl9wb3NpdGlvbnNDYWNoZS5sZW5ndGgqMyxpPXRoaXMuX3Bvc2l0aW9uc0NhY2hlLmxlbmd0aDt0PGUubGVuZ3RoO3QrPTMsKytpKXRoaXMuX3Bvc2l0aW9uc0NhY2hlW2ldPXAuRnJvbUFycmF5KGUsdCk7Zm9yKGxldCB0PTAsaT0wO3Q8ZS5sZW5ndGg7dCs9MywrK2kpdGhpcy5fcG9zaXRpb25zQ2FjaGVbaV0uc2V0KGVbMCt0XSxlWzErdF0sZVsyK3RdKTtyZXR1cm4gdGhpcy5fcG9zaXRpb25zQ2FjaGUubGVuZ3RoPWUubGVuZ3RoLzMsdGhpcy5fcG9zaXRpb25zPXRoaXMuX3Bvc2l0aW9uc0NhY2hlLCEwfWlzRGlzcG9zZWQoKXtyZXR1cm4gdGhpcy5faXNEaXNwb3NlZH1fZGlzcG9zZVZlcnRleEFycmF5T2JqZWN0cygpe2lmKHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyl7Zm9yKGNvbnN0IGkgaW4gdGhpcy5fdmVydGV4QXJyYXlPYmplY3RzKXRoaXMuX2VuZ2luZS5yZWxlYXNlVmVydGV4QXJyYXlPYmplY3QodGhpcy5fdmVydGV4QXJyYXlPYmplY3RzW2ldKTt0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHM9e307Y29uc3QgZT10aGlzLl9tZXNoZXMsdD1lLmxlbmd0aDtmb3IobGV0IGk9MDtpPHQ7aSsrKWVbaV0uX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0KCl9fWRpc3Bvc2UoKXtjb25zdCBlPXRoaXMuX21lc2hlcyx0PWUubGVuZ3RoO2xldCBpO2ZvcihpPTA7aTx0O2krKyl0aGlzLnJlbGVhc2VGb3JNZXNoKGVbaV0pO3RoaXMuX21lc2hlcy5sZW5ndGg9MCx0aGlzLl9kaXNwb3NlVmVydGV4QXJyYXlPYmplY3RzKCk7Zm9yKGNvbnN0IHMgaW4gdGhpcy5fdmVydGV4QnVmZmVycyl0aGlzLl92ZXJ0ZXhCdWZmZXJzW3NdLmRpc3Bvc2UoKTtpZih0aGlzLl92ZXJ0ZXhCdWZmZXJzPXt9LHRoaXMuX3RvdGFsVmVydGljZXM9MCx0aGlzLl9pbmRleEJ1ZmZlciYmdGhpcy5fZW5naW5lLl9yZWxlYXNlQnVmZmVyKHRoaXMuX2luZGV4QnVmZmVyKSx0aGlzLl9pbmRleEJ1ZmZlcj1udWxsLHRoaXMuX2luZGljZXM9W10sdGhpcy5kZWxheUxvYWRTdGF0ZT0wLHRoaXMuZGVsYXlMb2FkaW5nRmlsZT1udWxsLHRoaXMuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uPW51bGwsdGhpcy5fZGVsYXlJbmZvPVtdLHRoaXMuX2JvdW5kaW5nSW5mbz1udWxsLHRoaXMuX3NjZW5lLnJlbW92ZUdlb21ldHJ5KHRoaXMpLHRoaXMuX3BhcmVudENvbnRhaW5lcil7Y29uc3Qgcz10aGlzLl9wYXJlbnRDb250YWluZXIuZ2VvbWV0cmllcy5pbmRleE9mKHRoaXMpO3M+LTEmJnRoaXMuX3BhcmVudENvbnRhaW5lci5nZW9tZXRyaWVzLnNwbGljZShzLDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfXRoaXMuX2lzRGlzcG9zZWQ9ITB9Y29weShlKXtjb25zdCB0PW5ldyBlZTt0LmluZGljZXM9W107Y29uc3QgaT10aGlzLmdldEluZGljZXMoKTtpZihpKWZvcihsZXQgbz0wO288aS5sZW5ndGg7bysrKXQuaW5kaWNlcy5wdXNoKGlbb10pO2xldCBzPSExLHI9ITEsbjtmb3IobiBpbiB0aGlzLl92ZXJ0ZXhCdWZmZXJzKXtjb25zdCBvPXRoaXMuZ2V0VmVydGljZXNEYXRhKG4pO2lmKG8mJihvIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5P3Quc2V0KG5ldyBGbG9hdDMyQXJyYXkobyksbik6dC5zZXQoby5zbGljZSgwKSxuKSwhcikpe2NvbnN0IGg9dGhpcy5nZXRWZXJ0ZXhCdWZmZXIobik7aCYmKHM9aC5pc1VwZGF0YWJsZSgpLHI9IXMpfX1jb25zdCBhPW5ldyBhdChlLHRoaXMuX3NjZW5lLHQscyk7YS5kZWxheUxvYWRTdGF0ZT10aGlzLmRlbGF5TG9hZFN0YXRlLGEuZGVsYXlMb2FkaW5nRmlsZT10aGlzLmRlbGF5TG9hZGluZ0ZpbGUsYS5fZGVsYXlMb2FkaW5nRnVuY3Rpb249dGhpcy5fZGVsYXlMb2FkaW5nRnVuY3Rpb247Zm9yKG4gaW4gdGhpcy5fZGVsYXlJbmZvKWEuX2RlbGF5SW5mbz1hLl9kZWxheUluZm98fFtdLGEuX2RlbGF5SW5mby5wdXNoKG4pO3JldHVybiBhLl9ib3VuZGluZ0luZm89bmV3IGR0KHRoaXMuX2V4dGVuZC5taW5pbXVtLHRoaXMuX2V4dGVuZC5tYXhpbXVtKSxhfXNlcmlhbGl6ZSgpe2NvbnN0IGU9e307cmV0dXJuIGUuaWQ9dGhpcy5pZCxlLnVuaXF1ZUlkPXRoaXMudW5pcXVlSWQsZS51cGRhdGFibGU9dGhpcy5fdXBkYXRhYmxlLGdlJiZnZS5IYXNUYWdzKHRoaXMpJiYoZS50YWdzPWdlLkdldFRhZ3ModGhpcykpLGV9X3RvTnVtYmVyQXJyYXkoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKX1jbGVhckNhY2hlZERhdGEoKXt0aGlzLl9pbmRpY2VzPVtdLHRoaXMuX3Jlc2V0UG9pbnRzQXJyYXlDYWNoZSgpO2Zvcihjb25zdCBlIGluIHRoaXMuX3ZlcnRleEJ1ZmZlcnMpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuX3ZlcnRleEJ1ZmZlcnMsZSkmJih0aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdLl9idWZmZXIuX2RhdGE9bnVsbCl9c2VyaWFsaXplVmVydGljZURhdGEoKXtjb25zdCBlPXRoaXMuc2VyaWFsaXplKCk7cmV0dXJuIHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuUG9zaXRpb25LaW5kKSYmKGUucG9zaXRpb25zPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpKSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGcuUG9zaXRpb25LaW5kKSYmKGUucG9zaXRpb25zLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQpJiYoZS5ub3JtYWxzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLk5vcm1hbEtpbmQpJiYoZS5ub3JtYWxzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlRhbmdlbnRLaW5kKSYmKGUudGFuZ2VudHM9dGhpcy5fdG9OdW1iZXJBcnJheSh0aGlzLmdldFZlcnRpY2VzRGF0YShnLlRhbmdlbnRLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlRhbmdlbnRLaW5kKSYmKGUudGFuZ2VudHMuX3VwZGF0YWJsZT0hMCkpLHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVZLaW5kKSYmKGUudXZzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5VVktpbmQpKSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGcuVVZLaW5kKSYmKGUudXZzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWMktpbmQpJiYoZS51djJzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5VVjJLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlVWMktpbmQpJiYoZS51djJzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWM0tpbmQpJiYoZS51djNzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5VVjNLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlVWM0tpbmQpJiYoZS51djNzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWNEtpbmQpJiYoZS51djRzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5VVjRLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlVWNEtpbmQpJiYoZS51djRzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWNUtpbmQpJiYoZS51djVzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5VVjVLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlVWNUtpbmQpJiYoZS51djVzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWNktpbmQpJiYoZS51djZzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5VVjZLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlVWNktpbmQpJiYoZS51djZzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLkNvbG9yS2luZCkmJihlLmNvbG9ycz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuQ29sb3JLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLkNvbG9yS2luZCkmJihlLmNvbG9ycy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5NYXRyaWNlc0luZGljZXNLaW5kKSYmKGUubWF0cmljZXNJbmRpY2VzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNLaW5kKSksZS5tYXRyaWNlc0luZGljZXMuX2lzRXhwYW5kZWQ9ITAsdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLk1hdHJpY2VzSW5kaWNlc0tpbmQpJiYoZS5tYXRyaWNlc0luZGljZXMuX3VwZGF0YWJsZT0hMCkpLHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTWF0cmljZXNXZWlnaHRzS2luZCkmJihlLm1hdHJpY2VzV2VpZ2h0cz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzS2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5NYXRyaWNlc1dlaWdodHNLaW5kKSYmKGUubWF0cmljZXNXZWlnaHRzLl91cGRhdGFibGU9ITApKSxlLmluZGljZXM9dGhpcy5fdG9OdW1iZXJBcnJheSh0aGlzLmdldEluZGljZXMoKSksZX1zdGF0aWMgRXh0cmFjdEZyb21NZXNoKGUsdCl7Y29uc3QgaT1lLl9nZW9tZXRyeTtyZXR1cm4gaT9pLmNvcHkodCk6bnVsbH1zdGF0aWMgUmFuZG9tSWQoKXtyZXR1cm4gSC5SYW5kb21JZCgpfXN0YXRpYyBfR2V0R2VvbWV0cnlCeUxvYWRlZFVuaXF1ZUlkKGUsdCl7Zm9yKGxldCBpPTA7aTx0Lmdlb21ldHJpZXMubGVuZ3RoO2krKylpZih0Lmdlb21ldHJpZXNbaV0uX2xvYWRlZFVuaXF1ZUlkPT09ZSlyZXR1cm4gdC5nZW9tZXRyaWVzW2ldO3JldHVybiBudWxsfXN0YXRpYyBfSW1wb3J0R2VvbWV0cnkoZSx0KXtjb25zdCBpPXQuZ2V0U2NlbmUoKSxzPWUuZ2VvbWV0cnlVbmlxdWVJZCxyPWUuZ2VvbWV0cnlJZDtpZihzfHxyKXtjb25zdCBuPXM/dGhpcy5fR2V0R2VvbWV0cnlCeUxvYWRlZFVuaXF1ZUlkKHMsaSk6aS5nZXRHZW9tZXRyeUJ5SWQocik7biYmbi5hcHBseVRvTWVzaCh0KX1lbHNlIGlmKGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7Y29uc3Qgbj10Ll9iaW5hcnlJbmZvO2lmKG4ucG9zaXRpb25zQXR0ckRlc2MmJm4ucG9zaXRpb25zQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgRmxvYXQzMkFycmF5KGUsbi5wb3NpdGlvbnNBdHRyRGVzYy5vZmZzZXQsbi5wb3NpdGlvbnNBdHRyRGVzYy5jb3VudCk7dC5zZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQsYSwhMSl9aWYobi5ub3JtYWxzQXR0ckRlc2MmJm4ubm9ybWFsc0F0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEZsb2F0MzJBcnJheShlLG4ubm9ybWFsc0F0dHJEZXNjLm9mZnNldCxuLm5vcm1hbHNBdHRyRGVzYy5jb3VudCk7dC5zZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLGEsITEpfWlmKG4udGFuZ2V0c0F0dHJEZXNjJiZuLnRhbmdldHNBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBGbG9hdDMyQXJyYXkoZSxuLnRhbmdldHNBdHRyRGVzYy5vZmZzZXQsbi50YW5nZXRzQXR0ckRlc2MuY291bnQpO3Quc2V0VmVydGljZXNEYXRhKGcuVGFuZ2VudEtpbmQsYSwhMSl9aWYobi51dnNBdHRyRGVzYyYmbi51dnNBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBGbG9hdDMyQXJyYXkoZSxuLnV2c0F0dHJEZXNjLm9mZnNldCxuLnV2c0F0dHJEZXNjLmNvdW50KTtpZihmdC5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWKWZvcihsZXQgbz0xO288YS5sZW5ndGg7bys9MilhW29dPTEtYVtvXTt0LnNldFZlcnRpY2VzRGF0YShnLlVWS2luZCxhLCExKX1pZihuLnV2czJBdHRyRGVzYyYmbi51dnMyQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgRmxvYXQzMkFycmF5KGUsbi51dnMyQXR0ckRlc2Mub2Zmc2V0LG4udXZzMkF0dHJEZXNjLmNvdW50KTtpZihmdC5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWKWZvcihsZXQgbz0xO288YS5sZW5ndGg7bys9MilhW29dPTEtYVtvXTt0LnNldFZlcnRpY2VzRGF0YShnLlVWMktpbmQsYSwhMSl9aWYobi51dnMzQXR0ckRlc2MmJm4udXZzM0F0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEZsb2F0MzJBcnJheShlLG4udXZzM0F0dHJEZXNjLm9mZnNldCxuLnV2czNBdHRyRGVzYy5jb3VudCk7aWYoZnQuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVilmb3IobGV0IG89MTtvPGEubGVuZ3RoO28rPTIpYVtvXT0xLWFbb107dC5zZXRWZXJ0aWNlc0RhdGEoZy5VVjNLaW5kLGEsITEpfWlmKG4udXZzNEF0dHJEZXNjJiZuLnV2czRBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBGbG9hdDMyQXJyYXkoZSxuLnV2czRBdHRyRGVzYy5vZmZzZXQsbi51dnM0QXR0ckRlc2MuY291bnQpO2lmKGZ0LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVYpZm9yKGxldCBvPTE7bzxhLmxlbmd0aDtvKz0yKWFbb109MS1hW29dO3Quc2V0VmVydGljZXNEYXRhKGcuVVY0S2luZCxhLCExKX1pZihuLnV2czVBdHRyRGVzYyYmbi51dnM1QXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgRmxvYXQzMkFycmF5KGUsbi51dnM1QXR0ckRlc2Mub2Zmc2V0LG4udXZzNUF0dHJEZXNjLmNvdW50KTtpZihmdC5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWKWZvcihsZXQgbz0xO288YS5sZW5ndGg7bys9MilhW29dPTEtYVtvXTt0LnNldFZlcnRpY2VzRGF0YShnLlVWNUtpbmQsYSwhMSl9aWYobi51dnM2QXR0ckRlc2MmJm4udXZzNkF0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEZsb2F0MzJBcnJheShlLG4udXZzNkF0dHJEZXNjLm9mZnNldCxuLnV2czZBdHRyRGVzYy5jb3VudCk7aWYoZnQuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVilmb3IobGV0IG89MTtvPGEubGVuZ3RoO28rPTIpYVtvXT0xLWFbb107dC5zZXRWZXJ0aWNlc0RhdGEoZy5VVjZLaW5kLGEsITEpfWlmKG4uY29sb3JzQXR0ckRlc2MmJm4uY29sb3JzQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgRmxvYXQzMkFycmF5KGUsbi5jb2xvcnNBdHRyRGVzYy5vZmZzZXQsbi5jb2xvcnNBdHRyRGVzYy5jb3VudCk7dC5zZXRWZXJ0aWNlc0RhdGEoZy5Db2xvcktpbmQsYSwhMSxuLmNvbG9yc0F0dHJEZXNjLnN0cmlkZSl9aWYobi5tYXRyaWNlc0luZGljZXNBdHRyRGVzYyYmbi5tYXRyaWNlc0luZGljZXNBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBJbnQzMkFycmF5KGUsbi5tYXRyaWNlc0luZGljZXNBdHRyRGVzYy5vZmZzZXQsbi5tYXRyaWNlc0luZGljZXNBdHRyRGVzYy5jb3VudCksbz1bXTtmb3IobGV0IGg9MDtoPGEubGVuZ3RoO2grKyl7Y29uc3QgbD1hW2hdO28ucHVzaChsJjI1NSksby5wdXNoKChsJjY1MjgwKT4+OCksby5wdXNoKChsJjE2NzExNjgwKT4+MTYpLG8ucHVzaChsPj4yNCYyNTUpfXQuc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzS2luZCxvLCExKX1pZihuLm1hdHJpY2VzSW5kaWNlc0V4dHJhQXR0ckRlc2MmJm4ubWF0cmljZXNJbmRpY2VzRXh0cmFBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBJbnQzMkFycmF5KGUsbi5tYXRyaWNlc0luZGljZXNFeHRyYUF0dHJEZXNjLm9mZnNldCxuLm1hdHJpY2VzSW5kaWNlc0V4dHJhQXR0ckRlc2MuY291bnQpLG89W107Zm9yKGxldCBoPTA7aDxhLmxlbmd0aDtoKyspe2NvbnN0IGw9YVtoXTtvLnB1c2gobCYyNTUpLG8ucHVzaCgobCY2NTI4MCk+PjgpLG8ucHVzaCgobCYxNjcxMTY4MCk+PjE2KSxvLnB1c2gobD4+MjQmMjU1KX10LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCxvLCExKX1pZihuLm1hdHJpY2VzV2VpZ2h0c0F0dHJEZXNjJiZuLm1hdHJpY2VzV2VpZ2h0c0F0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEZsb2F0MzJBcnJheShlLG4ubWF0cmljZXNXZWlnaHRzQXR0ckRlc2Mub2Zmc2V0LG4ubWF0cmljZXNXZWlnaHRzQXR0ckRlc2MuY291bnQpO3Quc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzS2luZCxhLCExKX1pZihuLmluZGljZXNBdHRyRGVzYyYmbi5pbmRpY2VzQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgSW50MzJBcnJheShlLG4uaW5kaWNlc0F0dHJEZXNjLm9mZnNldCxuLmluZGljZXNBdHRyRGVzYy5jb3VudCk7dC5zZXRJbmRpY2VzKGEsbnVsbCl9aWYobi5zdWJNZXNoZXNBdHRyRGVzYyYmbi5zdWJNZXNoZXNBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBJbnQzMkFycmF5KGUsbi5zdWJNZXNoZXNBdHRyRGVzYy5vZmZzZXQsbi5zdWJNZXNoZXNBdHRyRGVzYy5jb3VudCo1KTt0LnN1Yk1lc2hlcz1bXTtmb3IobGV0IG89MDtvPG4uc3ViTWVzaGVzQXR0ckRlc2MuY291bnQ7bysrKXtjb25zdCBoPWFbbyo1KzBdLGw9YVtvKjUrMV0sdT1hW28qNSsyXSxkPWFbbyo1KzNdLGY9YVtvKjUrNF07dnQuQWRkVG9NZXNoKGgsbCx1LGQsZix0KX19fWVsc2UgaWYoZS5wb3NpdGlvbnMmJmUubm9ybWFscyYmZS5pbmRpY2VzKXtpZih0LnNldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCxlLnBvc2l0aW9ucyxlLnBvc2l0aW9ucy5fdXBkYXRhYmxlKSx0LnNldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsZS5ub3JtYWxzLGUubm9ybWFscy5fdXBkYXRhYmxlKSxlLnRhbmdlbnRzJiZ0LnNldFZlcnRpY2VzRGF0YShnLlRhbmdlbnRLaW5kLGUudGFuZ2VudHMsZS50YW5nZW50cy5fdXBkYXRhYmxlKSxlLnV2cyYmdC5zZXRWZXJ0aWNlc0RhdGEoZy5VVktpbmQsZS51dnMsZS51dnMuX3VwZGF0YWJsZSksZS51dnMyJiZ0LnNldFZlcnRpY2VzRGF0YShnLlVWMktpbmQsZS51dnMyLGUudXZzMi5fdXBkYXRhYmxlKSxlLnV2czMmJnQuc2V0VmVydGljZXNEYXRhKGcuVVYzS2luZCxlLnV2czMsZS51dnMzLl91cGRhdGFibGUpLGUudXZzNCYmdC5zZXRWZXJ0aWNlc0RhdGEoZy5VVjRLaW5kLGUudXZzNCxlLnV2czQuX3VwZGF0YWJsZSksZS51dnM1JiZ0LnNldFZlcnRpY2VzRGF0YShnLlVWNUtpbmQsZS51dnM1LGUudXZzNS5fdXBkYXRhYmxlKSxlLnV2czYmJnQuc2V0VmVydGljZXNEYXRhKGcuVVY2S2luZCxlLnV2czYsZS51dnM2Ll91cGRhdGFibGUpLGUuY29sb3JzJiZ0LnNldFZlcnRpY2VzRGF0YShnLkNvbG9yS2luZCxtZS5DaGVja0NvbG9yczQoZS5jb2xvcnMsZS5wb3NpdGlvbnMubGVuZ3RoLzMpLGUuY29sb3JzLl91cGRhdGFibGUpLGUubWF0cmljZXNJbmRpY2VzKWlmKGUubWF0cmljZXNJbmRpY2VzLl9pc0V4cGFuZGVkKWRlbGV0ZSBlLm1hdHJpY2VzSW5kaWNlcy5faXNFeHBhbmRlZCx0LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0tpbmQsZS5tYXRyaWNlc0luZGljZXMsZS5tYXRyaWNlc0luZGljZXMuX3VwZGF0YWJsZSk7ZWxzZXtjb25zdCBuPVtdO2ZvcihsZXQgYT0wO2E8ZS5tYXRyaWNlc0luZGljZXMubGVuZ3RoO2ErKyl7Y29uc3Qgbz1lLm1hdHJpY2VzSW5kaWNlc1thXTtuLnB1c2gobyYyNTUpLG4ucHVzaCgobyY2NTI4MCk+PjgpLG4ucHVzaCgobyYxNjcxMTY4MCk+PjE2KSxuLnB1c2gobz4+MjQmMjU1KX10LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0tpbmQsbixlLm1hdHJpY2VzSW5kaWNlcy5fdXBkYXRhYmxlKX1pZihlLm1hdHJpY2VzSW5kaWNlc0V4dHJhKWlmKGUubWF0cmljZXNJbmRpY2VzRXh0cmEuX2lzRXhwYW5kZWQpZGVsZXRlIGUubWF0cmljZXNJbmRpY2VzLl9pc0V4cGFuZGVkLHQuc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLGUubWF0cmljZXNJbmRpY2VzRXh0cmEsZS5tYXRyaWNlc0luZGljZXNFeHRyYS5fdXBkYXRhYmxlKTtlbHNle2NvbnN0IG49W107Zm9yKGxldCBhPTA7YTxlLm1hdHJpY2VzSW5kaWNlc0V4dHJhLmxlbmd0aDthKyspe2NvbnN0IG89ZS5tYXRyaWNlc0luZGljZXNFeHRyYVthXTtuLnB1c2gobyYyNTUpLG4ucHVzaCgobyY2NTI4MCk+PjgpLG4ucHVzaCgobyYxNjcxMTY4MCk+PjE2KSxuLnB1c2gobz4+MjQmMjU1KX10LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCxuLGUubWF0cmljZXNJbmRpY2VzRXh0cmEuX3VwZGF0YWJsZSl9ZS5tYXRyaWNlc1dlaWdodHMmJihhdC5fQ2xlYW5NYXRyaWNlc1dlaWdodHMoZSx0KSx0LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQsZS5tYXRyaWNlc1dlaWdodHMsZS5tYXRyaWNlc1dlaWdodHMuX3VwZGF0YWJsZSkpLGUubWF0cmljZXNXZWlnaHRzRXh0cmEmJnQuc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kLGUubWF0cmljZXNXZWlnaHRzRXh0cmEsZS5tYXRyaWNlc1dlaWdodHMuX3VwZGF0YWJsZSksdC5zZXRJbmRpY2VzKGUuaW5kaWNlcyxudWxsKX1pZihlLnN1Yk1lc2hlcyl7dC5zdWJNZXNoZXM9W107Zm9yKGxldCBuPTA7bjxlLnN1Yk1lc2hlcy5sZW5ndGg7bisrKXtjb25zdCBhPWUuc3ViTWVzaGVzW25dO3Z0LkFkZFRvTWVzaChhLm1hdGVyaWFsSW5kZXgsYS52ZXJ0aWNlc1N0YXJ0LGEudmVydGljZXNDb3VudCxhLmluZGV4U3RhcnQsYS5pbmRleENvdW50LHQpfX10Ll9zaG91bGRHZW5lcmF0ZUZsYXRTaGFkaW5nJiYodC5jb252ZXJ0VG9GbGF0U2hhZGVkTWVzaCgpLHQuX3Nob3VsZEdlbmVyYXRlRmxhdFNoYWRpbmc9ITEpLHQuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSxpLm9uTWVzaEltcG9ydGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCl9c3RhdGljIF9DbGVhbk1hdHJpY2VzV2VpZ2h0cyhlLHQpe2lmKCFPZS5DbGVhbkJvbmVNYXRyaXhXZWlnaHRzKXJldHVybjtsZXQgcz0wO2lmKGUuc2tlbGV0b25JZD4tMSl7Y29uc3QgdT10LmdldFNjZW5lKCkuZ2V0TGFzdFNrZWxldG9uQnlJZChlLnNrZWxldG9uSWQpO2lmKCF1KXJldHVybjtzPXUuYm9uZXMubGVuZ3RofWVsc2UgcmV0dXJuO2NvbnN0IHI9dC5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNLaW5kKSxuPXQuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKSxhPWUubWF0cmljZXNXZWlnaHRzLG89ZS5tYXRyaWNlc1dlaWdodHNFeHRyYSxoPWUubnVtQm9uZUluZmx1ZW5jZXIsbD1hLmxlbmd0aDtmb3IobGV0IHU9MDt1PGw7dSs9NCl7bGV0IGQ9MCxmPS0xO2ZvcihsZXQgXz0wO188NDtfKyspe2NvbnN0IEU9YVt1K19dO2QrPUUsRTwuMDAxJiZmPDAmJihmPV8pfWlmKG8pZm9yKGxldCBfPTA7Xzw0O18rKyl7Y29uc3QgRT1vW3UrX107ZCs9RSxFPC4wMDEmJmY8MCYmKGY9Xys0KX1pZigoZjwwfHxmPmgtMSkmJihmPWgtMSksZD4uMDAxKXtjb25zdCBfPTEvZDtmb3IobGV0IEU9MDtFPDQ7RSsrKWFbdStFXSo9XztpZihvKWZvcihsZXQgRT0wO0U8NDtFKyspb1t1K0VdKj1ffWVsc2UgZj49ND8ob1t1K2YtNF09MS1kLG5bdStmLTRdPXMpOihhW3UrZl09MS1kLHJbdStmXT1zKX10LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0tpbmQsciksZS5tYXRyaWNlc1dlaWdodHNFeHRyYSYmdC5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsbil9c3RhdGljIFBhcnNlKGUsdCxpKXtjb25zdCBzPW5ldyBhdChlLmlkLHQsdm9pZCAwLGUudXBkYXRhYmxlKTtyZXR1cm4gcy5fbG9hZGVkVW5pcXVlSWQ9ZS51bmlxdWVJZCxnZSYmZ2UuQWRkVGFnc1RvKHMsZS50YWdzKSxlLmRlbGF5TG9hZGluZ0ZpbGU/KHMuZGVsYXlMb2FkU3RhdGU9NCxzLmRlbGF5TG9hZGluZ0ZpbGU9aStlLmRlbGF5TG9hZGluZ0ZpbGUscy5fYm91bmRpbmdJbmZvPW5ldyBkdChwLkZyb21BcnJheShlLmJvdW5kaW5nQm94TWluaW11bSkscC5Gcm9tQXJyYXkoZS5ib3VuZGluZ0JveE1heGltdW0pKSxzLl9kZWxheUluZm89W10sZS5oYXNVVnMmJnMuX2RlbGF5SW5mby5wdXNoKGcuVVZLaW5kKSxlLmhhc1VWczImJnMuX2RlbGF5SW5mby5wdXNoKGcuVVYyS2luZCksZS5oYXNVVnMzJiZzLl9kZWxheUluZm8ucHVzaChnLlVWM0tpbmQpLGUuaGFzVVZzNCYmcy5fZGVsYXlJbmZvLnB1c2goZy5VVjRLaW5kKSxlLmhhc1VWczUmJnMuX2RlbGF5SW5mby5wdXNoKGcuVVY1S2luZCksZS5oYXNVVnM2JiZzLl9kZWxheUluZm8ucHVzaChnLlVWNktpbmQpLGUuaGFzQ29sb3JzJiZzLl9kZWxheUluZm8ucHVzaChnLkNvbG9yS2luZCksZS5oYXNNYXRyaWNlc0luZGljZXMmJnMuX2RlbGF5SW5mby5wdXNoKGcuTWF0cmljZXNJbmRpY2VzS2luZCksZS5oYXNNYXRyaWNlc1dlaWdodHMmJnMuX2RlbGF5SW5mby5wdXNoKGcuTWF0cmljZXNXZWlnaHRzS2luZCkscy5fZGVsYXlMb2FkaW5nRnVuY3Rpb249ZWUuSW1wb3J0VmVydGV4RGF0YSk6ZWUuSW1wb3J0VmVydGV4RGF0YShlLHMpLHQucHVzaEdlb21ldHJ5KHMsITApLHN9fXZhciBWdDsoZnVuY3Rpb24oYyl7Y1tjLkxPQ0FMPTBdPSJMT0NBTCIsY1tjLldPUkxEPTFdPSJXT1JMRCIsY1tjLkJPTkU9Ml09IkJPTkUifSkoVnR8fChWdD17fSkpO2NsYXNzIF9pe31faS5YPW5ldyBwKDEsMCwwKSxfaS5ZPW5ldyBwKDAsMSwwKSxfaS5aPW5ldyBwKDAsMCwxKTt2YXIgQ3I7KGZ1bmN0aW9uKGMpe2NbYy5YPTBdPSJYIixjW2MuWT0xXT0iWSIsY1tjLlo9Ml09IloifSkoQ3J8fChDcj17fSkpO2NsYXNzIEogZXh0ZW5kcyB6ZXtjb25zdHJ1Y3RvcihlLHQ9bnVsbCxpPSEwKXtzdXBlcihlLHQpLHRoaXMuX2ZvcndhcmQ9bmV3IHAoMCwwLDEpLHRoaXMuX3VwPW5ldyBwKDAsMSwwKSx0aGlzLl9yaWdodD1uZXcgcCgxLDAsMCksdGhpcy5fcG9zaXRpb249cC5aZXJvKCksdGhpcy5fcm90YXRpb249cC5aZXJvKCksdGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uPW51bGwsdGhpcy5fc2NhbGluZz1wLk9uZSgpLHRoaXMuX3RyYW5zZm9ybVRvQm9uZVJlZmVyYWw9bnVsbCx0aGlzLl9pc0Fic29sdXRlU3luY2VkPSExLHRoaXMuX2JpbGxib2FyZE1vZGU9Si5CSUxMQk9BUkRNT0RFX05PTkUsdGhpcy5fcHJlc2VydmVQYXJlbnRSb3RhdGlvbkZvckJpbGxib2FyZD0hMSx0aGlzLnNjYWxpbmdEZXRlcm1pbmFudD0xLHRoaXMuX2luZmluaXRlRGlzdGFuY2U9ITEsdGhpcy5pZ25vcmVOb25Vbmlmb3JtU2NhbGluZz0hMSx0aGlzLnJlSW50ZWdyYXRlUm90YXRpb25JbnRvUm90YXRpb25RdWF0ZXJuaW9uPSExLHRoaXMuX3Bvc2VNYXRyaXg9bnVsbCx0aGlzLl9sb2NhbE1hdHJpeD14Llplcm8oKSx0aGlzLl91c2VQaXZvdE1hdHJpeD0hMSx0aGlzLl9hYnNvbHV0ZVBvc2l0aW9uPXAuWmVybygpLHRoaXMuX2Fic29sdXRlU2NhbGluZz1wLlplcm8oKSx0aGlzLl9hYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbj1aLklkZW50aXR5KCksdGhpcy5fcGl2b3RNYXRyaXg9eC5JZGVudGl0eSgpLHRoaXMuX3Bvc3RNdWx0aXBseVBpdm90TWF0cml4PSExLHRoaXMuX2lzV29ybGRNYXRyaXhGcm96ZW49ITEsdGhpcy5faW5kZXhJblNjZW5lVHJhbnNmb3JtTm9kZXNBcnJheT0tMSx0aGlzLm9uQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZU9ic2VydmFibGU9bmV3IEYsdGhpcy5fbm9uVW5pZm9ybVNjYWxpbmc9ITEsaSYmdGhpcy5nZXRTY2VuZSgpLmFkZFRyYW5zZm9ybU5vZGUodGhpcyl9Z2V0IGJpbGxib2FyZE1vZGUoKXtyZXR1cm4gdGhpcy5fYmlsbGJvYXJkTW9kZX1zZXQgYmlsbGJvYXJkTW9kZShlKXt0aGlzLl9iaWxsYm9hcmRNb2RlIT09ZSYmKHRoaXMuX2JpbGxib2FyZE1vZGU9ZSl9Z2V0IHByZXNlcnZlUGFyZW50Um90YXRpb25Gb3JCaWxsYm9hcmQoKXtyZXR1cm4gdGhpcy5fcHJlc2VydmVQYXJlbnRSb3RhdGlvbkZvckJpbGxib2FyZH1zZXQgcHJlc2VydmVQYXJlbnRSb3RhdGlvbkZvckJpbGxib2FyZChlKXtlIT09dGhpcy5fcHJlc2VydmVQYXJlbnRSb3RhdGlvbkZvckJpbGxib2FyZCYmKHRoaXMuX3ByZXNlcnZlUGFyZW50Um90YXRpb25Gb3JCaWxsYm9hcmQ9ZSl9Z2V0IGluZmluaXRlRGlzdGFuY2UoKXtyZXR1cm4gdGhpcy5faW5maW5pdGVEaXN0YW5jZX1zZXQgaW5maW5pdGVEaXN0YW5jZShlKXt0aGlzLl9pbmZpbml0ZURpc3RhbmNlIT09ZSYmKHRoaXMuX2luZmluaXRlRGlzdGFuY2U9ZSl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlRyYW5zZm9ybU5vZGUifWdldCBwb3NpdGlvbigpe3JldHVybiB0aGlzLl9wb3NpdGlvbn1zZXQgcG9zaXRpb24oZSl7dGhpcy5fcG9zaXRpb249ZSx0aGlzLl9pc0RpcnR5PSEwfWlzVXNpbmdQaXZvdE1hdHJpeCgpe3JldHVybiB0aGlzLl91c2VQaXZvdE1hdHJpeH1nZXQgcm90YXRpb24oKXtyZXR1cm4gdGhpcy5fcm90YXRpb259c2V0IHJvdGF0aW9uKGUpe3RoaXMuX3JvdGF0aW9uPWUsdGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uPW51bGwsdGhpcy5faXNEaXJ0eT0hMH1nZXQgc2NhbGluZygpe3JldHVybiB0aGlzLl9zY2FsaW5nfXNldCBzY2FsaW5nKGUpe3RoaXMuX3NjYWxpbmc9ZSx0aGlzLl9pc0RpcnR5PSEwfWdldCByb3RhdGlvblF1YXRlcm5pb24oKXtyZXR1cm4gdGhpcy5fcm90YXRpb25RdWF0ZXJuaW9ufXNldCByb3RhdGlvblF1YXRlcm5pb24oZSl7dGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uPWUsZSYmdGhpcy5fcm90YXRpb24uc2V0QWxsKDApLHRoaXMuX2lzRGlydHk9ITB9Z2V0IGZvcndhcmQoKXtyZXR1cm4gcC5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYoMCwwLHRoaXMuZ2V0U2NlbmUoKS51c2VSaWdodEhhbmRlZFN5c3RlbT8tMToxLHRoaXMuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLl9mb3J3YXJkKSx0aGlzLl9mb3J3YXJkLm5vcm1hbGl6ZSgpfWdldCB1cCgpe3JldHVybiBwLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZigwLDEsMCx0aGlzLmdldFdvcmxkTWF0cml4KCksdGhpcy5fdXApLHRoaXMuX3VwLm5vcm1hbGl6ZSgpfWdldCByaWdodCgpe3JldHVybiBwLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZih0aGlzLmdldFNjZW5lKCkudXNlUmlnaHRIYW5kZWRTeXN0ZW0/LTE6MSwwLDAsdGhpcy5nZXRXb3JsZE1hdHJpeCgpLHRoaXMuX3JpZ2h0KSx0aGlzLl9yaWdodC5ub3JtYWxpemUoKX11cGRhdGVQb3NlTWF0cml4KGUpe3JldHVybiB0aGlzLl9wb3NlTWF0cml4Pyh0aGlzLl9wb3NlTWF0cml4LmNvcHlGcm9tKGUpLHRoaXMpOih0aGlzLl9wb3NlTWF0cml4PWUuY2xvbmUoKSx0aGlzKX1nZXRQb3NlTWF0cml4KCl7cmV0dXJuIHRoaXMuX3Bvc2VNYXRyaXh8fCh0aGlzLl9wb3NlTWF0cml4PXguSWRlbnRpdHkoKSksdGhpcy5fcG9zZU1hdHJpeH1faXNTeW5jaHJvbml6ZWQoKXtjb25zdCBlPXRoaXMuX2NhY2hlO3JldHVybiEodGhpcy5fYmlsbGJvYXJkTW9kZSE9PWUuYmlsbGJvYXJkTW9kZXx8dGhpcy5fYmlsbGJvYXJkTW9kZSE9PUouQklMTEJPQVJETU9ERV9OT05FfHxlLnBpdm90TWF0cml4VXBkYXRlZHx8dGhpcy5faW5maW5pdGVEaXN0YW5jZXx8dGhpcy5fcG9zaXRpb24uX2lzRGlydHl8fHRoaXMuX3NjYWxpbmcuX2lzRGlydHl8fHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbiYmdGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uLl9pc0RpcnR5fHx0aGlzLl9yb3RhdGlvbi5faXNEaXJ0eSl9X2luaXRDYWNoZSgpe3N1cGVyLl9pbml0Q2FjaGUoKTtjb25zdCBlPXRoaXMuX2NhY2hlO2UubG9jYWxNYXRyaXhVcGRhdGVkPSExLGUuYmlsbGJvYXJkTW9kZT0tMSxlLmluZmluaXRlRGlzdGFuY2U9ITF9Z2V0IGFic29sdXRlUG9zaXRpb24oKXtyZXR1cm4gdGhpcy5nZXRBYnNvbHV0ZVBvc2l0aW9uKCl9Z2V0IGFic29sdXRlU2NhbGluZygpe3JldHVybiB0aGlzLl9zeW5jQWJzb2x1dGVTY2FsaW5nQW5kUm90YXRpb24oKSx0aGlzLl9hYnNvbHV0ZVNjYWxpbmd9Z2V0IGFic29sdXRlUm90YXRpb25RdWF0ZXJuaW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNBYnNvbHV0ZVNjYWxpbmdBbmRSb3RhdGlvbigpLHRoaXMuX2Fic29sdXRlUm90YXRpb25RdWF0ZXJuaW9ufXNldFByZVRyYW5zZm9ybU1hdHJpeChlKXtyZXR1cm4gdGhpcy5zZXRQaXZvdE1hdHJpeChlLCExKX1zZXRQaXZvdE1hdHJpeChlLHQ9ITApe3JldHVybiB0aGlzLl9waXZvdE1hdHJpeC5jb3B5RnJvbShlKSx0aGlzLl91c2VQaXZvdE1hdHJpeD0hdGhpcy5fcGl2b3RNYXRyaXguaXNJZGVudGl0eSgpLHRoaXMuX2NhY2hlLnBpdm90TWF0cml4VXBkYXRlZD0hMCx0aGlzLl9wb3N0TXVsdGlwbHlQaXZvdE1hdHJpeD10LHRoaXMuX3Bvc3RNdWx0aXBseVBpdm90TWF0cml4JiYodGhpcy5fcGl2b3RNYXRyaXhJbnZlcnNlP3RoaXMuX3Bpdm90TWF0cml4LmludmVydFRvUmVmKHRoaXMuX3Bpdm90TWF0cml4SW52ZXJzZSk6dGhpcy5fcGl2b3RNYXRyaXhJbnZlcnNlPXguSW52ZXJ0KHRoaXMuX3Bpdm90TWF0cml4KSksdGhpc31nZXRQaXZvdE1hdHJpeCgpe3JldHVybiB0aGlzLl9waXZvdE1hdHJpeH1pbnN0YW50aWF0ZUhpZXJhcmNoeShlPW51bGwsdCxpKXtjb25zdCBzPXRoaXMuY2xvbmUoIkNsb25lIG9mICIrKHRoaXMubmFtZXx8dGhpcy5pZCksZXx8dGhpcy5wYXJlbnQsITApO3MmJmkmJmkodGhpcyxzKTtmb3IoY29uc3QgciBvZiB0aGlzLmdldENoaWxkVHJhbnNmb3JtTm9kZXMoITApKXIuaW5zdGFudGlhdGVIaWVyYXJjaHkocyx0LGkpO3JldHVybiBzfWZyZWV6ZVdvcmxkTWF0cml4KGU9bnVsbCx0PSExKXtyZXR1cm4gZT90Pyh0aGlzLl9yb3RhdGlvbi5zZXRBbGwoMCksdGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uPXRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbnx8Wi5JZGVudGl0eSgpLGUuZGVjb21wb3NlKHRoaXMuX3NjYWxpbmcsdGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uLHRoaXMuX3Bvc2l0aW9uKSx0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpOih0aGlzLl93b3JsZE1hdHJpeD1lLHRoaXMuX2Fic29sdXRlUG9zaXRpb24uY29weUZyb21GbG9hdHModGhpcy5fd29ybGRNYXRyaXgubVsxMl0sdGhpcy5fd29ybGRNYXRyaXgubVsxM10sdGhpcy5fd29ybGRNYXRyaXgubVsxNF0pLHRoaXMuX2FmdGVyQ29tcHV0ZVdvcmxkTWF0cml4KCkpOih0aGlzLl9pc1dvcmxkTWF0cml4RnJvemVuPSExLHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSksdGhpcy5faXNEaXJ0eT0hMSx0aGlzLl9pc1dvcmxkTWF0cml4RnJvemVuPSEwLHRoaXN9dW5mcmVlemVXb3JsZE1hdHJpeCgpe3JldHVybiB0aGlzLl9pc1dvcmxkTWF0cml4RnJvemVuPSExLHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSx0aGlzfWdldCBpc1dvcmxkTWF0cml4RnJvemVuKCl7cmV0dXJuIHRoaXMuX2lzV29ybGRNYXRyaXhGcm96ZW59Z2V0QWJzb2x1dGVQb3NpdGlvbigpe3JldHVybiB0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpLHRoaXMuX2Fic29sdXRlUG9zaXRpb259c2V0QWJzb2x1dGVQb3NpdGlvbihlKXtpZighZSlyZXR1cm4gdGhpcztsZXQgdCxpLHM7aWYoZS54PT09dm9pZCAwKXtpZihhcmd1bWVudHMubGVuZ3RoPDMpcmV0dXJuIHRoaXM7dD1hcmd1bWVudHNbMF0saT1hcmd1bWVudHNbMV0scz1hcmd1bWVudHNbMl19ZWxzZSB0PWUueCxpPWUueSxzPWUuejtpZih0aGlzLnBhcmVudCl7Y29uc3Qgcj1ELk1hdHJpeFswXTt0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLmludmVydFRvUmVmKHIpLHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYodCxpLHMscix0aGlzLnBvc2l0aW9uKX1lbHNlIHRoaXMucG9zaXRpb24ueD10LHRoaXMucG9zaXRpb24ueT1pLHRoaXMucG9zaXRpb24uej1zO3JldHVybiB0aGlzLl9hYnNvbHV0ZVBvc2l0aW9uLmNvcHlGcm9tKGUpLHRoaXN9c2V0UG9zaXRpb25XaXRoTG9jYWxWZWN0b3IoZSl7cmV0dXJuIHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCksdGhpcy5wb3NpdGlvbj1wLlRyYW5zZm9ybU5vcm1hbChlLHRoaXMuX2xvY2FsTWF0cml4KSx0aGlzfWdldFBvc2l0aW9uRXhwcmVzc2VkSW5Mb2NhbFNwYWNlKCl7dGhpcy5jb21wdXRlV29ybGRNYXRyaXgoKTtjb25zdCBlPUQuTWF0cml4WzBdO3JldHVybiB0aGlzLl9sb2NhbE1hdHJpeC5pbnZlcnRUb1JlZihlKSxwLlRyYW5zZm9ybU5vcm1hbCh0aGlzLnBvc2l0aW9uLGUpfWxvY2FsbHlUcmFuc2xhdGUoZSl7cmV0dXJuIHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSx0aGlzLnBvc2l0aW9uPXAuVHJhbnNmb3JtQ29vcmRpbmF0ZXMoZSx0aGlzLl9sb2NhbE1hdHJpeCksdGhpc31sb29rQXQoZSx0PTAsaT0wLHM9MCxyPVZ0LkxPQ0FMKXtjb25zdCBuPUouX0xvb2tBdFZlY3RvckNhY2hlLGE9cj09PVZ0LkxPQ0FMP3RoaXMucG9zaXRpb246dGhpcy5nZXRBYnNvbHV0ZVBvc2l0aW9uKCk7aWYoZS5zdWJ0cmFjdFRvUmVmKGEsbiksdGhpcy5zZXREaXJlY3Rpb24obix0LGkscykscj09PVZ0LldPUkxEJiZ0aGlzLnBhcmVudClpZih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbil7Y29uc3Qgbz1ELk1hdHJpeFswXTt0aGlzLnJvdGF0aW9uUXVhdGVybmlvbi50b1JvdGF0aW9uTWF0cml4KG8pO2NvbnN0IGg9RC5NYXRyaXhbMV07dGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKS5nZXRSb3RhdGlvbk1hdHJpeFRvUmVmKGgpLGguaW52ZXJ0KCksby5tdWx0aXBseVRvUmVmKGgsbyksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24uZnJvbVJvdGF0aW9uTWF0cml4KG8pfWVsc2V7Y29uc3Qgbz1ELlF1YXRlcm5pb25bMF07Wi5Gcm9tRXVsZXJWZWN0b3JUb1JlZih0aGlzLnJvdGF0aW9uLG8pO2NvbnN0IGg9RC5NYXRyaXhbMF07by50b1JvdGF0aW9uTWF0cml4KGgpO2NvbnN0IGw9RC5NYXRyaXhbMV07dGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKS5nZXRSb3RhdGlvbk1hdHJpeFRvUmVmKGwpLGwuaW52ZXJ0KCksaC5tdWx0aXBseVRvUmVmKGwsaCksby5mcm9tUm90YXRpb25NYXRyaXgoaCksby50b0V1bGVyQW5nbGVzVG9SZWYodGhpcy5yb3RhdGlvbil9cmV0dXJuIHRoaXN9Z2V0RGlyZWN0aW9uKGUpe2NvbnN0IHQ9cC5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0RGlyZWN0aW9uVG9SZWYoZSx0KSx0fWdldERpcmVjdGlvblRvUmVmKGUsdCl7cmV0dXJuIHAuVHJhbnNmb3JtTm9ybWFsVG9SZWYoZSx0aGlzLmdldFdvcmxkTWF0cml4KCksdCksdGhpc31zZXREaXJlY3Rpb24oZSx0PTAsaT0wLHM9MCl7Y29uc3Qgcj0tTWF0aC5hdGFuMihlLnosZS54KStNYXRoLlBJLzIsbj1NYXRoLnNxcnQoZS54KmUueCtlLnoqZS56KSxhPS1NYXRoLmF0YW4yKGUueSxuKTtyZXR1cm4gdGhpcy5yb3RhdGlvblF1YXRlcm5pb24/Wi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHIrdCxhK2kscyx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbik6KHRoaXMucm90YXRpb24ueD1hK2ksdGhpcy5yb3RhdGlvbi55PXIrdCx0aGlzLnJvdGF0aW9uLno9cyksdGhpc31zZXRQaXZvdFBvaW50KGUsdD1WdC5MT0NBTCl7dGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCk9PTAmJnRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKTtjb25zdCBpPXRoaXMuZ2V0V29ybGRNYXRyaXgoKTtpZih0PT1WdC5XT1JMRCl7Y29uc3Qgcz1ELk1hdHJpeFswXTtpLmludmVydFRvUmVmKHMpLGU9cC5UcmFuc2Zvcm1Db29yZGluYXRlcyhlLHMpfXJldHVybiB0aGlzLnNldFBpdm90TWF0cml4KHguVHJhbnNsYXRpb24oLWUueCwtZS55LC1lLnopLCEwKX1nZXRQaXZvdFBvaW50KCl7Y29uc3QgZT1wLlplcm8oKTtyZXR1cm4gdGhpcy5nZXRQaXZvdFBvaW50VG9SZWYoZSksZX1nZXRQaXZvdFBvaW50VG9SZWYoZSl7cmV0dXJuIGUueD0tdGhpcy5fcGl2b3RNYXRyaXgubVsxMl0sZS55PS10aGlzLl9waXZvdE1hdHJpeC5tWzEzXSxlLno9LXRoaXMuX3Bpdm90TWF0cml4Lm1bMTRdLHRoaXN9Z2V0QWJzb2x1dGVQaXZvdFBvaW50KCl7Y29uc3QgZT1wLlplcm8oKTtyZXR1cm4gdGhpcy5nZXRBYnNvbHV0ZVBpdm90UG9pbnRUb1JlZihlKSxlfWdldEFic29sdXRlUGl2b3RQb2ludFRvUmVmKGUpe3JldHVybiB0aGlzLmdldFBpdm90UG9pbnRUb1JlZihlKSxwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoZSx0aGlzLmdldFdvcmxkTWF0cml4KCksZSksdGhpc31tYXJrQXNEaXJ0eShlKXtpZih0aGlzLl9pc0RpcnR5KXJldHVybiB0aGlzO2lmKHRoaXMuX2NoaWxkcmVuKWZvcihjb25zdCB0IG9mIHRoaXMuX2NoaWxkcmVuKXQubWFya0FzRGlydHkoZSk7cmV0dXJuIHN1cGVyLm1hcmtBc0RpcnR5KGUpfXNldFBhcmVudChlLHQ9ITEsaT0hMSl7aWYoIWUmJiF0aGlzLnBhcmVudClyZXR1cm4gdGhpcztjb25zdCBzPUQuUXVhdGVybmlvblswXSxyPUQuVmVjdG9yM1swXSxuPUQuVmVjdG9yM1sxXSxhPUQuTWF0cml4WzFdO3guSWRlbnRpdHlUb1JlZihhKTtjb25zdCBvPUQuTWF0cml4WzBdO3RoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKTtsZXQgaD10aGlzLnJvdGF0aW9uUXVhdGVybmlvbjtyZXR1cm4gaHx8KGg9Si5fVG1wUm90YXRpb24sWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHRoaXMuX3JvdGF0aW9uLnksdGhpcy5fcm90YXRpb24ueCx0aGlzLl9yb3RhdGlvbi56LGgpKSx4LkNvbXBvc2VUb1JlZih0aGlzLnNjYWxpbmcsaCx0aGlzLnBvc2l0aW9uLG8pLHRoaXMucGFyZW50JiZvLm11bHRpcGx5VG9SZWYodGhpcy5wYXJlbnQuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSxvKSxlJiYoZS5jb21wdXRlV29ybGRNYXRyaXgoITApLmludmVydFRvUmVmKGEpLG8ubXVsdGlwbHlUb1JlZihhLG8pKSxvLmRlY29tcG9zZShuLHMscix0P3RoaXM6dm9pZCAwKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj90aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbShzKTpzLnRvRXVsZXJBbmdsZXNUb1JlZih0aGlzLnJvdGF0aW9uKSx0aGlzLnNjYWxpbmcuY29weUZyb20obiksdGhpcy5wb3NpdGlvbi5jb3B5RnJvbShyKSx0aGlzLnBhcmVudD1lLGkmJnRoaXMuc2V0UGl2b3RNYXRyaXgoeC5JZGVudGl0eSgpKSx0aGlzfWdldCBub25Vbmlmb3JtU2NhbGluZygpe3JldHVybiB0aGlzLl9ub25Vbmlmb3JtU2NhbGluZ31fdXBkYXRlTm9uVW5pZm9ybVNjYWxpbmdTdGF0ZShlKXtyZXR1cm4gdGhpcy5fbm9uVW5pZm9ybVNjYWxpbmc9PT1lPyExOih0aGlzLl9ub25Vbmlmb3JtU2NhbGluZz1lLCEwKX1hdHRhY2hUb0JvbmUoZSx0KXtyZXR1cm4gdGhpcy5fY3VycmVudFBhcmVudFdoZW5BdHRhY2hpbmdUb0JvbmU9dGhpcy5wYXJlbnQsdGhpcy5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbD10LHRoaXMucGFyZW50PWUsZS5nZXRTa2VsZXRvbigpLnByZXBhcmUoKSxlLmdldFdvcmxkTWF0cml4KCkuZGV0ZXJtaW5hbnQoKTwwJiYodGhpcy5zY2FsaW5nRGV0ZXJtaW5hbnQqPS0xKSx0aGlzfWRldGFjaEZyb21Cb25lKGU9ITEpe3JldHVybiB0aGlzLnBhcmVudD8odGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKS5kZXRlcm1pbmFudCgpPDAmJih0aGlzLnNjYWxpbmdEZXRlcm1pbmFudCo9LTEpLHRoaXMuX3RyYW5zZm9ybVRvQm9uZVJlZmVyYWw9bnVsbCxlP3RoaXMucGFyZW50PXRoaXMuX2N1cnJlbnRQYXJlbnRXaGVuQXR0YWNoaW5nVG9Cb25lOnRoaXMucGFyZW50PW51bGwsdGhpcyk6KGUmJih0aGlzLnBhcmVudD10aGlzLl9jdXJyZW50UGFyZW50V2hlbkF0dGFjaGluZ1RvQm9uZSksdGhpcyl9cm90YXRlKGUsdCxpKXtlLm5vcm1hbGl6ZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9ufHwodGhpcy5yb3RhdGlvblF1YXRlcm5pb249dGhpcy5yb3RhdGlvbi50b1F1YXRlcm5pb24oKSx0aGlzLnJvdGF0aW9uLnNldEFsbCgwKSk7bGV0IHM7aWYoIWl8fGk9PT1WdC5MT0NBTClzPVouUm90YXRpb25BeGlzVG9SZWYoZSx0LEouX1JvdGF0aW9uQXhpc0NhY2hlKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5tdWx0aXBseVRvUmVmKHMsdGhpcy5yb3RhdGlvblF1YXRlcm5pb24pO2Vsc2V7aWYodGhpcy5wYXJlbnQpe2NvbnN0IHI9RC5NYXRyaXhbMF07dGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKS5pbnZlcnRUb1JlZihyKSxlPXAuVHJhbnNmb3JtTm9ybWFsKGUscil9cz1aLlJvdGF0aW9uQXhpc1RvUmVmKGUsdCxKLl9Sb3RhdGlvbkF4aXNDYWNoZSkscy5tdWx0aXBseVRvUmVmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKX1yZXR1cm4gdGhpc31yb3RhdGVBcm91bmQoZSx0LGkpe3Qubm9ybWFsaXplKCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb258fCh0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj1aLlJvdGF0aW9uWWF3UGl0Y2hSb2xsKHRoaXMucm90YXRpb24ueSx0aGlzLnJvdGF0aW9uLngsdGhpcy5yb3RhdGlvbi56KSx0aGlzLnJvdGF0aW9uLnNldEFsbCgwKSk7Y29uc3Qgcz1ELlZlY3RvcjNbMF0scj1ELlZlY3RvcjNbMV0sbj1ELlZlY3RvcjNbMl0sYT1ELlF1YXRlcm5pb25bMF0sbz1ELk1hdHJpeFswXSxoPUQuTWF0cml4WzFdLGw9RC5NYXRyaXhbMl0sdT1ELk1hdHJpeFszXTtyZXR1cm4gZS5zdWJ0cmFjdFRvUmVmKHRoaXMucG9zaXRpb24scykseC5UcmFuc2xhdGlvblRvUmVmKHMueCxzLnkscy56LG8pLHguVHJhbnNsYXRpb25Ub1JlZigtcy54LC1zLnksLXMueixoKSx4LlJvdGF0aW9uQXhpc1RvUmVmKHQsaSxsKSxoLm11bHRpcGx5VG9SZWYobCx1KSx1Lm11bHRpcGx5VG9SZWYobyx1KSx1LmRlY29tcG9zZShyLGEsbiksdGhpcy5wb3NpdGlvbi5hZGRJblBsYWNlKG4pLGEubXVsdGlwbHlUb1JlZih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbix0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiksdGhpc310cmFuc2xhdGUoZSx0LGkpe2NvbnN0IHM9ZS5zY2FsZSh0KTtpZighaXx8aT09PVZ0LkxPQ0FMKXtjb25zdCByPXRoaXMuZ2V0UG9zaXRpb25FeHByZXNzZWRJbkxvY2FsU3BhY2UoKS5hZGQocyk7dGhpcy5zZXRQb3NpdGlvbldpdGhMb2NhbFZlY3RvcihyKX1lbHNlIHRoaXMuc2V0QWJzb2x1dGVQb3NpdGlvbih0aGlzLmdldEFic29sdXRlUG9zaXRpb24oKS5hZGQocykpO3JldHVybiB0aGlzfWFkZFJvdGF0aW9uKGUsdCxpKXtsZXQgczt0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj9zPXRoaXMucm90YXRpb25RdWF0ZXJuaW9uOihzPUQuUXVhdGVybmlvblsxXSxaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy5yb3RhdGlvbi55LHRoaXMucm90YXRpb24ueCx0aGlzLnJvdGF0aW9uLnoscykpO2NvbnN0IHI9RC5RdWF0ZXJuaW9uWzBdO3JldHVybiBaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodCxlLGkscikscy5tdWx0aXBseUluUGxhY2UociksdGhpcy5yb3RhdGlvblF1YXRlcm5pb258fHMudG9FdWxlckFuZ2xlc1RvUmVmKHRoaXMucm90YXRpb24pLHRoaXN9X2dldEVmZmVjdGl2ZVBhcmVudCgpe3JldHVybiB0aGlzLnBhcmVudH1jb21wdXRlV29ybGRNYXRyaXgoZSl7aWYodGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbiYmIXRoaXMuX2lzRGlydHkpcmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4O2NvbnN0IHQ9dGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCk7aWYoIXRoaXMuX2lzRGlydHkmJiFlJiYodGhpcy5fY3VycmVudFJlbmRlcklkPT09dHx8dGhpcy5pc1N5bmNocm9uaXplZCgpKSlyZXR1cm4gdGhpcy5fY3VycmVudFJlbmRlcklkPXQsdGhpcy5fd29ybGRNYXRyaXg7Y29uc3QgaT10aGlzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhLHM9KHRoaXMuX2JpbGxib2FyZE1vZGUmSi5CSUxMQk9BUkRNT0RFX1VTRV9QT1NJVElPTikhPT0wLHI9dGhpcy5fYmlsbGJvYXJkTW9kZSE9PUouQklMTEJPQVJETU9ERV9OT05FJiYhdGhpcy5wcmVzZXJ2ZVBhcmVudFJvdGF0aW9uRm9yQmlsbGJvYXJkO3RoaXMuX3VwZGF0ZUNhY2hlKCk7Y29uc3Qgbj10aGlzLl9jYWNoZTtuLnBpdm90TWF0cml4VXBkYXRlZD0hMSxuLmJpbGxib2FyZE1vZGU9dGhpcy5iaWxsYm9hcmRNb2RlLG4uaW5maW5pdGVEaXN0YW5jZT10aGlzLmluZmluaXRlRGlzdGFuY2Usbi5wYXJlbnQ9dGhpcy5fcGFyZW50Tm9kZSx0aGlzLl9jdXJyZW50UmVuZGVySWQ9dCx0aGlzLl9jaGlsZFVwZGF0ZUlkKz0xLHRoaXMuX2lzRGlydHk9ITEsdGhpcy5fcG9zaXRpb24uX2lzRGlydHk9ITEsdGhpcy5fcm90YXRpb24uX2lzRGlydHk9ITEsdGhpcy5fc2NhbGluZy5faXNEaXJ0eT0hMTtjb25zdCBhPXRoaXMuX2dldEVmZmVjdGl2ZVBhcmVudCgpLG89Si5fVG1wU2NhbGluZztsZXQgaD10aGlzLl9wb3NpdGlvbjtpZih0aGlzLl9pbmZpbml0ZURpc3RhbmNlJiYhdGhpcy5wYXJlbnQmJmkpe2NvbnN0IHU9aS5nZXRXb3JsZE1hdHJpeCgpLGQ9bmV3IHAodS5tWzEyXSx1Lm1bMTNdLHUubVsxNF0pO2g9Si5fVG1wVHJhbnNsYXRpb24saC5jb3B5RnJvbUZsb2F0cyh0aGlzLl9wb3NpdGlvbi54K2QueCx0aGlzLl9wb3NpdGlvbi55K2QueSx0aGlzLl9wb3NpdGlvbi56K2Queil9by5jb3B5RnJvbUZsb2F0cyh0aGlzLl9zY2FsaW5nLngqdGhpcy5zY2FsaW5nRGV0ZXJtaW5hbnQsdGhpcy5fc2NhbGluZy55KnRoaXMuc2NhbGluZ0RldGVybWluYW50LHRoaXMuX3NjYWxpbmcueip0aGlzLnNjYWxpbmdEZXRlcm1pbmFudCk7bGV0IGw7aWYodGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uPyh0aGlzLl9yb3RhdGlvblF1YXRlcm5pb24uX2lzRGlydHk9ITEsbD10aGlzLl9yb3RhdGlvblF1YXRlcm5pb24sdGhpcy5yZUludGVncmF0ZVJvdGF0aW9uSW50b1JvdGF0aW9uUXVhdGVybmlvbiYmdGhpcy5yb3RhdGlvbi5sZW5ndGhTcXVhcmVkKCkmJih0aGlzLl9yb3RhdGlvblF1YXRlcm5pb24ubXVsdGlwbHlJblBsYWNlKFouUm90YXRpb25ZYXdQaXRjaFJvbGwodGhpcy5fcm90YXRpb24ueSx0aGlzLl9yb3RhdGlvbi54LHRoaXMuX3JvdGF0aW9uLnopKSx0aGlzLl9yb3RhdGlvbi5jb3B5RnJvbUZsb2F0cygwLDAsMCkpKToobD1KLl9UbXBSb3RhdGlvbixaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy5fcm90YXRpb24ueSx0aGlzLl9yb3RhdGlvbi54LHRoaXMuX3JvdGF0aW9uLnosbCkpLHRoaXMuX3VzZVBpdm90TWF0cml4KXtjb25zdCB1PUQuTWF0cml4WzFdO3guU2NhbGluZ1RvUmVmKG8ueCxvLnksby56LHUpO2NvbnN0IGQ9RC5NYXRyaXhbMF07bC50b1JvdGF0aW9uTWF0cml4KGQpLHRoaXMuX3Bpdm90TWF0cml4Lm11bHRpcGx5VG9SZWYodSxELk1hdHJpeFs0XSksRC5NYXRyaXhbNF0ubXVsdGlwbHlUb1JlZihkLHRoaXMuX2xvY2FsTWF0cml4KSx0aGlzLl9wb3N0TXVsdGlwbHlQaXZvdE1hdHJpeCYmdGhpcy5fbG9jYWxNYXRyaXgubXVsdGlwbHlUb1JlZih0aGlzLl9waXZvdE1hdHJpeEludmVyc2UsdGhpcy5fbG9jYWxNYXRyaXgpLHRoaXMuX2xvY2FsTWF0cml4LmFkZFRyYW5zbGF0aW9uRnJvbUZsb2F0cyhoLngsaC55LGgueil9ZWxzZSB4LkNvbXBvc2VUb1JlZihvLGwsaCx0aGlzLl9sb2NhbE1hdHJpeCk7aWYoYSYmYS5nZXRXb3JsZE1hdHJpeCl7aWYoZSYmYS5jb21wdXRlV29ybGRNYXRyaXgoZSkscil7dGhpcy5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbD9hLmdldFdvcmxkTWF0cml4KCkubXVsdGlwbHlUb1JlZih0aGlzLl90cmFuc2Zvcm1Ub0JvbmVSZWZlcmFsLmdldFdvcmxkTWF0cml4KCksRC5NYXRyaXhbN10pOkQuTWF0cml4WzddLmNvcHlGcm9tKGEuZ2V0V29ybGRNYXRyaXgoKSk7Y29uc3QgdT1ELlZlY3RvcjNbNV0sZD1ELlZlY3RvcjNbNl0sZj1ELlF1YXRlcm5pb25bMF07RC5NYXRyaXhbN10uZGVjb21wb3NlKGQsZix1KSx4LlNjYWxpbmdUb1JlZihkLngsZC55LGQueixELk1hdHJpeFs3XSksRC5NYXRyaXhbN10uc2V0VHJhbnNsYXRpb24odSksSi5CaWxsYm9hcmRVc2VQYXJlbnRPcmllbnRhdGlvbiYmKHRoaXMuX3Bvc2l0aW9uLmFwcGx5Um90YXRpb25RdWF0ZXJuaW9uVG9SZWYoZix1KSx0aGlzLl9sb2NhbE1hdHJpeC5zZXRUcmFuc2xhdGlvbih1KSksdGhpcy5fbG9jYWxNYXRyaXgubXVsdGlwbHlUb1JlZihELk1hdHJpeFs3XSx0aGlzLl93b3JsZE1hdHJpeCl9ZWxzZSB0aGlzLl90cmFuc2Zvcm1Ub0JvbmVSZWZlcmFsPyh0aGlzLl9sb2NhbE1hdHJpeC5tdWx0aXBseVRvUmVmKGEuZ2V0V29ybGRNYXRyaXgoKSxELk1hdHJpeFs2XSksRC5NYXRyaXhbNl0ubXVsdGlwbHlUb1JlZih0aGlzLl90cmFuc2Zvcm1Ub0JvbmVSZWZlcmFsLmdldFdvcmxkTWF0cml4KCksdGhpcy5fd29ybGRNYXRyaXgpKTp0aGlzLl9sb2NhbE1hdHJpeC5tdWx0aXBseVRvUmVmKGEuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLl93b3JsZE1hdHJpeCk7dGhpcy5fbWFya1N5bmNlZFdpdGhQYXJlbnQoKX1lbHNlIHRoaXMuX3dvcmxkTWF0cml4LmNvcHlGcm9tKHRoaXMuX2xvY2FsTWF0cml4KTtpZihyJiZpJiZ0aGlzLmJpbGxib2FyZE1vZGUmJiFzKXtjb25zdCB1PUQuVmVjdG9yM1swXTtpZih0aGlzLl93b3JsZE1hdHJpeC5nZXRUcmFuc2xhdGlvblRvUmVmKHUpLEQuTWF0cml4WzFdLmNvcHlGcm9tKGkuZ2V0Vmlld01hdHJpeCgpKSxELk1hdHJpeFsxXS5zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMoMCwwLDApLEQuTWF0cml4WzFdLmludmVydFRvUmVmKEQuTWF0cml4WzBdKSwodGhpcy5iaWxsYm9hcmRNb2RlJkouQklMTEJPQVJETU9ERV9BTEwpIT09Si5CSUxMQk9BUkRNT0RFX0FMTCl7RC5NYXRyaXhbMF0uZGVjb21wb3NlKHZvaWQgMCxELlF1YXRlcm5pb25bMF0sdm9pZCAwKTtjb25zdCBkPUQuVmVjdG9yM1sxXTtELlF1YXRlcm5pb25bMF0udG9FdWxlckFuZ2xlc1RvUmVmKGQpLCh0aGlzLmJpbGxib2FyZE1vZGUmSi5CSUxMQk9BUkRNT0RFX1gpIT09Si5CSUxMQk9BUkRNT0RFX1gmJihkLng9MCksKHRoaXMuYmlsbGJvYXJkTW9kZSZKLkJJTExCT0FSRE1PREVfWSkhPT1KLkJJTExCT0FSRE1PREVfWSYmKGQueT0wKSwodGhpcy5iaWxsYm9hcmRNb2RlJkouQklMTEJPQVJETU9ERV9aKSE9PUouQklMTEJPQVJETU9ERV9aJiYoZC56PTApLHguUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihkLnksZC54LGQueixELk1hdHJpeFswXSl9dGhpcy5fd29ybGRNYXRyaXguc2V0VHJhbnNsYXRpb25Gcm9tRmxvYXRzKDAsMCwwKSx0aGlzLl93b3JsZE1hdHJpeC5tdWx0aXBseVRvUmVmKEQuTWF0cml4WzBdLHRoaXMuX3dvcmxkTWF0cml4KSx0aGlzLl93b3JsZE1hdHJpeC5zZXRUcmFuc2xhdGlvbihELlZlY3RvcjNbMF0pfWVsc2UgaWYociYmaSYmdGhpcy5iaWxsYm9hcmRNb2RlJiZzKXtjb25zdCB1PUQuVmVjdG9yM1swXTt0aGlzLl93b3JsZE1hdHJpeC5nZXRUcmFuc2xhdGlvblRvUmVmKHUpO2NvbnN0IGQ9aS5nbG9iYWxQb3NpdGlvbjt0aGlzLl93b3JsZE1hdHJpeC5pbnZlcnRUb1JlZihELk1hdHJpeFsxXSk7Y29uc3QgZj1ELlZlY3RvcjNbMV07cC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGQsRC5NYXRyaXhbMV0sZiksZi5ub3JtYWxpemUoKTtjb25zdCBfPS1NYXRoLmF0YW4yKGYueixmLngpK01hdGguUEkvMixFPU1hdGguc3FydChmLngqZi54K2YueipmLnopLG09LU1hdGguYXRhbjIoZi55LEUpO2lmKFouUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihfLG0sMCxELlF1YXRlcm5pb25bMF0pLCh0aGlzLmJpbGxib2FyZE1vZGUmSi5CSUxMQk9BUkRNT0RFX0FMTCkhPT1KLkJJTExCT0FSRE1PREVfQUxMKXtjb25zdCB2PUQuVmVjdG9yM1sxXTtELlF1YXRlcm5pb25bMF0udG9FdWxlckFuZ2xlc1RvUmVmKHYpLCh0aGlzLmJpbGxib2FyZE1vZGUmSi5CSUxMQk9BUkRNT0RFX1gpIT09Si5CSUxMQk9BUkRNT0RFX1gmJih2Lng9MCksKHRoaXMuYmlsbGJvYXJkTW9kZSZKLkJJTExCT0FSRE1PREVfWSkhPT1KLkJJTExCT0FSRE1PREVfWSYmKHYueT0wKSwodGhpcy5iaWxsYm9hcmRNb2RlJkouQklMTEJPQVJETU9ERV9aKSE9PUouQklMTEJPQVJETU9ERV9aJiYodi56PTApLHguUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih2Lnksdi54LHYueixELk1hdHJpeFswXSl9ZWxzZSB4LkZyb21RdWF0ZXJuaW9uVG9SZWYoRC5RdWF0ZXJuaW9uWzBdLEQuTWF0cml4WzBdKTt0aGlzLl93b3JsZE1hdHJpeC5zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMoMCwwLDApLHRoaXMuX3dvcmxkTWF0cml4Lm11bHRpcGx5VG9SZWYoRC5NYXRyaXhbMF0sdGhpcy5fd29ybGRNYXRyaXgpLHRoaXMuX3dvcmxkTWF0cml4LnNldFRyYW5zbGF0aW9uKEQuVmVjdG9yM1swXSl9cmV0dXJuIHRoaXMuaWdub3JlTm9uVW5pZm9ybVNjYWxpbmc/dGhpcy5fdXBkYXRlTm9uVW5pZm9ybVNjYWxpbmdTdGF0ZSghMSk6dGhpcy5fc2NhbGluZy5pc05vblVuaWZvcm1XaXRoaW5FcHNpbG9uKDFlLTYpP3RoaXMuX3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUoITApOmEmJmEuX25vblVuaWZvcm1TY2FsaW5nP3RoaXMuX3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUoYS5fbm9uVW5pZm9ybVNjYWxpbmcpOnRoaXMuX3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUoITEpLHRoaXMuX2FmdGVyQ29tcHV0ZVdvcmxkTWF0cml4KCksdGhpcy5fYWJzb2x1dGVQb3NpdGlvbi5jb3B5RnJvbUZsb2F0cyh0aGlzLl93b3JsZE1hdHJpeC5tWzEyXSx0aGlzLl93b3JsZE1hdHJpeC5tWzEzXSx0aGlzLl93b3JsZE1hdHJpeC5tWzE0XSksdGhpcy5faXNBYnNvbHV0ZVN5bmNlZD0hMSx0aGlzLm9uQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX3Bvc2VNYXRyaXh8fCh0aGlzLl9wb3NlTWF0cml4PXguSW52ZXJ0KHRoaXMuX3dvcmxkTWF0cml4KSksdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudElzRGlydHk9ITAsdGhpcy5fd29ybGRNYXRyaXh9cmVzZXRMb2NhbE1hdHJpeChlPSEwKXtpZih0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpLGUpe2NvbnN0IHQ9dGhpcy5nZXRDaGlsZHJlbigpO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7KytpKXtjb25zdCBzPXRbaV07aWYocyl7cy5jb21wdXRlV29ybGRNYXRyaXgoKTtjb25zdCByPUQuTWF0cml4WzBdO3MuX2xvY2FsTWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fbG9jYWxNYXRyaXgscik7Y29uc3Qgbj1ELlF1YXRlcm5pb25bMF07ci5kZWNvbXBvc2Uocy5zY2FsaW5nLG4scy5wb3NpdGlvbikscy5yb3RhdGlvblF1YXRlcm5pb24/cy5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20obik6bi50b0V1bGVyQW5nbGVzVG9SZWYocy5yb3RhdGlvbil9fX10aGlzLnNjYWxpbmcuY29weUZyb21GbG9hdHMoMSwxLDEpLHRoaXMucG9zaXRpb24uY29weUZyb21GbG9hdHMoMCwwLDApLHRoaXMucm90YXRpb24uY29weUZyb21GbG9hdHMoMCwwLDApLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb249Wi5JZGVudGl0eSgpKSx0aGlzLl93b3JsZE1hdHJpeD14LklkZW50aXR5KCl9X2FmdGVyQ29tcHV0ZVdvcmxkTWF0cml4KCl7fXJlZ2lzdGVyQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZShlKXtyZXR1cm4gdGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlLmFkZChlKSx0aGlzfXVucmVnaXN0ZXJBZnRlcldvcmxkTWF0cml4VXBkYXRlKGUpe3JldHVybiB0aGlzLm9uQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZU9ic2VydmFibGUucmVtb3ZlQ2FsbGJhY2soZSksdGhpc31nZXRQb3NpdGlvbkluQ2FtZXJhU3BhY2UoZT1udWxsKXtyZXR1cm4gZXx8KGU9dGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYSkscC5UcmFuc2Zvcm1Db29yZGluYXRlcyh0aGlzLmdldEFic29sdXRlUG9zaXRpb24oKSxlLmdldFZpZXdNYXRyaXgoKSl9Z2V0RGlzdGFuY2VUb0NhbWVyYShlPW51bGwpe3JldHVybiBlfHwoZT10aGlzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhKSx0aGlzLmdldEFic29sdXRlUG9zaXRpb24oKS5zdWJ0cmFjdChlLmdsb2JhbFBvc2l0aW9uKS5sZW5ndGgoKX1jbG9uZShlLHQsaSl7Y29uc3Qgcz1hZS5DbG9uZSgoKT0+bmV3IEooZSx0aGlzLmdldFNjZW5lKCkpLHRoaXMpO2lmKHMubmFtZT1lLHMuaWQ9ZSx0JiYocy5wYXJlbnQ9dCksIWkpe2NvbnN0IHI9dGhpcy5nZXREZXNjZW5kYW50cyghMCk7Zm9yKGxldCBuPTA7bjxyLmxlbmd0aDtuKyspe2NvbnN0IGE9cltuXTthLmNsb25lJiZhLmNsb25lKGUrIi4iK2EubmFtZSxzKX19cmV0dXJuIHN9c2VyaWFsaXplKGUpe2NvbnN0IHQ9YWUuU2VyaWFsaXplKHRoaXMsZSk7cmV0dXJuIHQudHlwZT10aGlzLmdldENsYXNzTmFtZSgpLHQudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCx0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuX3NlcmlhbGl6ZUFzUGFyZW50KHQpLHQubG9jYWxNYXRyaXg9dGhpcy5nZXRQaXZvdE1hdHJpeCgpLmFzQXJyYXkoKSx0LmlzRW5hYmxlZD10aGlzLmlzRW5hYmxlZCgpLHR9c3RhdGljIFBhcnNlKGUsdCxpKXtjb25zdCBzPWFlLlBhcnNlKCgpPT5uZXcgSihlLm5hbWUsdCksZSx0LGkpO3JldHVybiBlLmxvY2FsTWF0cml4P3Muc2V0UHJlVHJhbnNmb3JtTWF0cml4KHguRnJvbUFycmF5KGUubG9jYWxNYXRyaXgpKTplLnBpdm90TWF0cml4JiZzLnNldFBpdm90TWF0cml4KHguRnJvbUFycmF5KGUucGl2b3RNYXRyaXgpKSxzLnNldEVuYWJsZWQoZS5pc0VuYWJsZWQpLHMuX3dhaXRpbmdQYXJzZWRVbmlxdWVJZD1lLnVuaXF1ZUlkLGUucGFyZW50SWQhPT12b2lkIDAmJihzLl93YWl0aW5nUGFyZW50SWQ9ZS5wYXJlbnRJZCksZS5wYXJlbnRJbnN0YW5jZUluZGV4IT09dm9pZCAwJiYocy5fd2FpdGluZ1BhcmVudEluc3RhbmNlSW5kZXg9ZS5wYXJlbnRJbnN0YW5jZUluZGV4KSxzfWdldENoaWxkVHJhbnNmb3JtTm9kZXMoZSx0KXtjb25zdCBpPVtdO3JldHVybiB0aGlzLl9nZXREZXNjZW5kYW50cyhpLGUscz0+KCF0fHx0KHMpKSYmcyBpbnN0YW5jZW9mIEopLGl9ZGlzcG9zZShlLHQ9ITEpe2lmKHRoaXMuZ2V0U2NlbmUoKS5zdG9wQW5pbWF0aW9uKHRoaXMpLHRoaXMuZ2V0U2NlbmUoKS5yZW1vdmVUcmFuc2Zvcm1Ob2RlKHRoaXMpLHRoaXMuX3BhcmVudENvbnRhaW5lcil7Y29uc3QgaT10aGlzLl9wYXJlbnRDb250YWluZXIudHJhbnNmb3JtTm9kZXMuaW5kZXhPZih0aGlzKTtpPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIudHJhbnNmb3JtTm9kZXMuc3BsaWNlKGksMSksdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGx9aWYodGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlLmNsZWFyKCksZSl7Y29uc3QgaT10aGlzLmdldENoaWxkVHJhbnNmb3JtTm9kZXMoITApO2Zvcihjb25zdCBzIG9mIGkpcy5wYXJlbnQ9bnVsbCxzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCl9c3VwZXIuZGlzcG9zZShlLHQpfW5vcm1hbGl6ZVRvVW5pdEN1YmUoZT0hMCx0PSExLGkpe2xldCBzPW51bGwscj1udWxsO3QmJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj8ocj10aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tRmxvYXRzKDAsMCwwLDEpKTp0aGlzLnJvdGF0aW9uJiYocz10aGlzLnJvdGF0aW9uLmNsb25lKCksdGhpcy5yb3RhdGlvbi5jb3B5RnJvbUZsb2F0cygwLDAsMCkpKTtjb25zdCBuPXRoaXMuZ2V0SGllcmFyY2h5Qm91bmRpbmdWZWN0b3JzKGUsaSksYT1uLm1heC5zdWJ0cmFjdChuLm1pbiksbz1NYXRoLm1heChhLngsYS55LGEueik7aWYobz09PTApcmV0dXJuIHRoaXM7Y29uc3QgaD0xL287cmV0dXJuIHRoaXMuc2NhbGluZy5zY2FsZUluUGxhY2UoaCksdCYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiZyP3RoaXMucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKHIpOnRoaXMucm90YXRpb24mJnMmJnRoaXMucm90YXRpb24uY29weUZyb20ocykpLHRoaXN9X3N5bmNBYnNvbHV0ZVNjYWxpbmdBbmRSb3RhdGlvbigpe3RoaXMuX2lzQWJzb2x1dGVTeW5jZWR8fCh0aGlzLl93b3JsZE1hdHJpeC5kZWNvbXBvc2UodGhpcy5fYWJzb2x1dGVTY2FsaW5nLHRoaXMuX2Fic29sdXRlUm90YXRpb25RdWF0ZXJuaW9uKSx0aGlzLl9pc0Fic29sdXRlU3luY2VkPSEwKX19Si5CSUxMQk9BUkRNT0RFX05PTkU9MCxKLkJJTExCT0FSRE1PREVfWD0xLEouQklMTEJPQVJETU9ERV9ZPTIsSi5CSUxMQk9BUkRNT0RFX1o9NCxKLkJJTExCT0FSRE1PREVfQUxMPTcsSi5CSUxMQk9BUkRNT0RFX1VTRV9QT1NJVElPTj0xMjgsSi5CaWxsYm9hcmRVc2VQYXJlbnRPcmllbnRhdGlvbj0hMSxKLl9UbXBSb3RhdGlvbj1aLlplcm8oKSxKLl9UbXBTY2FsaW5nPXAuWmVybygpLEouX1RtcFRyYW5zbGF0aW9uPXAuWmVybygpLEouX0xvb2tBdFZlY3RvckNhY2hlPW5ldyBwKDAsMCwwKSxKLl9Sb3RhdGlvbkF4aXNDYWNoZT1uZXcgWixUKFtCdCgicG9zaXRpb24iKV0sSi5wcm90b3R5cGUsIl9wb3NpdGlvbiIsdm9pZCAwKSxUKFtCdCgicm90YXRpb24iKV0sSi5wcm90b3R5cGUsIl9yb3RhdGlvbiIsdm9pZCAwKSxUKFtSbigicm90YXRpb25RdWF0ZXJuaW9uIildLEoucHJvdG90eXBlLCJfcm90YXRpb25RdWF0ZXJuaW9uIix2b2lkIDApLFQoW0J0KCJzY2FsaW5nIildLEoucHJvdG90eXBlLCJfc2NhbGluZyIsdm9pZCAwKSxUKFtSKCJiaWxsYm9hcmRNb2RlIildLEoucHJvdG90eXBlLCJfYmlsbGJvYXJkTW9kZSIsdm9pZCAwKSxUKFtSKCldLEoucHJvdG90eXBlLCJzY2FsaW5nRGV0ZXJtaW5hbnQiLHZvaWQgMCksVChbUigiaW5maW5pdGVEaXN0YW5jZSIpXSxKLnByb3RvdHlwZSwiX2luZmluaXRlRGlzdGFuY2UiLHZvaWQgMCksVChbUigpXSxKLnByb3RvdHlwZSwiaWdub3JlTm9uVW5pZm9ybVNjYWxpbmciLHZvaWQgMCksVChbUigpXSxKLnByb3RvdHlwZSwicmVJbnRlZ3JhdGVSb3RhdGlvbkludG9Sb3RhdGlvblF1YXRlcm5pb24iLHZvaWQgMCk7Y2xhc3MgVW57Y29uc3RydWN0b3IoKXt0aGlzLl9jaGVja0NvbGxpc2lvbnM9ITEsdGhpcy5fY29sbGlzaW9uTWFzaz0tMSx0aGlzLl9jb2xsaXNpb25Hcm91cD0tMSx0aGlzLl9zdXJyb3VuZGluZ01lc2hlcz1udWxsLHRoaXMuX2NvbGxpZGVyPW51bGwsdGhpcy5fb2xkUG9zaXRpb25Gb3JDb2xsaXNpb25zPW5ldyBwKDAsMCwwKSx0aGlzLl9kaWZmUG9zaXRpb25Gb3JDb2xsaXNpb25zPW5ldyBwKDAsMCwwKSx0aGlzLl9jb2xsaXNpb25SZXNwb25zZT0hMH19Y2xhc3Mga257Y29uc3RydWN0b3IoKXt0aGlzLmZhY2V0TmI9MCx0aGlzLnBhcnRpdGlvbmluZ1N1YmRpdmlzaW9ucz0xMCx0aGlzLnBhcnRpdGlvbmluZ0JCb3hSYXRpbz0xLjAxLHRoaXMuZmFjZXREYXRhRW5hYmxlZD0hMSx0aGlzLmZhY2V0UGFyYW1ldGVycz17fSx0aGlzLmJiU2l6ZT1wLlplcm8oKSx0aGlzLnN1YkRpdj17bWF4OjEsWDoxLFk6MSxaOjF9LHRoaXMuZmFjZXREZXB0aFNvcnQ9ITEsdGhpcy5mYWNldERlcHRoU29ydEVuYWJsZWQ9ITF9fWNsYXNzIFZue2NvbnN0cnVjdG9yKCl7dGhpcy5faGFzVmVydGV4QWxwaGE9ITEsdGhpcy5fdXNlVmVydGV4Q29sb3JzPSEwLHRoaXMuX251bUJvbmVJbmZsdWVuY2Vycz00LHRoaXMuX2FwcGx5Rm9nPSEwLHRoaXMuX3JlY2VpdmVTaGFkb3dzPSExLHRoaXMuX2ZhY2V0RGF0YT1uZXcga24sdGhpcy5fdmlzaWJpbGl0eT0xLHRoaXMuX3NrZWxldG9uPW51bGwsdGhpcy5fbGF5ZXJNYXNrPTI2ODQzNTQ1NSx0aGlzLl9jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9ITAsdGhpcy5faXNBY3RpdmU9ITEsdGhpcy5fb25seUZvckluc3RhbmNlcz0hMSx0aGlzLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMSx0aGlzLl9vbmx5Rm9ySW5zdGFuY2VzSW50ZXJtZWRpYXRlPSExLHRoaXMuX2FjdEFzUmVndWxhck1lc2g9ITEsdGhpcy5fY3VycmVudExPRD1udWxsLHRoaXMuX2N1cnJlbnRMT0RJc1VwVG9EYXRlPSExLHRoaXMuX2NvbGxpc2lvblJldHJ5Q291bnQ9Myx0aGlzLl9tb3JwaFRhcmdldE1hbmFnZXI9bnVsbCx0aGlzLl9yZW5kZXJpbmdHcm91cElkPTAsdGhpcy5fYmFrZWRWZXJ0ZXhBbmltYXRpb25NYW5hZ2VyPW51bGwsdGhpcy5fbWF0ZXJpYWw9bnVsbCx0aGlzLl9wb3NpdGlvbnM9bnVsbCx0aGlzLl9wb2ludGVyT3ZlckRpc2FibGVNZXNoVGVzdGluZz0hMSx0aGlzLl9tZXNoQ29sbGlzaW9uRGF0YT1uZXcgVW4sdGhpcy5fZW5hYmxlRGlzdGFudFBpY2tpbmc9ITF9fWNsYXNzIG90IGV4dGVuZHMgSntjb25zdHJ1Y3RvcihlLHQ9bnVsbCl7c3dpdGNoKHN1cGVyKGUsdCwhMSksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mbz1uZXcgVm4sdGhpcy5fd2FpdGluZ01hdGVyaWFsSWQ9bnVsbCx0aGlzLmN1bGxpbmdTdHJhdGVneT1vdC5DVUxMSU5HU1RSQVRFR1lfQk9VTkRJTkdTUEhFUkVfT05MWSx0aGlzLm9uQ29sbGlkZU9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uTWF0ZXJpYWxDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLmRlZmluZWRGYWNpbmdGb3J3YXJkPSEwLHRoaXMuX29jY2x1c2lvblF1ZXJ5PW51bGwsdGhpcy5fcmVuZGVyaW5nR3JvdXA9bnVsbCx0aGlzLmFscGhhSW5kZXg9TnVtYmVyLk1BWF9WQUxVRSx0aGlzLmlzVmlzaWJsZT0hMCx0aGlzLmlzUGlja2FibGU9ITAsdGhpcy5pc05lYXJQaWNrYWJsZT0hMSx0aGlzLmlzTmVhckdyYWJiYWJsZT0hMSx0aGlzLnNob3dTdWJNZXNoZXNCb3VuZGluZ0JveD0hMSx0aGlzLmlzQmxvY2tlcj0hMSx0aGlzLmVuYWJsZVBvaW50ZXJNb3ZlRXZlbnRzPSExLHRoaXMub3V0bGluZUNvbG9yPXJlLlJlZCgpLHRoaXMub3V0bGluZVdpZHRoPS4wMix0aGlzLm92ZXJsYXlDb2xvcj1yZS5SZWQoKSx0aGlzLm92ZXJsYXlBbHBoYT0uNSx0aGlzLnVzZU9jdHJlZUZvclJlbmRlcmluZ1NlbGVjdGlvbj0hMCx0aGlzLnVzZU9jdHJlZUZvclBpY2tpbmc9ITAsdGhpcy51c2VPY3RyZWVGb3JDb2xsaXNpb25zPSEwLHRoaXMuYWx3YXlzU2VsZWN0QXNBY3RpdmVNZXNoPSExLHRoaXMuZG9Ob3RTeW5jQm91bmRpbmdJbmZvPSExLHRoaXMuYWN0aW9uTWFuYWdlcj1udWxsLHRoaXMuZWxsaXBzb2lkPW5ldyBwKC41LDEsLjUpLHRoaXMuZWxsaXBzb2lkT2Zmc2V0PW5ldyBwKDAsMCwwKSx0aGlzLmVkZ2VzV2lkdGg9MSx0aGlzLmVkZ2VzQ29sb3I9bmV3IG1lKDEsMCwwLDEpLHRoaXMuX2VkZ2VzUmVuZGVyZXI9bnVsbCx0aGlzLl9tYXN0ZXJNZXNoPW51bGwsdGhpcy5fYm91bmRpbmdJbmZvPW51bGwsdGhpcy5fYm91bmRpbmdJbmZvSXNEaXJ0eT0hMCx0aGlzLl9yZW5kZXJJZD0wLHRoaXMuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzPW5ldyBBcnJheSx0aGlzLl91bkluZGV4ZWQ9ITEsdGhpcy5fbGlnaHRTb3VyY2VzPW5ldyBBcnJheSx0aGlzLl93YWl0aW5nRGF0YT17bG9kczpudWxsLGFjdGlvbnM6bnVsbCxmcmVlemVXb3JsZE1hdHJpeDpudWxsfSx0aGlzLl9ib25lc1RyYW5zZm9ybU1hdHJpY2VzPW51bGwsdGhpcy5fdHJhbnNmb3JtTWF0cml4VGV4dHVyZT1udWxsLHRoaXMub25SZWJ1aWxkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlPShpLHMscj1udWxsKT0+e3Muc3VidHJhY3RUb1JlZih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb2xkUG9zaXRpb25Gb3JDb2xsaXNpb25zLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9kaWZmUG9zaXRpb25Gb3JDb2xsaXNpb25zKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fZGlmZlBvc2l0aW9uRm9yQ29sbGlzaW9ucy5sZW5ndGgoKT5JLkNvbGxpc2lvbnNFcHNpbG9uJiZ0aGlzLnBvc2l0aW9uLmFkZEluUGxhY2UodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2RpZmZQb3NpdGlvbkZvckNvbGxpc2lvbnMpLHImJnRoaXMub25Db2xsaWRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMociksdGhpcy5vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5wb3NpdGlvbil9LHQ9dGhpcy5nZXRTY2VuZSgpLHQuYWRkTWVzaCh0aGlzKSx0aGlzLl9yZXN5bmNMaWdodFNvdXJjZXMoKSx0aGlzLl91bmlmb3JtQnVmZmVyPW5ldyBWKHRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKSx2b2lkIDAsdm9pZCAwLGUsIXRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5pc1dlYkdQVSksdGhpcy5fYnVpbGRVbmlmb3JtTGF5b3V0KCksdC5wZXJmb3JtYW5jZVByaW9yaXR5KXtjYXNlIEN0LkFnZ3Jlc3NpdmU6dGhpcy5kb05vdFN5bmNCb3VuZGluZ0luZm89ITA7Y2FzZSBDdC5JbnRlcm1lZGlhdGU6dGhpcy5hbHdheXNTZWxlY3RBc0FjdGl2ZU1lc2g9ITAsdGhpcy5pc1BpY2thYmxlPSExO2JyZWFrfX1zdGF0aWMgZ2V0IEJJTExCT0FSRE1PREVfTk9ORSgpe3JldHVybiBKLkJJTExCT0FSRE1PREVfTk9ORX1zdGF0aWMgZ2V0IEJJTExCT0FSRE1PREVfWCgpe3JldHVybiBKLkJJTExCT0FSRE1PREVfWH1zdGF0aWMgZ2V0IEJJTExCT0FSRE1PREVfWSgpe3JldHVybiBKLkJJTExCT0FSRE1PREVfWX1zdGF0aWMgZ2V0IEJJTExCT0FSRE1PREVfWigpe3JldHVybiBKLkJJTExCT0FSRE1PREVfWn1zdGF0aWMgZ2V0IEJJTExCT0FSRE1PREVfQUxMKCl7cmV0dXJuIEouQklMTEJPQVJETU9ERV9BTEx9c3RhdGljIGdldCBCSUxMQk9BUkRNT0RFX1VTRV9QT1NJVElPTigpe3JldHVybiBKLkJJTExCT0FSRE1PREVfVVNFX1BPU0lUSU9OfWdldCBmYWNldE5iKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldE5ifWdldCBwYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLnBhcnRpdGlvbmluZ1N1YmRpdmlzaW9uc31zZXQgcGFydGl0aW9uaW5nU3ViZGl2aXNpb25zKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnM9ZX1nZXQgcGFydGl0aW9uaW5nQkJveFJhdGlvKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5wYXJ0aXRpb25pbmdCQm94UmF0aW99c2V0IHBhcnRpdGlvbmluZ0JCb3hSYXRpbyhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEucGFydGl0aW9uaW5nQkJveFJhdGlvPWV9Z2V0IG11c3REZXB0aFNvcnRGYWNldHMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0RGVwdGhTb3J0fXNldCBtdXN0RGVwdGhTb3J0RmFjZXRzKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldERlcHRoU29ydD1lfWdldCBmYWNldERlcHRoU29ydEZyb20oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0RGVwdGhTb3J0RnJvbX1zZXQgZmFjZXREZXB0aFNvcnRGcm9tKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldERlcHRoU29ydEZyb209ZX1nZXQgY29sbGlzaW9uUmV0cnlDb3VudCgpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jb2xsaXNpb25SZXRyeUNvdW50fXNldCBjb2xsaXNpb25SZXRyeUNvdW50KGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbGxpc2lvblJldHJ5Q291bnQ9ZX1nZXQgaXNGYWNldERhdGFFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldERhdGFFbmFibGVkfWdldCBtb3JwaFRhcmdldE1hbmFnZXIoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbW9ycGhUYXJnZXRNYW5hZ2VyfXNldCBtb3JwaFRhcmdldE1hbmFnZXIoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbW9ycGhUYXJnZXRNYW5hZ2VyIT09ZSYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21vcnBoVGFyZ2V0TWFuYWdlcj1lLHRoaXMuX3N5bmNHZW9tZXRyeVdpdGhNb3JwaFRhcmdldE1hbmFnZXIoKSl9Z2V0IGJha2VkVmVydGV4QW5pbWF0aW9uTWFuYWdlcigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9iYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXJ9c2V0IGJha2VkVmVydGV4QW5pbWF0aW9uTWFuYWdlcihlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9iYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXIhPT1lJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYmFrZWRWZXJ0ZXhBbmltYXRpb25NYW5hZ2VyPWUsdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCkpfV9zeW5jR2VvbWV0cnlXaXRoTW9ycGhUYXJnZXRNYW5hZ2VyKCl7fV91cGRhdGVOb25Vbmlmb3JtU2NhbGluZ1N0YXRlKGUpe3JldHVybiBzdXBlci5fdXBkYXRlTm9uVW5pZm9ybVNjYWxpbmdTdGF0ZShlKT8odGhpcy5fbWFya1N1Yk1lc2hlc0FzTWlzY0RpcnR5KCksITApOiExfXNldCBvbkNvbGxpZGUoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29uQ29sbGlkZU9ic2VydmVyJiZ0aGlzLm9uQ29sbGlkZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbkNvbGxpZGVPYnNlcnZlciksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29uQ29sbGlkZU9ic2VydmVyPXRoaXMub25Db2xsaWRlT2JzZXJ2YWJsZS5hZGQoZSl9c2V0IG9uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2UoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZlciYmdGhpcy5vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZlciksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX29uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZlcj10aGlzLm9uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZhYmxlLmFkZChlKX1nZXQgdmlzaWJpbGl0eSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl92aXNpYmlsaXR5fXNldCB2aXNpYmlsaXR5KGUpe2lmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Zpc2liaWxpdHk9PT1lKXJldHVybjtjb25zdCB0PXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Zpc2liaWxpdHk7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdmlzaWJpbGl0eT1lLCh0PT09MSYmZSE9PTF8fHQhPT0xJiZlPT09MSkmJnRoaXMuX21hcmtTdWJNZXNoZXNBc01pc2NEaXJ0eSgpfWdldCBwb2ludGVyT3ZlckRpc2FibGVNZXNoVGVzdGluZygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb2ludGVyT3ZlckRpc2FibGVNZXNoVGVzdGluZ31zZXQgcG9pbnRlck92ZXJEaXNhYmxlTWVzaFRlc3RpbmcoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9pbnRlck92ZXJEaXNhYmxlTWVzaFRlc3Rpbmc9ZX1nZXQgcmVuZGVyaW5nR3JvdXBJZCgpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9yZW5kZXJpbmdHcm91cElkfXNldCByZW5kZXJpbmdHcm91cElkKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3JlbmRlcmluZ0dyb3VwSWQ9ZX1nZXQgbWF0ZXJpYWwoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWx9c2V0IG1hdGVyaWFsKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsIT09ZSYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsJiZ0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbC5tZXNoTWFwJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWwubWVzaE1hcFt0aGlzLnVuaXF1ZUlkXT12b2lkIDApLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsPWUsZSYmZS5tZXNoTWFwJiYoZS5tZXNoTWFwW3RoaXMudW5pcXVlSWRdPXRoaXMpLHRoaXMub25NYXRlcmlhbENoYW5nZWRPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZ0aGlzLm9uTWF0ZXJpYWxDaGFuZ2VkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5zdWJNZXNoZXMmJih0aGlzLnJlc2V0RHJhd0NhY2hlKCksdGhpcy5fdW5CaW5kRWZmZWN0KCkpKX1nZXRNYXRlcmlhbEZvclJlbmRlclBhc3MoZSl7dmFyIHQ7cmV0dXJuKHQ9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWxGb3JSZW5kZXJQYXNzKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnRbZV19c2V0TWF0ZXJpYWxGb3JSZW5kZXJQYXNzKGUsdCl7dGhpcy5yZXNldERyYXdDYWNoZShlKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbEZvclJlbmRlclBhc3N8fCh0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbEZvclJlbmRlclBhc3M9W10pLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsRm9yUmVuZGVyUGFzc1tlXT10fWdldCByZWNlaXZlU2hhZG93cygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9yZWNlaXZlU2hhZG93c31zZXQgcmVjZWl2ZVNoYWRvd3MoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcmVjZWl2ZVNoYWRvd3MhPT1lJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcmVjZWl2ZVNoYWRvd3M9ZSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KCkpfWdldCBoYXNWZXJ0ZXhBbHBoYSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9oYXNWZXJ0ZXhBbHBoYX1zZXQgaGFzVmVydGV4QWxwaGEoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faGFzVmVydGV4QWxwaGEhPT1lJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faGFzVmVydGV4QWxwaGE9ZSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNNaXNjRGlydHkoKSl9Z2V0IHVzZVZlcnRleENvbG9ycygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl91c2VWZXJ0ZXhDb2xvcnN9c2V0IHVzZVZlcnRleENvbG9ycyhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl91c2VWZXJ0ZXhDb2xvcnMhPT1lJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdXNlVmVydGV4Q29sb3JzPWUsdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCkpfWdldCBjb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzfXNldCBjb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzIT09ZSYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVycz1lLHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpKX1nZXQgbnVtQm9uZUluZmx1ZW5jZXJzKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX251bUJvbmVJbmZsdWVuY2Vyc31zZXQgbnVtQm9uZUluZmx1ZW5jZXJzKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX251bUJvbmVJbmZsdWVuY2VycyE9PWUmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9udW1Cb25lSW5mbHVlbmNlcnM9ZSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKSl9Z2V0IGFwcGx5Rm9nKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FwcGx5Rm9nfXNldCBhcHBseUZvZyhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hcHBseUZvZyE9PWUmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hcHBseUZvZz1lLHRoaXMuX21hcmtTdWJNZXNoZXNBc01pc2NEaXJ0eSgpKX1nZXQgZW5hYmxlRGlzdGFudFBpY2tpbmcoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZW5hYmxlRGlzdGFudFBpY2tpbmd9c2V0IGVuYWJsZURpc3RhbnRQaWNraW5nKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2VuYWJsZURpc3RhbnRQaWNraW5nPWV9Z2V0IGxheWVyTWFzaygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9sYXllck1hc2t9c2V0IGxheWVyTWFzayhlKXtlIT09dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbGF5ZXJNYXNrJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbGF5ZXJNYXNrPWUsdGhpcy5fcmVzeW5jTGlnaHRTb3VyY2VzKCkpfWdldCBjb2xsaXNpb25NYXNrKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaXNpb25NYXNrfXNldCBjb2xsaXNpb25NYXNrKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaXNpb25NYXNrPWlzTmFOKGUpPy0xOmV9Z2V0IGNvbGxpc2lvblJlc3BvbnNlKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaXNpb25SZXNwb25zZX1zZXQgY29sbGlzaW9uUmVzcG9uc2UoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpc2lvblJlc3BvbnNlPWV9Z2V0IGNvbGxpc2lvbkdyb3VwKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaXNpb25Hcm91cH1zZXQgY29sbGlzaW9uR3JvdXAoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpc2lvbkdyb3VwPWlzTmFOKGUpPy0xOmV9Z2V0IHN1cnJvdW5kaW5nTWVzaGVzKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9zdXJyb3VuZGluZ01lc2hlc31zZXQgc3Vycm91bmRpbmdNZXNoZXMoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX3N1cnJvdW5kaW5nTWVzaGVzPWV9Z2V0IGxpZ2h0U291cmNlcygpe3JldHVybiB0aGlzLl9saWdodFNvdXJjZXN9Z2V0IF9wb3NpdGlvbnMoKXtyZXR1cm4gbnVsbH1zZXQgc2tlbGV0b24oZSl7Y29uc3QgdD10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9za2VsZXRvbjt0JiZ0Lm5lZWRJbml0aWFsU2tpbk1hdHJpeCYmdC5fdW5yZWdpc3Rlck1lc2hXaXRoUG9zZU1hdHJpeCh0aGlzKSxlJiZlLm5lZWRJbml0aWFsU2tpbk1hdHJpeCYmZS5fcmVnaXN0ZXJNZXNoV2l0aFBvc2VNYXRyaXgodGhpcyksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fc2tlbGV0b249ZSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9za2VsZXRvbnx8KHRoaXMuX2JvbmVzVHJhbnNmb3JtTWF0cmljZXM9bnVsbCksdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCl9Z2V0IHNrZWxldG9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3NrZWxldG9ufV9idWlsZFVuaWZvcm1MYXlvdXQoKXt0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oIndvcmxkIiwxNiksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2aXNpYmlsaXR5IiwxKSx0aGlzLl91bmlmb3JtQnVmZmVyLmNyZWF0ZSgpfXRyYW5zZmVyVG9FZmZlY3QoZSl7Y29uc3QgdD10aGlzLl91bmlmb3JtQnVmZmVyO3QudXBkYXRlTWF0cml4KCJ3b3JsZCIsZSksdC51cGRhdGVGbG9hdCgidmlzaWJpbGl0eSIsdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdmlzaWJpbGl0eSksdC51cGRhdGUoKX1nZXRNZXNoVW5pZm9ybUJ1ZmZlcigpe3JldHVybiB0aGlzLl91bmlmb3JtQnVmZmVyfWdldENsYXNzTmFtZSgpe3JldHVybiJBYnN0cmFjdE1lc2gifXRvU3RyaW5nKGUpe2xldCB0PSJOYW1lOiAiK3RoaXMubmFtZSsiLCBpc0luc3RhbmNlOiAiKyh0aGlzLmdldENsYXNzTmFtZSgpIT09Ikluc3RhbmNlZE1lc2giPyJZRVMiOiJOTyIpO3QrPSIsICMgb2Ygc3VibWVzaGVzOiAiKyh0aGlzLnN1Yk1lc2hlcz90aGlzLnN1Yk1lc2hlcy5sZW5ndGg6MCk7Y29uc3QgaT10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9za2VsZXRvbjtyZXR1cm4gaSYmKHQrPSIsIHNrZWxldG9uOiAiK2kubmFtZSksZSYmKHQrPSIsIGJpbGxib2FyZCBtb2RlOiAiK1siTk9ORSIsIlgiLCJZIixudWxsLCJaIixudWxsLG51bGwsIkFMTCJdW3RoaXMuYmlsbGJvYXJkTW9kZV0sdCs9IiwgZnJlZXplIHdybGQgbWF0OiAiKyh0aGlzLl9pc1dvcmxkTWF0cml4RnJvemVufHx0aGlzLl93YWl0aW5nRGF0YS5mcmVlemVXb3JsZE1hdHJpeD8iWUVTIjoiTk8iKSksdH1fZ2V0RWZmZWN0aXZlUGFyZW50KCl7cmV0dXJuIHRoaXMuX21hc3Rlck1lc2gmJnRoaXMuYmlsbGJvYXJkTW9kZSE9PUouQklMTEJPQVJETU9ERV9OT05FP3RoaXMuX21hc3Rlck1lc2g6c3VwZXIuX2dldEVmZmVjdGl2ZVBhcmVudCgpfV9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcihlLHQ9ITApe2lmKHRoaXMuYWN0aW9uTWFuYWdlciYmKHR8fHRoaXMuYWN0aW9uTWFuYWdlci5pc1JlY3Vyc2l2ZSkpaWYoZSl7aWYodGhpcy5hY3Rpb25NYW5hZ2VyLmhhc1NwZWNpZmljVHJpZ2dlcihlKSlyZXR1cm4gdGhpcy5hY3Rpb25NYW5hZ2VyfWVsc2UgcmV0dXJuIHRoaXMuYWN0aW9uTWFuYWdlcjtyZXR1cm4gdGhpcy5wYXJlbnQ/dGhpcy5wYXJlbnQuX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKGUsITEpOm51bGx9X3JlYnVpbGQoZT0hMSl7aWYodGhpcy5vblJlYnVpbGRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9vY2NsdXNpb25RdWVyeSE9PW51bGwmJih0aGlzLl9vY2NsdXNpb25RdWVyeT1udWxsKSwhIXRoaXMuc3ViTWVzaGVzKWZvcihjb25zdCB0IG9mIHRoaXMuc3ViTWVzaGVzKXQuX3JlYnVpbGQoKX1fcmVzeW5jTGlnaHRTb3VyY2VzKCl7dGhpcy5fbGlnaHRTb3VyY2VzLmxlbmd0aD0wO2Zvcihjb25zdCBlIG9mIHRoaXMuZ2V0U2NlbmUoKS5saWdodHMpZS5pc0VuYWJsZWQoKSYmZS5jYW5BZmZlY3RNZXNoKHRoaXMpJiZ0aGlzLl9saWdodFNvdXJjZXMucHVzaChlKTt0aGlzLl9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KCl9X3Jlc3luY0xpZ2h0U291cmNlKGUpe2NvbnN0IHQ9ZS5pc0VuYWJsZWQoKSYmZS5jYW5BZmZlY3RNZXNoKHRoaXMpLGk9dGhpcy5fbGlnaHRTb3VyY2VzLmluZGV4T2YoZSk7bGV0IHM9ITE7aWYoaT09PS0xKXtpZighdClyZXR1cm47dGhpcy5fbGlnaHRTb3VyY2VzLnB1c2goZSl9ZWxzZXtpZih0KXJldHVybjtzPSEwLHRoaXMuX2xpZ2h0U291cmNlcy5zcGxpY2UoaSwxKX10aGlzLl9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KHMpfV91bkJpbmRFZmZlY3QoKXtmb3IoY29uc3QgZSBvZiB0aGlzLnN1Yk1lc2hlcyllLnNldEVmZmVjdChudWxsKX1fcmVtb3ZlTGlnaHRTb3VyY2UoZSx0KXtjb25zdCBpPXRoaXMuX2xpZ2h0U291cmNlcy5pbmRleE9mKGUpO2khPT0tMSYmKHRoaXMuX2xpZ2h0U291cmNlcy5zcGxpY2UoaSwxKSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KHQpKX1fbWFya1N1Yk1lc2hlc0FzRGlydHkoZSl7aWYodGhpcy5zdWJNZXNoZXMpZm9yKGNvbnN0IHQgb2YgdGhpcy5zdWJNZXNoZXMpZm9yKGxldCBpPTA7aTx0Ll9kcmF3V3JhcHBlcnMubGVuZ3RoOysraSl7Y29uc3Qgcz10Ll9kcmF3V3JhcHBlcnNbaV07IXN8fCFzLmRlZmluZXN8fCFzLmRlZmluZXMubWFya0FsbEFzRGlydHl8fGUocy5kZWZpbmVzKX19X21hcmtTdWJNZXNoZXNBc0xpZ2h0RGlydHkoZT0hMSl7dGhpcy5fbWFya1N1Yk1lc2hlc0FzRGlydHkodD0+dC5tYXJrQXNMaWdodERpcnR5KGUpKX1fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCl7dGhpcy5fbWFya1N1Yk1lc2hlc0FzRGlydHkoZT0+ZS5tYXJrQXNBdHRyaWJ1dGVzRGlydHkoKSl9X21hcmtTdWJNZXNoZXNBc01pc2NEaXJ0eSgpe3RoaXMuX21hcmtTdWJNZXNoZXNBc0RpcnR5KGU9PmUubWFya0FzTWlzY0RpcnR5KCkpfW1hcmtBc0RpcnR5KGUpe3JldHVybiB0aGlzLl9jdXJyZW50UmVuZGVySWQ9TnVtYmVyLk1BWF9WQUxVRSx0aGlzLl9pc0RpcnR5PSEwLHRoaXN9cmVzZXREcmF3Q2FjaGUoZSl7aWYodGhpcy5zdWJNZXNoZXMpZm9yKGNvbnN0IHQgb2YgdGhpcy5zdWJNZXNoZXMpdC5yZXNldERyYXdDYWNoZShlKX1nZXQgaXNCbG9ja2VkKCl7cmV0dXJuITF9Z2V0TE9EKGUpe3JldHVybiB0aGlzfWdldFRvdGFsVmVydGljZXMoKXtyZXR1cm4gMH1nZXRUb3RhbEluZGljZXMoKXtyZXR1cm4gMH1nZXRJbmRpY2VzKCl7cmV0dXJuIG51bGx9Z2V0VmVydGljZXNEYXRhKGUpe3JldHVybiBudWxsfXNldFZlcnRpY2VzRGF0YShlLHQsaSxzKXtyZXR1cm4gdGhpc311cGRhdGVWZXJ0aWNlc0RhdGEoZSx0LGkscyl7cmV0dXJuIHRoaXN9c2V0SW5kaWNlcyhlLHQpe3JldHVybiB0aGlzfWlzVmVydGljZXNEYXRhUHJlc2VudChlKXtyZXR1cm4hMX1nZXRCb3VuZGluZ0luZm8oKXtyZXR1cm4gdGhpcy5fbWFzdGVyTWVzaD90aGlzLl9tYXN0ZXJNZXNoLmdldEJvdW5kaW5nSW5mbygpOih0aGlzLl9ib3VuZGluZ0luZm9Jc0RpcnR5JiYodGhpcy5fYm91bmRpbmdJbmZvSXNEaXJ0eT0hMSx0aGlzLl91cGRhdGVCb3VuZGluZ0luZm8oKSksdGhpcy5fYm91bmRpbmdJbmZvKX1zZXRCb3VuZGluZ0luZm8oZSl7cmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbz1lLHRoaXN9Z2V0IGhhc0JvdW5kaW5nSW5mbygpe3JldHVybiB0aGlzLl9ib3VuZGluZ0luZm8hPT1udWxsfWJ1aWxkQm91bmRpbmdJbmZvKGUsdCxpKXtyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvPW5ldyBkdChlLHQsaSksdGhpcy5fYm91bmRpbmdJbmZvfW5vcm1hbGl6ZVRvVW5pdEN1YmUoZT0hMCx0PSExLGkpe3JldHVybiBzdXBlci5ub3JtYWxpemVUb1VuaXRDdWJlKGUsdCxpKX1nZXQgdXNlQm9uZXMoKXtyZXR1cm4gdGhpcy5za2VsZXRvbiYmdGhpcy5nZXRTY2VuZSgpLnNrZWxldG9uc0VuYWJsZWQmJnRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTWF0cmljZXNJbmRpY2VzS2luZCkmJnRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTWF0cmljZXNXZWlnaHRzS2luZCl9X3ByZUFjdGl2YXRlKCl7fV9wcmVBY3RpdmF0ZUZvckludGVybWVkaWF0ZVJlbmRlcmluZyhlKXt9X2FjdGl2YXRlKGUsdCl7cmV0dXJuIHRoaXMuX3JlbmRlcklkPWUsITB9X3Bvc3RBY3RpdmF0ZSgpe31fZnJlZXplKCl7fV91bkZyZWV6ZSgpe31nZXRXb3JsZE1hdHJpeCgpe3JldHVybiB0aGlzLl9tYXN0ZXJNZXNoJiZ0aGlzLmJpbGxib2FyZE1vZGU9PT1KLkJJTExCT0FSRE1PREVfTk9ORT90aGlzLl9tYXN0ZXJNZXNoLmdldFdvcmxkTWF0cml4KCk6c3VwZXIuZ2V0V29ybGRNYXRyaXgoKX1fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpe3JldHVybiB0aGlzLl9tYXN0ZXJNZXNoP3RoaXMuX21hc3Rlck1lc2guX2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKTpzdXBlci5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpfWdldCBpc0FuSW5zdGFuY2UoKXtyZXR1cm4hMX1nZXQgaGFzSW5zdGFuY2VzKCl7cmV0dXJuITF9Z2V0IGhhc1RoaW5JbnN0YW5jZXMoKXtyZXR1cm4hMX1tb3ZlUE9WKGUsdCxpKXtyZXR1cm4gdGhpcy5wb3NpdGlvbi5hZGRJblBsYWNlKHRoaXMuY2FsY01vdmVQT1YoZSx0LGkpKSx0aGlzfWNhbGNNb3ZlUE9WKGUsdCxpKXtjb25zdCBzPW5ldyB4Oyh0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj90aGlzLnJvdGF0aW9uUXVhdGVybmlvbjpaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsKHRoaXMucm90YXRpb24ueSx0aGlzLnJvdGF0aW9uLngsdGhpcy5yb3RhdGlvbi56KSkudG9Sb3RhdGlvbk1hdHJpeChzKTtjb25zdCBuPXAuWmVybygpLGE9dGhpcy5kZWZpbmVkRmFjaW5nRm9yd2FyZD8tMToxO3JldHVybiBwLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGUqYSx0LGkqYSxzLG4pLG59cm90YXRlUE9WKGUsdCxpKXtyZXR1cm4gdGhpcy5yb3RhdGlvbi5hZGRJblBsYWNlKHRoaXMuY2FsY1JvdGF0ZVBPVihlLHQsaSkpLHRoaXN9Y2FsY1JvdGF0ZVBPVihlLHQsaSl7Y29uc3Qgcz10aGlzLmRlZmluZWRGYWNpbmdGb3J3YXJkPzE6LTE7cmV0dXJuIG5ldyBwKGUqcyx0LGkqcyl9cmVmcmVzaEJvdW5kaW5nSW5mbyhlPSExLHQ9ITEpe3JldHVybiB0aGlzLl9ib3VuZGluZ0luZm8mJnRoaXMuX2JvdW5kaW5nSW5mby5pc0xvY2tlZD90aGlzOih0aGlzLl9yZWZyZXNoQm91bmRpbmdJbmZvKHRoaXMuX2dldFBvc2l0aW9uRGF0YShlLHQpLG51bGwpLHRoaXMpfV9yZWZyZXNoQm91bmRpbmdJbmZvKGUsdCl7aWYoZSl7Y29uc3QgaT15cihlLDAsdGhpcy5nZXRUb3RhbFZlcnRpY2VzKCksdCk7dGhpcy5fYm91bmRpbmdJbmZvP3RoaXMuX2JvdW5kaW5nSW5mby5yZUNvbnN0cnVjdChpLm1pbmltdW0saS5tYXhpbXVtKTp0aGlzLl9ib3VuZGluZ0luZm89bmV3IGR0KGkubWluaW11bSxpLm1heGltdW0pfWlmKHRoaXMuc3ViTWVzaGVzKWZvcihsZXQgaT0wO2k8dGhpcy5zdWJNZXNoZXMubGVuZ3RoO2krKyl0aGlzLnN1Yk1lc2hlc1tpXS5yZWZyZXNoQm91bmRpbmdJbmZvKGUpO3RoaXMuX3VwZGF0ZUJvdW5kaW5nSW5mbygpfV9nZXREYXRhKGU9ITEsdD0hMSxpLHM9Zy5Qb3NpdGlvbktpbmQpe2lmKGk9aT8/dGhpcy5nZXRWZXJ0aWNlc0RhdGEocykuc2xpY2UoKSxpJiZ0JiZ0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcil7bGV0IHI9MCxuPTA7Zm9yKGxldCBhPTA7YTxpLmxlbmd0aDthKyspe2ZvcihsZXQgbz0wO288dGhpcy5tb3JwaFRhcmdldE1hbmFnZXIubnVtVGFyZ2V0cztvKyspe2NvbnN0IGg9dGhpcy5tb3JwaFRhcmdldE1hbmFnZXIuZ2V0VGFyZ2V0KG8pLGw9aC5pbmZsdWVuY2U7aWYobD4wKXtjb25zdCB1PWguZ2V0UG9zaXRpb25zKCk7dSYmKGlbYV0rPSh1W2FdLWlbYV0pKmwpfX1pZihyKysscz09PWcuUG9zaXRpb25LaW5kJiZ0aGlzLl9wb3NpdGlvbnMmJnI9PT0zKXtyPTA7Y29uc3Qgbz1uKjM7dGhpcy5fcG9zaXRpb25zW24rK10uY29weUZyb21GbG9hdHMoaVtvXSxpW28rMV0saVtvKzJdKX19fWlmKGkmJmUmJnRoaXMuc2tlbGV0b24pe2NvbnN0IHI9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNLaW5kKSxuPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzS2luZCk7aWYobiYmcil7Y29uc3QgYT10aGlzLm51bUJvbmVJbmZsdWVuY2Vycz40LG89YT90aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCk6bnVsbCxoPWE/dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpOm51bGwsbD10aGlzLnNrZWxldG9uLmdldFRyYW5zZm9ybU1hdHJpY2VzKHRoaXMpLHU9RC5WZWN0b3IzWzBdLGQ9RC5NYXRyaXhbMF0sZj1ELk1hdHJpeFsxXTtsZXQgXz0wO2ZvcihsZXQgRT0wO0U8aS5sZW5ndGg7RSs9MyxfKz00KXtkLnJlc2V0KCk7bGV0IG0sdjtmb3IobT0wO208NDttKyspdj1uW18rbV0sdj4wJiYoeC5Gcm9tRmxvYXQzMkFycmF5VG9SZWZTY2FsZWQobCxNYXRoLmZsb29yKHJbXyttXSoxNiksdixmKSxkLmFkZFRvU2VsZihmKSk7aWYoYSlmb3IobT0wO208NDttKyspdj1oW18rbV0sdj4wJiYoeC5Gcm9tRmxvYXQzMkFycmF5VG9SZWZTY2FsZWQobCxNYXRoLmZsb29yKG9bXyttXSoxNiksdixmKSxkLmFkZFRvU2VsZihmKSk7cz09PWcuTm9ybWFsS2luZD9wLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZihpW0VdLGlbRSsxXSxpW0UrMl0sZCx1KTpwLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGlbRV0saVtFKzFdLGlbRSsyXSxkLHUpLHUudG9BcnJheShpLEUpLHM9PT1nLlBvc2l0aW9uS2luZCYmdGhpcy5fcG9zaXRpb25zJiZ0aGlzLl9wb3NpdGlvbnNbRS8zXS5jb3B5RnJvbSh1KX19fXJldHVybiBpfWdldE5vcm1hbHNEYXRhKGU9ITEsdD0hMSl7cmV0dXJuIHRoaXMuX2dldERhdGEoZSx0LG51bGwsZy5Ob3JtYWxLaW5kKX1nZXRQb3NpdGlvbkRhdGEoZT0hMSx0PSExLGkpe3JldHVybiB0aGlzLl9nZXREYXRhKGUsdCxpLGcuUG9zaXRpb25LaW5kKX1fZ2V0UG9zaXRpb25EYXRhKGUsdCl7dmFyIGk7bGV0IHM9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpO2lmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Bvc2l0aW9ucyYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Bvc2l0aW9ucz1udWxsKSxzJiYoZSYmdGhpcy5za2VsZXRvbnx8dCYmdGhpcy5tb3JwaFRhcmdldE1hbmFnZXIpKXtpZihzPXMuc2xpY2UoKSx0aGlzLl9nZW5lcmF0ZVBvaW50c0FycmF5KCksdGhpcy5fcG9zaXRpb25zKXtjb25zdCByPXRoaXMuX3Bvc2l0aW9uczt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb3NpdGlvbnM9bmV3IEFycmF5KHIubGVuZ3RoKTtmb3IobGV0IG49MDtuPHIubGVuZ3RoO24rKyl0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb3NpdGlvbnNbbl09KChpPXJbbl0pPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS5jbG9uZSgpKXx8bmV3IHB9cmV0dXJuIHRoaXMuZ2V0UG9zaXRpb25EYXRhKGUsdCxzKX1yZXR1cm4gc31fdXBkYXRlQm91bmRpbmdJbmZvKCl7cmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbz90aGlzLl9ib3VuZGluZ0luZm8udXBkYXRlKHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpOnRoaXMuX2JvdW5kaW5nSW5mbz1uZXcgZHQocC5aZXJvKCkscC5aZXJvKCksdGhpcy53b3JsZE1hdHJpeEZyb21DYWNoZSksdGhpcy5fdXBkYXRlU3ViTWVzaGVzQm91bmRpbmdJbmZvKHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpLHRoaXN9X3VwZGF0ZVN1Yk1lc2hlc0JvdW5kaW5nSW5mbyhlKXtpZighdGhpcy5zdWJNZXNoZXMpcmV0dXJuIHRoaXM7Y29uc3QgdD10aGlzLnN1Yk1lc2hlcy5sZW5ndGg7Zm9yKGxldCBpPTA7aTx0O2krKyl7Y29uc3Qgcz10aGlzLnN1Yk1lc2hlc1tpXTsodD4xfHwhcy5Jc0dsb2JhbCkmJnMudXBkYXRlQm91bmRpbmdJbmZvKGUpfXJldHVybiB0aGlzfV9hZnRlckNvbXB1dGVXb3JsZE1hdHJpeCgpe3RoaXMuZG9Ob3RTeW5jQm91bmRpbmdJbmZvfHwodGhpcy5fYm91bmRpbmdJbmZvSXNEaXJ0eT0hMCl9aXNJbkZydXN0dW0oZSl7cmV0dXJuIHRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkuaXNJbkZydXN0dW0oZSx0aGlzLmN1bGxpbmdTdHJhdGVneSl9aXNDb21wbGV0ZWx5SW5GcnVzdHVtKGUpe3JldHVybiB0aGlzLmdldEJvdW5kaW5nSW5mbygpLmlzQ29tcGxldGVseUluRnJ1c3R1bShlKX1pbnRlcnNlY3RzTWVzaChlLHQ9ITEsaSl7Y29uc3Qgcz10aGlzLmdldEJvdW5kaW5nSW5mbygpLHI9ZS5nZXRCb3VuZGluZ0luZm8oKTtpZihzLmludGVyc2VjdHMocix0KSlyZXR1cm4hMDtpZihpKXtmb3IoY29uc3QgbiBvZiB0aGlzLmdldENoaWxkTWVzaGVzKCkpaWYobi5pbnRlcnNlY3RzTWVzaChlLHQsITApKXJldHVybiEwfXJldHVybiExfWludGVyc2VjdHNQb2ludChlKXtyZXR1cm4gdGhpcy5nZXRCb3VuZGluZ0luZm8oKS5pbnRlcnNlY3RzUG9pbnQoZSl9Z2V0IGNoZWNrQ29sbGlzaW9ucygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY2hlY2tDb2xsaXNpb25zfXNldCBjaGVja0NvbGxpc2lvbnMoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NoZWNrQ29sbGlzaW9ucz1lfWdldCBjb2xsaWRlcigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlkZXJ9bW92ZVdpdGhDb2xsaXNpb25zKGUpe3RoaXMuZ2V0QWJzb2x1dGVQb3NpdGlvbigpLmFkZFRvUmVmKHRoaXMuZWxsaXBzb2lkT2Zmc2V0LHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbGRQb3NpdGlvbkZvckNvbGxpc2lvbnMpO2NvbnN0IGk9dGhpcy5nZXRTY2VuZSgpLmNvbGxpc2lvbkNvb3JkaW5hdG9yO3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlkZXJ8fCh0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlkZXI9aS5jcmVhdGVDb2xsaWRlcigpKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlkZXIuX3JhZGl1cz10aGlzLmVsbGlwc29pZCxpLmdldE5ld1Bvc2l0aW9uKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbGRQb3NpdGlvbkZvckNvbGxpc2lvbnMsZSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlkZXIsdGhpcy5jb2xsaXNpb25SZXRyeUNvdW50LHRoaXMsdGhpcy5fb25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZSx0aGlzLnVuaXF1ZUlkKSx0aGlzfV9jb2xsaWRlRm9yU3ViTWVzaChlLHQsaSl7dmFyIHM7aWYodGhpcy5fZ2VuZXJhdGVQb2ludHNBcnJheSgpLCF0aGlzLl9wb3NpdGlvbnMpcmV0dXJuIHRoaXM7aWYoIWUuX2xhc3RDb2xsaWRlcldvcmxkVmVydGljZXN8fCFlLl9sYXN0Q29sbGlkZXJUcmFuc2Zvcm1NYXRyaXguZXF1YWxzKHQpKXtlLl9sYXN0Q29sbGlkZXJUcmFuc2Zvcm1NYXRyaXg9dC5jbG9uZSgpLGUuX2xhc3RDb2xsaWRlcldvcmxkVmVydGljZXM9W10sZS5fdHJpYW5nbGVQbGFuZXM9W107Y29uc3Qgcj1lLnZlcnRpY2VzU3RhcnQsbj1lLnZlcnRpY2VzU3RhcnQrZS52ZXJ0aWNlc0NvdW50O2ZvcihsZXQgYT1yO2E8bjthKyspZS5fbGFzdENvbGxpZGVyV29ybGRWZXJ0aWNlcy5wdXNoKHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXModGhpcy5fcG9zaXRpb25zW2FdLHQpKX1yZXR1cm4gaS5fY29sbGlkZShlLl90cmlhbmdsZVBsYW5lcyxlLl9sYXN0Q29sbGlkZXJXb3JsZFZlcnRpY2VzLHRoaXMuZ2V0SW5kaWNlcygpLGUuaW5kZXhTdGFydCxlLmluZGV4U3RhcnQrZS5pbmRleENvdW50LGUudmVydGljZXNTdGFydCwhIWUuZ2V0TWF0ZXJpYWwoKSx0aGlzLHRoaXMuX3Nob3VsZENvbnZlcnRSSFMoKSwoKHM9ZS5nZXRNYXRlcmlhbCgpKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMuZmlsbE1vZGUpPT09NyksdGhpc31fcHJvY2Vzc0NvbGxpc2lvbnNGb3JTdWJNZXNoZXMoZSx0KXtjb25zdCBpPXRoaXMuX3NjZW5lLmdldENvbGxpZGluZ1N1Yk1lc2hDYW5kaWRhdGVzKHRoaXMsZSkscz1pLmxlbmd0aDtmb3IobGV0IHI9MDtyPHM7cisrKXtjb25zdCBuPWkuZGF0YVtyXTtzPjEmJiFuLl9jaGVja0NvbGxpc2lvbihlKXx8dGhpcy5fY29sbGlkZUZvclN1Yk1lc2gobix0LGUpfXJldHVybiB0aGlzfV9zaG91bGRDb252ZXJ0UkhTKCl7cmV0dXJuITF9X2NoZWNrQ29sbGlzaW9uKGUpe2lmKCF0aGlzLmdldEJvdW5kaW5nSW5mbygpLl9jaGVja0NvbGxpc2lvbihlKSlyZXR1cm4gdGhpcztjb25zdCB0PUQuTWF0cml4WzBdLGk9RC5NYXRyaXhbMV07cmV0dXJuIHguU2NhbGluZ1RvUmVmKDEvZS5fcmFkaXVzLngsMS9lLl9yYWRpdXMueSwxL2UuX3JhZGl1cy56LHQpLHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUubXVsdGlwbHlUb1JlZih0LGkpLHRoaXMuX3Byb2Nlc3NDb2xsaXNpb25zRm9yU3ViTWVzaGVzKGUsaSksdGhpc31fZ2VuZXJhdGVQb2ludHNBcnJheSgpe3JldHVybiExfWludGVyc2VjdHMoZSx0LGkscz0hMSxyLG49ITEpe2NvbnN0IGE9bmV3IFV0LG89dGhpcy5nZXRDbGFzc05hbWUoKT09PSJJbnN0YW5jZWRMaW5lc01lc2gifHx0aGlzLmdldENsYXNzTmFtZSgpPT09IkxpbmVzTWVzaCI/dGhpcy5pbnRlcnNlY3Rpb25UaHJlc2hvbGQ6MCxoPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7aWYoIXRoaXMuc3ViTWVzaGVzfHwhbiYmKCFlLmludGVyc2VjdHNTcGhlcmUoaC5ib3VuZGluZ1NwaGVyZSxvKXx8IWUuaW50ZXJzZWN0c0JveChoLmJvdW5kaW5nQm94LG8pKSlyZXR1cm4gYTtpZihzKXJldHVybiBhLmhpdD0hbixhLnBpY2tlZE1lc2g9bj9udWxsOnRoaXMsYS5kaXN0YW5jZT1uPzA6cC5EaXN0YW5jZShlLm9yaWdpbixoLmJvdW5kaW5nU3BoZXJlLmNlbnRlciksYS5zdWJNZXNoSWQ9MCxhO2lmKCF0aGlzLl9nZW5lcmF0ZVBvaW50c0FycmF5KCkpcmV0dXJuIGE7bGV0IGw9bnVsbDtjb25zdCB1PXRoaXMuX3NjZW5lLmdldEludGVyc2VjdGluZ1N1Yk1lc2hDYW5kaWRhdGVzKHRoaXMsZSksZD11Lmxlbmd0aDtsZXQgZj0hMTtmb3IobGV0IF89MDtfPGQ7XysrKXtjb25zdCBtPXUuZGF0YVtfXS5nZXRNYXRlcmlhbCgpO2lmKG0mJihtLmZpbGxNb2RlPT03fHxtLmZpbGxNb2RlPT0wfHxtLmZpbGxNb2RlPT0xfHxtLmZpbGxNb2RlPT0yfHxtLmZpbGxNb2RlPT00KSl7Zj0hMDticmVha319aWYoIWYpcmV0dXJuIGEuaGl0PSEwLGEucGlja2VkTWVzaD10aGlzLGEuZGlzdGFuY2U9cC5EaXN0YW5jZShlLm9yaWdpbixoLmJvdW5kaW5nU3BoZXJlLmNlbnRlciksYS5zdWJNZXNoSWQ9LTEsYTtmb3IobGV0IF89MDtfPGQ7XysrKXtjb25zdCBFPXUuZGF0YVtfXTtpZihkPjEmJiFFLmNhbkludGVyc2VjdHMoZSkpY29udGludWU7Y29uc3QgbT1FLmludGVyc2VjdHMoZSx0aGlzLl9wb3NpdGlvbnMsdGhpcy5nZXRJbmRpY2VzKCksdCxpKTtpZihtJiYodHx8IWx8fG0uZGlzdGFuY2U8bC5kaXN0YW5jZSkmJihsPW0sbC5zdWJNZXNoSWQ9Xyx0KSlicmVha31pZihsKXtjb25zdCBfPXI/P3RoaXMuZ2V0V29ybGRNYXRyaXgoKSxFPUQuVmVjdG9yM1swXSxtPUQuVmVjdG9yM1sxXTtwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoZS5vcmlnaW4sXyxFKSxlLmRpcmVjdGlvbi5zY2FsZVRvUmVmKGwuZGlzdGFuY2UsbSk7Y29uc3QgUz1wLlRyYW5zZm9ybU5vcm1hbChtLF8pLmFkZEluUGxhY2UoRSk7cmV0dXJuIGEuaGl0PSEwLGEuZGlzdGFuY2U9cC5EaXN0YW5jZShFLFMpLGEucGlja2VkUG9pbnQ9UyxhLnBpY2tlZE1lc2g9dGhpcyxhLmJ1PWwuYnV8fDAsYS5idj1sLmJ2fHwwLGEuc3ViTWVzaEZhY2VJZD1sLmZhY2VJZCxhLmZhY2VJZD1sLmZhY2VJZCt1LmRhdGFbbC5zdWJNZXNoSWRdLmluZGV4U3RhcnQvKHRoaXMuZ2V0Q2xhc3NOYW1lKCkuaW5kZXhPZigiTGluZXNNZXNoIikhPT0tMT8yOjMpLGEuc3ViTWVzaElkPWwuc3ViTWVzaElkLGF9cmV0dXJuIGF9Y2xvbmUoZSx0LGkpe3JldHVybiBudWxsfXJlbGVhc2VTdWJNZXNoZXMoKXtpZih0aGlzLnN1Yk1lc2hlcylmb3IoO3RoaXMuc3ViTWVzaGVzLmxlbmd0aDspdGhpcy5zdWJNZXNoZXNbMF0uZGlzcG9zZSgpO2Vsc2UgdGhpcy5zdWJNZXNoZXM9bmV3IEFycmF5O3JldHVybiB0aGlzfWRpc3Bvc2UoZSx0PSExKXtsZXQgaTtmb3IodGhpcy5fc2NlbmUudXNlTWF0ZXJpYWxNZXNoTWFwJiZ0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbCYmdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWwubWVzaE1hcCYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsLm1lc2hNYXBbdGhpcy51bmlxdWVJZF09dm9pZCAwKSx0aGlzLmdldFNjZW5lKCkuZnJlZUFjdGl2ZU1lc2hlcygpLHRoaXMuZ2V0U2NlbmUoKS5mcmVlUmVuZGVyaW5nR3JvdXBzKCksdGhpcy5hY3Rpb25NYW5hZ2VyIT09dm9pZCAwJiZ0aGlzLmFjdGlvbk1hbmFnZXIhPT1udWxsJiYodGhpcy5hY3Rpb25NYW5hZ2VyLmRpc3Bvc2UoKSx0aGlzLmFjdGlvbk1hbmFnZXI9bnVsbCksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fc2tlbGV0b249bnVsbCx0aGlzLl90cmFuc2Zvcm1NYXRyaXhUZXh0dXJlJiYodGhpcy5fdHJhbnNmb3JtTWF0cml4VGV4dHVyZS5kaXNwb3NlKCksdGhpcy5fdHJhbnNmb3JtTWF0cml4VGV4dHVyZT1udWxsKSxpPTA7aTx0aGlzLl9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5sZW5ndGg7aSsrKXtjb25zdCBuPXRoaXMuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzW2ldLGE9bi5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3MuaW5kZXhPZih0aGlzKTtuLl9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5zcGxpY2UoYSwxKX10aGlzLl9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5sZW5ndGg9MCx0aGlzLmdldFNjZW5lKCkubGlnaHRzLmZvckVhY2gobj0+e2xldCBhPW4uaW5jbHVkZWRPbmx5TWVzaGVzLmluZGV4T2YodGhpcyk7YSE9PS0xJiZuLmluY2x1ZGVkT25seU1lc2hlcy5zcGxpY2UoYSwxKSxhPW4uZXhjbHVkZWRNZXNoZXMuaW5kZXhPZih0aGlzKSxhIT09LTEmJm4uZXhjbHVkZWRNZXNoZXMuc3BsaWNlKGEsMSk7Y29uc3Qgbz1uLmdldFNoYWRvd0dlbmVyYXRvcnMoKTtpZihvKXtjb25zdCBoPW8udmFsdWVzKCk7Zm9yKGxldCBsPWgubmV4dCgpO2wuZG9uZSE9PSEwO2w9aC5uZXh0KCkpe2NvbnN0IGQ9bC52YWx1ZS5nZXRTaGFkb3dNYXAoKTtkJiZkLnJlbmRlckxpc3QmJihhPWQucmVuZGVyTGlzdC5pbmRleE9mKHRoaXMpLGEhPT0tMSYmZC5yZW5kZXJMaXN0LnNwbGljZShhLDEpKX19fSksKHRoaXMuZ2V0Q2xhc3NOYW1lKCkhPT0iSW5zdGFuY2VkTWVzaCJ8fHRoaXMuZ2V0Q2xhc3NOYW1lKCkhPT0iSW5zdGFuY2VkTGluZXNNZXNoIikmJnRoaXMucmVsZWFzZVN1Yk1lc2hlcygpO2NvbnN0IHI9dGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpO2lmKHRoaXMuX29jY2x1c2lvblF1ZXJ5IT09bnVsbCYmKHRoaXMuaXNPY2NsdXNpb25RdWVyeUluUHJvZ3Jlc3M9ITEsci5kZWxldGVRdWVyeSh0aGlzLl9vY2NsdXNpb25RdWVyeSksdGhpcy5fb2NjbHVzaW9uUXVlcnk9bnVsbCksci53aXBlQ2FjaGVzKCksdGhpcy5nZXRTY2VuZSgpLnJlbW92ZU1lc2godGhpcyksdGhpcy5fcGFyZW50Q29udGFpbmVyKXtjb25zdCBuPXRoaXMuX3BhcmVudENvbnRhaW5lci5tZXNoZXMuaW5kZXhPZih0aGlzKTtuPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIubWVzaGVzLnNwbGljZShuLDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfWlmKHQmJnRoaXMubWF0ZXJpYWwmJih0aGlzLm1hdGVyaWFsLmdldENsYXNzTmFtZSgpPT09Ik11bHRpTWF0ZXJpYWwiP3RoaXMubWF0ZXJpYWwuZGlzcG9zZSghMSwhMCwhMCk6dGhpcy5tYXRlcmlhbC5kaXNwb3NlKCExLCEwKSksIWUpZm9yKGk9MDtpPHRoaXMuZ2V0U2NlbmUoKS5wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoO2krKyl0aGlzLmdldFNjZW5lKCkucGFydGljbGVTeXN0ZW1zW2ldLmVtaXR0ZXI9PT10aGlzJiYodGhpcy5nZXRTY2VuZSgpLnBhcnRpY2xlU3lzdGVtc1tpXS5kaXNwb3NlKCksaS0tKTt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEuZmFjZXREYXRhRW5hYmxlZCYmdGhpcy5kaXNhYmxlRmFjZXREYXRhKCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5kaXNwb3NlKCksdGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNvbGxpZGVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25SZWJ1aWxkT2JzZXJ2YWJsZS5jbGVhcigpLHN1cGVyLmRpc3Bvc2UoZSx0KX1hZGRDaGlsZChlLHQ9ITEpe3JldHVybiBlLnNldFBhcmVudCh0aGlzLHQpLHRoaXN9cmVtb3ZlQ2hpbGQoZSx0PSExKXtyZXR1cm4gZS5zZXRQYXJlbnQobnVsbCx0KSx0aGlzfV9pbml0RmFjZXREYXRhKCl7Y29uc3QgZT10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGE7ZS5mYWNldE5vcm1hbHN8fChlLmZhY2V0Tm9ybWFscz1uZXcgQXJyYXkpLGUuZmFjZXRQb3NpdGlvbnN8fChlLmZhY2V0UG9zaXRpb25zPW5ldyBBcnJheSksZS5mYWNldFBhcnRpdGlvbmluZ3x8KGUuZmFjZXRQYXJ0aXRpb25pbmc9bmV3IEFycmF5KSxlLmZhY2V0TmI9dGhpcy5nZXRJbmRpY2VzKCkubGVuZ3RoLzN8MCxlLnBhcnRpdGlvbmluZ1N1YmRpdmlzaW9ucz1lLnBhcnRpdGlvbmluZ1N1YmRpdmlzaW9ucz9lLnBhcnRpdGlvbmluZ1N1YmRpdmlzaW9uczoxMCxlLnBhcnRpdGlvbmluZ0JCb3hSYXRpbz1lLnBhcnRpdGlvbmluZ0JCb3hSYXRpbz9lLnBhcnRpdGlvbmluZ0JCb3hSYXRpbzoxLjAxO2ZvcihsZXQgdD0wO3Q8ZS5mYWNldE5iO3QrKyllLmZhY2V0Tm9ybWFsc1t0XT1wLlplcm8oKSxlLmZhY2V0UG9zaXRpb25zW3RdPXAuWmVybygpO3JldHVybiBlLmZhY2V0RGF0YUVuYWJsZWQ9ITAsdGhpc311cGRhdGVGYWNldERhdGEoKXtjb25zdCBlPXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YTtlLmZhY2V0RGF0YUVuYWJsZWR8fHRoaXMuX2luaXRGYWNldERhdGEoKTtjb25zdCB0PXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kKSxpPXRoaXMuZ2V0SW5kaWNlcygpLHM9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kKSxyPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7aWYoZS5mYWNldERlcHRoU29ydCYmIWUuZmFjZXREZXB0aFNvcnRFbmFibGVkKXtpZihlLmZhY2V0RGVwdGhTb3J0RW5hYmxlZD0hMCxpIGluc3RhbmNlb2YgVWludDE2QXJyYXkpZS5kZXB0aFNvcnRlZEluZGljZXM9bmV3IFVpbnQxNkFycmF5KGkpO2Vsc2UgaWYoaSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5KWUuZGVwdGhTb3J0ZWRJbmRpY2VzPW5ldyBVaW50MzJBcnJheShpKTtlbHNle2xldCBhPSExO2ZvcihsZXQgbz0wO288aS5sZW5ndGg7bysrKWlmKGlbb10+NjU1MzUpe2E9ITA7YnJlYWt9YT9lLmRlcHRoU29ydGVkSW5kaWNlcz1uZXcgVWludDMyQXJyYXkoaSk6ZS5kZXB0aFNvcnRlZEluZGljZXM9bmV3IFVpbnQxNkFycmF5KGkpfWlmKGUuZmFjZXREZXB0aFNvcnRGdW5jdGlvbj1mdW5jdGlvbihhLG8pe3JldHVybiBvLnNxRGlzdGFuY2UtYS5zcURpc3RhbmNlfSwhZS5mYWNldERlcHRoU29ydEZyb20pe2NvbnN0IGE9dGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYTtlLmZhY2V0RGVwdGhTb3J0RnJvbT1hP2EucG9zaXRpb246cC5aZXJvKCl9ZS5kZXB0aFNvcnRlZEZhY2V0cz1bXTtmb3IobGV0IGE9MDthPGUuZmFjZXROYjthKyspe2NvbnN0IG89e2luZDphKjMsc3FEaXN0YW5jZTowfTtlLmRlcHRoU29ydGVkRmFjZXRzLnB1c2gobyl9ZS5pbnZlcnRlZE1hdHJpeD14LklkZW50aXR5KCksZS5mYWNldERlcHRoU29ydE9yaWdpbj1wLlplcm8oKX1lLmJiU2l6ZS54PXIubWF4aW11bS54LXIubWluaW11bS54PnhlP3IubWF4aW11bS54LXIubWluaW11bS54OnhlLGUuYmJTaXplLnk9ci5tYXhpbXVtLnktci5taW5pbXVtLnk+eGU/ci5tYXhpbXVtLnktci5taW5pbXVtLnk6eGUsZS5iYlNpemUuej1yLm1heGltdW0uei1yLm1pbmltdW0uej54ZT9yLm1heGltdW0uei1yLm1pbmltdW0uejp4ZTtsZXQgbj1lLmJiU2l6ZS54PmUuYmJTaXplLnk/ZS5iYlNpemUueDplLmJiU2l6ZS55O2lmKG49bj5lLmJiU2l6ZS56P246ZS5iYlNpemUueixlLnN1YkRpdi5tYXg9ZS5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnMsZS5zdWJEaXYuWD1NYXRoLmZsb29yKGUuc3ViRGl2Lm1heCplLmJiU2l6ZS54L24pLGUuc3ViRGl2Llk9TWF0aC5mbG9vcihlLnN1YkRpdi5tYXgqZS5iYlNpemUueS9uKSxlLnN1YkRpdi5aPU1hdGguZmxvb3IoZS5zdWJEaXYubWF4KmUuYmJTaXplLnovbiksZS5zdWJEaXYuWD1lLnN1YkRpdi5YPDE/MTplLnN1YkRpdi5YLGUuc3ViRGl2Llk9ZS5zdWJEaXYuWTwxPzE6ZS5zdWJEaXYuWSxlLnN1YkRpdi5aPWUuc3ViRGl2Llo8MT8xOmUuc3ViRGl2LlosZS5mYWNldFBhcmFtZXRlcnMuZmFjZXROb3JtYWxzPXRoaXMuZ2V0RmFjZXRMb2NhbE5vcm1hbHMoKSxlLmZhY2V0UGFyYW1ldGVycy5mYWNldFBvc2l0aW9ucz10aGlzLmdldEZhY2V0TG9jYWxQb3NpdGlvbnMoKSxlLmZhY2V0UGFyYW1ldGVycy5mYWNldFBhcnRpdGlvbmluZz10aGlzLmdldEZhY2V0TG9jYWxQYXJ0aXRpb25pbmcoKSxlLmZhY2V0UGFyYW1ldGVycy5iSW5mbz1yLGUuZmFjZXRQYXJhbWV0ZXJzLmJiU2l6ZT1lLmJiU2l6ZSxlLmZhY2V0UGFyYW1ldGVycy5zdWJEaXY9ZS5zdWJEaXYsZS5mYWNldFBhcmFtZXRlcnMucmF0aW89dGhpcy5wYXJ0aXRpb25pbmdCQm94UmF0aW8sZS5mYWNldFBhcmFtZXRlcnMuZGVwdGhTb3J0PWUuZmFjZXREZXB0aFNvcnQsZS5mYWNldERlcHRoU29ydCYmZS5mYWNldERlcHRoU29ydEVuYWJsZWQmJih0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksdGhpcy5fd29ybGRNYXRyaXguaW52ZXJ0VG9SZWYoZS5pbnZlcnRlZE1hdHJpeCkscC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUuZmFjZXREZXB0aFNvcnRGcm9tLGUuaW52ZXJ0ZWRNYXRyaXgsZS5mYWNldERlcHRoU29ydE9yaWdpbiksZS5mYWNldFBhcmFtZXRlcnMuZGlzdGFuY2VUbz1lLmZhY2V0RGVwdGhTb3J0T3JpZ2luKSxlLmZhY2V0UGFyYW1ldGVycy5kZXB0aFNvcnRlZEZhY2V0cz1lLmRlcHRoU29ydGVkRmFjZXRzLHMmJmVlLkNvbXB1dGVOb3JtYWxzKHQsaSxzLGUuZmFjZXRQYXJhbWV0ZXJzKSxlLmZhY2V0RGVwdGhTb3J0JiZlLmZhY2V0RGVwdGhTb3J0RW5hYmxlZCl7ZS5kZXB0aFNvcnRlZEZhY2V0cy5zb3J0KGUuZmFjZXREZXB0aFNvcnRGdW5jdGlvbik7Y29uc3QgYT1lLmRlcHRoU29ydGVkSW5kaWNlcy5sZW5ndGgvM3wwO2ZvcihsZXQgbz0wO288YTtvKyspe2NvbnN0IGg9ZS5kZXB0aFNvcnRlZEZhY2V0c1tvXS5pbmQ7ZS5kZXB0aFNvcnRlZEluZGljZXNbbyozXT1pW2hdLGUuZGVwdGhTb3J0ZWRJbmRpY2VzW28qMysxXT1pW2grMV0sZS5kZXB0aFNvcnRlZEluZGljZXNbbyozKzJdPWlbaCsyXX10aGlzLnVwZGF0ZUluZGljZXMoZS5kZXB0aFNvcnRlZEluZGljZXMsdm9pZCAwLCEwKX1yZXR1cm4gdGhpc31nZXRGYWNldExvY2FsTm9ybWFscygpe2NvbnN0IGU9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhO3JldHVybiBlLmZhY2V0Tm9ybWFsc3x8dGhpcy51cGRhdGVGYWNldERhdGEoKSxlLmZhY2V0Tm9ybWFsc31nZXRGYWNldExvY2FsUG9zaXRpb25zKCl7Y29uc3QgZT10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGE7cmV0dXJuIGUuZmFjZXRQb3NpdGlvbnN8fHRoaXMudXBkYXRlRmFjZXREYXRhKCksZS5mYWNldFBvc2l0aW9uc31nZXRGYWNldExvY2FsUGFydGl0aW9uaW5nKCl7Y29uc3QgZT10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGE7cmV0dXJuIGUuZmFjZXRQYXJ0aXRpb25pbmd8fHRoaXMudXBkYXRlRmFjZXREYXRhKCksZS5mYWNldFBhcnRpdGlvbmluZ31nZXRGYWNldFBvc2l0aW9uKGUpe2NvbnN0IHQ9cC5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0RmFjZXRQb3NpdGlvblRvUmVmKGUsdCksdH1nZXRGYWNldFBvc2l0aW9uVG9SZWYoZSx0KXtjb25zdCBpPXRoaXMuZ2V0RmFjZXRMb2NhbFBvc2l0aW9ucygpW2VdLHM9dGhpcy5nZXRXb3JsZE1hdHJpeCgpO3JldHVybiBwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoaSxzLHQpLHRoaXN9Z2V0RmFjZXROb3JtYWwoZSl7Y29uc3QgdD1wLlplcm8oKTtyZXR1cm4gdGhpcy5nZXRGYWNldE5vcm1hbFRvUmVmKGUsdCksdH1nZXRGYWNldE5vcm1hbFRvUmVmKGUsdCl7Y29uc3QgaT10aGlzLmdldEZhY2V0TG9jYWxOb3JtYWxzKClbZV07cmV0dXJuIHAuVHJhbnNmb3JtTm9ybWFsVG9SZWYoaSx0aGlzLmdldFdvcmxkTWF0cml4KCksdCksdGhpc31nZXRGYWNldHNBdExvY2FsQ29vcmRpbmF0ZXMoZSx0LGkpe2NvbnN0IHM9dGhpcy5nZXRCb3VuZGluZ0luZm8oKSxyPXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YSxuPU1hdGguZmxvb3IoKGUtcy5taW5pbXVtLngqci5wYXJ0aXRpb25pbmdCQm94UmF0aW8pKnIuc3ViRGl2Llgqci5wYXJ0aXRpb25pbmdCQm94UmF0aW8vci5iYlNpemUueCksYT1NYXRoLmZsb29yKCh0LXMubWluaW11bS55KnIucGFydGl0aW9uaW5nQkJveFJhdGlvKSpyLnN1YkRpdi5ZKnIucGFydGl0aW9uaW5nQkJveFJhdGlvL3IuYmJTaXplLnkpLG89TWF0aC5mbG9vcigoaS1zLm1pbmltdW0ueipyLnBhcnRpdGlvbmluZ0JCb3hSYXRpbykqci5zdWJEaXYuWipyLnBhcnRpdGlvbmluZ0JCb3hSYXRpby9yLmJiU2l6ZS56KTtyZXR1cm4gbjwwfHxuPnIuc3ViRGl2Lm1heHx8YTwwfHxhPnIuc3ViRGl2Lm1heHx8bzwwfHxvPnIuc3ViRGl2Lm1heD9udWxsOnIuZmFjZXRQYXJ0aXRpb25pbmdbbityLnN1YkRpdi5tYXgqYStyLnN1YkRpdi5tYXgqci5zdWJEaXYubWF4Km9dfWdldENsb3Nlc3RGYWNldEF0Q29vcmRpbmF0ZXMoZSx0LGkscyxyPSExLG49ITApe2NvbnN0IGE9dGhpcy5nZXRXb3JsZE1hdHJpeCgpLG89RC5NYXRyaXhbNV07YS5pbnZlcnRUb1JlZihvKTtjb25zdCBoPUQuVmVjdG9yM1s4XTtwLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGUsdCxpLG8saCk7Y29uc3QgbD10aGlzLmdldENsb3Nlc3RGYWNldEF0TG9jYWxDb29yZGluYXRlcyhoLngsaC55LGgueixzLHIsbik7cmV0dXJuIHMmJnAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYocy54LHMueSxzLnosYSxzKSxsfWdldENsb3Nlc3RGYWNldEF0TG9jYWxDb29yZGluYXRlcyhlLHQsaSxzLHI9ITEsbj0hMCl7bGV0IGE9bnVsbCxvPTAsaD0wLGw9MCx1PTAsZD0wLGY9MCxfPTAsRT0wO2NvbnN0IG09dGhpcy5nZXRGYWNldExvY2FsUG9zaXRpb25zKCksdj10aGlzLmdldEZhY2V0TG9jYWxOb3JtYWxzKCksUz10aGlzLmdldEZhY2V0c0F0TG9jYWxDb29yZGluYXRlcyhlLHQsaSk7aWYoIVMpcmV0dXJuIG51bGw7bGV0IHk9TnVtYmVyLk1BWF9WQUxVRSxBPXksQyxiLE07Zm9yKGxldCBMPTA7TDxTLmxlbmd0aDtMKyspQz1TW0xdLGI9dltDXSxNPW1bQ10sdT0oZS1NLngpKmIueCsodC1NLnkpKmIueSsoaS1NLnopKmIueiwoIXJ8fHImJm4mJnU+PTB8fHImJiFuJiZ1PD0wKSYmKHU9Yi54Kk0ueCtiLnkqTS55K2IueipNLnosZD0tKGIueCplK2IueSp0K2IueippLXUpLyhiLngqYi54K2IueSpiLnkrYi56KmIueiksZj1lK2IueCpkLF89dCtiLnkqZCxFPWkrYi56KmQsbz1mLWUsaD1fLXQsbD1FLWksQT1vKm8raCpoK2wqbCxBPHkmJih5PUEsYT1DLHMmJihzLng9ZixzLnk9XyxzLno9RSkpKTtyZXR1cm4gYX1nZXRGYWNldERhdGFQYXJhbWV0ZXJzKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldFBhcmFtZXRlcnN9ZGlzYWJsZUZhY2V0RGF0YSgpe2NvbnN0IGU9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhO3JldHVybiBlLmZhY2V0RGF0YUVuYWJsZWQmJihlLmZhY2V0RGF0YUVuYWJsZWQ9ITEsZS5mYWNldFBvc2l0aW9ucz1uZXcgQXJyYXksZS5mYWNldE5vcm1hbHM9bmV3IEFycmF5LGUuZmFjZXRQYXJ0aXRpb25pbmc9bmV3IEFycmF5LGUuZmFjZXRQYXJhbWV0ZXJzPW51bGwsZS5kZXB0aFNvcnRlZEluZGljZXM9bmV3IFVpbnQzMkFycmF5KDApKSx0aGlzfXVwZGF0ZUluZGljZXMoZSx0LGk9ITEpe3JldHVybiB0aGlzfWNyZWF0ZU5vcm1hbHMoZSl7Y29uc3QgdD10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCksaT10aGlzLmdldEluZGljZXMoKTtsZXQgcztyZXR1cm4gdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Ob3JtYWxLaW5kKT9zPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCk6cz1bXSxlZS5Db21wdXRlTm9ybWFscyh0LGkscyx7dXNlUmlnaHRIYW5kZWRTeXN0ZW06dGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtfSksdGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLHMsZSksdGhpc31hbGlnbldpdGhOb3JtYWwoZSx0KXt0fHwodD1faS5ZKTtjb25zdCBpPUQuVmVjdG9yM1swXSxzPUQuVmVjdG9yM1sxXTtyZXR1cm4gcC5Dcm9zc1RvUmVmKHQsZSxzKSxwLkNyb3NzVG9SZWYoZSxzLGkpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uP1ouUm90YXRpb25RdWF0ZXJuaW9uRnJvbUF4aXNUb1JlZihpLGUscyx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbik6cC5Sb3RhdGlvbkZyb21BeGlzVG9SZWYoaSxlLHMsdGhpcy5yb3RhdGlvbiksdGhpc31fY2hlY2tPY2NsdXNpb25RdWVyeSgpe3JldHVybiExfWRpc2FibGVFZGdlc1JlbmRlcmluZygpe3Rocm93ICQoIkVkZ2VzUmVuZGVyZXIiKX1lbmFibGVFZGdlc1JlbmRlcmluZyhlLHQsaSl7dGhyb3cgJCgiRWRnZXNSZW5kZXJlciIpfWdldENvbm5lY3RlZFBhcnRpY2xlU3lzdGVtcygpe3JldHVybiB0aGlzLl9zY2VuZS5wYXJ0aWNsZVN5c3RlbXMuZmlsdGVyKGU9PmUuZW1pdHRlcj09PXRoaXMpfX1vdC5PQ0NMVVNJT05fVFlQRV9OT05FPTAsb3QuT0NDTFVTSU9OX1RZUEVfT1BUSU1JU1RJQz0xLG90Lk9DQ0xVU0lPTl9UWVBFX1NUUklDVD0yLG90Lk9DQ0xVU0lPTl9BTEdPUklUSE1fVFlQRV9BQ0NVUkFURT0wLG90Lk9DQ0xVU0lPTl9BTEdPUklUSE1fVFlQRV9DT05TRVJWQVRJVkU9MSxvdC5DVUxMSU5HU1RSQVRFR1lfU1RBTkRBUkQ9MCxvdC5DVUxMSU5HU1RSQVRFR1lfQk9VTkRJTkdTUEhFUkVfT05MWT0xLG90LkNVTExJTkdTVFJBVEVHWV9PUFRJTUlTVElDX0lOQ0xVU0lPTj0yLG90LkNVTExJTkdTVFJBVEVHWV9PUFRJTUlTVElDX0lOQ0xVU0lPTl9USEVOX0JTUEhFUkVfT05MWT0zLGl0KCJCQUJZTE9OLkFic3RyYWN0TWVzaCIsb3QpO2Z1bmN0aW9uIHNzKGMpe2MuaW5kZXhPZigidkNsaXBQbGFuZSIpPT09LTEmJmMucHVzaCgidkNsaXBQbGFuZSIpLGMuaW5kZXhPZigidkNsaXBQbGFuZTIiKT09PS0xJiZjLnB1c2goInZDbGlwUGxhbmUyIiksYy5pbmRleE9mKCJ2Q2xpcFBsYW5lMyIpPT09LTEmJmMucHVzaCgidkNsaXBQbGFuZTMiKSxjLmluZGV4T2YoInZDbGlwUGxhbmU0Iik9PT0tMSYmYy5wdXNoKCJ2Q2xpcFBsYW5lNCIpLGMuaW5kZXhPZigidkNsaXBQbGFuZTUiKT09PS0xJiZjLnB1c2goInZDbGlwUGxhbmU1IiksYy5pbmRleE9mKCJ2Q2xpcFBsYW5lNiIpPT09LTEmJmMucHVzaCgidkNsaXBQbGFuZTYiKX1mdW5jdGlvbiBPcyhjLGUsdCl7dmFyIGkscyxyLG4sYSxvO2xldCBoPSExLGw9KGk9Yy5jbGlwUGxhbmUpIT09bnVsbCYmaSE9PXZvaWQgMD9pOmUuY2xpcFBsYW5lO3JldHVybiBoPWJpKGwsdCwiQ0xJUFBMQU5FIil8fGgsbD0ocz1jLmNsaXBQbGFuZTIpIT09bnVsbCYmcyE9PXZvaWQgMD9zOmUuY2xpcFBsYW5lMixoPWJpKGwsdCwiQ0xJUFBMQU5FMiIpfHxoLGw9KHI9Yy5jbGlwUGxhbmUzKSE9PW51bGwmJnIhPT12b2lkIDA/cjplLmNsaXBQbGFuZTMsaD1iaShsLHQsIkNMSVBQTEFORTMiKXx8aCxsPShuPWMuY2xpcFBsYW5lNCkhPT1udWxsJiZuIT09dm9pZCAwP246ZS5jbGlwUGxhbmU0LGg9YmkobCx0LCJDTElQUExBTkU0Iil8fGgsbD0oYT1jLmNsaXBQbGFuZTUpIT09bnVsbCYmYSE9PXZvaWQgMD9hOmUuY2xpcFBsYW5lNSxoPWJpKGwsdCwiQ0xJUFBMQU5FNSIpfHxoLGw9KG89Yy5jbGlwUGxhbmU2KSE9PW51bGwmJm8hPT12b2lkIDA/bzplLmNsaXBQbGFuZTYsaD1iaShsLHQsIkNMSVBQTEFORTYiKXx8aCxofWZ1bmN0aW9uIHJzKGMsZSx0KXt2YXIgaSxzLHIsbixhLG87bGV0IGg9KGk9ZS5jbGlwUGxhbmUpIT09bnVsbCYmaSE9PXZvaWQgMD9pOnQuY2xpcFBsYW5lO1RpKGMsInZDbGlwUGxhbmUiLGgpLGg9KHM9ZS5jbGlwUGxhbmUyKSE9PW51bGwmJnMhPT12b2lkIDA/czp0LmNsaXBQbGFuZTIsVGkoYywidkNsaXBQbGFuZTIiLGgpLGg9KHI9ZS5jbGlwUGxhbmUzKSE9PW51bGwmJnIhPT12b2lkIDA/cjp0LmNsaXBQbGFuZTMsVGkoYywidkNsaXBQbGFuZTMiLGgpLGg9KG49ZS5jbGlwUGxhbmU0KSE9PW51bGwmJm4hPT12b2lkIDA/bjp0LmNsaXBQbGFuZTQsVGkoYywidkNsaXBQbGFuZTQiLGgpLGg9KGE9ZS5jbGlwUGxhbmU1KSE9PW51bGwmJmEhPT12b2lkIDA/YTp0LmNsaXBQbGFuZTUsVGkoYywidkNsaXBQbGFuZTUiLGgpLGg9KG89ZS5jbGlwUGxhbmU2KSE9PW51bGwmJm8hPT12b2lkIDA/bzp0LmNsaXBQbGFuZTYsVGkoYywidkNsaXBQbGFuZTYiLGgpfWZ1bmN0aW9uIFRpKGMsZSx0KXt0JiZjLnNldEZsb2F0NChlLHQubm9ybWFsLngsdC5ub3JtYWwueSx0Lm5vcm1hbC56LHQuZCl9ZnVuY3Rpb24gYmkoYyxlLHQpe2xldCBpPSEwO2lmKGMpaWYoQXJyYXkuaXNBcnJheShlKSl7Y29uc3Qgcz0iI2RlZmluZSAiK3Q7aT1lLmluZGV4T2YocykhPT0tMSxpfHxlLnB1c2gocyl9ZWxzZSBpPWVbdF0sZVt0XT0hMDtyZXR1cm4haX1jbGFzcyBpZXtzdGF0aWMgQmluZFNjZW5lVW5pZm9ybUJ1ZmZlcihlLHQpe3QuYmluZFRvRWZmZWN0KGUsIlNjZW5lIil9c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYoZSx0LGkpe3QuX25lZWRVVnM9ITAsdFtpXT0hMCxlLm9wdGltaXplVVZBbGxvY2F0aW9uJiZlLmdldFRleHR1cmVNYXRyaXgoKS5pc0lkZW50aXR5QXMzeDIoKT8odFtpKyJESVJFQ1RVViJdPWUuY29vcmRpbmF0ZXNJbmRleCsxLHRbIk1BSU5VViIrKGUuY29vcmRpbmF0ZXNJbmRleCsxKV09ITApOnRbaSsiRElSRUNUVVYiXT0wfXN0YXRpYyBCaW5kVGV4dHVyZU1hdHJpeChlLHQsaSl7Y29uc3Qgcz1lLmdldFRleHR1cmVNYXRyaXgoKTt0LnVwZGF0ZU1hdHJpeChpKyJNYXRyaXgiLHMpfXN0YXRpYyBHZXRGb2dTdGF0ZShlLHQpe3JldHVybiB0LmZvZ0VuYWJsZWQmJmUuYXBwbHlGb2cmJnQuZm9nTW9kZSE9PW5lLkZPR01PREVfTk9ORX1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JNaXNjKGUsdCxpLHMscixuLGEpe2EuX2FyZU1pc2NEaXJ0eSYmKGEuTE9HQVJJVEhNSUNERVBUSD1pLGEuUE9JTlRTSVpFPXMsYS5GT0c9ciYmdGhpcy5HZXRGb2dTdGF0ZShlLHQpLGEuTk9OVU5JRk9STVNDQUxJTkc9ZS5ub25Vbmlmb3JtU2NhbGluZyxhLkFMUEhBVEVTVD1uKX1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JDYW1lcmEoZSx0KXtsZXQgaT0hMTtpZihlLmFjdGl2ZUNhbWVyYSl7Y29uc3Qgcz10LkNBTUVSQV9PUlRIT0dSQVBISUM/MTowLHI9dC5DQU1FUkFfUEVSU1BFQ1RJVkU/MTowLG49ZS5hY3RpdmVDYW1lcmEubW9kZT09PWouT1JUSE9HUkFQSElDX0NBTUVSQT8xOjAsYT1lLmFjdGl2ZUNhbWVyYS5tb2RlPT09ai5QRVJTUEVDVElWRV9DQU1FUkE/MTowOyhzXm58fHJeYSkmJih0LkNBTUVSQV9PUlRIT0dSQVBISUM9bj09PTEsdC5DQU1FUkFfUEVSU1BFQ1RJVkU9YT09PTEsaT0hMCl9cmV0dXJuIGl9c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yRnJhbWVCb3VuZFZhbHVlcyhlLHQsaSxzLHIsbj1udWxsLGE9ITEpe2xldCBvPWllLlByZXBhcmVEZWZpbmVzRm9yQ2FtZXJhKGUscyk7biE9PSExJiYobz1PcyhpLGUscykpLHMuREVQVEhQUkVQQVNTIT09IXQuZ2V0Q29sb3JXcml0ZSgpJiYocy5ERVBUSFBSRVBBU1M9IXMuREVQVEhQUkVQQVNTLG89ITApLHMuSU5TVEFOQ0VTIT09ciYmKHMuSU5TVEFOQ0VTPXIsbz0hMCkscy5USElOX0lOU1RBTkNFUyE9PWEmJihzLlRISU5fSU5TVEFOQ0VTPWEsbz0hMCksbyYmcy5tYXJrQXNVbnByb2Nlc3NlZCgpfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0ZvckJvbmVzKGUsdCl7aWYoZS51c2VCb25lcyYmZS5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJmUuc2tlbGV0b24pe3QuTlVNX0JPTkVfSU5GTFVFTkNFUlM9ZS5udW1Cb25lSW5mbHVlbmNlcnM7Y29uc3QgaT10LkJPTkVURVhUVVJFIT09dm9pZCAwO2lmKGUuc2tlbGV0b24uaXNVc2luZ1RleHR1cmVGb3JNYXRyaWNlcyYmaSl0LkJPTkVURVhUVVJFPSEwO2Vsc2V7dC5Cb25lc1Blck1lc2g9ZS5za2VsZXRvbi5ib25lcy5sZW5ndGgrMSx0LkJPTkVURVhUVVJFPWk/ITE6dm9pZCAwO2NvbnN0IHM9ZS5nZXRTY2VuZSgpLnByZVBhc3NSZW5kZXJlcjtpZihzJiZzLmVuYWJsZWQpe2NvbnN0IHI9cy5leGNsdWRlZFNraW5uZWRNZXNoLmluZGV4T2YoZSk9PT0tMTt0LkJPTkVTX1ZFTE9DSVRZX0VOQUJMRUQ9cn19fWVsc2UgdC5OVU1fQk9ORV9JTkZMVUVOQ0VSUz0wLHQuQm9uZXNQZXJNZXNoPTAsdC5CT05FVEVYVFVSRSE9PXZvaWQgMCYmKHQuQk9ORVRFWFRVUkU9ITEpfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0Zvck1vcnBoVGFyZ2V0cyhlLHQpe2NvbnN0IGk9ZS5tb3JwaFRhcmdldE1hbmFnZXI7aT8odC5NT1JQSFRBUkdFVFNfVVY9aS5zdXBwb3J0c1VWcyYmdC5VVjEsdC5NT1JQSFRBUkdFVFNfVEFOR0VOVD1pLnN1cHBvcnRzVGFuZ2VudHMmJnQuVEFOR0VOVCx0Lk1PUlBIVEFSR0VUU19OT1JNQUw9aS5zdXBwb3J0c05vcm1hbHMmJnQuTk9STUFMLHQuTU9SUEhUQVJHRVRTPWkubnVtSW5mbHVlbmNlcnM+MCx0Lk5VTV9NT1JQSF9JTkZMVUVOQ0VSUz1pLm51bUluZmx1ZW5jZXJzLHQuTU9SUEhUQVJHRVRTX1RFWFRVUkU9aS5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMpOih0Lk1PUlBIVEFSR0VUU19VVj0hMSx0Lk1PUlBIVEFSR0VUU19UQU5HRU5UPSExLHQuTU9SUEhUQVJHRVRTX05PUk1BTD0hMSx0Lk1PUlBIVEFSR0VUUz0hMSx0Lk5VTV9NT1JQSF9JTkZMVUVOQ0VSUz0wKX1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JCYWtlZFZlcnRleEFuaW1hdGlvbihlLHQpe2NvbnN0IGk9ZS5iYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXI7dC5CQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkU9ISEoaSYmaS5pc0VuYWJsZWQpfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0ZvckF0dHJpYnV0ZXMoZSx0LGkscyxyPSExLG49ITAsYT0hMCl7aWYoIXQuX2FyZUF0dHJpYnV0ZXNEaXJ0eSYmdC5fbmVlZE5vcm1hbHM9PT10Ll9ub3JtYWxzJiZ0Ll9uZWVkVVZzPT09dC5fdXZzKXJldHVybiExO3QuX25vcm1hbHM9dC5fbmVlZE5vcm1hbHMsdC5fdXZzPXQuX25lZWRVVnMsdC5OT1JNQUw9dC5fbmVlZE5vcm1hbHMmJmUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTm9ybWFsS2luZCksdC5fbmVlZE5vcm1hbHMmJmUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVGFuZ2VudEtpbmQpJiYodC5UQU5HRU5UPSEwKTtmb3IobGV0IG89MTtvPD02Oysrbyl0WyJVViIrb109dC5fbmVlZFVWcz9lLmlzVmVydGljZXNEYXRhUHJlc2VudChgdXYke289PT0xPyIiOm99YCk6ITE7aWYoaSl7Y29uc3Qgbz1lLnVzZVZlcnRleENvbG9ycyYmZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Db2xvcktpbmQpO3QuVkVSVEVYQ09MT1I9byx0LlZFUlRFWEFMUEhBPWUuaGFzVmVydGV4QWxwaGEmJm8mJm59cmV0dXJuIGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuQ29sb3JJbnN0YW5jZUtpbmQpJiYoZS5oYXNJbnN0YW5jZXN8fGUuaGFzVGhpbkluc3RhbmNlcykmJih0LklOU1RBTkNFU0NPTE9SPSEwKSxzJiZ0aGlzLlByZXBhcmVEZWZpbmVzRm9yQm9uZXMoZSx0KSxyJiZ0aGlzLlByZXBhcmVEZWZpbmVzRm9yTW9ycGhUYXJnZXRzKGUsdCksYSYmdGhpcy5QcmVwYXJlRGVmaW5lc0ZvckJha2VkVmVydGV4QW5pbWF0aW9uKGUsdCksITB9c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yTXVsdGl2aWV3KGUsdCl7aWYoZS5hY3RpdmVDYW1lcmEpe2NvbnN0IGk9dC5NVUxUSVZJRVc7dC5NVUxUSVZJRVc9ZS5hY3RpdmVDYW1lcmEub3V0cHV0UmVuZGVyVGFyZ2V0IT09bnVsbCYmZS5hY3RpdmVDYW1lcmEub3V0cHV0UmVuZGVyVGFyZ2V0LmdldFZpZXdDb3VudCgpPjEsdC5NVUxUSVZJRVchPWkmJnQubWFya0FzVW5wcm9jZXNzZWQoKX19c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yT0lUKGUsdCxpKXtjb25zdCBzPXQuT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZLHI9dC5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1lfMTZCSVRTO3QuT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZPWUudXNlT3JkZXJJbmRlcGVuZGVudFRyYW5zcGFyZW5jeSYmaSx0Lk9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWV8xNkJJVFM9IWUuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZywocyE9PXQuT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZfHxyIT09dC5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1lfMTZCSVRTKSYmdC5tYXJrQXNVbnByb2Nlc3NlZCgpfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0ZvclByZVBhc3MoZSx0LGkpe2NvbnN0IHM9dC5QUkVQQVNTO2lmKCF0Ll9hcmVQcmVQYXNzRGlydHkpcmV0dXJuO2NvbnN0IHI9W3t0eXBlOjEsZGVmaW5lOiJQUkVQQVNTX1BPU0lUSU9OIixpbmRleDoiUFJFUEFTU19QT1NJVElPTl9JTkRFWCJ9LHt0eXBlOjIsZGVmaW5lOiJQUkVQQVNTX1ZFTE9DSVRZIixpbmRleDoiUFJFUEFTU19WRUxPQ0lUWV9JTkRFWCJ9LHt0eXBlOjMsZGVmaW5lOiJQUkVQQVNTX1JFRkxFQ1RJVklUWSIsaW5kZXg6IlBSRVBBU1NfUkVGTEVDVElWSVRZX0lOREVYIn0se3R5cGU6MCxkZWZpbmU6IlBSRVBBU1NfSVJSQURJQU5DRSIsaW5kZXg6IlBSRVBBU1NfSVJSQURJQU5DRV9JTkRFWCJ9LHt0eXBlOjcsZGVmaW5lOiJQUkVQQVNTX0FMQkVET19TUVJUIixpbmRleDoiUFJFUEFTU19BTEJFRE9fU1FSVF9JTkRFWCJ9LHt0eXBlOjUsZGVmaW5lOiJQUkVQQVNTX0RFUFRIIixpbmRleDoiUFJFUEFTU19ERVBUSF9JTkRFWCJ9LHt0eXBlOjYsZGVmaW5lOiJQUkVQQVNTX05PUk1BTCIsaW5kZXg6IlBSRVBBU1NfTk9STUFMX0lOREVYIn1dO2lmKGUucHJlUGFzc1JlbmRlcmVyJiZlLnByZVBhc3NSZW5kZXJlci5lbmFibGVkJiZpKXt0LlBSRVBBU1M9ITAsdC5TQ0VORV9NUlRfQ09VTlQ9ZS5wcmVQYXNzUmVuZGVyZXIubXJ0Q291bnQ7Zm9yKGxldCBuPTA7bjxyLmxlbmd0aDtuKyspe2NvbnN0IGE9ZS5wcmVQYXNzUmVuZGVyZXIuZ2V0SW5kZXgocltuXS50eXBlKTthIT09LTE/KHRbcltuXS5kZWZpbmVdPSEwLHRbcltuXS5pbmRleF09YSk6dFtyW25dLmRlZmluZV09ITF9fWVsc2V7dC5QUkVQQVNTPSExO2ZvcihsZXQgbj0wO248ci5sZW5ndGg7bisrKXRbcltuXS5kZWZpbmVdPSExfXQuUFJFUEFTUyE9cyYmKHQubWFya0FzVW5wcm9jZXNzZWQoKSx0Lm1hcmtBc0ltYWdlUHJvY2Vzc2luZ0RpcnR5KCkpfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0ZvckxpZ2h0KGUsdCxpLHMscixuLGEpe3ZhciBvO3N3aXRjaChhLm5lZWROb3JtYWxzPSEwLHJbIkxJR0hUIitzXT09PXZvaWQgMCYmKGEubmVlZFJlYnVpbGQ9ITApLHJbIkxJR0hUIitzXT0hMCxyWyJTUE9UTElHSFQiK3NdPSExLHJbIkhFTUlMSUdIVCIrc109ITEsclsiUE9JTlRMSUdIVCIrc109ITEsclsiRElSTElHSFQiK3NdPSExLGkucHJlcGFyZUxpZ2h0U3BlY2lmaWNEZWZpbmVzKHIscyksclsiTElHSFRfRkFMTE9GRl9QSFlTSUNBTCIrc109ITEsclsiTElHSFRfRkFMTE9GRl9HTFRGIitzXT0hMSxyWyJMSUdIVF9GQUxMT0ZGX1NUQU5EQVJEIitzXT0hMSxpLmZhbGxvZmZUeXBlKXtjYXNlIEVlLkZBTExPRkZfR0xURjpyWyJMSUdIVF9GQUxMT0ZGX0dMVEYiK3NdPSEwO2JyZWFrO2Nhc2UgRWUuRkFMTE9GRl9QSFlTSUNBTDpyWyJMSUdIVF9GQUxMT0ZGX1BIWVNJQ0FMIitzXT0hMDticmVhaztjYXNlIEVlLkZBTExPRkZfU1RBTkRBUkQ6clsiTElHSFRfRkFMTE9GRl9TVEFOREFSRCIrc109ITA7YnJlYWt9aWYobiYmIWkuc3BlY3VsYXIuZXF1YWxzRmxvYXRzKDAsMCwwKSYmKGEuc3BlY3VsYXJFbmFibGVkPSEwKSxyWyJTSEFET1ciK3NdPSExLHJbIlNIQURPV0NTTSIrc109ITEsclsiU0hBRE9XQ1NNREVCVUciK3NdPSExLHJbIlNIQURPV0NTTU5VTV9DQVNDQURFUyIrc109ITEsclsiU0hBRE9XQ1NNVVNFU0hBRE9XTUFYWiIrc109ITEsclsiU0hBRE9XQ1NNTk9CTEVORCIrc109ITEsclsiU0hBRE9XQ1NNX1JJR0hUSEFOREVEIitzXT0hMSxyWyJTSEFET1dQQ0YiK3NdPSExLHJbIlNIQURPV1BDU1MiK3NdPSExLHJbIlNIQURPV1BPSVNTT04iK3NdPSExLHJbIlNIQURPV0VTTSIrc109ITEsclsiU0hBRE9XQ0xPU0VFU00iK3NdPSExLHJbIlNIQURPV0NVQkUiK3NdPSExLHJbIlNIQURPV0xPV1FVQUxJVFkiK3NdPSExLHJbIlNIQURPV01FRElVTVFVQUxJVFkiK3NdPSExLHQmJnQucmVjZWl2ZVNoYWRvd3MmJmUuc2hhZG93c0VuYWJsZWQmJmkuc2hhZG93RW5hYmxlZCl7Y29uc3QgaD0obz1pLmdldFNoYWRvd0dlbmVyYXRvcihlLmFjdGl2ZUNhbWVyYSkpIT09bnVsbCYmbyE9PXZvaWQgMD9vOmkuZ2V0U2hhZG93R2VuZXJhdG9yKCk7aWYoaCl7Y29uc3QgbD1oLmdldFNoYWRvd01hcCgpO2wmJmwucmVuZGVyTGlzdCYmbC5yZW5kZXJMaXN0Lmxlbmd0aD4wJiYoYS5zaGFkb3dFbmFibGVkPSEwLGgucHJlcGFyZURlZmluZXMocixzKSl9fWkubGlnaHRtYXBNb2RlIT1FZS5MSUdIVE1BUF9ERUZBVUxUPyhhLmxpZ2h0bWFwTW9kZT0hMCxyWyJMSUdIVE1BUEVYQ0xVREVEIitzXT0hMCxyWyJMSUdIVE1BUE5PU1BFQ1VMQVIiK3NdPWkubGlnaHRtYXBNb2RlPT1FZS5MSUdIVE1BUF9TSEFET1dTT05MWSk6KHJbIkxJR0hUTUFQRVhDTFVERUQiK3NdPSExLHJbIkxJR0hUTUFQTk9TUEVDVUxBUiIrc109ITEpfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0ZvckxpZ2h0cyhlLHQsaSxzLHI9NCxuPSExKXtpZighaS5fYXJlTGlnaHRzRGlydHkpcmV0dXJuIGkuX25lZWROb3JtYWxzO2xldCBhPTA7Y29uc3Qgbz17bmVlZE5vcm1hbHM6aS5fbmVlZE5vcm1hbHMsbmVlZFJlYnVpbGQ6ITEsbGlnaHRtYXBNb2RlOiExLHNoYWRvd0VuYWJsZWQ6ITEsc3BlY3VsYXJFbmFibGVkOiExfTtpZihlLmxpZ2h0c0VuYWJsZWQmJiFuKXtmb3IoY29uc3QgbCBvZiB0LmxpZ2h0U291cmNlcylpZih0aGlzLlByZXBhcmVEZWZpbmVzRm9yTGlnaHQoZSx0LGwsYSxpLHMsbyksYSsrLGE9PT1yKWJyZWFrfWkuU1BFQ1VMQVJURVJNPW8uc3BlY3VsYXJFbmFibGVkLGkuU0hBRE9XUz1vLnNoYWRvd0VuYWJsZWQ7Zm9yKGxldCBsPWE7bDxyO2wrKylpWyJMSUdIVCIrbF0hPT12b2lkIDAmJihpWyJMSUdIVCIrbF09ITEsaVsiSEVNSUxJR0hUIitsXT0hMSxpWyJQT0lOVExJR0hUIitsXT0hMSxpWyJESVJMSUdIVCIrbF09ITEsaVsiU1BPVExJR0hUIitsXT0hMSxpWyJTSEFET1ciK2xdPSExLGlbIlNIQURPV0NTTSIrbF09ITEsaVsiU0hBRE9XQ1NNREVCVUciK2xdPSExLGlbIlNIQURPV0NTTU5VTV9DQVNDQURFUyIrbF09ITEsaVsiU0hBRE9XQ1NNVVNFU0hBRE9XTUFYWiIrbF09ITEsaVsiU0hBRE9XQ1NNTk9CTEVORCIrbF09ITEsaVsiU0hBRE9XQ1NNX1JJR0hUSEFOREVEIitsXT0hMSxpWyJTSEFET1dQQ0YiK2xdPSExLGlbIlNIQURPV1BDU1MiK2xdPSExLGlbIlNIQURPV1BPSVNTT04iK2xdPSExLGlbIlNIQURPV0VTTSIrbF09ITEsaVsiU0hBRE9XQ0xPU0VFU00iK2xdPSExLGlbIlNIQURPV0NVQkUiK2xdPSExLGlbIlNIQURPV0xPV1FVQUxJVFkiK2xdPSExLGlbIlNIQURPV01FRElVTVFVQUxJVFkiK2xdPSExKTtjb25zdCBoPWUuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpO3JldHVybiBpLlNIQURPV0ZMT0FUPT09dm9pZCAwJiYoby5uZWVkUmVidWlsZD0hMCksaS5TSEFET1dGTE9BVD1vLnNoYWRvd0VuYWJsZWQmJihoLnRleHR1cmVGbG9hdFJlbmRlciYmaC50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmd8fGgudGV4dHVyZUhhbGZGbG9hdFJlbmRlciYmaC50ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nKSxpLkxJR0hUTUFQRVhDTFVERUQ9by5saWdodG1hcE1vZGUsby5uZWVkUmVidWlsZCYmaS5yZWJ1aWxkKCksby5uZWVkTm9ybWFsc31zdGF0aWMgUHJlcGFyZVVuaWZvcm1zQW5kU2FtcGxlcnNGb3JMaWdodChlLHQsaSxzLHI9bnVsbCxuPSExKXtyJiZyLnB1c2goIkxpZ2h0IitlKSwhbiYmKHQucHVzaCgidkxpZ2h0RGF0YSIrZSwidkxpZ2h0RGlmZnVzZSIrZSwidkxpZ2h0U3BlY3VsYXIiK2UsInZMaWdodERpcmVjdGlvbiIrZSwidkxpZ2h0RmFsbG9mZiIrZSwidkxpZ2h0R3JvdW5kIitlLCJsaWdodE1hdHJpeCIrZSwic2hhZG93c0luZm8iK2UsImRlcHRoVmFsdWVzIitlKSxpLnB1c2goInNoYWRvd1NhbXBsZXIiK2UpLGkucHVzaCgiZGVwdGhTYW1wbGVyIitlKSx0LnB1c2goInZpZXdGcnVzdHVtWiIrZSwiY2FzY2FkZUJsZW5kRmFjdG9yIitlLCJsaWdodFNpemVVVkNvcnJlY3Rpb24iK2UsImRlcHRoQ29ycmVjdGlvbiIrZSwicGVudW1icmFEYXJrbmVzcyIrZSwiZnJ1c3R1bUxlbmd0aHMiK2UpLHMmJihpLnB1c2goInByb2plY3Rpb25MaWdodFNhbXBsZXIiK2UpLHQucHVzaCgidGV4dHVyZVByb2plY3Rpb25NYXRyaXgiK2UpKSl9c3RhdGljIFByZXBhcmVVbmlmb3Jtc0FuZFNhbXBsZXJzTGlzdChlLHQsaSxzPTQpe2xldCByLG49bnVsbDtpZihlLnVuaWZvcm1zTmFtZXMpe2NvbnN0IGE9ZTtyPWEudW5pZm9ybXNOYW1lcyxuPWEudW5pZm9ybUJ1ZmZlcnNOYW1lcyx0PWEuc2FtcGxlcnMsaT1hLmRlZmluZXMscz1hLm1heFNpbXVsdGFuZW91c0xpZ2h0c3x8MH1lbHNlIHI9ZSx0fHwodD1bXSk7Zm9yKGxldCBhPTA7YTxzJiZpWyJMSUdIVCIrYV07YSsrKXRoaXMuUHJlcGFyZVVuaWZvcm1zQW5kU2FtcGxlcnNGb3JMaWdodChhLHIsdCxpWyJQUk9KRUNURURMSUdIVFRFWFRVUkUiK2FdLG4pO2kuTlVNX01PUlBIX0lORkxVRU5DRVJTJiZyLnB1c2goIm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyIpLGkuQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFJiYoci5wdXNoKCJiYWtlZFZlcnRleEFuaW1hdGlvblNldHRpbmdzIiksci5wdXNoKCJiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmVTaXplSW52ZXJ0ZWQiKSxyLnB1c2goImJha2VkVmVydGV4QW5pbWF0aW9uVGltZSIpLHQucHVzaCgiYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlIikpfXN0YXRpYyBIYW5kbGVGYWxsYmFja3NGb3JTaGFkb3dzKGUsdCxpPTQscz0wKXtsZXQgcj0wO2ZvcihsZXQgbj0wO248aSYmZVsiTElHSFQiK25dO24rKyluPjAmJihyPXMrbix0LmFkZEZhbGxiYWNrKHIsIkxJR0hUIituKSksZS5TSEFET1dTfHwoZVsiU0hBRE9XIituXSYmdC5hZGRGYWxsYmFjayhzLCJTSEFET1ciK24pLGVbIlNIQURPV1BDRiIrbl0mJnQuYWRkRmFsbGJhY2socywiU0hBRE9XUENGIituKSxlWyJTSEFET1dQQ1NTIituXSYmdC5hZGRGYWxsYmFjayhzLCJTSEFET1dQQ1NTIituKSxlWyJTSEFET1dQT0lTU09OIituXSYmdC5hZGRGYWxsYmFjayhzLCJTSEFET1dQT0lTU09OIituKSxlWyJTSEFET1dFU00iK25dJiZ0LmFkZEZhbGxiYWNrKHMsIlNIQURPV0VTTSIrbiksZVsiU0hBRE9XQ0xPU0VFU00iK25dJiZ0LmFkZEZhbGxiYWNrKHMsIlNIQURPV0NMT1NFRVNNIituKSk7cmV0dXJuIHIrK31zdGF0aWMgUHJlcGFyZUF0dHJpYnV0ZXNGb3JNb3JwaFRhcmdldHNJbmZsdWVuY2VycyhlLHQsaSl7dGhpcy5fVG1wTW9ycGhJbmZsdWVuY2Vycy5OVU1fTU9SUEhfSU5GTFVFTkNFUlM9aSx0aGlzLlByZXBhcmVBdHRyaWJ1dGVzRm9yTW9ycGhUYXJnZXRzKGUsdCx0aGlzLl9UbXBNb3JwaEluZmx1ZW5jZXJzKX1zdGF0aWMgUHJlcGFyZUF0dHJpYnV0ZXNGb3JNb3JwaFRhcmdldHMoZSx0LGkpe2NvbnN0IHM9aS5OVU1fTU9SUEhfSU5GTFVFTkNFUlM7aWYocz4wJiZmZS5MYXN0Q3JlYXRlZEVuZ2luZSl7Y29uc3Qgcj1mZS5MYXN0Q3JlYXRlZEVuZ2luZS5nZXRDYXBzKCkubWF4VmVydGV4QXR0cmlicyxuPXQubW9ycGhUYXJnZXRNYW5hZ2VyO2lmKG4hPW51bGwmJm4uaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzKXJldHVybjtjb25zdCBhPW4mJm4uc3VwcG9ydHNOb3JtYWxzJiZpLk5PUk1BTCxvPW4mJm4uc3VwcG9ydHNUYW5nZW50cyYmaS5UQU5HRU5ULGg9biYmbi5zdXBwb3J0c1VWcyYmaS5VVjE7Zm9yKGxldCBsPTA7bDxzO2wrKyllLnB1c2goZy5Qb3NpdGlvbktpbmQrbCksYSYmZS5wdXNoKGcuTm9ybWFsS2luZCtsKSxvJiZlLnB1c2goZy5UYW5nZW50S2luZCtsKSxoJiZlLnB1c2goZy5VVktpbmQrIl8iK2wpLGUubGVuZ3RoPnImJk8uRXJyb3IoIkNhbm5vdCBhZGQgbW9yZSB2ZXJ0ZXggYXR0cmlidXRlcyBmb3IgbWVzaCAiK3QubmFtZSl9fXN0YXRpYyBQcmVwYXJlQXR0cmlidXRlc0ZvckJha2VkVmVydGV4QW5pbWF0aW9uKGUsdCxpKXtpLkJBS0VEX1ZFUlRFWF9BTklNQVRJT05fVEVYVFVSRSYmaS5JTlNUQU5DRVMmJmUucHVzaCgiYmFrZWRWZXJ0ZXhBbmltYXRpb25TZXR0aW5nc0luc3RhbmNlZCIpfXN0YXRpYyBQcmVwYXJlQXR0cmlidXRlc0ZvckJvbmVzKGUsdCxpLHMpe2kuTlVNX0JPTkVfSU5GTFVFTkNFUlM+MCYmKHMuYWRkQ1BVU2tpbm5pbmdGYWxsYmFjaygwLHQpLGUucHVzaChnLk1hdHJpY2VzSW5kaWNlc0tpbmQpLGUucHVzaChnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLGkuTlVNX0JPTkVfSU5GTFVFTkNFUlM+NCYmKGUucHVzaChnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCksZS5wdXNoKGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKSkpfXN0YXRpYyBQcmVwYXJlQXR0cmlidXRlc0Zvckluc3RhbmNlcyhlLHQpeyh0LklOU1RBTkNFU3x8dC5USElOX0lOU1RBTkNFUykmJnRoaXMuUHVzaEF0dHJpYnV0ZXNGb3JJbnN0YW5jZXMoZSwhIXQuUFJFUEFTU19WRUxPQ0lUWSksdC5JTlNUQU5DRVNDT0xPUiYmZS5wdXNoKGcuQ29sb3JJbnN0YW5jZUtpbmQpfXN0YXRpYyBQdXNoQXR0cmlidXRlc0Zvckluc3RhbmNlcyhlLHQ9ITEpe2UucHVzaCgid29ybGQwIiksZS5wdXNoKCJ3b3JsZDEiKSxlLnB1c2goIndvcmxkMiIpLGUucHVzaCgid29ybGQzIiksdCYmKGUucHVzaCgicHJldmlvdXNXb3JsZDAiKSxlLnB1c2goInByZXZpb3VzV29ybGQxIiksZS5wdXNoKCJwcmV2aW91c1dvcmxkMiIpLGUucHVzaCgicHJldmlvdXNXb3JsZDMiKSl9c3RhdGljIEJpbmRMaWdodFByb3BlcnRpZXMoZSx0LGkpe2UudHJhbnNmZXJUb0VmZmVjdCh0LGkrIiIpfXN0YXRpYyBCaW5kTGlnaHQoZSx0LGkscyxyLG49ITApe2UuX2JpbmRMaWdodCh0LGkscyxyLG4pfXN0YXRpYyBCaW5kTGlnaHRzKGUsdCxpLHMscj00KXtjb25zdCBuPU1hdGgubWluKHQubGlnaHRTb3VyY2VzLmxlbmd0aCxyKTtmb3IobGV0IGE9MDthPG47YSsrKXtjb25zdCBvPXQubGlnaHRTb3VyY2VzW2FdO3RoaXMuQmluZExpZ2h0KG8sYSxlLGksdHlwZW9mIHM9PSJib29sZWFuIj9zOnMuU1BFQ1VMQVJURVJNLHQucmVjZWl2ZVNoYWRvd3MpfX1zdGF0aWMgQmluZEZvZ1BhcmFtZXRlcnMoZSx0LGkscz0hMSl7ZS5mb2dFbmFibGVkJiZ0LmFwcGx5Rm9nJiZlLmZvZ01vZGUhPT1uZS5GT0dNT0RFX05PTkUmJihpLnNldEZsb2F0NCgidkZvZ0luZm9zIixlLmZvZ01vZGUsZS5mb2dTdGFydCxlLmZvZ0VuZCxlLmZvZ0RlbnNpdHkpLHM/KGUuZm9nQ29sb3IudG9MaW5lYXJTcGFjZVRvUmVmKHRoaXMuX1RlbXBGb2dDb2xvciksaS5zZXRDb2xvcjMoInZGb2dDb2xvciIsdGhpcy5fVGVtcEZvZ0NvbG9yKSk6aS5zZXRDb2xvcjMoInZGb2dDb2xvciIsZS5mb2dDb2xvcikpfXN0YXRpYyBCaW5kQm9uZXNQYXJhbWV0ZXJzKGUsdCxpKXtpZighKCF0fHwhZSkmJihlLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyYmdC5fYm9uZXNDb21wdXRhdGlvbkZvcmNlZFRvQ1BVJiYoZS5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9ITEpLGUudXNlQm9uZXMmJmUuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZlLnNrZWxldG9uKSl7Y29uc3Qgcz1lLnNrZWxldG9uO2lmKHMuaXNVc2luZ1RleHR1cmVGb3JNYXRyaWNlcyYmdC5nZXRVbmlmb3JtSW5kZXgoImJvbmVUZXh0dXJlV2lkdGgiKT4tMSl7Y29uc3Qgcj1zLmdldFRyYW5zZm9ybU1hdHJpeFRleHR1cmUoZSk7dC5zZXRUZXh0dXJlKCJib25lU2FtcGxlciIsciksdC5zZXRGbG9hdCgiYm9uZVRleHR1cmVXaWR0aCIsNCoocy5ib25lcy5sZW5ndGgrMSkpfWVsc2V7Y29uc3Qgcj1zLmdldFRyYW5zZm9ybU1hdHJpY2VzKGUpO3ImJih0LnNldE1hdHJpY2VzKCJtQm9uZXMiLHIpLGkmJmUuZ2V0U2NlbmUoKS5wcmVQYXNzUmVuZGVyZXImJmUuZ2V0U2NlbmUoKS5wcmVQYXNzUmVuZGVyZXIuZ2V0SW5kZXgoMikmJihpLnByZXZpb3VzQm9uZXNbZS51bmlxdWVJZF18fChpLnByZXZpb3VzQm9uZXNbZS51bmlxdWVJZF09ci5zbGljZSgpKSx0LnNldE1hdHJpY2VzKCJtUHJldmlvdXNCb25lcyIsaS5wcmV2aW91c0JvbmVzW2UudW5pcXVlSWRdKSxpZS5fQ29weUJvbmVzVHJhbnNmb3JtYXRpb25NYXRyaWNlcyhyLGkucHJldmlvdXNCb25lc1tlLnVuaXF1ZUlkXSkpKX19fXN0YXRpYyBfQ29weUJvbmVzVHJhbnNmb3JtYXRpb25NYXRyaWNlcyhlLHQpe3JldHVybiB0LnNldChlKSx0fXN0YXRpYyBCaW5kTW9ycGhUYXJnZXRQYXJhbWV0ZXJzKGUsdCl7Y29uc3QgaT1lLm1vcnBoVGFyZ2V0TWFuYWdlcjshZXx8IWl8fHQuc2V0RmxvYXRBcnJheSgibW9ycGhUYXJnZXRJbmZsdWVuY2VzIixpLmluZmx1ZW5jZXMpfXN0YXRpYyBCaW5kTG9nRGVwdGgoZSx0LGkpe2lmKCFlfHxlLkxPR0FSSVRITUlDREVQVEh8fGUuaW5kZXhPZiYmZS5pbmRleE9mKCJMT0dBUklUSE1JQ0RFUFRIIik+PTApe2NvbnN0IHM9aS5hY3RpdmVDYW1lcmE7cy5tb2RlPT09ai5PUlRIT0dSQVBISUNfQ0FNRVJBJiZPLkVycm9yKCJMb2dhcml0aG1pYyBkZXB0aCBpcyBub3QgY29tcGF0aWJsZSB3aXRoIG9ydGhvZ3JhcGhpYyBjYW1lcmFzISIsMjApLHQuc2V0RmxvYXQoImxvZ2FyaXRobWljRGVwdGhDb25zdGFudCIsMi8oTWF0aC5sb2cocy5tYXhaKzEpL01hdGguTE4yKSl9fX1pZS5fVG1wTW9ycGhJbmZsdWVuY2Vycz17TlVNX01PUlBIX0lORkxVRU5DRVJTOjB9LGllLl9UZW1wRm9nQ29sb3I9cmUuQmxhY2soKTtjbGFzcyBXdHtjb25zdHJ1Y3Rvcigpe3RoaXMucmVzZXQoKX1yZXNldCgpe3RoaXMuZW5hYmxlZD0hMSx0aGlzLm1hc2s9MjU1LHRoaXMuZnVuYz01MTksdGhpcy5mdW5jUmVmPTEsdGhpcy5mdW5jTWFzaz0yNTUsdGhpcy5vcFN0ZW5jaWxGYWlsPTc2ODAsdGhpcy5vcERlcHRoRmFpbD03NjgwLHRoaXMub3BTdGVuY2lsRGVwdGhQYXNzPTc2ODF9Z2V0IGZ1bmMoKXtyZXR1cm4gdGhpcy5fZnVuY31zZXQgZnVuYyhlKXt0aGlzLl9mdW5jPWV9Z2V0IGZ1bmNSZWYoKXtyZXR1cm4gdGhpcy5fZnVuY1JlZn1zZXQgZnVuY1JlZihlKXt0aGlzLl9mdW5jUmVmPWV9Z2V0IGZ1bmNNYXNrKCl7cmV0dXJuIHRoaXMuX2Z1bmNNYXNrfXNldCBmdW5jTWFzayhlKXt0aGlzLl9mdW5jTWFzaz1lfWdldCBvcFN0ZW5jaWxGYWlsKCl7cmV0dXJuIHRoaXMuX29wU3RlbmNpbEZhaWx9c2V0IG9wU3RlbmNpbEZhaWwoZSl7dGhpcy5fb3BTdGVuY2lsRmFpbD1lfWdldCBvcERlcHRoRmFpbCgpe3JldHVybiB0aGlzLl9vcERlcHRoRmFpbH1zZXQgb3BEZXB0aEZhaWwoZSl7dGhpcy5fb3BEZXB0aEZhaWw9ZX1nZXQgb3BTdGVuY2lsRGVwdGhQYXNzKCl7cmV0dXJuIHRoaXMuX29wU3RlbmNpbERlcHRoUGFzc31zZXQgb3BTdGVuY2lsRGVwdGhQYXNzKGUpe3RoaXMuX29wU3RlbmNpbERlcHRoUGFzcz1lfWdldCBtYXNrKCl7cmV0dXJuIHRoaXMuX21hc2t9c2V0IG1hc2soZSl7dGhpcy5fbWFzaz1lfWdldCBlbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9c2V0IGVuYWJsZWQoZSl7dGhpcy5fZW5hYmxlZD1lfWdldENsYXNzTmFtZSgpe3JldHVybiJNYXRlcmlhbFN0ZW5jaWxTdGF0ZSJ9Y29weVRvKGUpe2FlLkNsb25lKCgpPT5lLHRoaXMpfXNlcmlhbGl6ZSgpe3JldHVybiBhZS5TZXJpYWxpemUodGhpcyl9cGFyc2UoZSx0LGkpe2FlLlBhcnNlKCgpPT50aGlzLGUsdCxpKX19VChbUigpXSxXdC5wcm90b3R5cGUsImZ1bmMiLG51bGwpLFQoW1IoKV0sV3QucHJvdG90eXBlLCJmdW5jUmVmIixudWxsKSxUKFtSKCldLFd0LnByb3RvdHlwZSwiZnVuY01hc2siLG51bGwpLFQoW1IoKV0sV3QucHJvdG90eXBlLCJvcFN0ZW5jaWxGYWlsIixudWxsKSxUKFtSKCldLFd0LnByb3RvdHlwZSwib3BEZXB0aEZhaWwiLG51bGwpLFQoW1IoKV0sV3QucHJvdG90eXBlLCJvcFN0ZW5jaWxEZXB0aFBhc3MiLG51bGwpLFQoW1IoKV0sV3QucHJvdG90eXBlLCJtYXNrIixudWxsKSxUKFtSKCldLFd0LnByb3RvdHlwZSwiZW5hYmxlZCIsbnVsbCk7dmFyIFFlOyhmdW5jdGlvbihjKXtjW2MuQ3JlYXRlZD0xXT0iQ3JlYXRlZCIsY1tjLkRpc3Bvc2VkPTJdPSJEaXNwb3NlZCIsY1tjLkdldERlZmluZU5hbWVzPTRdPSJHZXREZWZpbmVOYW1lcyIsY1tjLlByZXBhcmVVbmlmb3JtQnVmZmVyPThdPSJQcmVwYXJlVW5pZm9ybUJ1ZmZlciIsY1tjLklzUmVhZHlGb3JTdWJNZXNoPTE2XT0iSXNSZWFkeUZvclN1Yk1lc2giLGNbYy5QcmVwYXJlRGVmaW5lcz0zMl09IlByZXBhcmVEZWZpbmVzIixjW2MuQmluZEZvclN1Yk1lc2g9NjRdPSJCaW5kRm9yU3ViTWVzaCIsY1tjLlByZXBhcmVFZmZlY3Q9MTI4XT0iUHJlcGFyZUVmZmVjdCIsY1tjLkdldEFuaW1hdGFibGVzPTI1Nl09IkdldEFuaW1hdGFibGVzIixjW2MuR2V0QWN0aXZlVGV4dHVyZXM9NTEyXT0iR2V0QWN0aXZlVGV4dHVyZXMiLGNbYy5IYXNUZXh0dXJlPTEwMjRdPSJIYXNUZXh0dXJlIixjW2MuRmlsbFJlbmRlclRhcmdldFRleHR1cmVzPTIwNDhdPSJGaWxsUmVuZGVyVGFyZ2V0VGV4dHVyZXMiLGNbYy5IYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz00MDk2XT0iSGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMiLGNbYy5IYXJkQmluZEZvclN1Yk1lc2g9ODE5Ml09IkhhcmRCaW5kRm9yU3ViTWVzaCJ9KShRZXx8KFFlPXt9KSk7Y2xhc3MgUHtjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5zaGFkb3dEZXB0aFdyYXBwZXI9bnVsbCx0aGlzLmFsbG93U2hhZGVySG90U3dhcHBpbmc9ITAsdGhpcy5tZXRhZGF0YT1udWxsLHRoaXMucmVzZXJ2ZWREYXRhU3RvcmU9bnVsbCx0aGlzLmNoZWNrUmVhZHlPbkV2ZXJ5Q2FsbD0hMSx0aGlzLmNoZWNrUmVhZHlPbmx5T25jZT0hMSx0aGlzLnN0YXRlPSIiLHRoaXMuX2FscGhhPTEsdGhpcy5fYmFja0ZhY2VDdWxsaW5nPSEwLHRoaXMuX2N1bGxCYWNrRmFjZXM9ITAsdGhpcy5fYmxvY2tEaXJ0eU1lY2hhbmlzbT0hMSx0aGlzLm9uQ29tcGlsZWQ9bnVsbCx0aGlzLm9uRXJyb3I9bnVsbCx0aGlzLmdldFJlbmRlclRhcmdldFRleHR1cmVzPW51bGwsdGhpcy5kb05vdFNlcmlhbGl6ZT0hMSx0aGlzLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzPSExLHRoaXMuYW5pbWF0aW9ucz1udWxsLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj1udWxsLHRoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZT1udWxsLHRoaXMuX29uQmluZE9ic2VydmVyPW51bGwsdGhpcy5fYWxwaGFNb2RlPTIsdGhpcy5fbmVlZERlcHRoUHJlUGFzcz0hMSx0aGlzLmRpc2FibGVEZXB0aFdyaXRlPSExLHRoaXMuZGlzYWJsZUNvbG9yV3JpdGU9ITEsdGhpcy5mb3JjZURlcHRoV3JpdGU9ITEsdGhpcy5kZXB0aEZ1bmN0aW9uPTAsdGhpcy5zZXBhcmF0ZUN1bGxpbmdQYXNzPSExLHRoaXMuX2ZvZ0VuYWJsZWQ9ITAsdGhpcy5wb2ludFNpemU9MSx0aGlzLnpPZmZzZXQ9MCx0aGlzLnpPZmZzZXRVbml0cz0wLHRoaXMuc3RlbmNpbD1uZXcgV3QsdGhpcy5fdXNlVUJPPSExLHRoaXMuX2ZpbGxNb2RlPVAuVHJpYW5nbGVGaWxsTW9kZSx0aGlzLl9jYWNoZWREZXB0aFdyaXRlU3RhdGU9ITEsdGhpcy5fY2FjaGVkQ29sb3JXcml0ZVN0YXRlPSExLHRoaXMuX2NhY2hlZERlcHRoRnVuY3Rpb25TdGF0ZT0wLHRoaXMuX2luZGV4SW5TY2VuZU1hdGVyaWFsQXJyYXk9LTEsdGhpcy5tZXNoTWFwPW51bGwsdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGwsdGhpcy5fdW5pZm9ybUJ1ZmZlckxheW91dEJ1aWx0PSExLHRoaXMuX2V2ZW50SW5mbz17fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYz0oKT0+e30sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudElzUmVhZHlGb3JTdWJNZXNoPSgpPT57fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50UHJlcGFyZURlZmluZXM9KCk9Pnt9LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRQcmVwYXJlRGVmaW5lc0JlZm9yZUF0dHJpYnV0ZXM9KCk9Pnt9LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXJkQmluZEZvclN1Yk1lc2g9KCk9Pnt9LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRCaW5kRm9yU3ViTWVzaD0oKT0+e30sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEhhc1JlbmRlclRhcmdldFRleHR1cmVzPSgpPT57fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50RmlsbFJlbmRlclRhcmdldFRleHR1cmVzPSgpPT57fSx0aGlzLl9mb3JjZUFscGhhVGVzdD0hMSx0aGlzLl90cmFuc3BhcmVuY3lNb2RlPW51bGwsdGhpcy5uYW1lPWU7Y29uc3Qgcz10fHxmZS5MYXN0Q3JlYXRlZFNjZW5lO3MmJih0aGlzLl9zY2VuZT1zLHRoaXMuX2RpcnR5Q2FsbGJhY2tzPXt9LHRoaXMuX2RpcnR5Q2FsbGJhY2tzWzFdPXRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkuYmluZCh0aGlzKSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1syXT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNMaWdodHNEaXJ0eS5iaW5kKHRoaXMpLHRoaXMuX2RpcnR5Q2FsbGJhY2tzWzRdPXRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxEaXJ0eS5iaW5kKHRoaXMpLHRoaXMuX2RpcnR5Q2FsbGJhY2tzWzhdPXRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eS5iaW5kKHRoaXMpLHRoaXMuX2RpcnR5Q2FsbGJhY2tzWzE2XT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNNaXNjRGlydHkuYmluZCh0aGlzKSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1szMl09dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzUHJlUGFzc0RpcnR5LmJpbmQodGhpcyksdGhpcy5fZGlydHlDYWxsYmFja3NbNjNdPXRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0FsbERpcnR5LmJpbmQodGhpcyksdGhpcy5pZD1lfHxILlJhbmRvbUlkKCksdGhpcy51bmlxdWVJZD10aGlzLl9zY2VuZS5nZXRVbmlxdWVJZCgpLHRoaXMuX21hdGVyaWFsQ29udGV4dD10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5jcmVhdGVNYXRlcmlhbENvbnRleHQoKSx0aGlzLl9kcmF3V3JhcHBlcj1uZXcgbWkodGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksITEpLHRoaXMuX2RyYXdXcmFwcGVyLm1hdGVyaWFsQ29udGV4dD10aGlzLl9tYXRlcmlhbENvbnRleHQsdGhpcy5fc2NlbmUudXNlUmlnaHRIYW5kZWRTeXN0ZW0/dGhpcy5zaWRlT3JpZW50YXRpb249UC5DbG9ja1dpc2VTaWRlT3JpZW50YXRpb246dGhpcy5zaWRlT3JpZW50YXRpb249UC5Db3VudGVyQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uLHRoaXMuX3VuaWZvcm1CdWZmZXI9bmV3IFYodGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksdm9pZCAwLHZvaWQgMCxlKSx0aGlzLl91c2VVQk89dGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnMsaXx8dGhpcy5fc2NlbmUuYWRkTWF0ZXJpYWwodGhpcyksdGhpcy5fc2NlbmUudXNlTWF0ZXJpYWxNZXNoTWFwJiYodGhpcy5tZXNoTWFwPXt9KSxQLk9uRXZlbnRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLFFlLkNyZWF0ZWQpKX1nZXQgY2FuUmVuZGVyVG9NUlQoKXtyZXR1cm4hMX1zZXQgYWxwaGEoZSl7aWYodGhpcy5fYWxwaGE9PT1lKXJldHVybjtjb25zdCB0PXRoaXMuX2FscGhhO3RoaXMuX2FscGhhPWUsKHQ9PT0xfHxlPT09MSkmJnRoaXMubWFya0FzRGlydHkoUC5NaXNjRGlydHlGbGFnKX1nZXQgYWxwaGEoKXtyZXR1cm4gdGhpcy5fYWxwaGF9c2V0IGJhY2tGYWNlQ3VsbGluZyhlKXt0aGlzLl9iYWNrRmFjZUN1bGxpbmchPT1lJiYodGhpcy5fYmFja0ZhY2VDdWxsaW5nPWUsdGhpcy5tYXJrQXNEaXJ0eShQLlRleHR1cmVEaXJ0eUZsYWcpKX1nZXQgYmFja0ZhY2VDdWxsaW5nKCl7cmV0dXJuIHRoaXMuX2JhY2tGYWNlQ3VsbGluZ31zZXQgY3VsbEJhY2tGYWNlcyhlKXt0aGlzLl9jdWxsQmFja0ZhY2VzIT09ZSYmKHRoaXMuX2N1bGxCYWNrRmFjZXM9ZSx0aGlzLm1hcmtBc0RpcnR5KFAuVGV4dHVyZURpcnR5RmxhZykpfWdldCBjdWxsQmFja0ZhY2VzKCl7cmV0dXJuIHRoaXMuX2N1bGxCYWNrRmFjZXN9Z2V0IGJsb2NrRGlydHlNZWNoYW5pc20oKXtyZXR1cm4gdGhpcy5fYmxvY2tEaXJ0eU1lY2hhbmlzbX1zZXQgYmxvY2tEaXJ0eU1lY2hhbmlzbShlKXt0aGlzLl9ibG9ja0RpcnR5TWVjaGFuaXNtIT09ZSYmKHRoaXMuX2Jsb2NrRGlydHlNZWNoYW5pc209ZSxlfHx0aGlzLm1hcmtEaXJ0eSgpKX1hdG9taWNNYXRlcmlhbHNVcGRhdGUoZSl7dGhpcy5ibG9ja0RpcnR5TWVjaGFuaXNtPSEwO3RyeXtlKHRoaXMpfWZpbmFsbHl7dGhpcy5ibG9ja0RpcnR5TWVjaGFuaXNtPSExfX1nZXQgaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMoKXtyZXR1cm4gdGhpcy5fZXZlbnRJbmZvLmhhc1JlbmRlclRhcmdldFRleHR1cmVzPSExLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcyh0aGlzLl9ldmVudEluZm8pLHRoaXMuX2V2ZW50SW5mby5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlc31zZXQgb25EaXNwb3NlKGUpe3RoaXMuX29uRGlzcG9zZU9ic2VydmVyJiZ0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uRGlzcG9zZU9ic2VydmVyKSx0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj10aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuYWRkKGUpfWdldCBvbkJpbmRPYnNlcnZhYmxlKCl7cmV0dXJuIHRoaXMuX29uQmluZE9ic2VydmFibGV8fCh0aGlzLl9vbkJpbmRPYnNlcnZhYmxlPW5ldyBGKSx0aGlzLl9vbkJpbmRPYnNlcnZhYmxlfXNldCBvbkJpbmQoZSl7dGhpcy5fb25CaW5kT2JzZXJ2ZXImJnRoaXMub25CaW5kT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25CaW5kT2JzZXJ2ZXIpLHRoaXMuX29uQmluZE9ic2VydmVyPXRoaXMub25CaW5kT2JzZXJ2YWJsZS5hZGQoZSl9Z2V0IG9uVW5CaW5kT2JzZXJ2YWJsZSgpe3JldHVybiB0aGlzLl9vblVuQmluZE9ic2VydmFibGV8fCh0aGlzLl9vblVuQmluZE9ic2VydmFibGU9bmV3IEYpLHRoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZX1nZXQgb25FZmZlY3RDcmVhdGVkT2JzZXJ2YWJsZSgpe3JldHVybiB0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlfHwodGhpcy5fb25FZmZlY3RDcmVhdGVkT2JzZXJ2YWJsZT1uZXcgRiksdGhpcy5fb25FZmZlY3RDcmVhdGVkT2JzZXJ2YWJsZX1zZXQgYWxwaGFNb2RlKGUpe3RoaXMuX2FscGhhTW9kZSE9PWUmJih0aGlzLl9hbHBoYU1vZGU9ZSx0aGlzLm1hcmtBc0RpcnR5KFAuVGV4dHVyZURpcnR5RmxhZykpfWdldCBhbHBoYU1vZGUoKXtyZXR1cm4gdGhpcy5fYWxwaGFNb2RlfXNldCBuZWVkRGVwdGhQcmVQYXNzKGUpe3RoaXMuX25lZWREZXB0aFByZVBhc3MhPT1lJiYodGhpcy5fbmVlZERlcHRoUHJlUGFzcz1lLHRoaXMuX25lZWREZXB0aFByZVBhc3MmJih0aGlzLmNoZWNrUmVhZHlPbkV2ZXJ5Q2FsbD0hMCkpfWdldCBuZWVkRGVwdGhQcmVQYXNzKCl7cmV0dXJuIHRoaXMuX25lZWREZXB0aFByZVBhc3N9Z2V0IGlzUHJlUGFzc0NhcGFibGUoKXtyZXR1cm4hMX1zZXQgZm9nRW5hYmxlZChlKXt0aGlzLl9mb2dFbmFibGVkIT09ZSYmKHRoaXMuX2ZvZ0VuYWJsZWQ9ZSx0aGlzLm1hcmtBc0RpcnR5KFAuTWlzY0RpcnR5RmxhZykpfWdldCBmb2dFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2ZvZ0VuYWJsZWR9Z2V0IHdpcmVmcmFtZSgpe3N3aXRjaCh0aGlzLl9maWxsTW9kZSl7Y2FzZSBQLldpcmVGcmFtZUZpbGxNb2RlOmNhc2UgUC5MaW5lTGlzdERyYXdNb2RlOmNhc2UgUC5MaW5lTG9vcERyYXdNb2RlOmNhc2UgUC5MaW5lU3RyaXBEcmF3TW9kZTpyZXR1cm4hMH1yZXR1cm4gdGhpcy5fc2NlbmUuZm9yY2VXaXJlZnJhbWV9c2V0IHdpcmVmcmFtZShlKXt0aGlzLmZpbGxNb2RlPWU/UC5XaXJlRnJhbWVGaWxsTW9kZTpQLlRyaWFuZ2xlRmlsbE1vZGV9Z2V0IHBvaW50c0Nsb3VkKCl7c3dpdGNoKHRoaXMuX2ZpbGxNb2RlKXtjYXNlIFAuUG9pbnRGaWxsTW9kZTpjYXNlIFAuUG9pbnRMaXN0RHJhd01vZGU6cmV0dXJuITB9cmV0dXJuIHRoaXMuX3NjZW5lLmZvcmNlUG9pbnRzQ2xvdWR9c2V0IHBvaW50c0Nsb3VkKGUpe3RoaXMuZmlsbE1vZGU9ZT9QLlBvaW50RmlsbE1vZGU6UC5UcmlhbmdsZUZpbGxNb2RlfWdldCBmaWxsTW9kZSgpe3JldHVybiB0aGlzLl9maWxsTW9kZX1zZXQgZmlsbE1vZGUoZSl7dGhpcy5fZmlsbE1vZGUhPT1lJiYodGhpcy5fZmlsbE1vZGU9ZSx0aGlzLm1hcmtBc0RpcnR5KFAuTWlzY0RpcnR5RmxhZykpfV9nZXREcmF3V3JhcHBlcigpe3JldHVybiB0aGlzLl9kcmF3V3JhcHBlcn1fc2V0RHJhd1dyYXBwZXIoZSl7dGhpcy5fZHJhd1dyYXBwZXI9ZX10b1N0cmluZyhlKXtyZXR1cm4iTmFtZTogIit0aGlzLm5hbWV9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIk1hdGVyaWFsIn1nZXQgX2lzTWF0ZXJpYWwoKXtyZXR1cm4hMH1nZXQgaXNGcm96ZW4oKXtyZXR1cm4gdGhpcy5jaGVja1JlYWR5T25seU9uY2V9ZnJlZXplKCl7dGhpcy5tYXJrRGlydHkoKSx0aGlzLmNoZWNrUmVhZHlPbmx5T25jZT0hMH11bmZyZWV6ZSgpe3RoaXMubWFya0RpcnR5KCksdGhpcy5jaGVja1JlYWR5T25seU9uY2U9ITF9aXNSZWFkeShlLHQpe3JldHVybiEwfWlzUmVhZHlGb3JTdWJNZXNoKGUsdCxpKXtjb25zdCBzPXQubWF0ZXJpYWxEZWZpbmVzO3JldHVybiBzPyh0aGlzLl9ldmVudEluZm8uaXNSZWFkeUZvclN1Yk1lc2g9ITAsdGhpcy5fZXZlbnRJbmZvLmRlZmluZXM9cyx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50SXNSZWFkeUZvclN1Yk1lc2godGhpcy5fZXZlbnRJbmZvKSx0aGlzLl9ldmVudEluZm8uaXNSZWFkeUZvclN1Yk1lc2gpOiExfWdldEVmZmVjdCgpe3JldHVybiB0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3R9Z2V0U2NlbmUoKXtyZXR1cm4gdGhpcy5fc2NlbmV9Z2V0IHRyYW5zcGFyZW5jeU1vZGUoKXtyZXR1cm4gdGhpcy5fdHJhbnNwYXJlbmN5TW9kZX1zZXQgdHJhbnNwYXJlbmN5TW9kZShlKXt0aGlzLl90cmFuc3BhcmVuY3lNb2RlIT09ZSYmKHRoaXMuX3RyYW5zcGFyZW5jeU1vZGU9ZSx0aGlzLl9mb3JjZUFscGhhVGVzdD1lPT09UC5NQVRFUklBTF9BTFBIQVRFU1RBTkRCTEVORCx0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0FuZE1pc2NEaXJ0eSgpKX1nZXQgX2Rpc2FibGVBbHBoYUJsZW5kaW5nKCl7cmV0dXJuIHRoaXMuX3RyYW5zcGFyZW5jeU1vZGU9PT1QLk1BVEVSSUFMX09QQVFVRXx8dGhpcy5fdHJhbnNwYXJlbmN5TW9kZT09PVAuTUFURVJJQUxfQUxQSEFURVNUfW5lZWRBbHBoYUJsZW5kaW5nKCl7cmV0dXJuIHRoaXMuX2Rpc2FibGVBbHBoYUJsZW5kaW5nPyExOnRoaXMuYWxwaGE8MX1uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2goZSl7cmV0dXJuIGUudmlzaWJpbGl0eTwxPyEwOnRoaXMuX2Rpc2FibGVBbHBoYUJsZW5kaW5nPyExOmUuaGFzVmVydGV4QWxwaGF8fHRoaXMubmVlZEFscGhhQmxlbmRpbmcoKX1uZWVkQWxwaGFUZXN0aW5nKCl7cmV0dXJuISF0aGlzLl9mb3JjZUFscGhhVGVzdH1fc2hvdWxkVHVybkFscGhhVGVzdE9uKGUpe3JldHVybiF0aGlzLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaChlKSYmdGhpcy5uZWVkQWxwaGFUZXN0aW5nKCl9Z2V0QWxwaGFUZXN0VGV4dHVyZSgpe3JldHVybiBudWxsfW1hcmtEaXJ0eShlPSExKXtjb25zdCB0PXRoaXMuZ2V0U2NlbmUoKS5tZXNoZXM7Zm9yKGNvbnN0IGkgb2YgdClpZihpLnN1Yk1lc2hlcylmb3IoY29uc3QgcyBvZiBpLnN1Yk1lc2hlcylzLmdldE1hdGVyaWFsKCk9PT10aGlzJiZzLmVmZmVjdCYmKHMuZWZmZWN0Ll93YXNQcmV2aW91c2x5UmVhZHk9ITEscy5lZmZlY3QuX3dhc1ByZXZpb3VzbHlVc2luZ0luc3RhbmNlcz1udWxsLHMuZWZmZWN0Ll9mb3JjZVJlYmluZE9uTmV4dENhbGw9ZSk7ZSYmdGhpcy5tYXJrQXNEaXJ0eShQLkFsbERpcnR5RmxhZyl9X3ByZUJpbmQoZSx0PW51bGwpe2NvbnN0IGk9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkscj0odD8/dGhpcy5zaWRlT3JpZW50YXRpb24pPT09UC5DbG9ja1dpc2VTaWRlT3JpZW50YXRpb247cmV0dXJuIGkuZW5hYmxlRWZmZWN0KGV8fHRoaXMuX2dldERyYXdXcmFwcGVyKCkpLGkuc2V0U3RhdGUodGhpcy5iYWNrRmFjZUN1bGxpbmcsdGhpcy56T2Zmc2V0LCExLHIsdGhpcy5fc2NlbmUuX21pcnJvcmVkQ2FtZXJhUG9zaXRpb24/IXRoaXMuY3VsbEJhY2tGYWNlczp0aGlzLmN1bGxCYWNrRmFjZXMsdGhpcy5zdGVuY2lsLHRoaXMuek9mZnNldFVuaXRzKSxyfWJpbmQoZSx0KXt9YnVpbGRVbmlmb3JtTGF5b3V0KCl7Y29uc3QgZT10aGlzLl91bmlmb3JtQnVmZmVyO3RoaXMuX2V2ZW50SW5mby51Ym89ZSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYyhRZS5QcmVwYXJlVW5pZm9ybUJ1ZmZlcix0aGlzLl9ldmVudEluZm8pLGUuY3JlYXRlKCksdGhpcy5fdW5pZm9ybUJ1ZmZlckxheW91dEJ1aWx0PSEwfWJpbmRGb3JTdWJNZXNoKGUsdCxpKXtjb25zdCBzPWkuZWZmZWN0O3MmJih0aGlzLl9ldmVudEluZm8uc3ViTWVzaD1pLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRCaW5kRm9yU3ViTWVzaCh0aGlzLl9ldmVudEluZm8pLHMuX2ZvcmNlUmViaW5kT25OZXh0Q2FsbD0hMSl9YmluZE9ubHlXb3JsZE1hdHJpeChlKXt9YmluZFZpZXcoZSl7dGhpcy5fdXNlVUJPP3RoaXMuX25lZWRUb0JpbmRTY2VuZVVibz0hMDplLnNldE1hdHJpeCgidmlldyIsdGhpcy5nZXRTY2VuZSgpLmdldFZpZXdNYXRyaXgoKSl9YmluZFZpZXdQcm9qZWN0aW9uKGUpe3RoaXMuX3VzZVVCTz90aGlzLl9uZWVkVG9CaW5kU2NlbmVVYm89ITA6KGUuc2V0TWF0cml4KCJ2aWV3UHJvamVjdGlvbiIsdGhpcy5nZXRTY2VuZSgpLmdldFRyYW5zZm9ybU1hdHJpeCgpKSxlLnNldE1hdHJpeCgicHJvamVjdGlvbiIsdGhpcy5nZXRTY2VuZSgpLmdldFByb2plY3Rpb25NYXRyaXgoKSkpfWJpbmRFeWVQb3NpdGlvbihlLHQpe3RoaXMuX3VzZVVCTz90aGlzLl9uZWVkVG9CaW5kU2NlbmVVYm89ITA6dGhpcy5fc2NlbmUuYmluZEV5ZVBvc2l0aW9uKGUsdCl9X2FmdGVyQmluZChlLHQ9bnVsbCl7aWYodGhpcy5fc2NlbmUuX2NhY2hlZE1hdGVyaWFsPXRoaXMsdGhpcy5fbmVlZFRvQmluZFNjZW5lVWJvJiZ0JiYodGhpcy5fbmVlZFRvQmluZFNjZW5lVWJvPSExLGllLkJpbmRTY2VuZVVuaWZvcm1CdWZmZXIodCx0aGlzLmdldFNjZW5lKCkuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCkpLHRoaXMuX3NjZW5lLmZpbmFsaXplU2NlbmVVYm8oKSksZT90aGlzLl9zY2VuZS5fY2FjaGVkVmlzaWJpbGl0eT1lLnZpc2liaWxpdHk6dGhpcy5fc2NlbmUuX2NhY2hlZFZpc2liaWxpdHk9MSx0aGlzLl9vbkJpbmRPYnNlcnZhYmxlJiZlJiZ0aGlzLl9vbkJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0aGlzLmRpc2FibGVEZXB0aFdyaXRlKXtjb25zdCBpPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO3RoaXMuX2NhY2hlZERlcHRoV3JpdGVTdGF0ZT1pLmdldERlcHRoV3JpdGUoKSxpLnNldERlcHRoV3JpdGUoITEpfWlmKHRoaXMuZGlzYWJsZUNvbG9yV3JpdGUpe2NvbnN0IGk9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7dGhpcy5fY2FjaGVkQ29sb3JXcml0ZVN0YXRlPWkuZ2V0Q29sb3JXcml0ZSgpLGkuc2V0Q29sb3JXcml0ZSghMSl9aWYodGhpcy5kZXB0aEZ1bmN0aW9uIT09MCl7Y29uc3QgaT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTt0aGlzLl9jYWNoZWREZXB0aEZ1bmN0aW9uU3RhdGU9aS5nZXREZXB0aEZ1bmN0aW9uKCl8fDAsaS5zZXREZXB0aEZ1bmN0aW9uKHRoaXMuZGVwdGhGdW5jdGlvbil9fXVuYmluZCgpe3RoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZSYmdGhpcy5fb25VbkJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLmRlcHRoRnVuY3Rpb24hPT0wJiZ0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5zZXREZXB0aEZ1bmN0aW9uKHRoaXMuX2NhY2hlZERlcHRoRnVuY3Rpb25TdGF0ZSksdGhpcy5kaXNhYmxlRGVwdGhXcml0ZSYmdGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuc2V0RGVwdGhXcml0ZSh0aGlzLl9jYWNoZWREZXB0aFdyaXRlU3RhdGUpLHRoaXMuZGlzYWJsZUNvbG9yV3JpdGUmJnRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLnNldENvbG9yV3JpdGUodGhpcy5fY2FjaGVkQ29sb3JXcml0ZVN0YXRlKX1nZXRBbmltYXRhYmxlcygpe3JldHVybiB0aGlzLl9ldmVudEluZm8uYW5pbWF0YWJsZXM9W10sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWMoUWUuR2V0QW5pbWF0YWJsZXMsdGhpcy5fZXZlbnRJbmZvKSx0aGlzLl9ldmVudEluZm8uYW5pbWF0YWJsZXN9Z2V0QWN0aXZlVGV4dHVyZXMoKXtyZXR1cm4gdGhpcy5fZXZlbnRJbmZvLmFjdGl2ZVRleHR1cmVzPVtdLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljKFFlLkdldEFjdGl2ZVRleHR1cmVzLHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fZXZlbnRJbmZvLmFjdGl2ZVRleHR1cmVzfWhhc1RleHR1cmUoZSl7cmV0dXJuIHRoaXMuX2V2ZW50SW5mby5oYXNUZXh0dXJlPSExLHRoaXMuX2V2ZW50SW5mby50ZXh0dXJlPWUsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWMoUWUuSGFzVGV4dHVyZSx0aGlzLl9ldmVudEluZm8pLHRoaXMuX2V2ZW50SW5mby5oYXNUZXh0dXJlfWNsb25lKGUpe3JldHVybiBudWxsfWdldEJpbmRlZE1lc2hlcygpe2lmKHRoaXMubWVzaE1hcCl7Y29uc3QgZT1uZXcgQXJyYXk7Zm9yKGNvbnN0IHQgaW4gdGhpcy5tZXNoTWFwKXtjb25zdCBpPXRoaXMubWVzaE1hcFt0XTtpJiZlLnB1c2goaSl9cmV0dXJuIGV9ZWxzZSByZXR1cm4gdGhpcy5fc2NlbmUubWVzaGVzLmZpbHRlcih0PT50Lm1hdGVyaWFsPT09dGhpcyl9Zm9yY2VDb21waWxhdGlvbihlLHQsaSxzKXtjb25zdCByPXtjbGlwUGxhbmU6ITEsdXNlSW5zdGFuY2VzOiExLC4uLml9LG49dGhpcy5nZXRTY2VuZSgpLGE9dGhpcy5hbGxvd1NoYWRlckhvdFN3YXBwaW5nO3RoaXMuYWxsb3dTaGFkZXJIb3RTd2FwcGluZz0hMTtjb25zdCBvPSgpPT57aWYoIXRoaXMuX3NjZW5lfHwhdGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkpcmV0dXJuO2NvbnN0IGg9bi5jbGlwUGxhbmU7aWYoci5jbGlwUGxhbmUmJihuLmNsaXBQbGFuZT1uZXcgeHQoMCwwLDAsMSkpLHRoaXMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpe2xldCBsPSEwLHU9bnVsbDtpZihlLnN1Yk1lc2hlcyl7Y29uc3QgZD1uZXcgdnQoMCwwLDAsMCwwLGUsdm9pZCAwLCExLCExKTtkLm1hdGVyaWFsRGVmaW5lcyYmKGQubWF0ZXJpYWxEZWZpbmVzLl9yZW5kZXJJZD0tMSksdGhpcy5pc1JlYWR5Rm9yU3ViTWVzaChlLGQsci51c2VJbnN0YW5jZXMpfHwoZC5lZmZlY3QmJmQuZWZmZWN0LmdldENvbXBpbGF0aW9uRXJyb3IoKSYmZC5lZmZlY3QuYWxsRmFsbGJhY2tzUHJvY2Vzc2VkKCk/dT1kLmVmZmVjdC5nZXRDb21waWxhdGlvbkVycm9yKCk6KGw9ITEsc2V0VGltZW91dChvLDE2KSkpfWwmJih0aGlzLmFsbG93U2hhZGVySG90U3dhcHBpbmc9YSx1JiZzJiZzKHUpLHQmJnQodGhpcykpfWVsc2UgdGhpcy5pc1JlYWR5KCk/KHRoaXMuYWxsb3dTaGFkZXJIb3RTd2FwcGluZz1hLHQmJnQodGhpcykpOnNldFRpbWVvdXQobywxNik7ci5jbGlwUGxhbmUmJihuLmNsaXBQbGFuZT1oKX07bygpfWZvcmNlQ29tcGlsYXRpb25Bc3luYyhlLHQpe3JldHVybiBuZXcgUHJvbWlzZSgoaSxzKT0+e3RoaXMuZm9yY2VDb21waWxhdGlvbihlLCgpPT57aSgpfSx0LHI9PntzKHIpfSl9KX1tYXJrQXNEaXJ0eShlKXt0aGlzLmdldFNjZW5lKCkuYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtfHx0aGlzLl9ibG9ja0RpcnR5TWVjaGFuaXNtfHwoUC5fRGlydHlDYWxsYmFja0FycmF5Lmxlbmd0aD0wLGUmUC5UZXh0dXJlRGlydHlGbGFnJiZQLl9EaXJ0eUNhbGxiYWNrQXJyYXkucHVzaChQLl9UZXh0dXJlRGlydHlDYWxsQmFjayksZSZQLkxpZ2h0RGlydHlGbGFnJiZQLl9EaXJ0eUNhbGxiYWNrQXJyYXkucHVzaChQLl9MaWdodHNEaXJ0eUNhbGxCYWNrKSxlJlAuRnJlc25lbERpcnR5RmxhZyYmUC5fRGlydHlDYWxsYmFja0FycmF5LnB1c2goUC5fRnJlc25lbERpcnR5Q2FsbEJhY2spLGUmUC5BdHRyaWJ1dGVzRGlydHlGbGFnJiZQLl9EaXJ0eUNhbGxiYWNrQXJyYXkucHVzaChQLl9BdHRyaWJ1dGVEaXJ0eUNhbGxCYWNrKSxlJlAuTWlzY0RpcnR5RmxhZyYmUC5fRGlydHlDYWxsYmFja0FycmF5LnB1c2goUC5fTWlzY0RpcnR5Q2FsbEJhY2spLGUmUC5QcmVQYXNzRGlydHlGbGFnJiZQLl9EaXJ0eUNhbGxiYWNrQXJyYXkucHVzaChQLl9QcmVQYXNzRGlydHlDYWxsQmFjayksUC5fRGlydHlDYWxsYmFja0FycmF5Lmxlbmd0aCYmdGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoUC5fUnVuRGlydHlDYWxsQmFja3MpLHRoaXMuZ2V0U2NlbmUoKS5yZXNldENhY2hlZE1hdGVyaWFsKCkpfXJlc2V0RHJhd0NhY2hlKCl7Y29uc3QgZT10aGlzLmdldFNjZW5lKCkubWVzaGVzO2Zvcihjb25zdCB0IG9mIGUpaWYodC5zdWJNZXNoZXMpZm9yKGNvbnN0IGkgb2YgdC5zdWJNZXNoZXMpaS5nZXRNYXRlcmlhbCgpPT09dGhpcyYmaS5yZXNldERyYXdDYWNoZSgpfV9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShlKXtpZih0aGlzLmdldFNjZW5lKCkuYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtfHx0aGlzLl9ibG9ja0RpcnR5TWVjaGFuaXNtKXJldHVybjtjb25zdCB0PXRoaXMuZ2V0U2NlbmUoKS5tZXNoZXM7Zm9yKGNvbnN0IGkgb2YgdClpZihpLnN1Yk1lc2hlcyl7Zm9yKGNvbnN0IHMgb2YgaS5zdWJNZXNoZXMpaWYocy5nZXRNYXRlcmlhbCghMSk9PT10aGlzKWZvcihjb25zdCByIG9mIHMuX2RyYXdXcmFwcGVycykhcnx8IXIuZGVmaW5lc3x8IXIuZGVmaW5lcy5tYXJrQWxsQXNEaXJ0eXx8dGhpcy5fbWF0ZXJpYWxDb250ZXh0PT09ci5tYXRlcmlhbENvbnRleHQmJmUoci5kZWZpbmVzKX19X21hcmtTY2VuZVByZVBhc3NEaXJ0eSgpe2lmKHRoaXMuZ2V0U2NlbmUoKS5ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc218fHRoaXMuX2Jsb2NrRGlydHlNZWNoYW5pc20pcmV0dXJuO2NvbnN0IGU9dGhpcy5nZXRTY2VuZSgpLmVuYWJsZVByZVBhc3NSZW5kZXJlcigpO2UmJmUubWFya0FzRGlydHkoKX1fbWFya0FsbFN1Yk1lc2hlc0FzQWxsRGlydHkoKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShQLl9BbGxEaXJ0eUNhbGxCYWNrKX1fbWFya0FsbFN1Yk1lc2hlc0FzSW1hZ2VQcm9jZXNzaW5nRGlydHkoKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShQLl9JbWFnZVByb2Nlc3NpbmdEaXJ0eUNhbGxCYWNrKX1fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSgpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KFAuX1RleHR1cmVEaXJ0eUNhbGxCYWNrKX1fbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbERpcnR5KCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoUC5fRnJlc25lbERpcnR5Q2FsbEJhY2spfV9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsQW5kTWlzY0RpcnR5KCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoUC5fRnJlc25lbEFuZE1pc2NEaXJ0eUNhbGxCYWNrKX1fbWFya0FsbFN1Yk1lc2hlc0FzTGlnaHRzRGlydHkoKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShQLl9MaWdodHNEaXJ0eUNhbGxCYWNrKX1fbWFya0FsbFN1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoUC5fQXR0cmlidXRlRGlydHlDYWxsQmFjayl9X21hcmtBbGxTdWJNZXNoZXNBc01pc2NEaXJ0eSgpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KFAuX01pc2NEaXJ0eUNhbGxCYWNrKX1fbWFya0FsbFN1Yk1lc2hlc0FzUHJlUGFzc0RpcnR5KCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoUC5fTWlzY0RpcnR5Q2FsbEJhY2spfV9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0FuZE1pc2NEaXJ0eSgpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KFAuX1RleHR1cmVBbmRNaXNjRGlydHlDYWxsQmFjayl9c2V0UHJlUGFzc1JlbmRlcmVyKGUpe3JldHVybiExfWRpc3Bvc2UoZSx0LGkpe2NvbnN0IHM9dGhpcy5nZXRTY2VuZSgpO2lmKHMuc3RvcEFuaW1hdGlvbih0aGlzKSxzLmZyZWVQcm9jZXNzZWRNYXRlcmlhbHMoKSxzLnJlbW92ZU1hdGVyaWFsKHRoaXMpLHRoaXMuX2V2ZW50SW5mby5mb3JjZURpc3Bvc2VUZXh0dXJlcz10LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljKFFlLkRpc3Bvc2VkLHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fcGFyZW50Q29udGFpbmVyKXtjb25zdCByPXRoaXMuX3BhcmVudENvbnRhaW5lci5tYXRlcmlhbHMuaW5kZXhPZih0aGlzKTtyPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIubWF0ZXJpYWxzLnNwbGljZShyLDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfWlmKGkhPT0hMClpZih0aGlzLm1lc2hNYXApZm9yKGNvbnN0IHIgaW4gdGhpcy5tZXNoTWFwKXtjb25zdCBuPXRoaXMubWVzaE1hcFtyXTtuJiYobi5tYXRlcmlhbD1udWxsLHRoaXMucmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KG4sZSkpfWVsc2V7Y29uc3Qgcj1zLm1lc2hlcztmb3IoY29uc3QgbiBvZiByKW4ubWF0ZXJpYWw9PT10aGlzJiYhbi5zb3VyY2VNZXNoJiYobi5tYXRlcmlhbD1udWxsLHRoaXMucmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KG4sZSkpfXRoaXMuX3VuaWZvcm1CdWZmZXIuZGlzcG9zZSgpLGUmJnRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdCYmKHRoaXMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXN8fHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdC5kaXNwb3NlKCksdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0PW51bGwpLHRoaXMubWV0YWRhdGE9bnVsbCx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX29uQmluZE9ic2VydmFibGUmJnRoaXMuX29uQmluZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9vblVuQmluZE9ic2VydmFibGUmJnRoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX29uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGUmJnRoaXMuX29uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9ldmVudEluZm8mJih0aGlzLl9ldmVudEluZm89e30pfXJlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdChlLHQpe2lmKGUuZ2VvbWV0cnkpe2NvbnN0IGk9ZS5nZW9tZXRyeTtpZih0aGlzLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzKWZvcihjb25zdCBzIG9mIGUuc3ViTWVzaGVzKWkuX3JlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdChzLmVmZmVjdCksdCYmcy5lZmZlY3QmJnMuZWZmZWN0LmRpc3Bvc2UoKTtlbHNlIGkuX3JlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdCh0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QpfX1zZXJpYWxpemUoKXtjb25zdCBlPWFlLlNlcmlhbGl6ZSh0aGlzKTtyZXR1cm4gZS5zdGVuY2lsPXRoaXMuc3RlbmNpbC5zZXJpYWxpemUoKSxlLnVuaXF1ZUlkPXRoaXMudW5pcXVlSWQsZX1zdGF0aWMgUGFyc2UoZSx0LGkpe2lmKCFlLmN1c3RvbVR5cGUpZS5jdXN0b21UeXBlPSJCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwiO2Vsc2UgaWYoZS5jdXN0b21UeXBlPT09IkJBQllMT04uUEJSTWF0ZXJpYWwiJiZlLm92ZXJsb2FkZWRBbGJlZG8mJihlLmN1c3RvbVR5cGU9IkJBQllMT04uTGVnYWN5UEJSTWF0ZXJpYWwiLCFCQUJZTE9OLkxlZ2FjeVBCUk1hdGVyaWFsKSlyZXR1cm4gTy5FcnJvcigiWW91ciBzY2VuZSBpcyB0cnlpbmcgdG8gbG9hZCBhIGxlZ2FjeSB2ZXJzaW9uIG9mIHRoZSBQQlJNYXRlcmlhbCwgcGxlYXNlLCBpbmNsdWRlIGl0IGZyb20gdGhlIG1hdGVyaWFscyBsaWJyYXJ5LiIpLG51bGw7Y29uc3Qgcj1ILkluc3RhbnRpYXRlKGUuY3VzdG9tVHlwZSkuUGFyc2UoZSx0LGkpO3JldHVybiByLl9sb2FkZWRVbmlxdWVJZD1lLnVuaXF1ZUlkLHJ9fVAuVHJpYW5nbGVGaWxsTW9kZT0wLFAuV2lyZUZyYW1lRmlsbE1vZGU9MSxQLlBvaW50RmlsbE1vZGU9MixQLlBvaW50TGlzdERyYXdNb2RlPTMsUC5MaW5lTGlzdERyYXdNb2RlPTQsUC5MaW5lTG9vcERyYXdNb2RlPTUsUC5MaW5lU3RyaXBEcmF3TW9kZT02LFAuVHJpYW5nbGVTdHJpcERyYXdNb2RlPTcsUC5UcmlhbmdsZUZhbkRyYXdNb2RlPTgsUC5DbG9ja1dpc2VTaWRlT3JpZW50YXRpb249MCxQLkNvdW50ZXJDbG9ja1dpc2VTaWRlT3JpZW50YXRpb249MSxQLlRleHR1cmVEaXJ0eUZsYWc9MSxQLkxpZ2h0RGlydHlGbGFnPTIsUC5GcmVzbmVsRGlydHlGbGFnPTQsUC5BdHRyaWJ1dGVzRGlydHlGbGFnPTgsUC5NaXNjRGlydHlGbGFnPTE2LFAuUHJlUGFzc0RpcnR5RmxhZz0zMixQLkFsbERpcnR5RmxhZz02MyxQLk1BVEVSSUFMX09QQVFVRT0wLFAuTUFURVJJQUxfQUxQSEFURVNUPTEsUC5NQVRFUklBTF9BTFBIQUJMRU5EPTIsUC5NQVRFUklBTF9BTFBIQVRFU1RBTkRCTEVORD0zLFAuTUFURVJJQUxfTk9STUFMQkxFTkRNRVRIT0RfV0hJVEVPVVQ9MCxQLk1BVEVSSUFMX05PUk1BTEJMRU5ETUVUSE9EX1JOTT0xLFAuT25FdmVudE9ic2VydmFibGU9bmV3IEYsUC5fQWxsRGlydHlDYWxsQmFjaz1jPT5jLm1hcmtBbGxBc0RpcnR5KCksUC5fSW1hZ2VQcm9jZXNzaW5nRGlydHlDYWxsQmFjaz1jPT5jLm1hcmtBc0ltYWdlUHJvY2Vzc2luZ0RpcnR5KCksUC5fVGV4dHVyZURpcnR5Q2FsbEJhY2s9Yz0+Yy5tYXJrQXNUZXh0dXJlc0RpcnR5KCksUC5fRnJlc25lbERpcnR5Q2FsbEJhY2s9Yz0+Yy5tYXJrQXNGcmVzbmVsRGlydHkoKSxQLl9NaXNjRGlydHlDYWxsQmFjaz1jPT5jLm1hcmtBc01pc2NEaXJ0eSgpLFAuX1ByZVBhc3NEaXJ0eUNhbGxCYWNrPWM9PmMubWFya0FzUHJlUGFzc0RpcnR5KCksUC5fTGlnaHRzRGlydHlDYWxsQmFjaz1jPT5jLm1hcmtBc0xpZ2h0RGlydHkoKSxQLl9BdHRyaWJ1dGVEaXJ0eUNhbGxCYWNrPWM9PmMubWFya0FzQXR0cmlidXRlc0RpcnR5KCksUC5fRnJlc25lbEFuZE1pc2NEaXJ0eUNhbGxCYWNrPWM9PntQLl9GcmVzbmVsRGlydHlDYWxsQmFjayhjKSxQLl9NaXNjRGlydHlDYWxsQmFjayhjKX0sUC5fVGV4dHVyZUFuZE1pc2NEaXJ0eUNhbGxCYWNrPWM9PntQLl9UZXh0dXJlRGlydHlDYWxsQmFjayhjKSxQLl9NaXNjRGlydHlDYWxsQmFjayhjKX0sUC5fRGlydHlDYWxsYmFja0FycmF5PVtdLFAuX1J1bkRpcnR5Q2FsbEJhY2tzPWM9Pntmb3IoY29uc3QgZSBvZiBQLl9EaXJ0eUNhbGxiYWNrQXJyYXkpZShjKX0sVChbUigpXSxQLnByb3RvdHlwZSwiaWQiLHZvaWQgMCksVChbUigpXSxQLnByb3RvdHlwZSwidW5pcXVlSWQiLHZvaWQgMCksVChbUigpXSxQLnByb3RvdHlwZSwibmFtZSIsdm9pZCAwKSxUKFtSKCldLFAucHJvdG90eXBlLCJtZXRhZGF0YSIsdm9pZCAwKSxUKFtSKCldLFAucHJvdG90eXBlLCJjaGVja1JlYWR5T25FdmVyeUNhbGwiLHZvaWQgMCksVChbUigpXSxQLnByb3RvdHlwZSwiY2hlY2tSZWFkeU9ubHlPbmNlIix2b2lkIDApLFQoW1IoKV0sUC5wcm90b3R5cGUsInN0YXRlIix2b2lkIDApLFQoW1IoImFscGhhIildLFAucHJvdG90eXBlLCJfYWxwaGEiLHZvaWQgMCksVChbUigiYmFja0ZhY2VDdWxsaW5nIildLFAucHJvdG90eXBlLCJfYmFja0ZhY2VDdWxsaW5nIix2b2lkIDApLFQoW1IoImN1bGxCYWNrRmFjZXMiKV0sUC5wcm90b3R5cGUsIl9jdWxsQmFja0ZhY2VzIix2b2lkIDApLFQoW1IoKV0sUC5wcm90b3R5cGUsInNpZGVPcmllbnRhdGlvbiIsdm9pZCAwKSxUKFtSKCJhbHBoYU1vZGUiKV0sUC5wcm90b3R5cGUsIl9hbHBoYU1vZGUiLHZvaWQgMCksVChbUigpXSxQLnByb3RvdHlwZSwiX25lZWREZXB0aFByZVBhc3MiLHZvaWQgMCksVChbUigpXSxQLnByb3RvdHlwZSwiZGlzYWJsZURlcHRoV3JpdGUiLHZvaWQgMCksVChbUigpXSxQLnByb3RvdHlwZSwiZGlzYWJsZUNvbG9yV3JpdGUiLHZvaWQgMCksVChbUigpXSxQLnByb3RvdHlwZSwiZm9yY2VEZXB0aFdyaXRlIix2b2lkIDApLFQoW1IoKV0sUC5wcm90b3R5cGUsImRlcHRoRnVuY3Rpb24iLHZvaWQgMCksVChbUigpXSxQLnByb3RvdHlwZSwic2VwYXJhdGVDdWxsaW5nUGFzcyIsdm9pZCAwKSxUKFtSKCJmb2dFbmFibGVkIildLFAucHJvdG90eXBlLCJfZm9nRW5hYmxlZCIsdm9pZCAwKSxUKFtSKCldLFAucHJvdG90eXBlLCJwb2ludFNpemUiLHZvaWQgMCksVChbUigpXSxQLnByb3RvdHlwZSwiek9mZnNldCIsdm9pZCAwKSxUKFtSKCldLFAucHJvdG90eXBlLCJ6T2Zmc2V0VW5pdHMiLHZvaWQgMCksVChbUigpXSxQLnByb3RvdHlwZSwicG9pbnRzQ2xvdWQiLG51bGwpLFQoW1IoKV0sUC5wcm90b3R5cGUsImZpbGxNb2RlIixudWxsKSxUKFtSKCldLFAucHJvdG90eXBlLCJ0cmFuc3BhcmVuY3lNb2RlIixudWxsKTtjbGFzcyBTaSBleHRlbmRzIFB7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQsITApLHRoaXMuX3dhaXRpbmdTdWJNYXRlcmlhbHNVbmlxdWVJZHM9W10sdGhpcy5nZXRTY2VuZSgpLm11bHRpTWF0ZXJpYWxzLnB1c2godGhpcyksdGhpcy5zdWJNYXRlcmlhbHM9bmV3IEFycmF5LHRoaXMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXM9ITB9Z2V0IHN1Yk1hdGVyaWFscygpe3JldHVybiB0aGlzLl9zdWJNYXRlcmlhbHN9c2V0IHN1Yk1hdGVyaWFscyhlKXt0aGlzLl9zdWJNYXRlcmlhbHM9ZSx0aGlzLl9ob29rQXJyYXkoZSl9Z2V0Q2hpbGRyZW4oKXtyZXR1cm4gdGhpcy5zdWJNYXRlcmlhbHN9X2hvb2tBcnJheShlKXtjb25zdCB0PWUucHVzaDtlLnB1c2g9KC4uLnMpPT57Y29uc3Qgcj10LmFwcGx5KGUscyk7cmV0dXJuIHRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKSxyfTtjb25zdCBpPWUuc3BsaWNlO2Uuc3BsaWNlPShzLHIpPT57Y29uc3Qgbj1pLmFwcGx5KGUsW3Mscl0pO3JldHVybiB0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5KCksbn19Z2V0U3ViTWF0ZXJpYWwoZSl7cmV0dXJuIGU8MHx8ZT49dGhpcy5zdWJNYXRlcmlhbHMubGVuZ3RoP3RoaXMuZ2V0U2NlbmUoKS5kZWZhdWx0TWF0ZXJpYWw6dGhpcy5zdWJNYXRlcmlhbHNbZV19Z2V0QWN0aXZlVGV4dHVyZXMoKXtyZXR1cm4gc3VwZXIuZ2V0QWN0aXZlVGV4dHVyZXMoKS5jb25jYXQoLi4udGhpcy5zdWJNYXRlcmlhbHMubWFwKGU9PmU/ZS5nZXRBY3RpdmVUZXh0dXJlcygpOltdKSl9aGFzVGV4dHVyZShlKXt2YXIgdDtpZihzdXBlci5oYXNUZXh0dXJlKGUpKXJldHVybiEwO2ZvcihsZXQgaT0wO2k8dGhpcy5zdWJNYXRlcmlhbHMubGVuZ3RoO2krKylpZighKCh0PXRoaXMuc3ViTWF0ZXJpYWxzW2ldKT09PW51bGx8fHQ9PT12b2lkIDApJiZ0Lmhhc1RleHR1cmUoZSkpcmV0dXJuITA7cmV0dXJuITF9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIk11bHRpTWF0ZXJpYWwifWlzUmVhZHlGb3JTdWJNZXNoKGUsdCxpKXtmb3IobGV0IHM9MDtzPHRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aDtzKyspe2NvbnN0IHI9dGhpcy5zdWJNYXRlcmlhbHNbc107aWYocil7aWYoci5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcyl7aWYoIXIuaXNSZWFkeUZvclN1Yk1lc2goZSx0LGkpKXJldHVybiExO2NvbnRpbnVlfWlmKCFyLmlzUmVhZHkoZSkpcmV0dXJuITF9fXJldHVybiEwfWNsb25lKGUsdCl7Y29uc3QgaT1uZXcgU2koZSx0aGlzLmdldFNjZW5lKCkpO2ZvcihsZXQgcz0wO3M8dGhpcy5zdWJNYXRlcmlhbHMubGVuZ3RoO3MrKyl7bGV0IHI9bnVsbDtjb25zdCBuPXRoaXMuc3ViTWF0ZXJpYWxzW3NdO3QmJm4/cj1uLmNsb25lKGUrIi0iK24ubmFtZSk6cj10aGlzLnN1Yk1hdGVyaWFsc1tzXSxpLnN1Yk1hdGVyaWFscy5wdXNoKHIpfXJldHVybiBpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9e307ZS5uYW1lPXRoaXMubmFtZSxlLmlkPXRoaXMuaWQsZS51bmlxdWVJZD10aGlzLnVuaXF1ZUlkLGdlJiYoZS50YWdzPWdlLkdldFRhZ3ModGhpcykpLGUubWF0ZXJpYWxzVW5pcXVlSWRzPVtdLGUubWF0ZXJpYWxzPVtdO2ZvcihsZXQgdD0wO3Q8dGhpcy5zdWJNYXRlcmlhbHMubGVuZ3RoO3QrKyl7Y29uc3QgaT10aGlzLnN1Yk1hdGVyaWFsc1t0XTtpPyhlLm1hdGVyaWFsc1VuaXF1ZUlkcy5wdXNoKGkudW5pcXVlSWQpLGUubWF0ZXJpYWxzLnB1c2goaS5pZCkpOihlLm1hdGVyaWFsc1VuaXF1ZUlkcy5wdXNoKG51bGwpLGUubWF0ZXJpYWxzLnB1c2gobnVsbCkpfXJldHVybiBlfWRpc3Bvc2UoZSx0LGkpe2NvbnN0IHM9dGhpcy5nZXRTY2VuZSgpO2lmKCFzKXJldHVybjtpZihpKWZvcihsZXQgbj0wO248dGhpcy5zdWJNYXRlcmlhbHMubGVuZ3RoO24rKyl7Y29uc3QgYT10aGlzLnN1Yk1hdGVyaWFsc1tuXTthJiZhLmRpc3Bvc2UoZSx0KX1jb25zdCByPXMubXVsdGlNYXRlcmlhbHMuaW5kZXhPZih0aGlzKTtyPj0wJiZzLm11bHRpTWF0ZXJpYWxzLnNwbGljZShyLDEpLHN1cGVyLmRpc3Bvc2UoZSx0KX1zdGF0aWMgUGFyc2VNdWx0aU1hdGVyaWFsKGUsdCl7Y29uc3QgaT1uZXcgU2koZS5uYW1lLHQpO3JldHVybiBpLmlkPWUuaWQsaS5fbG9hZGVkVW5pcXVlSWQ9ZS51bmlxdWVJZCxnZSYmZ2UuQWRkVGFnc1RvKGksZS50YWdzKSxlLm1hdGVyaWFsc1VuaXF1ZUlkcz9pLl93YWl0aW5nU3ViTWF0ZXJpYWxzVW5pcXVlSWRzPWUubWF0ZXJpYWxzVW5pcXVlSWRzOmUubWF0ZXJpYWxzLmZvckVhY2gocz0+aS5zdWJNYXRlcmlhbHMucHVzaCh0LmdldExhc3RNYXRlcmlhbEJ5SWQocykpKSxpfX1pdCgiQkFCWUxPTi5NdWx0aU1hdGVyaWFsIixTaSk7Y2xhc3MgV257Y29uc3RydWN0b3IoZSx0KXt0aGlzLmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZT1lLHRoaXMubWVzaD10fX1jbGFzcyB6bntjb25zdHJ1Y3Rvcigpe3RoaXMudmlzaWJsZUluc3RhbmNlcz17fSx0aGlzLmJhdGNoQ2FjaGU9bmV3IElyLHRoaXMuYmF0Y2hDYWNoZVJlcGxhY2VtZW50TW9kZUluRnJvemVuTW9kZT1uZXcgSXIsdGhpcy5pbnN0YW5jZXNCdWZmZXJTaXplPTMyKjE2KjR9fWNsYXNzIElye2NvbnN0cnVjdG9yKCl7dGhpcy5tdXN0UmV0dXJuPSExLHRoaXMudmlzaWJsZUluc3RhbmNlcz1uZXcgQXJyYXksdGhpcy5yZW5kZXJTZWxmPW5ldyBBcnJheSx0aGlzLmhhcmR3YXJlSW5zdGFuY2VkUmVuZGVyaW5nPW5ldyBBcnJheX19Y2xhc3MgR257Y29uc3RydWN0b3IoKXt0aGlzLmluc3RhbmNlc0NvdW50PTAsdGhpcy5tYXRyaXhCdWZmZXI9bnVsbCx0aGlzLnByZXZpb3VzTWF0cml4QnVmZmVyPW51bGwsdGhpcy5tYXRyaXhCdWZmZXJTaXplPTMyKjE2LHRoaXMubWF0cml4RGF0YT1udWxsLHRoaXMuYm91bmRpbmdWZWN0b3JzPVtdLHRoaXMud29ybGRNYXRyaWNlcz1udWxsfX1jbGFzcyBYbntjb25zdHJ1Y3Rvcigpe3RoaXMuX2FyZU5vcm1hbHNGcm96ZW49ITEsdGhpcy5fc291cmNlPW51bGwsdGhpcy5tZXNoTWFwPW51bGwsdGhpcy5fcHJlQWN0aXZhdGVJZD0tMSx0aGlzLl9MT0RMZXZlbHM9bmV3IEFycmF5LHRoaXMuX3VzZUxPRFNjcmVlbkNvdmVyYWdlPSExLHRoaXMuX2VmZmVjdGl2ZU1hdGVyaWFsPW51bGwsdGhpcy5fZm9yY2VkSW5zdGFuY2VDb3VudD0wfX1jbGFzcyBXIGV4dGVuZHMgb3R7Y29uc3RydWN0b3IoZSx0PW51bGwsaT1udWxsLHM9bnVsbCxyLG49ITApe2lmKHN1cGVyKGUsdCksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm89bmV3IFhuLHRoaXMuZGVsYXlMb2FkU3RhdGU9MCx0aGlzLmluc3RhbmNlcz1uZXcgQXJyYXksdGhpcy5fY3JlYXRpb25EYXRhU3RvcmFnZT1udWxsLHRoaXMuX2dlb21ldHJ5PW51bGwsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZT1uZXcgem4sdGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2U9bmV3IEduLHRoaXMuX3Nob3VsZEdlbmVyYXRlRmxhdFNoYWRpbmc9ITEsdGhpcy5fb3JpZ2luYWxCdWlsZGVyU2lkZU9yaWVudGF0aW9uPVcuREVGQVVMVFNJREUsdGhpcy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uPW51bGwsdGhpcy5pZ25vcmVDYW1lcmFNYXhaPSExLHQ9dGhpcy5nZXRTY2VuZSgpLHRoaXMuX29uQmVmb3JlRHJhdz0oYSxvLGgpPT57YSYmaCYmKHRoaXMuX3VuaWZvcm1CdWZmZXI/dGhpcy50cmFuc2ZlclRvRWZmZWN0KG8pOmguYmluZE9ubHlXb3JsZE1hdHJpeChvKSl9LHMpe2lmKHMuX2dlb21ldHJ5JiZzLl9nZW9tZXRyeS5hcHBseVRvTWVzaCh0aGlzKSx2cy5EZWVwQ29weShzLHRoaXMsWyJuYW1lIiwibWF0ZXJpYWwiLCJza2VsZXRvbiIsImluc3RhbmNlcyIsInBhcmVudCIsInVuaXF1ZUlkIiwic291cmNlIiwibWV0YWRhdGEiLCJtb3JwaFRhcmdldE1hbmFnZXIiLCJoYXNJbnN0YW5jZXMiLCJ3b3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlciIsInByZXZpb3VzV29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXIiLCJoYXNMT0RMZXZlbHMiLCJnZW9tZXRyeSIsImlzQmxvY2tlZCIsImFyZU5vcm1hbHNGcm96ZW4iLCJmYWNldE5iIiwiaXNGYWNldERhdGFFbmFibGVkIiwibGlnaHRTb3VyY2VzIiwidXNlQm9uZXMiLCJpc0FuSW5zdGFuY2UiLCJjb2xsaWRlciIsImVkZ2VzUmVuZGVyZXIiLCJmb3J3YXJkIiwidXAiLCJyaWdodCIsImFic29sdXRlUG9zaXRpb24iLCJhYnNvbHV0ZVNjYWxpbmciLCJhYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbiIsImlzV29ybGRNYXRyaXhGcm96ZW4iLCJub25Vbmlmb3JtU2NhbGluZyIsImJlaGF2aW9ycyIsIndvcmxkTWF0cml4RnJvbUNhY2hlIiwiaGFzVGhpbkluc3RhbmNlcyIsImNsb25lTWVzaE1hcCIsImhhc0JvdW5kaW5nSW5mbyJdLFsiX3Bvc2VNYXRyaXgiXSksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZT1zLHQudXNlQ2xvbmVkTWVzaE1hcCYmKHMuX2ludGVybmFsTWVzaERhdGFJbmZvLm1lc2hNYXB8fChzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5tZXNoTWFwPXt9KSxzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5tZXNoTWFwW3RoaXMudW5pcXVlSWRdPXRoaXMpLHRoaXMuX29yaWdpbmFsQnVpbGRlclNpZGVPcmllbnRhdGlvbj1zLl9vcmlnaW5hbEJ1aWxkZXJTaWRlT3JpZW50YXRpb24sdGhpcy5fY3JlYXRpb25EYXRhU3RvcmFnZT1zLl9jcmVhdGlvbkRhdGFTdG9yYWdlLHMuX3Jhbmdlcyl7Y29uc3QgYT1zLl9yYW5nZXM7Zm9yKGNvbnN0IG8gaW4gYSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxvKSYmYVtvXSYmdGhpcy5jcmVhdGVBbmltYXRpb25SYW5nZShvLGFbb10uZnJvbSxhW29dLnRvKX1pZihzLm1ldGFkYXRhJiZzLm1ldGFkYXRhLmNsb25lP3RoaXMubWV0YWRhdGE9cy5tZXRhZGF0YS5jbG9uZSgpOnRoaXMubWV0YWRhdGE9cy5tZXRhZGF0YSxnZSYmZ2UuSGFzVGFncyhzKSYmZ2UuQWRkVGFnc1RvKHRoaXMsZ2UuR2V0VGFncyhzLCEwKSksdGhpcy5zZXRFbmFibGVkKHMuaXNFbmFibGVkKCExKSksdGhpcy5wYXJlbnQ9cy5wYXJlbnQsdGhpcy5zZXRQaXZvdE1hdHJpeChzLmdldFBpdm90TWF0cml4KCkpLHRoaXMuaWQ9ZSsiLiIrcy5pZCx0aGlzLm1hdGVyaWFsPXMubWF0ZXJpYWwsIXIpe2NvbnN0IGE9cy5nZXREZXNjZW5kYW50cyghMCk7Zm9yKGxldCBvPTA7bzxhLmxlbmd0aDtvKyspe2NvbnN0IGg9YVtvXTtoLmNsb25lJiZoLmNsb25lKGUrIi4iK2gubmFtZSx0aGlzKX19aWYocy5tb3JwaFRhcmdldE1hbmFnZXImJih0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcj1zLm1vcnBoVGFyZ2V0TWFuYWdlciksdC5nZXRQaHlzaWNzRW5naW5lKXtjb25zdCBhPXQuZ2V0UGh5c2ljc0VuZ2luZSgpO2lmKG4mJmEmJmEuZ2V0UGx1Z2luVmVyc2lvbigpPT09MSl7Y29uc3Qgbz1hLmdldEltcG9zdG9yRm9yUGh5c2ljc09iamVjdChzKTtvJiYodGhpcy5waHlzaWNzSW1wb3N0b3I9by5jbG9uZSh0aGlzKSl9fWZvcihsZXQgYT0wO2E8dC5wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoO2ErKyl7Y29uc3Qgbz10LnBhcnRpY2xlU3lzdGVtc1thXTtvLmVtaXR0ZXI9PT1zJiZvLmNsb25lKG8ubmFtZSx0aGlzKX10aGlzLnNrZWxldG9uPXMuc2tlbGV0b24sdGhpcy5yZWZyZXNoQm91bmRpbmdJbmZvKCEwLCEwKSx0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCl9aSE9PW51bGwmJih0aGlzLnBhcmVudD1pKSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmhhcmR3YXJlSW5zdGFuY2VkUmVuZGVyaW5nPXRoaXMuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLmluc3RhbmNlZEFycmF5cyx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25NZXNoUmVhZHlPYnNlcnZlckFkZGVkPWE9PnthLnVucmVnaXN0ZXJPbk5leHRDYWxsPSEwLHRoaXMuaXNSZWFkeSghMCk/dGhpcy5vbk1lc2hSZWFkeU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpOnRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9jaGVja1JlYWRpbmVzc09ic2VydmVyfHwodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2NoZWNrUmVhZGluZXNzT2JzZXJ2ZXI9dGhpcy5fc2NlbmUub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZCgoKT0+e3RoaXMuaXNSZWFkeSghMCkmJih0aGlzLl9zY2VuZS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9jaGVja1JlYWRpbmVzc09ic2VydmVyKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fY2hlY2tSZWFkaW5lc3NPYnNlcnZlcj1udWxsLHRoaXMub25NZXNoUmVhZHlPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSl9KSl9LHRoaXMub25NZXNoUmVhZHlPYnNlcnZhYmxlPW5ldyBGKHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbk1lc2hSZWFkeU9ic2VydmVyQWRkZWQpLHMmJnMub25DbG9uZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX1zdGF0aWMgX0dldERlZmF1bHRTaWRlT3JpZW50YXRpb24oZSl7cmV0dXJuIGV8fFcuRlJPTlRTSURFfWdldCB1c2VMT0RTY3JlZW5Db3ZlcmFnZSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fdXNlTE9EU2NyZWVuQ292ZXJhZ2V9c2V0IHVzZUxPRFNjcmVlbkNvdmVyYWdlKGUpe3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl91c2VMT0RTY3JlZW5Db3ZlcmFnZT1lLHRoaXMuX3NvcnRMT0RMZXZlbHMoKX1nZXQgY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVyc31zZXQgY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVycyE9PWUmJihlJiZ0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlUG9zaXRpb25zJiYodGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQsdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZVBvc2l0aW9ucywhMCksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZU5vcm1hbHMmJnRoaXMuc2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlTm9ybWFscywhMCksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZVBvc2l0aW9ucz1udWxsLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2VOb3JtYWxzPW51bGwpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVycz1lLHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpKX1nZXQgb25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZVJlbmRlck9ic2VydmFibGV8fCh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlPW5ldyBGKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlfWdldCBvbkJlZm9yZUJpbmRPYnNlcnZhYmxlKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZUJpbmRPYnNlcnZhYmxlfHwodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlQmluZE9ic2VydmFibGU9bmV3IEYpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZUJpbmRPYnNlcnZhYmxlfWdldCBvbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25BZnRlclJlbmRlck9ic2VydmFibGV8fCh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25BZnRlclJlbmRlck9ic2VydmFibGU9bmV3IEYpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZX1nZXQgb25CZXR3ZWVuUGFzc09ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlfHwodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlPW5ldyBGKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZXR3ZWVuUGFzc09ic2VydmFibGV9Z2V0IG9uQmVmb3JlRHJhd09ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlRHJhd09ic2VydmFibGV8fCh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVEcmF3T2JzZXJ2YWJsZT1uZXcgRiksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlRHJhd09ic2VydmFibGV9c2V0IG9uQmVmb3JlRHJhdyhlKXt0aGlzLl9vbkJlZm9yZURyYXdPYnNlcnZlciYmdGhpcy5vbkJlZm9yZURyYXdPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkJlZm9yZURyYXdPYnNlcnZlciksdGhpcy5fb25CZWZvcmVEcmF3T2JzZXJ2ZXI9dGhpcy5vbkJlZm9yZURyYXdPYnNlcnZhYmxlLmFkZChlKX1nZXQgaGFzSW5zdGFuY2VzKCl7cmV0dXJuIHRoaXMuaW5zdGFuY2VzLmxlbmd0aD4wfWdldCBoYXNUaGluSW5zdGFuY2VzKCl7dmFyIGU7cmV0dXJuKChlPXRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0NvdW50KSE9PW51bGwmJmUhPT12b2lkIDA/ZTowKT4wfWdldCBmb3JjZWRJbnN0YW5jZUNvdW50KCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9mb3JjZWRJbnN0YW5jZUNvdW50fXNldCBmb3JjZWRJbnN0YW5jZUNvdW50KGUpe3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9mb3JjZWRJbnN0YW5jZUNvdW50PWV9Z2V0IHNvdXJjZSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlfWdldCBjbG9uZU1lc2hNYXAoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8ubWVzaE1hcH1nZXQgaXNVbkluZGV4ZWQoKXtyZXR1cm4gdGhpcy5fdW5JbmRleGVkfXNldCBpc1VuSW5kZXhlZChlKXt0aGlzLl91bkluZGV4ZWQhPT1lJiYodGhpcy5fdW5JbmRleGVkPWUsdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCkpfWdldCB3b3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlcigpe3JldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0RhdGF9Z2V0IHByZXZpb3VzV29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXIoKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNQcmV2aW91c0RhdGF9Z2V0IG1hbnVhbFVwZGF0ZU9mV29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXIoKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5tYW51YWxVcGRhdGV9c2V0IG1hbnVhbFVwZGF0ZU9mV29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXIoZSl7dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5tYW51YWxVcGRhdGU9ZX1nZXQgbWFudWFsVXBkYXRlT2ZQcmV2aW91c1dvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYW51YWxVcGRhdGV9c2V0IG1hbnVhbFVwZGF0ZU9mUHJldmlvdXNXb3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlcihlKXt0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzTWFudWFsVXBkYXRlPWV9Z2V0IGZvcmNlV29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXJVcGRhdGUoKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5mb3JjZU1hdHJpeFVwZGF0ZXN9c2V0IGZvcmNlV29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXJVcGRhdGUoZSl7dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5mb3JjZU1hdHJpeFVwZGF0ZXM9ZX1pbnN0YW50aWF0ZUhpZXJhcmNoeShlPW51bGwsdCxpKXtjb25zdCBzPXRoaXMuZ2V0VG90YWxWZXJ0aWNlcygpPT09MHx8dCYmdC5kb05vdEluc3RhbnRpYXRlJiYodC5kb05vdEluc3RhbnRpYXRlPT09ITB8fHQuZG9Ob3RJbnN0YW50aWF0ZSh0aGlzKSk/dGhpcy5jbG9uZSgiQ2xvbmUgb2YgIisodGhpcy5uYW1lfHx0aGlzLmlkKSxlfHx0aGlzLnBhcmVudCwhMCk6dGhpcy5jcmVhdGVJbnN0YW5jZSgiaW5zdGFuY2Ugb2YgIisodGhpcy5uYW1lfHx0aGlzLmlkKSk7cy5wYXJlbnQ9ZXx8dGhpcy5wYXJlbnQscy5wb3NpdGlvbj10aGlzLnBvc2l0aW9uLmNsb25lKCkscy5zY2FsaW5nPXRoaXMuc2NhbGluZy5jbG9uZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uP3Mucm90YXRpb25RdWF0ZXJuaW9uPXRoaXMucm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCk6cy5yb3RhdGlvbj10aGlzLnJvdGF0aW9uLmNsb25lKCksaSYmaSh0aGlzLHMpO2Zvcihjb25zdCByIG9mIHRoaXMuZ2V0Q2hpbGRUcmFuc2Zvcm1Ob2RlcyghMCkpci5nZXRDbGFzc05hbWUoKT09PSJJbnN0YW5jZWRNZXNoIiYmcy5nZXRDbGFzc05hbWUoKT09PSJNZXNoIj9yLmluc3RhbnRpYXRlSGllcmFyY2h5KHMse2RvTm90SW5zdGFudGlhdGU6dCYmdC5kb05vdEluc3RhbnRpYXRlfHwhMSxuZXdTb3VyY2VkTWVzaDpzfSxpKTpyLmluc3RhbnRpYXRlSGllcmFyY2h5KHMsdCxpKTtyZXR1cm4gc31nZXRDbGFzc05hbWUoKXtyZXR1cm4iTWVzaCJ9Z2V0IF9pc01lc2goKXtyZXR1cm4hMH10b1N0cmluZyhlKXtsZXQgdD1zdXBlci50b1N0cmluZyhlKTtpZih0Kz0iLCBuIHZlcnRpY2VzOiAiK3RoaXMuZ2V0VG90YWxWZXJ0aWNlcygpLHQrPSIsIHBhcmVudDogIisodGhpcy5fd2FpdGluZ1BhcmVudElkP3RoaXMuX3dhaXRpbmdQYXJlbnRJZDp0aGlzLnBhcmVudD90aGlzLnBhcmVudC5uYW1lOiJOT05FIiksdGhpcy5hbmltYXRpb25zKWZvcihsZXQgaT0wO2k8dGhpcy5hbmltYXRpb25zLmxlbmd0aDtpKyspdCs9IiwgYW5pbWF0aW9uWzBdOiAiK3RoaXMuYW5pbWF0aW9uc1tpXS50b1N0cmluZyhlKTtpZihlKWlmKHRoaXMuX2dlb21ldHJ5KXtjb25zdCBpPXRoaXMuZ2V0SW5kaWNlcygpLHM9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpO3MmJmkmJih0Kz0iLCBmbGF0IHNoYWRpbmc6ICIrKHMubGVuZ3RoLzM9PT1pLmxlbmd0aD8iWUVTIjoiTk8iKSl9ZWxzZSB0Kz0iLCBmbGF0IHNoYWRpbmc6IFVOS05PV04iO3JldHVybiB0fV91bkJpbmRFZmZlY3QoKXtzdXBlci5fdW5CaW5kRWZmZWN0KCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5pbnN0YW5jZXMpZS5fdW5CaW5kRWZmZWN0KCl9Z2V0IGhhc0xPRExldmVscygpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fTE9ETGV2ZWxzLmxlbmd0aD4wfWdldExPRExldmVscygpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fTE9ETGV2ZWxzfV9zb3J0TE9ETGV2ZWxzKCl7Y29uc3QgZT10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fdXNlTE9EU2NyZWVuQ292ZXJhZ2U/LTE6MTt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fTE9ETGV2ZWxzLnNvcnQoKHQsaSk9PnQuZGlzdGFuY2VPclNjcmVlbkNvdmVyYWdlPGkuZGlzdGFuY2VPclNjcmVlbkNvdmVyYWdlP2U6dC5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U+aS5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U/LWU6MCl9YWRkTE9ETGV2ZWwoZSx0KXtpZih0JiZ0Ll9tYXN0ZXJNZXNoKXJldHVybiBPLldhcm4oIllvdSBjYW5ub3QgdXNlIGEgbWVzaCBhcyBMT0QgbGV2ZWwgdHdpY2UiKSx0aGlzO2NvbnN0IGk9bmV3IFduKGUsdCk7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9MT0RMZXZlbHMucHVzaChpKSx0JiYodC5fbWFzdGVyTWVzaD10aGlzKSx0aGlzLl9zb3J0TE9ETGV2ZWxzKCksdGhpc31nZXRMT0RMZXZlbEF0RGlzdGFuY2UoZSl7Y29uc3QgdD10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbztmb3IobGV0IGk9MDtpPHQuX0xPRExldmVscy5sZW5ndGg7aSsrKXtjb25zdCBzPXQuX0xPRExldmVsc1tpXTtpZihzLmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZT09PWUpcmV0dXJuIHMubWVzaH1yZXR1cm4gbnVsbH1yZW1vdmVMT0RMZXZlbChlKXtjb25zdCB0PXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvO2ZvcihsZXQgaT0wO2k8dC5fTE9ETGV2ZWxzLmxlbmd0aDtpKyspdC5fTE9ETGV2ZWxzW2ldLm1lc2g9PT1lJiYodC5fTE9ETGV2ZWxzLnNwbGljZShpLDEpLGUmJihlLl9tYXN0ZXJNZXNoPW51bGwpKTtyZXR1cm4gdGhpcy5fc29ydExPRExldmVscygpLHRoaXN9Z2V0TE9EKGUsdCl7Y29uc3QgaT10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbztpZighaS5fTE9ETGV2ZWxzfHxpLl9MT0RMZXZlbHMubGVuZ3RoPT09MClyZXR1cm4gdGhpcztjb25zdCBzPXR8fHRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkuYm91bmRpbmdTcGhlcmUscj1lLm1vZGU9PT1qLk9SVEhPR1JBUEhJQ19DQU1FUkE/ZS5taW5aOnMuY2VudGVyV29ybGQuc3VidHJhY3QoZS5nbG9iYWxQb3NpdGlvbikubGVuZ3RoKCk7bGV0IG49cixhPTE7aWYoaS5fdXNlTE9EU2NyZWVuQ292ZXJhZ2Upe2NvbnN0IG89ZS5zY3JlZW5BcmVhO2xldCBoPXMucmFkaXVzV29ybGQqZS5taW5aL3I7aD1oKmgqTWF0aC5QSSxuPWgvbyxhPS0xfWlmKGEqaS5fTE9ETGV2ZWxzW2kuX0xPRExldmVscy5sZW5ndGgtMV0uZGlzdGFuY2VPclNjcmVlbkNvdmVyYWdlPmEqbilyZXR1cm4gdGhpcy5vbkxPRExldmVsU2VsZWN0aW9uJiZ0aGlzLm9uTE9ETGV2ZWxTZWxlY3Rpb24obix0aGlzLHRoaXMpLHRoaXM7Zm9yKGxldCBvPTA7bzxpLl9MT0RMZXZlbHMubGVuZ3RoO28rKyl7Y29uc3QgaD1pLl9MT0RMZXZlbHNbb107aWYoYSpoLmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZTxhKm4pe2lmKGgubWVzaCl7aWYoaC5tZXNoLmRlbGF5TG9hZFN0YXRlPT09NClyZXR1cm4gaC5tZXNoLl9jaGVja0RlbGF5U3RhdGUoKSx0aGlzO2lmKGgubWVzaC5kZWxheUxvYWRTdGF0ZT09PTIpcmV0dXJuIHRoaXM7aC5tZXNoLl9wcmVBY3RpdmF0ZSgpLGgubWVzaC5fdXBkYXRlU3ViTWVzaGVzQm91bmRpbmdJbmZvKHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpfXJldHVybiB0aGlzLm9uTE9ETGV2ZWxTZWxlY3Rpb24mJnRoaXMub25MT0RMZXZlbFNlbGVjdGlvbihuLHRoaXMsaC5tZXNoKSxoLm1lc2h9fXJldHVybiB0aGlzLm9uTE9ETGV2ZWxTZWxlY3Rpb24mJnRoaXMub25MT0RMZXZlbFNlbGVjdGlvbihuLHRoaXMsdGhpcyksdGhpc31nZXQgZ2VvbWV0cnkoKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnl9Z2V0VG90YWxWZXJ0aWNlcygpe3JldHVybiB0aGlzLl9nZW9tZXRyeT09PW51bGx8fHRoaXMuX2dlb21ldHJ5PT09dm9pZCAwPzA6dGhpcy5fZ2VvbWV0cnkuZ2V0VG90YWxWZXJ0aWNlcygpfWdldFZlcnRpY2VzRGF0YShlLHQsaSl7dmFyIHMscjtpZighdGhpcy5fZ2VvbWV0cnkpcmV0dXJuIG51bGw7bGV0IG49KHI9KHM9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMudmVydGV4QnVmZmVyc1tlXSk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLmdldEZsb2F0RGF0YSh0aGlzLl9nZW9tZXRyeS5nZXRUb3RhbFZlcnRpY2VzKCksaXx8dCYmdGhpcy5fZ2VvbWV0cnkubWVzaGVzLmxlbmd0aCE9PTEpO3JldHVybiBufHwobj10aGlzLl9nZW9tZXRyeS5nZXRWZXJ0aWNlc0RhdGEoZSx0LGkpKSxufWdldFZlcnRleEJ1ZmZlcihlKXt2YXIgdCxpO3JldHVybiB0aGlzLl9nZW9tZXRyeT8oaT0odD10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC52ZXJ0ZXhCdWZmZXJzW2VdKSE9PW51bGwmJmkhPT12b2lkIDA/aTp0aGlzLl9nZW9tZXRyeS5nZXRWZXJ0ZXhCdWZmZXIoZSk6bnVsbH1pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZSl7dmFyIHQ7cmV0dXJuIHRoaXMuX2dlb21ldHJ5PygodD10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC52ZXJ0ZXhCdWZmZXJzW2VdKSE9PXZvaWQgMHx8dGhpcy5fZ2VvbWV0cnkuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGUpOnRoaXMuX2RlbGF5SW5mbz90aGlzLl9kZWxheUluZm8uaW5kZXhPZihlKSE9PS0xOiExfWlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGUpe3ZhciB0LGk7cmV0dXJuIHRoaXMuX2dlb21ldHJ5PygoaT0odD10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC52ZXJ0ZXhCdWZmZXJzW2VdKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmkuaXNVcGRhdGFibGUoKSl8fHRoaXMuX2dlb21ldHJ5LmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGUpOnRoaXMuX2RlbGF5SW5mbz90aGlzLl9kZWxheUluZm8uaW5kZXhPZihlKSE9PS0xOiExfWdldFZlcnRpY2VzRGF0YUtpbmRzKCl7aWYoIXRoaXMuX2dlb21ldHJ5KXtjb25zdCB0PW5ldyBBcnJheTtyZXR1cm4gdGhpcy5fZGVsYXlJbmZvJiZ0aGlzLl9kZWxheUluZm8uZm9yRWFjaChmdW5jdGlvbihpKXt0LnB1c2goaSl9KSx0fWNvbnN0IGU9dGhpcy5fZ2VvbWV0cnkuZ2V0VmVydGljZXNEYXRhS2luZHMoKTtpZih0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UpZm9yKGNvbnN0IHQgaW4gdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMpZS5wdXNoKHQpO3JldHVybiBlfWdldFRvdGFsSW5kaWNlcygpe3JldHVybiB0aGlzLl9nZW9tZXRyeT90aGlzLl9nZW9tZXRyeS5nZXRUb3RhbEluZGljZXMoKTowfWdldEluZGljZXMoZSx0KXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/dGhpcy5fZ2VvbWV0cnkuZ2V0SW5kaWNlcyhlLHQpOltdfWdldCBpc0Jsb2NrZWQoKXtyZXR1cm4gdGhpcy5fbWFzdGVyTWVzaCE9PW51bGwmJnRoaXMuX21hc3Rlck1lc2ghPT12b2lkIDB9aXNSZWFkeShlPSExLHQ9ITEpe3ZhciBpLHMscixuLGEsbztpZih0aGlzLmRlbGF5TG9hZFN0YXRlPT09Mnx8IXN1cGVyLmlzUmVhZHkoZSkpcmV0dXJuITE7aWYoIXRoaXMuc3ViTWVzaGVzfHx0aGlzLnN1Yk1lc2hlcy5sZW5ndGg9PT0wfHwhZSlyZXR1cm4hMDtjb25zdCBoPXRoaXMuZ2V0RW5naW5lKCksbD10aGlzLmdldFNjZW5lKCksdT10fHxoLmdldENhcHMoKS5pbnN0YW5jZWRBcnJheXMmJih0aGlzLmluc3RhbmNlcy5sZW5ndGg+MHx8dGhpcy5oYXNUaGluSW5zdGFuY2VzKTt0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpO2NvbnN0IGQ9dGhpcy5tYXRlcmlhbHx8bC5kZWZhdWx0TWF0ZXJpYWw7aWYoZCl7aWYoZC5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcylmb3IoY29uc3QgXyBvZiB0aGlzLnN1Yk1lc2hlcyl7Y29uc3QgRT1fLmdldE1hdGVyaWFsKCk7aWYoRSl7aWYoRS5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcyl7aWYoIUUuaXNSZWFkeUZvclN1Yk1lc2godGhpcyxfLHUpKXJldHVybiExfWVsc2UgaWYoIUUuaXNSZWFkeSh0aGlzLHUpKXJldHVybiExfX1lbHNlIGlmKCFkLmlzUmVhZHkodGhpcyx1KSlyZXR1cm4hMX1jb25zdCBmPWguY3VycmVudFJlbmRlclBhc3NJZDtmb3IoY29uc3QgXyBvZiB0aGlzLmxpZ2h0U291cmNlcyl7Y29uc3QgRT1fLmdldFNoYWRvd0dlbmVyYXRvcnMoKTtpZighRSljb250aW51ZTtjb25zdCBtPUUudmFsdWVzKCk7Zm9yKGxldCB2PW0ubmV4dCgpO3YuZG9uZSE9PSEwO3Y9bS5uZXh0KCkpe2NvbnN0IFM9di52YWx1ZTtpZihTJiYoISghKChpPVMuZ2V0U2hhZG93TWFwKCkpPT09bnVsbHx8aT09PXZvaWQgMCkmJmkucmVuZGVyTGlzdCl8fCEoKHM9Uy5nZXRTaGFkb3dNYXAoKSk9PT1udWxsfHxzPT09dm9pZCAwKSYmcy5yZW5kZXJMaXN0JiYoKG49KHI9Uy5nZXRTaGFkb3dNYXAoKSk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLnJlbmRlckxpc3QpPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi5pbmRleE9mKHRoaXMpKSE9PS0xKSl7Uy5nZXRTaGFkb3dNYXAoKSYmKGguY3VycmVudFJlbmRlclBhc3NJZD1TLmdldFNoYWRvd01hcCgpLnJlbmRlclBhc3NJZCk7Zm9yKGNvbnN0IHkgb2YgdGhpcy5zdWJNZXNoZXMpaWYoIVMuaXNSZWFkeSh5LHUsKG89KGE9eS5nZXRNYXRlcmlhbCgpKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmEubmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoKHRoaXMpKSE9PW51bGwmJm8hPT12b2lkIDA/bzohMSkpcmV0dXJuIGguY3VycmVudFJlbmRlclBhc3NJZD1mLCExO2guY3VycmVudFJlbmRlclBhc3NJZD1mfX19Zm9yKGNvbnN0IF8gb2YgdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX0xPRExldmVscylpZihfLm1lc2gmJiFfLm1lc2guaXNSZWFkeSh1KSlyZXR1cm4hMTtyZXR1cm4hMH1nZXQgYXJlTm9ybWFsc0Zyb3plbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fYXJlTm9ybWFsc0Zyb3plbn1mcmVlemVOb3JtYWxzKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9hcmVOb3JtYWxzRnJvemVuPSEwLHRoaXN9dW5mcmVlemVOb3JtYWxzKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9hcmVOb3JtYWxzRnJvemVuPSExLHRoaXN9c2V0IG92ZXJyaWRlbkluc3RhbmNlQ291bnQoZSl7dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5vdmVycmlkZW5JbnN0YW5jZUNvdW50PWV9X3ByZUFjdGl2YXRlKCl7Y29uc3QgZT10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbyx0PXRoaXMuZ2V0U2NlbmUoKS5nZXRSZW5kZXJJZCgpO3JldHVybiBlLl9wcmVBY3RpdmF0ZUlkPT09dD90aGlzOihlLl9wcmVBY3RpdmF0ZUlkPXQsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzPW51bGwsdGhpcyl9X3ByZUFjdGl2YXRlRm9ySW50ZXJtZWRpYXRlUmVuZGVyaW5nKGUpe3JldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXMmJih0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXMuaW50ZXJtZWRpYXRlRGVmYXVsdFJlbmRlcklkPWUpLHRoaXN9X3JlZ2lzdGVySW5zdGFuY2VGb3JSZW5kZXJJZChlLHQpe3JldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXN8fCh0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXM9e2RlZmF1bHRSZW5kZXJJZDp0LHNlbGZEZWZhdWx0UmVuZGVySWQ6dGhpcy5fcmVuZGVySWR9KSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXNbdF18fCh0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzUmVuZGVySWQhPT12b2lkIDAmJnRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaXNGcm96ZW4mJih0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXNbdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c1JlbmRlcklkXT1udWxsKSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzUmVuZGVySWQ9dCx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXNbdF09bmV3IEFycmF5KSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXNbdF0ucHVzaChlKSx0aGlzfV9hZnRlckNvbXB1dGVXb3JsZE1hdHJpeCgpe3N1cGVyLl9hZnRlckNvbXB1dGVXb3JsZE1hdHJpeCgpLHRoaXMuaGFzVGhpbkluc3RhbmNlcyYmKHRoaXMuZG9Ob3RTeW5jQm91bmRpbmdJbmZvfHx0aGlzLnRoaW5JbnN0YW5jZVJlZnJlc2hCb3VuZGluZ0luZm8oITEpKX1fcG9zdEFjdGl2YXRlKCl7dGhpcy5lZGdlc1NoYXJlV2l0aEluc3RhbmNlcyYmdGhpcy5lZGdlc1JlbmRlcmVyJiZ0aGlzLmVkZ2VzUmVuZGVyZXIuaXNFbmFibGVkJiZ0aGlzLl9yZW5kZXJpbmdHcm91cCYmKHRoaXMuX3JlbmRlcmluZ0dyb3VwLl9lZGdlc1JlbmRlcmVycy5wdXNoTm9EdXBsaWNhdGUodGhpcy5lZGdlc1JlbmRlcmVyKSx0aGlzLmVkZ2VzUmVuZGVyZXIuY3VzdG9tSW5zdGFuY2VzLnB1c2godGhpcy5nZXRXb3JsZE1hdHJpeCgpKSl9cmVmcmVzaEJvdW5kaW5nSW5mbyhlPSExLHQ9ITEpe2lmKHRoaXMuaGFzQm91bmRpbmdJbmZvJiZ0aGlzLmdldEJvdW5kaW5nSW5mbygpLmlzTG9ja2VkKXJldHVybiB0aGlzO2NvbnN0IGk9dGhpcy5nZW9tZXRyeT90aGlzLmdlb21ldHJ5LmJvdW5kaW5nQmlhczpudWxsO3JldHVybiB0aGlzLl9yZWZyZXNoQm91bmRpbmdJbmZvKHRoaXMuX2dldFBvc2l0aW9uRGF0YShlLHQpLGkpLHRoaXN9X2NyZWF0ZUdsb2JhbFN1Yk1lc2goZSl7Y29uc3QgdD10aGlzLmdldFRvdGFsVmVydGljZXMoKTtpZighdHx8IXRoaXMuZ2V0SW5kaWNlcygpKXJldHVybiBudWxsO2lmKHRoaXMuc3ViTWVzaGVzJiZ0aGlzLnN1Yk1lc2hlcy5sZW5ndGg+MCl7Y29uc3QgaT10aGlzLmdldEluZGljZXMoKTtpZighaSlyZXR1cm4gbnVsbDtjb25zdCBzPWkubGVuZ3RoO2xldCByPSExO2lmKGUpcj0hMDtlbHNlIGZvcihjb25zdCBuIG9mIHRoaXMuc3ViTWVzaGVzKXtpZihuLmluZGV4U3RhcnQrbi5pbmRleENvdW50PnMpe3I9ITA7YnJlYWt9aWYobi52ZXJ0aWNlc1N0YXJ0K24udmVydGljZXNDb3VudD50KXtyPSEwO2JyZWFrfX1pZighcilyZXR1cm4gdGhpcy5zdWJNZXNoZXNbMF19cmV0dXJuIHRoaXMucmVsZWFzZVN1Yk1lc2hlcygpLG5ldyB2dCgwLDAsdCwwLHRoaXMuZ2V0VG90YWxJbmRpY2VzKCksdGhpcyl9c3ViZGl2aWRlKGUpe2lmKGU8MSlyZXR1cm47Y29uc3QgdD10aGlzLmdldFRvdGFsSW5kaWNlcygpO2xldCBpPXQvZXwwLHM9MDtmb3IoO2klMyE9PTA7KWkrKzt0aGlzLnJlbGVhc2VTdWJNZXNoZXMoKTtmb3IobGV0IHI9MDtyPGUmJiEocz49dCk7cisrKXZ0LkNyZWF0ZUZyb21JbmRpY2VzKDAscyxyPT09ZS0xP3QtczppLHRoaXMpLHMrPWk7dGhpcy5zeW5jaHJvbml6ZUluc3RhbmNlcygpfXNldFZlcnRpY2VzRGF0YShlLHQsaT0hMSxzKXtpZih0aGlzLl9nZW9tZXRyeSl0aGlzLl9nZW9tZXRyeS5zZXRWZXJ0aWNlc0RhdGEoZSx0LGkscyk7ZWxzZXtjb25zdCByPW5ldyBlZTtyLnNldCh0LGUpO2NvbnN0IG49dGhpcy5nZXRTY2VuZSgpO25ldyBhdChhdC5SYW5kb21JZCgpLG4scixpLHRoaXMpfXJldHVybiB0aGlzfXJlbW92ZVZlcnRpY2VzRGF0YShlKXt0aGlzLl9nZW9tZXRyeSYmdGhpcy5fZ2VvbWV0cnkucmVtb3ZlVmVydGljZXNEYXRhKGUpfW1hcmtWZXJ0aWNlc0RhdGFBc1VwZGF0YWJsZShlLHQ9ITApe2NvbnN0IGk9dGhpcy5nZXRWZXJ0ZXhCdWZmZXIoZSk7IWl8fGkuaXNVcGRhdGFibGUoKT09PXR8fHRoaXMuc2V0VmVydGljZXNEYXRhKGUsdGhpcy5nZXRWZXJ0aWNlc0RhdGEoZSksdCl9c2V0VmVydGljZXNCdWZmZXIoZSx0PSEwKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnl8fCh0aGlzLl9nZW9tZXRyeT1hdC5DcmVhdGVHZW9tZXRyeUZvck1lc2godGhpcykpLHRoaXMuX2dlb21ldHJ5LnNldFZlcnRpY2VzQnVmZmVyKGUsbnVsbCx0KSx0aGlzfXVwZGF0ZVZlcnRpY2VzRGF0YShlLHQsaSxzKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/KHM/KHRoaXMubWFrZUdlb21ldHJ5VW5pcXVlKCksdGhpcy51cGRhdGVWZXJ0aWNlc0RhdGEoZSx0LGksITEpKTp0aGlzLl9nZW9tZXRyeS51cGRhdGVWZXJ0aWNlc0RhdGEoZSx0LGkpLHRoaXMpOnRoaXN9dXBkYXRlTWVzaFBvc2l0aW9ucyhlLHQ9ITApe2NvbnN0IGk9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpO2lmKCFpKXJldHVybiB0aGlzO2lmKGUoaSksdGhpcy51cGRhdGVWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQsaSwhMSwhMSksdCl7Y29uc3Qgcz10aGlzLmdldEluZGljZXMoKSxyPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCk7aWYoIXIpcmV0dXJuIHRoaXM7ZWUuQ29tcHV0ZU5vcm1hbHMoaSxzLHIpLHRoaXMudXBkYXRlVmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCxyLCExLCExKX1yZXR1cm4gdGhpc31tYWtlR2VvbWV0cnlVbmlxdWUoKXtpZighdGhpcy5fZ2VvbWV0cnkpcmV0dXJuIHRoaXM7aWYodGhpcy5fZ2VvbWV0cnkubWVzaGVzLmxlbmd0aD09PTEpcmV0dXJuIHRoaXM7Y29uc3QgZT10aGlzLl9nZW9tZXRyeSx0PXRoaXMuX2dlb21ldHJ5LmNvcHkoYXQuUmFuZG9tSWQoKSk7cmV0dXJuIGUucmVsZWFzZUZvck1lc2godGhpcywhMCksdC5hcHBseVRvTWVzaCh0aGlzKSx0aGlzfXNldEluZGljZXMoZSx0PW51bGwsaT0hMSl7aWYodGhpcy5fZ2VvbWV0cnkpdGhpcy5fZ2VvbWV0cnkuc2V0SW5kaWNlcyhlLHQsaSk7ZWxzZXtjb25zdCBzPW5ldyBlZTtzLmluZGljZXM9ZTtjb25zdCByPXRoaXMuZ2V0U2NlbmUoKTtuZXcgYXQoYXQuUmFuZG9tSWQoKSxyLHMsaSx0aGlzKX1yZXR1cm4gdGhpc311cGRhdGVJbmRpY2VzKGUsdCxpPSExKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/KHRoaXMuX2dlb21ldHJ5LnVwZGF0ZUluZGljZXMoZSx0LGkpLHRoaXMpOnRoaXN9dG9MZWZ0SGFuZGVkKCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5Pyh0aGlzLl9nZW9tZXRyeS50b0xlZnRIYW5kZWQoKSx0aGlzKTp0aGlzfV9iaW5kKGUsdCxpKXtpZighdGhpcy5fZ2VvbWV0cnkpcmV0dXJuIHRoaXM7Y29uc3Qgcz10aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCk7dGhpcy5tb3JwaFRhcmdldE1hbmFnZXImJnRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyLmlzVXNpbmdUZXh0dXJlRm9yVGFyZ2V0cyYmdGhpcy5tb3JwaFRhcmdldE1hbmFnZXIuX2JpbmQodCk7bGV0IHI7aWYodGhpcy5fdW5JbmRleGVkKXI9bnVsbDtlbHNlIHN3aXRjaChpKXtjYXNlIFAuUG9pbnRGaWxsTW9kZTpyPW51bGw7YnJlYWs7Y2FzZSBQLldpcmVGcmFtZUZpbGxNb2RlOnI9ZS5fZ2V0TGluZXNJbmRleEJ1ZmZlcih0aGlzLmdldEluZGljZXMoKSxzKTticmVhaztkZWZhdWx0OmNhc2UgUC5UcmlhbmdsZUZpbGxNb2RlOnI9dGhpcy5fZ2VvbWV0cnkuZ2V0SW5kZXhCdWZmZXIoKTticmVha31yZXR1cm4hdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlfHx0aGlzLmhhc1RoaW5JbnN0YW5jZXM/dGhpcy5fZ2VvbWV0cnkuX2JpbmQodCxyKTp0aGlzLl9nZW9tZXRyeS5fYmluZCh0LHIsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEFycmF5T2JqZWN0cyksdGhpc31fZHJhdyhlLHQsaSl7aWYoIXRoaXMuX2dlb21ldHJ5fHwhdGhpcy5fZ2VvbWV0cnkuZ2V0VmVydGV4QnVmZmVycygpfHwhdGhpcy5fdW5JbmRleGVkJiYhdGhpcy5fZ2VvbWV0cnkuZ2V0SW5kZXhCdWZmZXIoKSlyZXR1cm4gdGhpczt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVEcmF3T2JzZXJ2YWJsZSYmdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlRHJhd09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2NvbnN0IHI9dGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpO3JldHVybiB0aGlzLl91bkluZGV4ZWR8fHQ9PVAuUG9pbnRGaWxsTW9kZT9yLmRyYXdBcnJheXNUeXBlKHQsZS52ZXJ0aWNlc1N0YXJ0LGUudmVydGljZXNDb3VudCx0aGlzLmZvcmNlZEluc3RhbmNlQ291bnR8fGkpOnQ9PVAuV2lyZUZyYW1lRmlsbE1vZGU/ci5kcmF3RWxlbWVudHNUeXBlKHQsMCxlLl9saW5lc0luZGV4Q291bnQsdGhpcy5mb3JjZWRJbnN0YW5jZUNvdW50fHxpKTpyLmRyYXdFbGVtZW50c1R5cGUodCxlLmluZGV4U3RhcnQsZS5pbmRleENvdW50LHRoaXMuZm9yY2VkSW5zdGFuY2VDb3VudHx8aSksdGhpc31yZWdpc3RlckJlZm9yZVJlbmRlcihlKXtyZXR1cm4gdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKGUpLHRoaXN9dW5yZWdpc3RlckJlZm9yZVJlbmRlcihlKXtyZXR1cm4gdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlQ2FsbGJhY2soZSksdGhpc31yZWdpc3RlckFmdGVyUmVuZGVyKGUpe3JldHVybiB0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmFkZChlKSx0aGlzfXVucmVnaXN0ZXJBZnRlclJlbmRlcihlKXtyZXR1cm4gdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmVDYWxsYmFjayhlKSx0aGlzfV9nZXRJbnN0YW5jZXNSZW5kZXJMaXN0KGUsdD0hMSl7aWYodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pc0Zyb3plbil7aWYodClyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5iYXRjaENhY2hlUmVwbGFjZW1lbnRNb2RlSW5Gcm96ZW5Nb2RlLmhhcmR3YXJlSW5zdGFuY2VkUmVuZGVyaW5nW2VdPSExLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuYmF0Y2hDYWNoZVJlcGxhY2VtZW50TW9kZUluRnJvemVuTW9kZS5yZW5kZXJTZWxmW2VdPSEwLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuYmF0Y2hDYWNoZVJlcGxhY2VtZW50TW9kZUluRnJvemVuTW9kZTtpZih0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzQmF0Y2gpcmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNCYXRjaH1jb25zdCBpPXRoaXMuZ2V0U2NlbmUoKSxzPWkuX2lzSW5JbnRlcm1lZGlhdGVSZW5kZXJpbmcoKSxyPXM/dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fb25seUZvckluc3RhbmNlc0ludGVybWVkaWF0ZTp0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9vbmx5Rm9ySW5zdGFuY2VzLG49dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5iYXRjaENhY2hlO2lmKG4ubXVzdFJldHVybj0hMSxuLnJlbmRlclNlbGZbZV09dHx8IXImJnRoaXMuaXNFbmFibGVkKCkmJnRoaXMuaXNWaXNpYmxlLG4udmlzaWJsZUluc3RhbmNlc1tlXT1udWxsLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlcyYmIXQpe2NvbnN0IGE9dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzLG89aS5nZXRSZW5kZXJJZCgpLGg9cz9hLmludGVybWVkaWF0ZURlZmF1bHRSZW5kZXJJZDphLmRlZmF1bHRSZW5kZXJJZDtuLnZpc2libGVJbnN0YW5jZXNbZV09YVtvXSwhbi52aXNpYmxlSW5zdGFuY2VzW2VdJiZoJiYobi52aXNpYmxlSW5zdGFuY2VzW2VdPWFbaF0pfXJldHVybiBuLmhhcmR3YXJlSW5zdGFuY2VkUmVuZGVyaW5nW2VdPSF0JiZ0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmhhcmR3YXJlSW5zdGFuY2VkUmVuZGVyaW5nJiZuLnZpc2libGVJbnN0YW5jZXNbZV0hPT1udWxsJiZuLnZpc2libGVJbnN0YW5jZXNbZV0hPT12b2lkIDAsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c0JhdGNoPW4sbn1fcmVuZGVyV2l0aEluc3RhbmNlcyhlLHQsaSxzLHIpe3ZhciBuO2NvbnN0IGE9aS52aXNpYmxlSW5zdGFuY2VzW2UuX2lkXSxvPWE/YS5sZW5ndGg6MCxoPXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UsbD1oLmluc3RhbmNlc0J1ZmZlclNpemU7bGV0IHU9aC5pbnN0YW5jZXNCdWZmZXIsZD1oLmluc3RhbmNlc1ByZXZpb3VzQnVmZmVyO2NvbnN0IF89KG8rMSkqMTYqNDtmb3IoO2guaW5zdGFuY2VzQnVmZmVyU2l6ZTxfOyloLmluc3RhbmNlc0J1ZmZlclNpemUqPTI7KCFoLmluc3RhbmNlc0RhdGF8fGwhPWguaW5zdGFuY2VzQnVmZmVyU2l6ZSkmJihoLmluc3RhbmNlc0RhdGE9bmV3IEZsb2F0MzJBcnJheShoLmluc3RhbmNlc0J1ZmZlclNpemUvNCkpLCh0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmIWguaW5zdGFuY2VzUHJldmlvdXNEYXRhfHxsIT1oLmluc3RhbmNlc0J1ZmZlclNpemUpJiYoaC5pbnN0YW5jZXNQcmV2aW91c0RhdGE9bmV3IEZsb2F0MzJBcnJheShoLmluc3RhbmNlc0J1ZmZlclNpemUvNCkpO2xldCBFPTAsbT0wO2NvbnN0IHY9aS5yZW5kZXJTZWxmW2UuX2lkXSxTPSF1fHxsIT09aC5pbnN0YW5jZXNCdWZmZXJTaXplfHx0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmIWguaW5zdGFuY2VzUHJldmlvdXNCdWZmZXI7aWYoIXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UubWFudWFsVXBkYXRlJiYoIWguaXNGcm96ZW58fFMpKXtjb25zdCB5PXRoaXMuZ2V0V29ybGRNYXRyaXgoKTtpZih2JiYodGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJihoLm1hc3Rlck1lc2hQcmV2aW91c1dvcmxkTWF0cml4PyhoLm1hc3Rlck1lc2hQcmV2aW91c1dvcmxkTWF0cml4LmNvcHlUb0FycmF5KGguaW5zdGFuY2VzUHJldmlvdXNEYXRhLEUpLGgubWFzdGVyTWVzaFByZXZpb3VzV29ybGRNYXRyaXguY29weUZyb20oeSkpOihoLm1hc3Rlck1lc2hQcmV2aW91c1dvcmxkTWF0cml4PXkuY2xvbmUoKSxoLm1hc3Rlck1lc2hQcmV2aW91c1dvcmxkTWF0cml4LmNvcHlUb0FycmF5KGguaW5zdGFuY2VzUHJldmlvdXNEYXRhLEUpKSkseS5jb3B5VG9BcnJheShoLmluc3RhbmNlc0RhdGEsRSksRSs9MTYsbSsrKSxhKXtpZihXLklOU1RBTkNFRE1FU0hfU09SVF9UUkFOU1BBUkVOVCYmdGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhJiYoISgobj1lLmdldE1hdGVyaWFsKCkpPT09bnVsbHx8bj09PXZvaWQgMCkmJm4ubmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoKGUuZ2V0UmVuZGVyaW5nTWVzaCgpKSkpe2NvbnN0IEE9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhLmdsb2JhbFBvc2l0aW9uO2ZvcihsZXQgQz0wO0M8YS5sZW5ndGg7QysrKXtjb25zdCBiPWFbQ107Yi5fZGlzdGFuY2VUb0NhbWVyYT1wLkRpc3RhbmNlKGIuZ2V0Qm91bmRpbmdJbmZvKCkuYm91bmRpbmdTcGhlcmUuY2VudGVyV29ybGQsQSl9YS5zb3J0KChDLGIpPT5DLl9kaXN0YW5jZVRvQ2FtZXJhPmIuX2Rpc3RhbmNlVG9DYW1lcmE/LTE6Qy5fZGlzdGFuY2VUb0NhbWVyYTxiLl9kaXN0YW5jZVRvQ2FtZXJhPzE6MCl9Zm9yKGxldCBBPTA7QTxhLmxlbmd0aDtBKyspe2NvbnN0IEM9YVtBXSxiPUMuZ2V0V29ybGRNYXRyaXgoKTtiLmNvcHlUb0FycmF5KGguaW5zdGFuY2VzRGF0YSxFKSx0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmKEMuX3ByZXZpb3VzV29ybGRNYXRyaXg/KEMuX3ByZXZpb3VzV29ybGRNYXRyaXguY29weVRvQXJyYXkoaC5pbnN0YW5jZXNQcmV2aW91c0RhdGEsRSksQy5fcHJldmlvdXNXb3JsZE1hdHJpeC5jb3B5RnJvbShiKSk6KEMuX3ByZXZpb3VzV29ybGRNYXRyaXg9Yi5jbG9uZSgpLEMuX3ByZXZpb3VzV29ybGRNYXRyaXguY29weVRvQXJyYXkoaC5pbnN0YW5jZXNQcmV2aW91c0RhdGEsRSkpKSxFKz0xNixtKyt9fX1lbHNlIG09KHY/MTowKStvO3JldHVybiBTPyh1JiZ1LmRpc3Bvc2UoKSxkJiZkLmRpc3Bvc2UoKSx1PW5ldyAkaShyLGguaW5zdGFuY2VzRGF0YSwhMCwxNiwhMSwhMCksaC5pbnN0YW5jZXNCdWZmZXI9dSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2V8fCh0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2U9e2RhdGE6e30sdmVydGV4QnVmZmVyczp7fSxzdHJpZGVzOnt9LHNpemVzOnt9LHZlcnRleEFycmF5T2JqZWN0czp0aGlzLmdldEVuZ2luZSgpLmdldENhcHMoKS52ZXJ0ZXhBcnJheU9iamVjdD97fTp2b2lkIDB9KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy53b3JsZDA9dS5jcmVhdGVWZXJ0ZXhCdWZmZXIoIndvcmxkMCIsMCw0KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy53b3JsZDE9dS5jcmVhdGVWZXJ0ZXhCdWZmZXIoIndvcmxkMSIsNCw0KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy53b3JsZDI9dS5jcmVhdGVWZXJ0ZXhCdWZmZXIoIndvcmxkMiIsOCw0KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy53b3JsZDM9dS5jcmVhdGVWZXJ0ZXhCdWZmZXIoIndvcmxkMyIsMTIsNCksdGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJihkPW5ldyAkaShyLGguaW5zdGFuY2VzUHJldmlvdXNEYXRhLCEwLDE2LCExLCEwKSxoLmluc3RhbmNlc1ByZXZpb3VzQnVmZmVyPWQsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMucHJldmlvdXNXb3JsZDA9ZC5jcmVhdGVWZXJ0ZXhCdWZmZXIoInByZXZpb3VzV29ybGQwIiwwLDQpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLnByZXZpb3VzV29ybGQxPWQuY3JlYXRlVmVydGV4QnVmZmVyKCJwcmV2aW91c1dvcmxkMSIsNCw0KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy5wcmV2aW91c1dvcmxkMj1kLmNyZWF0ZVZlcnRleEJ1ZmZlcigicHJldmlvdXNXb3JsZDIiLDgsNCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMucHJldmlvdXNXb3JsZDM9ZC5jcmVhdGVWZXJ0ZXhCdWZmZXIoInByZXZpb3VzV29ybGQzIiwxMiw0KSksdGhpcy5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKSk6KCF0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmlzRnJvemVufHx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmZvcmNlTWF0cml4VXBkYXRlcykmJih1LnVwZGF0ZURpcmVjdGx5KGguaW5zdGFuY2VzRGF0YSwwLG0pLHRoaXMuX3NjZW5lLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzJiYoIXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UubWFudWFsVXBkYXRlfHx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzTWFudWFsVXBkYXRlKSYmZC51cGRhdGVEaXJlY3RseShoLmluc3RhbmNlc1ByZXZpb3VzRGF0YSwwLG0pKSx0aGlzLl9wcm9jZXNzSW5zdGFuY2VkQnVmZmVycyhhLHYpLHRoaXMuZ2V0U2NlbmUoKS5fYWN0aXZlSW5kaWNlcy5hZGRDb3VudChlLmluZGV4Q291bnQqbSwhMSksci5fY3VycmVudERyYXdDb250ZXh0JiYoci5fY3VycmVudERyYXdDb250ZXh0LnVzZUluc3RhbmNpbmc9ITApLHRoaXMuX2JpbmQoZSxzLHQpLHRoaXMuX2RyYXcoZSx0LG0pLHRoaXMuX3NjZW5lLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzJiYhUyYmdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5tYW51YWxVcGRhdGUmJighdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pc0Zyb3plbnx8dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5mb3JjZU1hdHJpeFVwZGF0ZXMpJiYhdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c01hbnVhbFVwZGF0ZSYmZC51cGRhdGVEaXJlY3RseShoLmluc3RhbmNlc0RhdGEsMCxtKSxyLnVuYmluZEluc3RhbmNlQXR0cmlidXRlcygpLHRoaXN9X3JlbmRlcldpdGhUaGluSW5zdGFuY2VzKGUsdCxpLHMpe3ZhciByLG47Y29uc3QgYT0obj0ocj10aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZSk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLmluc3RhbmNlc0NvdW50KSE9PW51bGwmJm4hPT12b2lkIDA/bjowO3RoaXMuZ2V0U2NlbmUoKS5fYWN0aXZlSW5kaWNlcy5hZGRDb3VudChlLmluZGV4Q291bnQqYSwhMSkscy5fY3VycmVudERyYXdDb250ZXh0JiYocy5fY3VycmVudERyYXdDb250ZXh0LnVzZUluc3RhbmNpbmc9ITApLHRoaXMuX2JpbmQoZSxpLHQpLHRoaXMuX2RyYXcoZSx0LGEpLHRoaXMuX3NjZW5lLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzJiYhdGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYXRyaXhEYXRhJiZ0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhEYXRhJiYodGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYXRyaXhCdWZmZXI/dGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYXRyaXhCdWZmZXIudXBkYXRlRGlyZWN0bHkodGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4RGF0YSwwLGEpOnRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzTWF0cml4QnVmZmVyPXRoaXMuX3RoaW5JbnN0YW5jZUNyZWF0ZU1hdHJpeEJ1ZmZlcigicHJldmlvdXNXb3JsZCIsdGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4RGF0YSwhMSkpLHMudW5iaW5kSW5zdGFuY2VBdHRyaWJ1dGVzKCl9X3Byb2Nlc3NJbnN0YW5jZWRCdWZmZXJzKGUsdCl7fV9wcm9jZXNzUmVuZGVyaW5nKGUsdCxpLHMscixuLGEsbyl7Y29uc3QgaD10aGlzLmdldFNjZW5lKCksbD1oLmdldEVuZ2luZSgpO2lmKG4mJnQuZ2V0UmVuZGVyaW5nTWVzaCgpLmhhc1RoaW5JbnN0YW5jZXMpcmV0dXJuIHRoaXMuX3JlbmRlcldpdGhUaGluSW5zdGFuY2VzKHQscyxpLGwpLHRoaXM7aWYobil0aGlzLl9yZW5kZXJXaXRoSW5zdGFuY2VzKHQscyxyLGksbCk7ZWxzZXtsLl9jdXJyZW50RHJhd0NvbnRleHQmJihsLl9jdXJyZW50RHJhd0NvbnRleHQudXNlSW5zdGFuY2luZz0hMSk7bGV0IHU9MDtyLnJlbmRlclNlbGZbdC5faWRdJiYoYSYmYSghMSxlLmdldFdvcmxkTWF0cml4KCksbyksdSsrLHRoaXMuX2RyYXcodCxzLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2Uub3ZlcnJpZGVuSW5zdGFuY2VDb3VudCkpO2NvbnN0IGQ9ci52aXNpYmxlSW5zdGFuY2VzW3QuX2lkXTtpZihkKXtjb25zdCBmPWQubGVuZ3RoO3UrPWY7Zm9yKGxldCBfPTA7XzxmO18rKyl7Y29uc3QgbT1kW19dLmdldFdvcmxkTWF0cml4KCk7YSYmYSghMCxtLG8pLHRoaXMuX2RyYXcodCxzKX19aC5fYWN0aXZlSW5kaWNlcy5hZGRDb3VudCh0LmluZGV4Q291bnQqdSwhMSl9cmV0dXJuIHRoaXN9X3JlYnVpbGQoZT0hMSl7aWYodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNCdWZmZXImJihlJiZ0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0J1ZmZlci5kaXNwb3NlKCksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNCdWZmZXI9bnVsbCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlKXtmb3IoY29uc3QgdCBpbiB0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycyl7Y29uc3QgaT10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1t0XTtpJiYoZSYmaS5kaXNwb3NlKCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbdF09bnVsbCl9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEFycmF5T2JqZWN0cyYmKHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhBcnJheU9iamVjdHM9e30pfXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbD1udWxsLHN1cGVyLl9yZWJ1aWxkKGUpfV9mcmVlemUoKXtpZih0aGlzLnN1Yk1lc2hlcyl7Zm9yKGxldCBlPTA7ZTx0aGlzLnN1Yk1lc2hlcy5sZW5ndGg7ZSsrKXRoaXMuX2dldEluc3RhbmNlc1JlbmRlckxpc3QoZSk7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsPW51bGwsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pc0Zyb3plbj0hMH19X3VuRnJlZXplKCl7dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pc0Zyb3plbj0hMSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzQmF0Y2g9bnVsbH1yZW5kZXIoZSx0LGkpe3ZhciBzLHIsbjtjb25zdCBhPXRoaXMuZ2V0U2NlbmUoKTtpZih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZT90aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMTp0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZT0hMSx0aGlzLl9jaGVja09jY2x1c2lvblF1ZXJ5KCkmJiF0aGlzLl9vY2NsdXNpb25EYXRhU3RvcmFnZS5mb3JjZVJlbmRlcmluZ1doZW5PY2NsdWRlZClyZXR1cm4gdGhpcztjb25zdCBvPXRoaXMuX2dldEluc3RhbmNlc1JlbmRlckxpc3QoZS5faWQsISFpKTtpZihvLm11c3RSZXR1cm4pcmV0dXJuIHRoaXM7aWYoIXRoaXMuX2dlb21ldHJ5fHwhdGhpcy5fZ2VvbWV0cnkuZ2V0VmVydGV4QnVmZmVycygpfHwhdGhpcy5fdW5JbmRleGVkJiYhdGhpcy5fZ2VvbWV0cnkuZ2V0SW5kZXhCdWZmZXIoKSlyZXR1cm4gdGhpcztjb25zdCBoPWEuZ2V0RW5naW5lKCk7bGV0IGw9MCx1PW51bGw7dGhpcy5pZ25vcmVDYW1lcmFNYXhaJiZhLmFjdGl2ZUNhbWVyYSYmIWEuX2lzSW5JbnRlcm1lZGlhdGVSZW5kZXJpbmcoKSYmKGw9YS5hY3RpdmVDYW1lcmEubWF4Wix1PWEuYWN0aXZlQ2FtZXJhLGEuYWN0aXZlQ2FtZXJhLm1heFo9MCxhLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCkpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZVJlbmRlck9ic2VydmFibGUmJnRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2NvbnN0IGQ9ZS5nZXRSZW5kZXJpbmdNZXNoKCksZj1vLmhhcmR3YXJlSW5zdGFuY2VkUmVuZGVyaW5nW2UuX2lkXXx8ZC5oYXNUaGluSW5zdGFuY2VzfHwhIXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZSYmIWUuZ2V0TWVzaCgpLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoLF89dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZSxFPWUuZ2V0TWF0ZXJpYWwoKTtpZighRSlyZXR1cm4gdSYmKHUubWF4Wj1sLGEudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKSksdGhpcztpZighXy5pc0Zyb3plbnx8IXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbHx8dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsIT09RSl7aWYoRS5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcyl7aWYoIUUuaXNSZWFkeUZvclN1Yk1lc2godGhpcyxlLGYpKXJldHVybiB1JiYodS5tYXhaPWwsYS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApKSx0aGlzfWVsc2UgaWYoIUUuaXNSZWFkeSh0aGlzLGYpKXJldHVybiB1JiYodS5tYXhaPWwsYS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApKSx0aGlzO3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbD1FfWVsc2UgaWYoRS5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcyYmISghKChzPWUuZWZmZWN0KT09PW51bGx8fHM9PT12b2lkIDApJiZzLl93YXNQcmV2aW91c2x5UmVhZHkpfHwhRS5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcyYmISghKChyPUUuZ2V0RWZmZWN0KCkpPT09bnVsbHx8cj09PXZvaWQgMCkmJnIuX3dhc1ByZXZpb3VzbHlSZWFkeSkpcmV0dXJuIHUmJih1Lm1heFo9bCxhLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCkpLHRoaXM7dCYmaC5zZXRBbHBoYU1vZGUodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLmFscGhhTW9kZSk7bGV0IG07dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzP209ZS5fZHJhd1dyYXBwZXI6bT10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuX2dldERyYXdXcmFwcGVyKCk7Y29uc3Qgdj0obj1tPT1udWxsP3ZvaWQgMDptLmVmZmVjdCkhPT1udWxsJiZuIT09dm9pZCAwP246bnVsbDtmb3IoY29uc3QgTCBvZiBhLl9iZWZvcmVSZW5kZXJpbmdNZXNoU3RhZ2UpTC5hY3Rpb24odGhpcyxlLG8sdik7aWYoIW18fCF2KXJldHVybiB1JiYodS5tYXhaPWwsYS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApKSx0aGlzO2NvbnN0IFM9aXx8dGhpcztsZXQgeTtpZighXy5pc0Zyb3plbiYmKHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC5iYWNrRmFjZUN1bGxpbmd8fHRoaXMub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbiE9PW51bGwpKXtjb25zdCBMPVMuX2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKTt5PXRoaXMub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbix5PT1udWxsJiYoeT10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuc2lkZU9yaWVudGF0aW9uKSxMPDAmJih5PXk9PT1QLkNsb2NrV2lzZVNpZGVPcmllbnRhdGlvbj9QLkNvdW50ZXJDbG9ja1dpc2VTaWRlT3JpZW50YXRpb246UC5DbG9ja1dpc2VTaWRlT3JpZW50YXRpb24pLF8uc2lkZU9yaWVudGF0aW9uPXl9ZWxzZSB5PV8uc2lkZU9yaWVudGF0aW9uO2NvbnN0IEE9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLl9wcmVCaW5kKG0seSk7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLmZvcmNlRGVwdGhXcml0ZSYmaC5zZXREZXB0aFdyaXRlKCEwKTtjb25zdCBDPWEuZm9yY2VQb2ludHNDbG91ZD9QLlBvaW50RmlsbE1vZGU6YS5mb3JjZVdpcmVmcmFtZT9QLldpcmVGcmFtZUZpbGxNb2RlOnRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC5maWxsTW9kZTt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVCaW5kT2JzZXJ2YWJsZSYmdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlQmluZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLGZ8fHRoaXMuX2JpbmQoZSx2LEMpO2NvbnN0IGI9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLE09Uy5nZXRXb3JsZE1hdHJpeCgpO2IuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXM/Yi5iaW5kRm9yU3ViTWVzaChNLHRoaXMsZSk6Yi5iaW5kKE0sdGhpcyksIWIuYmFja0ZhY2VDdWxsaW5nJiZiLnNlcGFyYXRlQ3VsbGluZ1Bhc3MmJihoLnNldFN0YXRlKCEwLGIuek9mZnNldCwhMSwhQSxiLmN1bGxCYWNrRmFjZXMsYi5zdGVuY2lsLGIuek9mZnNldFVuaXRzKSx0aGlzLl9wcm9jZXNzUmVuZGVyaW5nKHRoaXMsZSx2LEMsbyxmLHRoaXMuX29uQmVmb3JlRHJhdyx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwpLGguc2V0U3RhdGUoITAsYi56T2Zmc2V0LCExLEEsYi5jdWxsQmFja0ZhY2VzLGIuc3RlbmNpbCxiLnpPZmZzZXRVbml0cyksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlJiZ0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZXR3ZWVuUGFzc09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpKSx0aGlzLl9wcm9jZXNzUmVuZGVyaW5nKHRoaXMsZSx2LEMsbyxmLHRoaXMuX29uQmVmb3JlRHJhdyx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC51bmJpbmQoKTtmb3IoY29uc3QgTCBvZiBhLl9hZnRlclJlbmRlcmluZ01lc2hTdGFnZSlMLmFjdGlvbih0aGlzLGUsbyx2KTtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlJiZ0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25BZnRlclJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHUmJih1Lm1heFo9bCxhLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCkpLGEucGVyZm9ybWFuY2VQcmlvcml0eT09PUN0LkFnZ3Jlc3NpdmUmJiFfLmlzRnJvemVuJiZ0aGlzLl9mcmVlemUoKSx0aGlzfWNsZWFuTWF0cml4V2VpZ2h0cygpe3RoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTWF0cmljZXNXZWlnaHRzS2luZCkmJih0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCk/dGhpcy5fbm9ybWFsaXplU2tpbldlaWdodHNBbmRFeHRyYSgpOnRoaXMuX25vcm1hbGl6ZVNraW5Gb3VyV2VpZ2h0cygpKX1fbm9ybWFsaXplU2tpbkZvdXJXZWlnaHRzKCl7Y29uc3QgZT10aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLHQ9ZS5sZW5ndGg7Zm9yKGxldCBpPTA7aTx0O2krPTQpe2NvbnN0IHM9ZVtpXStlW2krMV0rZVtpKzJdK2VbaSszXTtpZihzPT09MCllW2ldPTE7ZWxzZXtjb25zdCByPTEvcztlW2ldKj1yLGVbaSsxXSo9cixlW2krMl0qPXIsZVtpKzNdKj1yfX10aGlzLnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQsZSl9X25vcm1hbGl6ZVNraW5XZWlnaHRzQW5kRXh0cmEoKXtjb25zdCBlPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKSx0PXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzS2luZCksaT10Lmxlbmd0aDtmb3IobGV0IHM9MDtzPGk7cys9NCl7bGV0IHI9dFtzXSt0W3MrMV0rdFtzKzJdK3RbcyszXTtpZihyKz1lW3NdK2VbcysxXStlW3MrMl0rZVtzKzNdLHI9PT0wKXRbc109MTtlbHNle2NvbnN0IG49MS9yO3Rbc10qPW4sdFtzKzFdKj1uLHRbcysyXSo9bix0W3MrM10qPW4sZVtzXSo9bixlW3MrMV0qPW4sZVtzKzJdKj1uLGVbcyszXSo9bn19dGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNLaW5kLHQpLHRoaXMuc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzS2luZCxlKX12YWxpZGF0ZVNraW5uaW5nKCl7Y29uc3QgZT10aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCksdD10aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpO2lmKHQ9PT1udWxsfHx0aGlzLnNrZWxldG9uPT1udWxsKXJldHVybntza2lubmVkOiExLHZhbGlkOiEwLHJlcG9ydDoibm90IHNraW5uZWQifTtjb25zdCBpPXQubGVuZ3RoO2xldCBzPTAscj0wLG49MCxhPTA7Y29uc3Qgbz1lPT09bnVsbD80OjgsaD1uZXcgQXJyYXk7Zm9yKGxldCBtPTA7bTw9bzttKyspaFttXT0wO2NvbnN0IGw9LjAwMTtmb3IobGV0IG09MDttPGk7bSs9NCl7bGV0IHY9dFttXSxTPXYseT1TPT09MD8wOjE7Zm9yKGxldCBBPTE7QTxvO0ErKyl7Y29uc3QgQz1BPDQ/dFttK0FdOmVbbStBLTRdO0M+diYmcysrLEMhPT0wJiZ5KyssUys9Qyx2PUN9aWYoaFt5XSsrLHk+biYmKG49eSksUz09PTApcisrO2Vsc2V7Y29uc3QgQT0xL1M7bGV0IEM9MDtmb3IobGV0IGI9MDtiPG87YisrKWI8ND9DKz1NYXRoLmFicyh0W20rYl0tdFttK2JdKkEpOkMrPU1hdGguYWJzKGVbbStiLTRdLWVbbStiLTRdKkEpO0M+bCYmYSsrfX1jb25zdCB1PXRoaXMuc2tlbGV0b24uYm9uZXMubGVuZ3RoLGQ9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNLaW5kKSxmPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKTtsZXQgXz0wO2ZvcihsZXQgbT0wO208aTttKz00KWZvcihsZXQgdj0wO3Y8bzt2Kyspe2NvbnN0IFM9djw0P2RbbSt2XTpmW20rdi00XTsoUz49dXx8UzwwKSYmXysrfWNvbnN0IEU9Ik51bWJlciBvZiBXZWlnaHRzID0gIitpLzQrYApNYXhpbXVtIGluZmx1ZW5jZXMgPSBgK24rYApNaXNzaW5nIFdlaWdodHMgPSBgK3IrYApOb3QgU29ydGVkID0gYCtzK2AKTm90IE5vcm1hbGl6ZWQgPSBgK2ErYApXZWlnaHRDb3VudHMgPSBbYCtoK2BdCk51bWJlciBvZiBib25lcyA9IGArdStgCkJhZCBCb25lIEluZGljZXMgPSBgK187cmV0dXJue3NraW5uZWQ6ITAsdmFsaWQ6cj09PTAmJmE9PT0wJiZfPT09MCxyZXBvcnQ6RX19X2NoZWNrRGVsYXlTdGF0ZSgpe2NvbnN0IGU9dGhpcy5nZXRTY2VuZSgpO3JldHVybiB0aGlzLl9nZW9tZXRyeT90aGlzLl9nZW9tZXRyeS5sb2FkKGUpOnRoaXMuZGVsYXlMb2FkU3RhdGU9PT00JiYodGhpcy5kZWxheUxvYWRTdGF0ZT0yLHRoaXMuX3F1ZXVlTG9hZChlKSksdGhpc31fcXVldWVMb2FkKGUpe2UuYWRkUGVuZGluZ0RhdGEodGhpcyk7Y29uc3QgdD10aGlzLmRlbGF5TG9hZGluZ0ZpbGUuaW5kZXhPZigiLmJhYnlsb25iaW5hcnltZXNoZGF0YSIpIT09LTE7cmV0dXJuIEguTG9hZEZpbGUodGhpcy5kZWxheUxvYWRpbmdGaWxlLGk9PntpIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/dGhpcy5fZGVsYXlMb2FkaW5nRnVuY3Rpb24oaSx0aGlzKTp0aGlzLl9kZWxheUxvYWRpbmdGdW5jdGlvbihKU09OLnBhcnNlKGkpLHRoaXMpLHRoaXMuaW5zdGFuY2VzLmZvckVhY2gocz0+e3MucmVmcmVzaEJvdW5kaW5nSW5mbygpLHMuX3N5bmNTdWJNZXNoZXMoKX0pLHRoaXMuZGVsYXlMb2FkU3RhdGU9MSxlLnJlbW92ZVBlbmRpbmdEYXRhKHRoaXMpfSwoKT0+e30sZS5vZmZsaW5lUHJvdmlkZXIsdCksdGhpc31pc0luRnJ1c3R1bShlKXtyZXR1cm4gdGhpcy5kZWxheUxvYWRTdGF0ZT09PTJ8fCFzdXBlci5pc0luRnJ1c3R1bShlKT8hMToodGhpcy5fY2hlY2tEZWxheVN0YXRlKCksITApfXNldE1hdGVyaWFsQnlJZChlKXtjb25zdCB0PXRoaXMuZ2V0U2NlbmUoKS5tYXRlcmlhbHM7bGV0IGk7Zm9yKGk9dC5sZW5ndGgtMTtpPi0xO2ktLSlpZih0W2ldLmlkPT09ZSlyZXR1cm4gdGhpcy5tYXRlcmlhbD10W2ldLHRoaXM7Y29uc3Qgcz10aGlzLmdldFNjZW5lKCkubXVsdGlNYXRlcmlhbHM7Zm9yKGk9cy5sZW5ndGgtMTtpPi0xO2ktLSlpZihzW2ldLmlkPT09ZSlyZXR1cm4gdGhpcy5tYXRlcmlhbD1zW2ldLHRoaXM7cmV0dXJuIHRoaXN9Z2V0QW5pbWF0YWJsZXMoKXtjb25zdCBlPW5ldyBBcnJheTtyZXR1cm4gdGhpcy5tYXRlcmlhbCYmZS5wdXNoKHRoaXMubWF0ZXJpYWwpLHRoaXMuc2tlbGV0b24mJmUucHVzaCh0aGlzLnNrZWxldG9uKSxlfWJha2VUcmFuc2Zvcm1JbnRvVmVydGljZXMoZSl7aWYoIXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuUG9zaXRpb25LaW5kKSlyZXR1cm4gdGhpcztjb25zdCB0PXRoaXMuc3ViTWVzaGVzLnNwbGljZSgwKTt0aGlzLl9yZXNldFBvaW50c0FycmF5Q2FjaGUoKTtsZXQgaT10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCk7Y29uc3Qgcz1wLlplcm8oKTtsZXQgcjtmb3Iocj0wO3I8aS5sZW5ndGg7cis9MylwLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGlbcl0saVtyKzFdLGlbcisyXSxlLHMpLnRvQXJyYXkoaSxyKTtpZih0aGlzLnNldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCxpLHRoaXMuZ2V0VmVydGV4QnVmZmVyKGcuUG9zaXRpb25LaW5kKS5pc1VwZGF0YWJsZSgpKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQpKXtmb3IoaT10aGlzLmdldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQpLHI9MDtyPGkubGVuZ3RoO3IrPTMpcC5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYoaVtyXSxpW3IrMV0saVtyKzJdLGUscykubm9ybWFsaXplKCkudG9BcnJheShpLHIpO3RoaXMuc2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCxpLHRoaXMuZ2V0VmVydGV4QnVmZmVyKGcuTm9ybWFsS2luZCkuaXNVcGRhdGFibGUoKSl9cmV0dXJuIGUuZGV0ZXJtaW5hbnQoKTwwJiZ0aGlzLmZsaXBGYWNlcygpLHRoaXMucmVsZWFzZVN1Yk1lc2hlcygpLHRoaXMuc3ViTWVzaGVzPXQsdGhpc31iYWtlQ3VycmVudFRyYW5zZm9ybUludG9WZXJ0aWNlcyhlPSEwKXtyZXR1cm4gdGhpcy5iYWtlVHJhbnNmb3JtSW50b1ZlcnRpY2VzKHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSksdGhpcy5yZXNldExvY2FsTWF0cml4KGUpLHRoaXN9Z2V0IF9wb3NpdGlvbnMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9zaXRpb25zP3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Bvc2l0aW9uczp0aGlzLl9nZW9tZXRyeT90aGlzLl9nZW9tZXRyeS5fcG9zaXRpb25zOm51bGx9X3Jlc2V0UG9pbnRzQXJyYXlDYWNoZSgpe3JldHVybiB0aGlzLl9nZW9tZXRyeSYmdGhpcy5fZ2VvbWV0cnkuX3Jlc2V0UG9pbnRzQXJyYXlDYWNoZSgpLHRoaXN9X2dlbmVyYXRlUG9pbnRzQXJyYXkoKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/dGhpcy5fZ2VvbWV0cnkuX2dlbmVyYXRlUG9pbnRzQXJyYXkoKTohMX1jbG9uZShlPSIiLHQ9bnVsbCxpLHM9ITApe3JldHVybiBuZXcgVyhlLHRoaXMuZ2V0U2NlbmUoKSx0LHRoaXMsaSxzKX1kaXNwb3NlKGUsdD0hMSl7dGhpcy5tb3JwaFRhcmdldE1hbmFnZXI9bnVsbCx0aGlzLl9nZW9tZXRyeSYmdGhpcy5fZ2VvbWV0cnkucmVsZWFzZUZvck1lc2godGhpcywhMCk7Y29uc3QgaT10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbztpZihpLl9vbkJlZm9yZURyYXdPYnNlcnZhYmxlJiZpLl9vbkJlZm9yZURyYXdPYnNlcnZhYmxlLmNsZWFyKCksaS5fb25CZWZvcmVCaW5kT2JzZXJ2YWJsZSYmaS5fb25CZWZvcmVCaW5kT2JzZXJ2YWJsZS5jbGVhcigpLGkuX29uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZSYmaS5fb25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksaS5fb25BZnRlclJlbmRlck9ic2VydmFibGUmJmkuX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksaS5fb25CZXR3ZWVuUGFzc09ic2VydmFibGUmJmkuX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fc2NlbmUudXNlQ2xvbmVkTWVzaE1hcCl7aWYoaS5tZXNoTWFwKWZvcihjb25zdCBzIGluIGkubWVzaE1hcCl7Y29uc3Qgcj1pLm1lc2hNYXBbc107ciYmKHIuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2U9bnVsbCxpLm1lc2hNYXBbc109dm9pZCAwKX1pLl9zb3VyY2UmJmkuX3NvdXJjZS5faW50ZXJuYWxNZXNoRGF0YUluZm8ubWVzaE1hcCYmKGkuX3NvdXJjZS5faW50ZXJuYWxNZXNoRGF0YUluZm8ubWVzaE1hcFt0aGlzLnVuaXF1ZUlkXT12b2lkIDApfWVsc2V7Y29uc3Qgcz10aGlzLmdldFNjZW5lKCkubWVzaGVzO2Zvcihjb25zdCByIG9mIHMpe2NvbnN0IG49cjtuLl9pbnRlcm5hbE1lc2hEYXRhSW5mbyYmbi5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZSYmbi5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZT09PXRoaXMmJihuLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlPW51bGwpfX1pLl9zb3VyY2U9bnVsbCx0aGlzLl9kaXNwb3NlSW5zdGFuY2VTcGVjaWZpY0RhdGEoKSx0aGlzLl9kaXNwb3NlVGhpbkluc3RhbmNlU3BlY2lmaWNEYXRhKCksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2NoZWNrUmVhZGluZXNzT2JzZXJ2ZXImJnRoaXMuX3NjZW5lLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2NoZWNrUmVhZGluZXNzT2JzZXJ2ZXIpLHN1cGVyLmRpc3Bvc2UoZSx0KX1fZGlzcG9zZUluc3RhbmNlU3BlY2lmaWNEYXRhKCl7fV9kaXNwb3NlVGhpbkluc3RhbmNlU3BlY2lmaWNEYXRhKCl7fV9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpe31hcHBseURpc3BsYWNlbWVudE1hcChlLHQsaSxzLHIsbixhPSExKXtjb25zdCBvPXRoaXMuZ2V0U2NlbmUoKSxoPWw9Pntjb25zdCB1PWwud2lkdGgsZD1sLmhlaWdodCxfPXRoaXMuZ2V0RW5naW5lKCkuY3JlYXRlQ2FudmFzKHUsZCkuZ2V0Q29udGV4dCgiMmQiKTtfLmRyYXdJbWFnZShsLDAsMCk7Y29uc3QgRT1fLmdldEltYWdlRGF0YSgwLDAsdSxkKS5kYXRhO3RoaXMuYXBwbHlEaXNwbGFjZW1lbnRNYXBGcm9tQnVmZmVyKEUsdSxkLHQsaSxyLG4sYSkscyYmcyh0aGlzKX07cmV0dXJuIEguTG9hZEltYWdlKGUsaCwoKT0+e30sby5vZmZsaW5lUHJvdmlkZXIpLHRoaXN9YXBwbHlEaXNwbGFjZW1lbnRNYXBGcm9tQnVmZmVyKGUsdCxpLHMscixuLGEsbz0hMSl7aWYoIXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuUG9zaXRpb25LaW5kKXx8IXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTm9ybWFsS2luZCl8fCF0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWS2luZCkpcmV0dXJuIE8uV2FybigiQ2Fubm90IGNhbGwgYXBwbHlEaXNwbGFjZW1lbnRNYXA6IEdpdmVuIG1lc2ggaXMgbm90IGNvbXBsZXRlLiBQb3NpdGlvbiwgTm9ybWFsIG9yIFVWIGFyZSBtaXNzaW5nIiksdGhpcztjb25zdCBoPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kLCEwLCEwKSxsPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCksdT10aGlzLmdldFZlcnRpY2VzRGF0YShnLlVWS2luZCk7bGV0IGQ9cC5aZXJvKCk7Y29uc3QgZj1wLlplcm8oKSxfPXZlLlplcm8oKTtuPW58fHZlLlplcm8oKSxhPWF8fG5ldyB2ZSgxLDEpO2ZvcihsZXQgRT0wO0U8aC5sZW5ndGg7RSs9Myl7cC5Gcm9tQXJyYXlUb1JlZihoLEUsZCkscC5Gcm9tQXJyYXlUb1JlZihsLEUsZiksdmUuRnJvbUFycmF5VG9SZWYodSxFLzMqMixfKTtjb25zdCBtPU1hdGguYWJzKF8ueCphLngrbi54JTEpKih0LTEpJXR8MCx2PU1hdGguYWJzKF8ueSphLnkrbi55JTEpKihpLTEpJWl8MCxTPShtK3YqdCkqNCx5PWVbU10vMjU1LEE9ZVtTKzFdLzI1NSxDPWVbUysyXS8yNTUsYj15Ki4zK0EqLjU5K0MqLjExO2Yubm9ybWFsaXplKCksZi5zY2FsZUluUGxhY2Uocysoci1zKSpiKSxkPWQuYWRkKGYpLGQudG9BcnJheShoLEUpfXJldHVybiBlZS5Db21wdXRlTm9ybWFscyhoLHRoaXMuZ2V0SW5kaWNlcygpLGwpLG8/KHRoaXMuc2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kLGgpLHRoaXMuc2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCxsKSx0aGlzLnNldFZlcnRpY2VzRGF0YShnLlVWS2luZCx1KSk6KHRoaXMudXBkYXRlVmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kLGgpLHRoaXMudXBkYXRlVmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCxsKSksdGhpc31jb252ZXJ0VG9GbGF0U2hhZGVkTWVzaCgpe2NvbnN0IGU9dGhpcy5nZXRWZXJ0aWNlc0RhdGFLaW5kcygpLHQ9e30saT17fSxzPXt9O2xldCByPSExLG4sYTtmb3Iobj0wO248ZS5sZW5ndGg7bisrKXthPWVbbl07Y29uc3QgbT10aGlzLmdldFZlcnRleEJ1ZmZlcihhKSx2PW0uZ2V0RGF0YSgpO2lmKCEoKHYgaW5zdGFuY2VvZiBBcnJheXx8diBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSkmJnYubGVuZ3RoPT09MCkpe2lmKGE9PT1nLk5vcm1hbEtpbmQpe3I9bS5pc1VwZGF0YWJsZSgpLGUuc3BsaWNlKG4sMSksbi0tO2NvbnRpbnVlfXRbYV09bSxpW2FdPXRoaXMuZ2V0VmVydGljZXNEYXRhKGEpLHNbYV09W119fWNvbnN0IG89dGhpcy5zdWJNZXNoZXMuc2xpY2UoMCksaD10aGlzLmdldEluZGljZXMoKSxsPXRoaXMuZ2V0VG90YWxJbmRpY2VzKCk7bGV0IHU7Zm9yKHU9MDt1PGw7dSsrKXtjb25zdCBtPWhbdV07Zm9yKG49MDtuPGUubGVuZ3RoO24rKyl7aWYoYT1lW25dLCF0W2FdKWNvbnRpbnVlO2NvbnN0IHY9dFthXS5nZXRTdHJpZGVTaXplKCk7Zm9yKGxldCBTPTA7Uzx2O1MrKylzW2FdLnB1c2goaVthXVttKnYrU10pfX1jb25zdCBkPVtdLGY9c1tnLlBvc2l0aW9uS2luZF0sXz10aGlzLmdldFNjZW5lKCkudXNlUmlnaHRIYW5kZWRTeXN0ZW07bGV0IEU7Zm9yKF8/RT10aGlzLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb249PT0xOkU9dGhpcy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uPT09MCx1PTA7dTxsO3UrPTMpe2hbdV09dSxoW3UrMV09dSsxLGhbdSsyXT11KzI7Y29uc3QgbT1wLkZyb21BcnJheShmLHUqMyksdj1wLkZyb21BcnJheShmLCh1KzEpKjMpLFM9cC5Gcm9tQXJyYXkoZiwodSsyKSozKSx5PW0uc3VidHJhY3QodiksQT1TLnN1YnRyYWN0KHYpLEM9cC5Ob3JtYWxpemUocC5Dcm9zcyh5LEEpKTtFJiZDLnNjYWxlSW5QbGFjZSgtMSk7Zm9yKGxldCBiPTA7YjwzO2IrKylkLnB1c2goQy54KSxkLnB1c2goQy55KSxkLnB1c2goQy56KX1mb3IodGhpcy5zZXRJbmRpY2VzKGgpLHRoaXMuc2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCxkLHIpLG49MDtuPGUubGVuZ3RoO24rKylhPWVbbl0sc1thXSYmdGhpcy5zZXRWZXJ0aWNlc0RhdGEoYSxzW2FdLHRbYV0uaXNVcGRhdGFibGUoKSk7dGhpcy5yZWxlYXNlU3ViTWVzaGVzKCk7Zm9yKGxldCBtPTA7bTxvLmxlbmd0aDttKyspe2NvbnN0IHY9b1ttXTt2dC5BZGRUb01lc2godi5tYXRlcmlhbEluZGV4LHYuaW5kZXhTdGFydCx2LmluZGV4Q291bnQsdi5pbmRleFN0YXJ0LHYuaW5kZXhDb3VudCx0aGlzKX1yZXR1cm4gdGhpcy5zeW5jaHJvbml6ZUluc3RhbmNlcygpLHRoaXN9Y29udmVydFRvVW5JbmRleGVkTWVzaCgpe2NvbnN0IGU9dGhpcy5nZXRWZXJ0aWNlc0RhdGFLaW5kcygpLHQ9e30saT17fSxzPXt9O2xldCByLG47Zm9yKHI9MDtyPGUubGVuZ3RoO3IrKyl7bj1lW3JdO2NvbnN0IHU9dGhpcy5nZXRWZXJ0ZXhCdWZmZXIobik7dFtuXT11LGlbbl09dFtuXS5nZXREYXRhKCksc1tuXT1bXX1jb25zdCBhPXRoaXMuc3ViTWVzaGVzLnNsaWNlKDApLG89dGhpcy5nZXRJbmRpY2VzKCksaD10aGlzLmdldFRvdGFsSW5kaWNlcygpO2xldCBsO2ZvcihsPTA7bDxoO2wrKyl7Y29uc3QgdT1vW2xdO2ZvcihyPTA7cjxlLmxlbmd0aDtyKyspe249ZVtyXTtjb25zdCBkPXRbbl0uZ2V0U3RyaWRlU2l6ZSgpO2ZvcihsZXQgZj0wO2Y8ZDtmKyspc1tuXS5wdXNoKGlbbl1bdSpkK2ZdKX19Zm9yKGw9MDtsPGg7bCs9MylvW2xdPWwsb1tsKzFdPWwrMSxvW2wrMl09bCsyO2Zvcih0aGlzLnNldEluZGljZXMobykscj0wO3I8ZS5sZW5ndGg7cisrKW49ZVtyXSx0aGlzLnNldFZlcnRpY2VzRGF0YShuLHNbbl0sdFtuXS5pc1VwZGF0YWJsZSgpLHRbbl0uZ2V0U3RyaWRlU2l6ZSgpKTt0aGlzLnJlbGVhc2VTdWJNZXNoZXMoKTtmb3IobGV0IHU9MDt1PGEubGVuZ3RoO3UrKyl7Y29uc3QgZD1hW3VdO3Z0LkFkZFRvTWVzaChkLm1hdGVyaWFsSW5kZXgsZC5pbmRleFN0YXJ0LGQuaW5kZXhDb3VudCxkLmluZGV4U3RhcnQsZC5pbmRleENvdW50LHRoaXMpfXJldHVybiB0aGlzLl91bkluZGV4ZWQ9ITAsdGhpcy5zeW5jaHJvbml6ZUluc3RhbmNlcygpLHRoaXN9ZmxpcEZhY2VzKGU9ITEpe2NvbnN0IHQ9ZWUuRXh0cmFjdEZyb21NZXNoKHRoaXMpO2xldCBpO2lmKGUmJnRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTm9ybWFsS2luZCkmJnQubm9ybWFscylmb3IoaT0wO2k8dC5ub3JtYWxzLmxlbmd0aDtpKyspdC5ub3JtYWxzW2ldKj0tMTtpZih0LmluZGljZXMpe2xldCBzO2ZvcihpPTA7aTx0LmluZGljZXMubGVuZ3RoO2krPTMpcz10LmluZGljZXNbaSsxXSx0LmluZGljZXNbaSsxXT10LmluZGljZXNbaSsyXSx0LmluZGljZXNbaSsyXT1zfXJldHVybiB0LmFwcGx5VG9NZXNoKHRoaXMsdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlBvc2l0aW9uS2luZCkpLHRoaXN9aW5jcmVhc2VWZXJ0aWNlcyhlPTEpe2NvbnN0IHQ9ZWUuRXh0cmFjdEZyb21NZXNoKHRoaXMpLGk9dC5pbmRpY2VzJiYhQXJyYXkuaXNBcnJheSh0LmluZGljZXMpJiZBcnJheS5mcm9tP0FycmF5LmZyb20odC5pbmRpY2VzKTp0LmluZGljZXMscz10LnBvc2l0aW9ucyYmIUFycmF5LmlzQXJyYXkodC5wb3NpdGlvbnMpJiZBcnJheS5mcm9tP0FycmF5LmZyb20odC5wb3NpdGlvbnMpOnQucG9zaXRpb25zLHI9dC51dnMmJiFBcnJheS5pc0FycmF5KHQudXZzKSYmQXJyYXkuZnJvbT9BcnJheS5mcm9tKHQudXZzKTp0LnV2cyxuPXQubm9ybWFscyYmIUFycmF5LmlzQXJyYXkodC5ub3JtYWxzKSYmQXJyYXkuZnJvbT9BcnJheS5mcm9tKHQubm9ybWFscyk6dC5ub3JtYWxzO2lmKCFpfHwhcylPLldhcm4oIkNvdWxkbid0IGluY3JlYXNlIG51bWJlciBvZiB2ZXJ0aWNlcyA6IFZlcnRleERhdGEgbXVzdCBjb250YWluIGF0IGxlYXN0IGluZGljZXMgYW5kIHBvc2l0aW9ucyIpO2Vsc2V7dC5pbmRpY2VzPWksdC5wb3NpdGlvbnM9cyxyJiYodC51dnM9ciksbiYmKHQubm9ybWFscz1uKTtjb25zdCBhPWUrMSxvPW5ldyBBcnJheTtmb3IobGV0IEM9MDtDPGErMTtDKyspb1tDXT1uZXcgQXJyYXk7bGV0IGgsbDtjb25zdCB1PW5ldyBwKDAsMCwwKSxkPW5ldyBwKDAsMCwwKSxmPW5ldyB2ZSgwLDApLF89bmV3IEFycmF5LEU9bmV3IEFycmF5LG09bmV3IEFycmF5O2xldCB2LFM9cy5sZW5ndGgseTtyJiYoeT1yLmxlbmd0aCk7bGV0IEE7biYmKEE9bi5sZW5ndGgpO2ZvcihsZXQgQz0wO0M8aS5sZW5ndGg7Qys9Myl7RVswXT1pW0NdLEVbMV09aVtDKzFdLEVbMl09aVtDKzJdO2ZvcihsZXQgYj0wO2I8MztiKyspaWYoaD1FW2JdLGw9RVsoYisxKSUzXSxtW2hdPT09dm9pZCAwJiZtW2xdPT09dm9pZCAwPyhtW2hdPW5ldyBBcnJheSxtW2xdPW5ldyBBcnJheSk6KG1baF09PT12b2lkIDAmJihtW2hdPW5ldyBBcnJheSksbVtsXT09PXZvaWQgMCYmKG1bbF09bmV3IEFycmF5KSksbVtoXVtsXT09PXZvaWQgMCYmbVtsXVtoXT09PXZvaWQgMCl7bVtoXVtsXT1bXSx1Lng9KHNbMypsXS1zWzMqaF0pL2EsdS55PShzWzMqbCsxXS1zWzMqaCsxXSkvYSx1Lno9KHNbMypsKzJdLXNbMypoKzJdKS9hLG4mJihkLng9KG5bMypsXS1uWzMqaF0pL2EsZC55PShuWzMqbCsxXS1uWzMqaCsxXSkvYSxkLno9KG5bMypsKzJdLW5bMypoKzJdKS9hKSxyJiYoZi54PShyWzIqbF0tclsyKmhdKS9hLGYueT0oclsyKmwrMV0tclsyKmgrMV0pL2EpLG1baF1bbF0ucHVzaChoKTtmb3IobGV0IE09MTtNPGE7TSsrKW1baF1bbF0ucHVzaChzLmxlbmd0aC8zKSxzW1MrK109c1szKmhdK00qdS54LHNbUysrXT1zWzMqaCsxXStNKnUueSxzW1MrK109c1szKmgrMl0rTSp1LnosbiYmKG5bQSsrXT1uWzMqaF0rTSpkLngsbltBKytdPW5bMypoKzFdK00qZC55LG5bQSsrXT1uWzMqaCsyXStNKmQueiksciYmKHJbeSsrXT1yWzIqaF0rTSpmLngsclt5KytdPXJbMipoKzFdK00qZi55KTttW2hdW2xdLnB1c2gobCksbVtsXVtoXT1uZXcgQXJyYXksdj1tW2hdW2xdLmxlbmd0aDtmb3IobGV0IE09MDtNPHY7TSsrKW1bbF1baF1bTV09bVtoXVtsXVt2LTEtTV19b1swXVswXT1pW0NdLG9bMV1bMF09bVtpW0NdXVtpW0MrMV1dWzFdLG9bMV1bMV09bVtpW0NdXVtpW0MrMl1dWzFdO2ZvcihsZXQgYj0yO2I8YTtiKyspe29bYl1bMF09bVtpW0NdXVtpW0MrMV1dW2JdLG9bYl1bYl09bVtpW0NdXVtpW0MrMl1dW2JdLHUueD0oc1szKm9bYl1bYl1dLXNbMypvW2JdWzBdXSkvYix1Lnk9KHNbMypvW2JdW2JdKzFdLXNbMypvW2JdWzBdKzFdKS9iLHUuej0oc1szKm9bYl1bYl0rMl0tc1szKm9bYl1bMF0rMl0pL2IsbiYmKGQueD0oblszKm9bYl1bYl1dLW5bMypvW2JdWzBdXSkvYixkLnk9KG5bMypvW2JdW2JdKzFdLW5bMypvW2JdWzBdKzFdKS9iLGQuej0oblszKm9bYl1bYl0rMl0tblszKm9bYl1bMF0rMl0pL2IpLHImJihmLng9KHJbMipvW2JdW2JdXS1yWzIqb1tiXVswXV0pL2IsZi55PShyWzIqb1tiXVtiXSsxXS1yWzIqb1tiXVswXSsxXSkvYik7Zm9yKGxldCBNPTE7TTxiO00rKylvW2JdW01dPXMubGVuZ3RoLzMsc1tTKytdPXNbMypvW2JdWzBdXStNKnUueCxzW1MrK109c1szKm9bYl1bMF0rMV0rTSp1Lnksc1tTKytdPXNbMypvW2JdWzBdKzJdK00qdS56LG4mJihuW0ErK109blszKm9bYl1bMF1dK00qZC54LG5bQSsrXT1uWzMqb1tiXVswXSsxXStNKmQueSxuW0ErK109blszKm9bYl1bMF0rMl0rTSpkLnopLHImJihyW3krK109clsyKm9bYl1bMF1dK00qZi54LHJbeSsrXT1yWzIqb1tiXVswXSsxXStNKmYueSl9b1thXT1tW2lbQysxXV1baVtDKzJdXSxfLnB1c2gob1swXVswXSxvWzFdWzBdLG9bMV1bMV0pO2ZvcihsZXQgYj0xO2I8YTtiKyspe2xldCBNO2ZvcihNPTA7TTxiO00rKylfLnB1c2gob1tiXVtNXSxvW2IrMV1bTV0sb1tiKzFdW00rMV0pLF8ucHVzaChvW2JdW01dLG9bYisxXVtNKzFdLG9bYl1bTSsxXSk7Xy5wdXNoKG9bYl1bTV0sb1tiKzFdW01dLG9bYisxXVtNKzFdKX19dC5pbmRpY2VzPV8sdC5hcHBseVRvTWVzaCh0aGlzLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5Qb3NpdGlvbktpbmQpKX19Zm9yY2VTaGFyZWRWZXJ0aWNlcygpe2NvbnN0IGU9ZWUuRXh0cmFjdEZyb21NZXNoKHRoaXMpLHQ9ZS51dnMsaT1lLmluZGljZXMscz1lLnBvc2l0aW9ucyxyPWUuY29sb3JzLG49ZS5tYXRyaWNlc0luZGljZXMsYT1lLm1hdHJpY2VzV2VpZ2h0cyxvPWUubWF0cmljZXNJbmRpY2VzRXh0cmEsaD1lLm1hdHJpY2VzV2VpZ2h0c0V4dHJhO2lmKGk9PT12b2lkIDB8fHM9PT12b2lkIDB8fGk9PT1udWxsfHxzPT09bnVsbClPLldhcm4oIlZlcnRleERhdGEgY29udGFpbnMgZW1wdHkgZW50cmllcyIpO2Vsc2V7Y29uc3QgbD1uZXcgQXJyYXksdT1uZXcgQXJyYXksZD1uZXcgQXJyYXksZj1uZXcgQXJyYXksXz1uZXcgQXJyYXksRT1uZXcgQXJyYXksbT1uZXcgQXJyYXksdj1uZXcgQXJyYXk7bGV0IFM9bmV3IEFycmF5LHk9MDtjb25zdCBBPXt9O2xldCBDLGI7Zm9yKGxldCBMPTA7TDxpLmxlbmd0aDtMKz0zKXtiPVtpW0xdLGlbTCsxXSxpW0wrMl1dLFM9bmV3IEFycmF5O2ZvcihsZXQgaz0wO2s8MztrKyspe1Nba109IiI7Zm9yKGxldCB3PTA7dzwzO3crKylNYXRoLmFicyhzWzMqYltrXSt3XSk8MWUtOCYmKHNbMypiW2tdK3ddPTApLFNba10rPXNbMypiW2tdK3ddKyJ8In1pZighKFNbMF09PVNbMV18fFNbMF09PVNbMl18fFNbMV09PVNbMl0pKWZvcihsZXQgaz0wO2s8MztrKyspe2lmKEM9QVtTW2tdXSxDPT09dm9pZCAwKXtBW1Nba11dPXksQz15Kys7Zm9yKGxldCB3PTA7dzwzO3crKylsLnB1c2goc1szKmJba10rd10pO2lmKHIhPW51bGwpZm9yKGxldCB3PTA7dzw0O3crKylmLnB1c2gocls0KmJba10rd10pO2lmKHQhPW51bGwpZm9yKGxldCB3PTA7dzwyO3crKylkLnB1c2godFsyKmJba10rd10pO2lmKG4hPW51bGwpZm9yKGxldCB3PTA7dzw0O3crKylfLnB1c2gobls0KmJba10rd10pO2lmKGEhPW51bGwpZm9yKGxldCB3PTA7dzw0O3crKylFLnB1c2goYVs0KmJba10rd10pO2lmKG8hPW51bGwpZm9yKGxldCB3PTA7dzw0O3crKyltLnB1c2gob1s0KmJba10rd10pO2lmKGghPW51bGwpZm9yKGxldCB3PTA7dzw0O3crKyl2LnB1c2goaFs0KmJba10rd10pfXUucHVzaChDKX19Y29uc3QgTT1uZXcgQXJyYXk7ZWUuQ29tcHV0ZU5vcm1hbHMobCx1LE0pLGUucG9zaXRpb25zPWwsZS5pbmRpY2VzPXUsZS5ub3JtYWxzPU0sdCE9bnVsbCYmKGUudXZzPWQpLHIhPW51bGwmJihlLmNvbG9ycz1mKSxuIT1udWxsJiYoZS5tYXRyaWNlc0luZGljZXM9XyksYSE9bnVsbCYmKGUubWF0cmljZXNXZWlnaHRzPUUpLG8hPW51bGwmJihlLm1hdHJpY2VzSW5kaWNlc0V4dHJhPW0pLGEhPW51bGwmJihlLm1hdHJpY2VzV2VpZ2h0c0V4dHJhPXYpLGUuYXBwbHlUb01lc2godGhpcyx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGcuUG9zaXRpb25LaW5kKSl9fXN0YXRpYyBfaW5zdGFuY2VkTWVzaEZhY3RvcnkoZSx0KXt0aHJvdyAkKCJJbnN0YW5jZWRNZXNoIil9c3RhdGljIF9QaHlzaWNzSW1wb3N0b3JQYXJzZXIoZSx0LGkpe3Rocm93ICQoIlBoeXNpY3NJbXBvc3RvciIpfWNyZWF0ZUluc3RhbmNlKGUpe3JldHVybiBXLl9pbnN0YW5jZWRNZXNoRmFjdG9yeShlLHRoaXMpfXN5bmNocm9uaXplSW5zdGFuY2VzKCl7Zm9yKGxldCBlPTA7ZTx0aGlzLmluc3RhbmNlcy5sZW5ndGg7ZSsrKXRoaXMuaW5zdGFuY2VzW2VdLl9zeW5jU3ViTWVzaGVzKCk7cmV0dXJuIHRoaXN9b3B0aW1pemVJbmRpY2VzKGUpe2NvbnN0IHQ9dGhpcy5nZXRJbmRpY2VzKCksaT10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCk7aWYoIWl8fCF0KXJldHVybiB0aGlzO2NvbnN0IHM9bmV3IEFycmF5O2ZvcihsZXQgbj0wO248aS5sZW5ndGg7bj1uKzMpcy5wdXNoKHAuRnJvbUFycmF5KGksbikpO2NvbnN0IHI9bmV3IEFycmF5O3JldHVybiBZaS5TeW5jQXN5bmNGb3JMb29wKHMubGVuZ3RoLDQwLG49Pntjb25zdCBhPXMubGVuZ3RoLTEtbixvPXNbYV07Zm9yKGxldCBoPTA7aDxhOysraCl7Y29uc3QgbD1zW2hdO2lmKG8uZXF1YWxzKGwpKXtyW2FdPWg7YnJlYWt9fX0sKCk9Pntmb3IobGV0IGE9MDthPHQubGVuZ3RoOysrYSl0W2FdPXJbdFthXV18fHRbYV07Y29uc3Qgbj10aGlzLnN1Yk1lc2hlcy5zbGljZSgwKTt0aGlzLnNldEluZGljZXModCksdGhpcy5zdWJNZXNoZXM9bixlJiZlKHRoaXMpfSksdGhpc31zZXJpYWxpemUoZT17fSl7ZS5uYW1lPXRoaXMubmFtZSxlLmlkPXRoaXMuaWQsZS51bmlxdWVJZD10aGlzLnVuaXF1ZUlkLGUudHlwZT10aGlzLmdldENsYXNzTmFtZSgpLGdlJiZnZS5IYXNUYWdzKHRoaXMpJiYoZS50YWdzPWdlLkdldFRhZ3ModGhpcykpLGUucG9zaXRpb249dGhpcy5wb3NpdGlvbi5hc0FycmF5KCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24/ZS5yb3RhdGlvblF1YXRlcm5pb249dGhpcy5yb3RhdGlvblF1YXRlcm5pb24uYXNBcnJheSgpOnRoaXMucm90YXRpb24mJihlLnJvdGF0aW9uPXRoaXMucm90YXRpb24uYXNBcnJheSgpKSxlLnNjYWxpbmc9dGhpcy5zY2FsaW5nLmFzQXJyYXkoKSx0aGlzLl9wb3N0TXVsdGlwbHlQaXZvdE1hdHJpeD9lLnBpdm90TWF0cml4PXRoaXMuZ2V0UGl2b3RNYXRyaXgoKS5hc0FycmF5KCk6ZS5sb2NhbE1hdHJpeD10aGlzLmdldFBpdm90TWF0cml4KCkuYXNBcnJheSgpLGUuaXNFbmFibGVkPXRoaXMuaXNFbmFibGVkKCExKSxlLmlzVmlzaWJsZT10aGlzLmlzVmlzaWJsZSxlLmluZmluaXRlRGlzdGFuY2U9dGhpcy5pbmZpbml0ZURpc3RhbmNlLGUucGlja2FibGU9dGhpcy5pc1BpY2thYmxlLGUucmVjZWl2ZVNoYWRvd3M9dGhpcy5yZWNlaXZlU2hhZG93cyxlLmJpbGxib2FyZE1vZGU9dGhpcy5iaWxsYm9hcmRNb2RlLGUudmlzaWJpbGl0eT10aGlzLnZpc2liaWxpdHksZS5jaGVja0NvbGxpc2lvbnM9dGhpcy5jaGVja0NvbGxpc2lvbnMsZS5pc0Jsb2NrZXI9dGhpcy5pc0Jsb2NrZXIsZS5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uPXRoaXMub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbix0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuX3NlcmlhbGl6ZUFzUGFyZW50KGUpLGUuaXNVbkluZGV4ZWQ9dGhpcy5pc1VuSW5kZXhlZDtjb25zdCB0PXRoaXMuX2dlb21ldHJ5O2lmKHQmJnRoaXMuc3ViTWVzaGVzKXtlLmdlb21ldHJ5VW5pcXVlSWQ9dC51bmlxdWVJZCxlLmdlb21ldHJ5SWQ9dC5pZCxlLnN1Yk1lc2hlcz1bXTtmb3IobGV0IGk9MDtpPHRoaXMuc3ViTWVzaGVzLmxlbmd0aDtpKyspe2NvbnN0IHM9dGhpcy5zdWJNZXNoZXNbaV07ZS5zdWJNZXNoZXMucHVzaCh7bWF0ZXJpYWxJbmRleDpzLm1hdGVyaWFsSW5kZXgsdmVydGljZXNTdGFydDpzLnZlcnRpY2VzU3RhcnQsdmVydGljZXNDb3VudDpzLnZlcnRpY2VzQ291bnQsaW5kZXhTdGFydDpzLmluZGV4U3RhcnQsaW5kZXhDb3VudDpzLmluZGV4Q291bnR9KX19aWYodGhpcy5tYXRlcmlhbD90aGlzLm1hdGVyaWFsLmRvTm90U2VyaWFsaXplfHwoZS5tYXRlcmlhbFVuaXF1ZUlkPXRoaXMubWF0ZXJpYWwudW5pcXVlSWQsZS5tYXRlcmlhbElkPXRoaXMubWF0ZXJpYWwuaWQpOih0aGlzLm1hdGVyaWFsPW51bGwsZS5tYXRlcmlhbFVuaXF1ZUlkPXRoaXMuX3NjZW5lLmRlZmF1bHRNYXRlcmlhbC51bmlxdWVJZCxlLm1hdGVyaWFsSWQ9dGhpcy5fc2NlbmUuZGVmYXVsdE1hdGVyaWFsLmlkKSx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlciYmKGUubW9ycGhUYXJnZXRNYW5hZ2VySWQ9dGhpcy5tb3JwaFRhcmdldE1hbmFnZXIudW5pcXVlSWQpLHRoaXMuc2tlbGV0b24mJihlLnNrZWxldG9uSWQ9dGhpcy5za2VsZXRvbi5pZCxlLm51bUJvbmVJbmZsdWVuY2Vycz10aGlzLm51bUJvbmVJbmZsdWVuY2VycyksdGhpcy5nZXRTY2VuZSgpLl9nZXRDb21wb25lbnQocS5OQU1FX1BIWVNJQ1NFTkdJTkUpKXtjb25zdCBpPXRoaXMuZ2V0UGh5c2ljc0ltcG9zdG9yKCk7aSYmKGUucGh5c2ljc01hc3M9aS5nZXRQYXJhbSgibWFzcyIpLGUucGh5c2ljc0ZyaWN0aW9uPWkuZ2V0UGFyYW0oImZyaWN0aW9uIiksZS5waHlzaWNzUmVzdGl0dXRpb249aS5nZXRQYXJhbSgibWFzcyIpLGUucGh5c2ljc0ltcG9zdG9yPWkudHlwZSl9dGhpcy5tZXRhZGF0YSYmKGUubWV0YWRhdGE9dGhpcy5tZXRhZGF0YSksZS5pbnN0YW5jZXM9W107Zm9yKGxldCBpPTA7aTx0aGlzLmluc3RhbmNlcy5sZW5ndGg7aSsrKXtjb25zdCBzPXRoaXMuaW5zdGFuY2VzW2ldO2lmKHMuZG9Ob3RTZXJpYWxpemUpY29udGludWU7Y29uc3Qgcj17bmFtZTpzLm5hbWUsaWQ6cy5pZCxpc0VuYWJsZWQ6cy5pc0VuYWJsZWQoITEpLGlzVmlzaWJsZTpzLmlzVmlzaWJsZSxpc1BpY2thYmxlOnMuaXNQaWNrYWJsZSxjaGVja0NvbGxpc2lvbnM6cy5jaGVja0NvbGxpc2lvbnMscG9zaXRpb246cy5wb3NpdGlvbi5hc0FycmF5KCksc2NhbGluZzpzLnNjYWxpbmcuYXNBcnJheSgpfTtpZihzLnBhcmVudCYmcy5wYXJlbnQuX3NlcmlhbGl6ZUFzUGFyZW50KHIpLHMucm90YXRpb25RdWF0ZXJuaW9uP3Iucm90YXRpb25RdWF0ZXJuaW9uPXMucm90YXRpb25RdWF0ZXJuaW9uLmFzQXJyYXkoKTpzLnJvdGF0aW9uJiYoci5yb3RhdGlvbj1zLnJvdGF0aW9uLmFzQXJyYXkoKSksdGhpcy5nZXRTY2VuZSgpLl9nZXRDb21wb25lbnQocS5OQU1FX1BIWVNJQ1NFTkdJTkUpKXtjb25zdCBuPXMuZ2V0UGh5c2ljc0ltcG9zdG9yKCk7biYmKHIucGh5c2ljc01hc3M9bi5nZXRQYXJhbSgibWFzcyIpLHIucGh5c2ljc0ZyaWN0aW9uPW4uZ2V0UGFyYW0oImZyaWN0aW9uIiksci5waHlzaWNzUmVzdGl0dXRpb249bi5nZXRQYXJhbSgibWFzcyIpLHIucGh5c2ljc0ltcG9zdG9yPW4udHlwZSl9cy5tZXRhZGF0YSYmKHIubWV0YWRhdGE9cy5tZXRhZGF0YSksZS5pbnN0YW5jZXMucHVzaChyKSxhZS5BcHBlbmRTZXJpYWxpemVkQW5pbWF0aW9ucyhzLHIpLHIucmFuZ2VzPXMuc2VyaWFsaXplQW5pbWF0aW9uUmFuZ2VzKCl9aWYodGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQ291bnQmJnRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLm1hdHJpeERhdGEmJihlLnRoaW5JbnN0YW5jZXM9e2luc3RhbmNlc0NvdW50OnRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0NvdW50LG1hdHJpeERhdGE6QXJyYXkuZnJvbSh0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhEYXRhKSxtYXRyaXhCdWZmZXJTaXplOnRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLm1hdHJpeEJ1ZmZlclNpemUsZW5hYmxlUGlja2luZzp0aGlzLnRoaW5JbnN0YW5jZUVuYWJsZVBpY2tpbmd9LHRoaXMuX3VzZXJUaGluSW5zdGFuY2VCdWZmZXJzU3RvcmFnZSkpe2NvbnN0IGk9e2RhdGE6e30sc2l6ZXM6e30sc3RyaWRlczp7fX07Zm9yKGNvbnN0IHMgaW4gdGhpcy5fdXNlclRoaW5JbnN0YW5jZUJ1ZmZlcnNTdG9yYWdlLmRhdGEpaS5kYXRhW3NdPUFycmF5LmZyb20odGhpcy5fdXNlclRoaW5JbnN0YW5jZUJ1ZmZlcnNTdG9yYWdlLmRhdGFbc10pLGkuc2l6ZXNbc109dGhpcy5fdXNlclRoaW5JbnN0YW5jZUJ1ZmZlcnNTdG9yYWdlLnNpemVzW3NdLGkuc3RyaWRlc1tzXT10aGlzLl91c2VyVGhpbkluc3RhbmNlQnVmZmVyc1N0b3JhZ2Uuc3RyaWRlc1tzXTtlLnRoaW5JbnN0YW5jZXMudXNlclRoaW5JbnN0YW5jZT1pfXJldHVybiBhZS5BcHBlbmRTZXJpYWxpemVkQW5pbWF0aW9ucyh0aGlzLGUpLGUucmFuZ2VzPXRoaXMuc2VyaWFsaXplQW5pbWF0aW9uUmFuZ2VzKCksZS5sYXllck1hc2s9dGhpcy5sYXllck1hc2ssZS5hbHBoYUluZGV4PXRoaXMuYWxwaGFJbmRleCxlLmhhc1ZlcnRleEFscGhhPXRoaXMuaGFzVmVydGV4QWxwaGEsZS5vdmVybGF5QWxwaGE9dGhpcy5vdmVybGF5QWxwaGEsZS5vdmVybGF5Q29sb3I9dGhpcy5vdmVybGF5Q29sb3IuYXNBcnJheSgpLGUucmVuZGVyT3ZlcmxheT10aGlzLnJlbmRlck92ZXJsYXksZS5hcHBseUZvZz10aGlzLmFwcGx5Rm9nLHRoaXMuYWN0aW9uTWFuYWdlciYmKGUuYWN0aW9ucz10aGlzLmFjdGlvbk1hbmFnZXIuc2VyaWFsaXplKHRoaXMubmFtZSkpLGV9X3N5bmNHZW9tZXRyeVdpdGhNb3JwaFRhcmdldE1hbmFnZXIoKXtpZighdGhpcy5nZW9tZXRyeSlyZXR1cm47dGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCk7Y29uc3QgZT10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tb3JwaFRhcmdldE1hbmFnZXI7aWYoZSYmZS52ZXJ0ZXhDb3VudCl7aWYoZS52ZXJ0ZXhDb3VudCE9PXRoaXMuZ2V0VG90YWxWZXJ0aWNlcygpKXtPLkVycm9yKCJNZXNoIGlzIGluY29tcGF0aWJsZSB3aXRoIG1vcnBoIHRhcmdldHMuIFRhcmdldHMgYW5kIG1lc2ggbXVzdCBhbGwgaGF2ZSB0aGUgc2FtZSB2ZXJ0aWNlcyBjb3VudC4iKSx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcj1udWxsO3JldHVybn1pZihlLmlzVXNpbmdUZXh0dXJlRm9yVGFyZ2V0cylyZXR1cm47Zm9yKGxldCB0PTA7dDxlLm51bUluZmx1ZW5jZXJzO3QrKyl7Y29uc3QgaT1lLmdldEFjdGl2ZVRhcmdldCh0KSxzPWkuZ2V0UG9zaXRpb25zKCk7aWYoIXMpe08uRXJyb3IoIkludmFsaWQgbW9ycGggdGFyZ2V0LiBUYXJnZXQgbXVzdCBoYXZlIHBvc2l0aW9ucy4iKTtyZXR1cm59dGhpcy5nZW9tZXRyeS5zZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQrdCxzLCExLDMpO2NvbnN0IHI9aS5nZXROb3JtYWxzKCk7ciYmdGhpcy5nZW9tZXRyeS5zZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kK3QsciwhMSwzKTtjb25zdCBuPWkuZ2V0VGFuZ2VudHMoKTtuJiZ0aGlzLmdlb21ldHJ5LnNldFZlcnRpY2VzRGF0YShnLlRhbmdlbnRLaW5kK3QsbiwhMSwzKTtjb25zdCBhPWkuZ2V0VVZzKCk7YSYmdGhpcy5nZW9tZXRyeS5zZXRWZXJ0aWNlc0RhdGEoZy5VVktpbmQrIl8iK3QsYSwhMSwyKX19ZWxzZXtsZXQgdD0wO2Zvcig7dGhpcy5nZW9tZXRyeS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Qb3NpdGlvbktpbmQrdCk7KXRoaXMuZ2VvbWV0cnkucmVtb3ZlVmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kK3QpLHRoaXMuZ2VvbWV0cnkuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTm9ybWFsS2luZCt0KSYmdGhpcy5nZW9tZXRyeS5yZW1vdmVWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kK3QpLHRoaXMuZ2VvbWV0cnkuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVGFuZ2VudEtpbmQrdCkmJnRoaXMuZ2VvbWV0cnkucmVtb3ZlVmVydGljZXNEYXRhKGcuVGFuZ2VudEtpbmQrdCksdGhpcy5nZW9tZXRyeS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVktpbmQrdCkmJnRoaXMuZ2VvbWV0cnkucmVtb3ZlVmVydGljZXNEYXRhKGcuVVZLaW5kKyJfIit0KSx0Kyt9fXN0YXRpYyBQYXJzZShlLHQsaSl7bGV0IHM7aWYoZS50eXBlJiZlLnR5cGU9PT0iTGluZXNNZXNoIj9zPVcuX0xpbmVzTWVzaFBhcnNlcihlLHQpOmUudHlwZSYmZS50eXBlPT09Ikdyb3VuZE1lc2giP3M9Vy5fR3JvdW5kTWVzaFBhcnNlcihlLHQpOmUudHlwZSYmZS50eXBlPT09IkdvbGRiZXJnTWVzaCI/cz1XLl9Hb2xkYmVyZ01lc2hQYXJzZXIoZSx0KTpzPW5ldyBXKGUubmFtZSx0KSxzLmlkPWUuaWQscy5fd2FpdGluZ1BhcnNlZFVuaXF1ZUlkPWUudW5pcXVlSWQsZ2UmJmdlLkFkZFRhZ3NUbyhzLGUudGFncykscy5wb3NpdGlvbj1wLkZyb21BcnJheShlLnBvc2l0aW9uKSxlLm1ldGFkYXRhIT09dm9pZCAwJiYocy5tZXRhZGF0YT1lLm1ldGFkYXRhKSxlLnJvdGF0aW9uUXVhdGVybmlvbj9zLnJvdGF0aW9uUXVhdGVybmlvbj1aLkZyb21BcnJheShlLnJvdGF0aW9uUXVhdGVybmlvbik6ZS5yb3RhdGlvbiYmKHMucm90YXRpb249cC5Gcm9tQXJyYXkoZS5yb3RhdGlvbikpLHMuc2NhbGluZz1wLkZyb21BcnJheShlLnNjYWxpbmcpLGUubG9jYWxNYXRyaXg/cy5zZXRQcmVUcmFuc2Zvcm1NYXRyaXgoeC5Gcm9tQXJyYXkoZS5sb2NhbE1hdHJpeCkpOmUucGl2b3RNYXRyaXgmJnMuc2V0UGl2b3RNYXRyaXgoeC5Gcm9tQXJyYXkoZS5waXZvdE1hdHJpeCkpLHMuc2V0RW5hYmxlZChlLmlzRW5hYmxlZCkscy5pc1Zpc2libGU9ZS5pc1Zpc2libGUscy5pbmZpbml0ZURpc3RhbmNlPWUuaW5maW5pdGVEaXN0YW5jZSxzLnNob3dCb3VuZGluZ0JveD1lLnNob3dCb3VuZGluZ0JveCxzLnNob3dTdWJNZXNoZXNCb3VuZGluZ0JveD1lLnNob3dTdWJNZXNoZXNCb3VuZGluZ0JveCxlLmFwcGx5Rm9nIT09dm9pZCAwJiYocy5hcHBseUZvZz1lLmFwcGx5Rm9nKSxlLnBpY2thYmxlIT09dm9pZCAwJiYocy5pc1BpY2thYmxlPWUucGlja2FibGUpLGUuYWxwaGFJbmRleCE9PXZvaWQgMCYmKHMuYWxwaGFJbmRleD1lLmFscGhhSW5kZXgpLHMucmVjZWl2ZVNoYWRvd3M9ZS5yZWNlaXZlU2hhZG93cyxlLmJpbGxib2FyZE1vZGUhPT12b2lkIDAmJihzLmJpbGxib2FyZE1vZGU9ZS5iaWxsYm9hcmRNb2RlKSxlLnZpc2liaWxpdHkhPT12b2lkIDAmJihzLnZpc2liaWxpdHk9ZS52aXNpYmlsaXR5KSxzLmNoZWNrQ29sbGlzaW9ucz1lLmNoZWNrQ29sbGlzaW9ucyxzLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb249ZS5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uLGUuaXNCbG9ja2VyIT09dm9pZCAwJiYocy5pc0Jsb2NrZXI9ZS5pc0Jsb2NrZXIpLHMuX3Nob3VsZEdlbmVyYXRlRmxhdFNoYWRpbmc9ZS51c2VGbGF0U2hhZGluZyxlLmZyZWV6ZVdvcmxkTWF0cml4JiYocy5fd2FpdGluZ0RhdGEuZnJlZXplV29ybGRNYXRyaXg9ZS5mcmVlemVXb3JsZE1hdHJpeCksZS5wYXJlbnRJZCE9PXZvaWQgMCYmKHMuX3dhaXRpbmdQYXJlbnRJZD1lLnBhcmVudElkKSxlLnBhcmVudEluc3RhbmNlSW5kZXghPT12b2lkIDAmJihzLl93YWl0aW5nUGFyZW50SW5zdGFuY2VJbmRleD1lLnBhcmVudEluc3RhbmNlSW5kZXgpLGUuYWN0aW9ucyE9PXZvaWQgMCYmKHMuX3dhaXRpbmdEYXRhLmFjdGlvbnM9ZS5hY3Rpb25zKSxlLm92ZXJsYXlBbHBoYSE9PXZvaWQgMCYmKHMub3ZlcmxheUFscGhhPWUub3ZlcmxheUFscGhhKSxlLm92ZXJsYXlDb2xvciE9PXZvaWQgMCYmKHMub3ZlcmxheUNvbG9yPXJlLkZyb21BcnJheShlLm92ZXJsYXlDb2xvcikpLGUucmVuZGVyT3ZlcmxheSE9PXZvaWQgMCYmKHMucmVuZGVyT3ZlcmxheT1lLnJlbmRlck92ZXJsYXkpLHMuaXNVbkluZGV4ZWQ9ISFlLmlzVW5JbmRleGVkLHMuaGFzVmVydGV4QWxwaGE9ZS5oYXNWZXJ0ZXhBbHBoYSxlLmRlbGF5TG9hZGluZ0ZpbGU/KHMuZGVsYXlMb2FkU3RhdGU9NCxzLmRlbGF5TG9hZGluZ0ZpbGU9aStlLmRlbGF5TG9hZGluZ0ZpbGUscy5idWlsZEJvdW5kaW5nSW5mbyhwLkZyb21BcnJheShlLmJvdW5kaW5nQm94TWluaW11bSkscC5Gcm9tQXJyYXkoZS5ib3VuZGluZ0JveE1heGltdW0pKSxlLl9iaW5hcnlJbmZvJiYocy5fYmluYXJ5SW5mbz1lLl9iaW5hcnlJbmZvKSxzLl9kZWxheUluZm89W10sZS5oYXNVVnMmJnMuX2RlbGF5SW5mby5wdXNoKGcuVVZLaW5kKSxlLmhhc1VWczImJnMuX2RlbGF5SW5mby5wdXNoKGcuVVYyS2luZCksZS5oYXNVVnMzJiZzLl9kZWxheUluZm8ucHVzaChnLlVWM0tpbmQpLGUuaGFzVVZzNCYmcy5fZGVsYXlJbmZvLnB1c2goZy5VVjRLaW5kKSxlLmhhc1VWczUmJnMuX2RlbGF5SW5mby5wdXNoKGcuVVY1S2luZCksZS5oYXNVVnM2JiZzLl9kZWxheUluZm8ucHVzaChnLlVWNktpbmQpLGUuaGFzQ29sb3JzJiZzLl9kZWxheUluZm8ucHVzaChnLkNvbG9yS2luZCksZS5oYXNNYXRyaWNlc0luZGljZXMmJnMuX2RlbGF5SW5mby5wdXNoKGcuTWF0cmljZXNJbmRpY2VzS2luZCksZS5oYXNNYXRyaWNlc1dlaWdodHMmJnMuX2RlbGF5SW5mby5wdXNoKGcuTWF0cmljZXNXZWlnaHRzS2luZCkscy5fZGVsYXlMb2FkaW5nRnVuY3Rpb249YXQuX0ltcG9ydEdlb21ldHJ5LE9lLkZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsJiZzLl9jaGVja0RlbGF5U3RhdGUoKSk6YXQuX0ltcG9ydEdlb21ldHJ5KGUscyksZS5tYXRlcmlhbFVuaXF1ZUlkP3MuX3dhaXRpbmdNYXRlcmlhbElkPWUubWF0ZXJpYWxVbmlxdWVJZDplLm1hdGVyaWFsSWQmJihzLl93YWl0aW5nTWF0ZXJpYWxJZD1lLm1hdGVyaWFsSWQpLGUubW9ycGhUYXJnZXRNYW5hZ2VySWQ+LTEmJihzLm1vcnBoVGFyZ2V0TWFuYWdlcj10LmdldE1vcnBoVGFyZ2V0TWFuYWdlckJ5SWQoZS5tb3JwaFRhcmdldE1hbmFnZXJJZCkpLGUuc2tlbGV0b25JZCE9PXZvaWQgMCYmZS5za2VsZXRvbklkIT09bnVsbCYmKHMuc2tlbGV0b249dC5nZXRMYXN0U2tlbGV0b25CeUlkKGUuc2tlbGV0b25JZCksZS5udW1Cb25lSW5mbHVlbmNlcnMmJihzLm51bUJvbmVJbmZsdWVuY2Vycz1lLm51bUJvbmVJbmZsdWVuY2VycykpLGUuYW5pbWF0aW9ucyl7Zm9yKGxldCByPTA7cjxlLmFuaW1hdGlvbnMubGVuZ3RoO3IrKyl7Y29uc3Qgbj1lLmFuaW1hdGlvbnNbcl0sYT1yaSgiQkFCWUxPTi5BbmltYXRpb24iKTthJiZzLmFuaW1hdGlvbnMucHVzaChhLlBhcnNlKG4pKX16ZS5QYXJzZUFuaW1hdGlvblJhbmdlcyhzLGUsdCl9aWYoZS5hdXRvQW5pbWF0ZSYmdC5iZWdpbkFuaW1hdGlvbihzLGUuYXV0b0FuaW1hdGVGcm9tLGUuYXV0b0FuaW1hdGVUbyxlLmF1dG9BbmltYXRlTG9vcCxlLmF1dG9BbmltYXRlU3BlZWR8fDEpLGUubGF5ZXJNYXNrJiYhaXNOYU4oZS5sYXllck1hc2spP3MubGF5ZXJNYXNrPU1hdGguYWJzKHBhcnNlSW50KGUubGF5ZXJNYXNrKSk6cy5sYXllck1hc2s9MjY4NDM1NDU1LGUucGh5c2ljc0ltcG9zdG9yJiZXLl9QaHlzaWNzSW1wb3N0b3JQYXJzZXIodCxzLGUpLGUubG9kTWVzaElkcyYmKHMuX3dhaXRpbmdEYXRhLmxvZHM9e2lkczplLmxvZE1lc2hJZHMsZGlzdGFuY2VzOmUubG9kRGlzdGFuY2VzP2UubG9kRGlzdGFuY2VzOm51bGwsY292ZXJhZ2VzOmUubG9kQ292ZXJhZ2VzP2UubG9kQ292ZXJhZ2VzOm51bGx9KSxlLmluc3RhbmNlcylmb3IobGV0IHI9MDtyPGUuaW5zdGFuY2VzLmxlbmd0aDtyKyspe2NvbnN0IG49ZS5pbnN0YW5jZXNbcl0sYT1zLmNyZWF0ZUluc3RhbmNlKG4ubmFtZSk7aWYobi5pZCYmKGEuaWQ9bi5pZCksZ2UmJihuLnRhZ3M/Z2UuQWRkVGFnc1RvKGEsbi50YWdzKTpnZS5BZGRUYWdzVG8oYSxlLnRhZ3MpKSxhLnBvc2l0aW9uPXAuRnJvbUFycmF5KG4ucG9zaXRpb24pLG4ubWV0YWRhdGEhPT12b2lkIDAmJihhLm1ldGFkYXRhPW4ubWV0YWRhdGEpLG4ucGFyZW50SWQhPT12b2lkIDAmJihhLl93YWl0aW5nUGFyZW50SWQ9bi5wYXJlbnRJZCksbi5wYXJlbnRJbnN0YW5jZUluZGV4IT09dm9pZCAwJiYoYS5fd2FpdGluZ1BhcmVudEluc3RhbmNlSW5kZXg9bi5wYXJlbnRJbnN0YW5jZUluZGV4KSxuLmlzRW5hYmxlZCE9PXZvaWQgMCYmbi5pc0VuYWJsZWQhPT1udWxsJiZhLnNldEVuYWJsZWQobi5pc0VuYWJsZWQpLG4uaXNWaXNpYmxlIT09dm9pZCAwJiZuLmlzVmlzaWJsZSE9PW51bGwmJihhLmlzVmlzaWJsZT1uLmlzVmlzaWJsZSksbi5pc1BpY2thYmxlIT09dm9pZCAwJiZuLmlzUGlja2FibGUhPT1udWxsJiYoYS5pc1BpY2thYmxlPW4uaXNQaWNrYWJsZSksbi5yb3RhdGlvblF1YXRlcm5pb24/YS5yb3RhdGlvblF1YXRlcm5pb249Wi5Gcm9tQXJyYXkobi5yb3RhdGlvblF1YXRlcm5pb24pOm4ucm90YXRpb24mJihhLnJvdGF0aW9uPXAuRnJvbUFycmF5KG4ucm90YXRpb24pKSxhLnNjYWxpbmc9cC5Gcm9tQXJyYXkobi5zY2FsaW5nKSxuLmNoZWNrQ29sbGlzaW9ucyE9bnVsbCYmbi5jaGVja0NvbGxpc2lvbnMhPW51bGwmJihhLmNoZWNrQ29sbGlzaW9ucz1uLmNoZWNrQ29sbGlzaW9ucyksbi5waWNrYWJsZSE9bnVsbCYmbi5waWNrYWJsZSE9bnVsbCYmKGEuaXNQaWNrYWJsZT1uLnBpY2thYmxlKSxuLnNob3dCb3VuZGluZ0JveCE9bnVsbCYmbi5zaG93Qm91bmRpbmdCb3ghPW51bGwmJihhLnNob3dCb3VuZGluZ0JveD1uLnNob3dCb3VuZGluZ0JveCksbi5zaG93U3ViTWVzaGVzQm91bmRpbmdCb3ghPW51bGwmJm4uc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94IT1udWxsJiYoYS5zaG93U3ViTWVzaGVzQm91bmRpbmdCb3g9bi5zaG93U3ViTWVzaGVzQm91bmRpbmdCb3gpLG4uYWxwaGFJbmRleCE9bnVsbCYmbi5zaG93U3ViTWVzaGVzQm91bmRpbmdCb3ghPW51bGwmJihhLmFscGhhSW5kZXg9bi5hbHBoYUluZGV4KSxuLnBoeXNpY3NJbXBvc3RvciYmVy5fUGh5c2ljc0ltcG9zdG9yUGFyc2VyKHQsYSxuKSxuLmFuaW1hdGlvbnMpe2ZvcihsZXQgbz0wO288bi5hbmltYXRpb25zLmxlbmd0aDtvKyspe2NvbnN0IGg9bi5hbmltYXRpb25zW29dLGw9cmkoIkJBQllMT04uQW5pbWF0aW9uIik7bCYmYS5hbmltYXRpb25zLnB1c2gobC5QYXJzZShoKSl9emUuUGFyc2VBbmltYXRpb25SYW5nZXMoYSxuLHQpLG4uYXV0b0FuaW1hdGUmJnQuYmVnaW5BbmltYXRpb24oYSxuLmF1dG9BbmltYXRlRnJvbSxuLmF1dG9BbmltYXRlVG8sbi5hdXRvQW5pbWF0ZUxvb3Asbi5hdXRvQW5pbWF0ZVNwZWVkfHwxKX19aWYoZS50aGluSW5zdGFuY2VzKXtjb25zdCByPWUudGhpbkluc3RhbmNlcztpZihzLnRoaW5JbnN0YW5jZUVuYWJsZVBpY2tpbmc9ISFyLmVuYWJsZVBpY2tpbmcsci5tYXRyaXhEYXRhPyhzLnRoaW5JbnN0YW5jZVNldEJ1ZmZlcigibWF0cml4IixuZXcgRmxvYXQzMkFycmF5KHIubWF0cml4RGF0YSksMTYsITEpLHMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLm1hdHJpeEJ1ZmZlclNpemU9ci5tYXRyaXhCdWZmZXJTaXplLHMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0NvdW50PXIuaW5zdGFuY2VzQ291bnQpOnMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLm1hdHJpeEJ1ZmZlclNpemU9ci5tYXRyaXhCdWZmZXJTaXplLGUudGhpbkluc3RhbmNlcy51c2VyVGhpbkluc3RhbmNlKXtjb25zdCBuPWUudGhpbkluc3RhbmNlcy51c2VyVGhpbkluc3RhbmNlO2Zvcihjb25zdCBhIGluIG4uZGF0YSlzLnRoaW5JbnN0YW5jZVNldEJ1ZmZlcihhLG5ldyBGbG9hdDMyQXJyYXkobi5kYXRhW2FdKSxuLnN0cmlkZXNbYV0sITEpLHMuX3VzZXJUaGluSW5zdGFuY2VCdWZmZXJzU3RvcmFnZS5zaXplc1thXT1uLnNpemVzW2FdfX1yZXR1cm4gc31zZXRQb3NpdGlvbnNGb3JDUFVTa2lubmluZygpe2NvbnN0IGU9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm87aWYoIWUuX3NvdXJjZVBvc2l0aW9ucyl7Y29uc3QgdD10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCk7aWYoIXQpcmV0dXJuIGUuX3NvdXJjZVBvc2l0aW9ucztlLl9zb3VyY2VQb3NpdGlvbnM9bmV3IEZsb2F0MzJBcnJheSh0KSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGcuUG9zaXRpb25LaW5kKXx8dGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQsdCwhMCl9cmV0dXJuIGUuX3NvdXJjZVBvc2l0aW9uc31zZXROb3JtYWxzRm9yQ1BVU2tpbm5pbmcoKXtjb25zdCBlPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvO2lmKCFlLl9zb3VyY2VOb3JtYWxzKXtjb25zdCB0PXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCk7aWYoIXQpcmV0dXJuIGUuX3NvdXJjZU5vcm1hbHM7ZS5fc291cmNlTm9ybWFscz1uZXcgRmxvYXQzMkFycmF5KHQpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5Ob3JtYWxLaW5kKXx8dGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLHQsITApfXJldHVybiBlLl9zb3VyY2VOb3JtYWxzfWFwcGx5U2tlbGV0b24oZSl7aWYoIXRoaXMuZ2VvbWV0cnkpcmV0dXJuIHRoaXM7aWYodGhpcy5nZW9tZXRyeS5fc29mdHdhcmVTa2lubmluZ0ZyYW1lSWQ9PXRoaXMuZ2V0U2NlbmUoKS5nZXRGcmFtZUlkKCkpcmV0dXJuIHRoaXM7aWYodGhpcy5nZW9tZXRyeS5fc29mdHdhcmVTa2lubmluZ0ZyYW1lSWQ9dGhpcy5nZXRTY2VuZSgpLmdldEZyYW1lSWQoKSwhdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Qb3NpdGlvbktpbmQpKXJldHVybiB0aGlzO2lmKCF0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk1hdHJpY2VzSW5kaWNlc0tpbmQpKXJldHVybiB0aGlzO2lmKCF0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpKXJldHVybiB0aGlzO2NvbnN0IHQ9dGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Ob3JtYWxLaW5kKSxpPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvO2lmKCFpLl9zb3VyY2VQb3NpdGlvbnMpe2NvbnN0IHY9dGhpcy5zdWJNZXNoZXMuc2xpY2UoKTt0aGlzLnNldFBvc2l0aW9uc0ZvckNQVVNraW5uaW5nKCksdGhpcy5zdWJNZXNoZXM9dn10JiYhaS5fc291cmNlTm9ybWFscyYmdGhpcy5zZXROb3JtYWxzRm9yQ1BVU2tpbm5pbmcoKTtsZXQgcz10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCk7aWYoIXMpcmV0dXJuIHRoaXM7cyBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheXx8KHM9bmV3IEZsb2F0MzJBcnJheShzKSk7bGV0IHI9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kKTtpZih0KXtpZighcilyZXR1cm4gdGhpcztyIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5fHwocj1uZXcgRmxvYXQzMkFycmF5KHIpKX1jb25zdCBuPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzS2luZCksYT10aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpO2lmKCFhfHwhbilyZXR1cm4gdGhpcztjb25zdCBvPXRoaXMubnVtQm9uZUluZmx1ZW5jZXJzPjQsaD1vP3RoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKTpudWxsLGw9bz90aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCk6bnVsbCx1PWUuZ2V0VHJhbnNmb3JtTWF0cmljZXModGhpcyksZD1wLlplcm8oKSxmPW5ldyB4LF89bmV3IHg7bGV0IEU9MCxtO2ZvcihsZXQgdj0wO3Y8cy5sZW5ndGg7dis9MyxFKz00KXtsZXQgUztmb3IobT0wO208NDttKyspUz1hW0UrbV0sUz4wJiYoeC5Gcm9tRmxvYXQzMkFycmF5VG9SZWZTY2FsZWQodSxNYXRoLmZsb29yKG5bRSttXSoxNiksUyxfKSxmLmFkZFRvU2VsZihfKSk7aWYobylmb3IobT0wO208NDttKyspUz1sW0UrbV0sUz4wJiYoeC5Gcm9tRmxvYXQzMkFycmF5VG9SZWZTY2FsZWQodSxNYXRoLmZsb29yKGhbRSttXSoxNiksUyxfKSxmLmFkZFRvU2VsZihfKSk7cC5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihpLl9zb3VyY2VQb3NpdGlvbnNbdl0saS5fc291cmNlUG9zaXRpb25zW3YrMV0saS5fc291cmNlUG9zaXRpb25zW3YrMl0sZixkKSxkLnRvQXJyYXkocyx2KSx0JiYocC5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYoaS5fc291cmNlTm9ybWFsc1t2XSxpLl9zb3VyY2VOb3JtYWxzW3YrMV0saS5fc291cmNlTm9ybWFsc1t2KzJdLGYsZCksZC50b0FycmF5KHIsdikpLGYucmVzZXQoKX1yZXR1cm4gdGhpcy51cGRhdGVWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQscyksdCYmdGhpcy51cGRhdGVWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLHIpLHRoaXN9c3RhdGljIE1pbk1heChlKXtsZXQgdD1udWxsLGk9bnVsbDtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKHMpe2NvbnN0IG49cy5nZXRCb3VuZGluZ0luZm8oKS5ib3VuZGluZ0JveDshdHx8IWk/KHQ9bi5taW5pbXVtV29ybGQsaT1uLm1heGltdW1Xb3JsZCk6KHQubWluaW1pemVJblBsYWNlKG4ubWluaW11bVdvcmxkKSxpLm1heGltaXplSW5QbGFjZShuLm1heGltdW1Xb3JsZCkpfSksIXR8fCFpP3ttaW46cC5aZXJvKCksbWF4OnAuWmVybygpfTp7bWluOnQsbWF4Oml9fXN0YXRpYyBDZW50ZXIoZSl7Y29uc3QgdD1lIGluc3RhbmNlb2YgQXJyYXk/Vy5NaW5NYXgoZSk6ZTtyZXR1cm4gcC5DZW50ZXIodC5taW4sdC5tYXgpfXN0YXRpYyBNZXJnZU1lc2hlcyhlLHQ9ITAsaSxzLHIsbil7cmV0dXJuIFBzKFcuX01lcmdlTWVzaGVzQ29yb3V0aW5lKGUsdCxpLHMscixuLCExKSl9c3RhdGljIE1lcmdlTWVzaGVzQXN5bmMoZSx0PSEwLGkscyxyLG4pe3JldHVybiBPbihXLl9NZXJnZU1lc2hlc0Nvcm91dGluZShlLHQsaSxzLHIsbiwhMCksd24oKSl9c3RhdGljKl9NZXJnZU1lc2hlc0Nvcm91dGluZShlLHQ9ITAsaSxzLHIsbixhKXtpZihlPWUuZmlsdGVyKEJvb2xlYW4pLGUubGVuZ3RoPT09MClyZXR1cm4gbnVsbDtsZXQgbztpZighaSl7bGV0IE09MDtmb3Iobz0wO288ZS5sZW5ndGg7bysrKWlmKE0rPWVbb10uZ2V0VG90YWxWZXJ0aWNlcygpLE0+PTY1NTM2KXJldHVybiBPLldhcm4oIkNhbm5vdCBtZXJnZSBtZXNoZXMgYmVjYXVzZSByZXN1bHRpbmcgbWVzaCB3aWxsIGhhdmUgbW9yZSB0aGFuIDY1NTM2IHZlcnRpY2VzLiBQbGVhc2UgdXNlIGFsbG93MzJCaXRzSW5kaWNlcyA9IHRydWUgdG8gdXNlIDMyIGJpdHMgaW5kaWNlcyIpLG51bGx9biYmKHI9ITEpO2NvbnN0IGg9bmV3IEFycmF5LGw9bmV3IEFycmF5LHU9bmV3IEFycmF5LGQ9ZVswXS5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uO2ZvcihvPTA7bzxlLmxlbmd0aDtvKyspe2NvbnN0IE09ZVtvXTtpZihNLmlzQW5JbnN0YW5jZSlyZXR1cm4gTy5XYXJuKCJDYW5ub3QgbWVyZ2UgaW5zdGFuY2UgbWVzaGVzLiIpLG51bGw7aWYoZCE9PU0ub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbilyZXR1cm4gTy5XYXJuKCJDYW5ub3QgbWVyZ2UgbWVzaGVzIHdpdGggZGlmZmVyZW50IG92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24gdmFsdWVzLiIpLG51bGw7aWYociYmdS5wdXNoKE0uZ2V0VG90YWxJbmRpY2VzKCkpLG4paWYoTS5tYXRlcmlhbCl7Y29uc3QgTD1NLm1hdGVyaWFsO2lmKEwgaW5zdGFuY2VvZiBTaSl7Zm9yKGxldCBrPTA7azxMLnN1Yk1hdGVyaWFscy5sZW5ndGg7aysrKWguaW5kZXhPZihMLnN1Yk1hdGVyaWFsc1trXSk8MCYmaC5wdXNoKEwuc3ViTWF0ZXJpYWxzW2tdKTtmb3IobGV0IGs9MDtrPE0uc3ViTWVzaGVzLmxlbmd0aDtrKyspbC5wdXNoKGguaW5kZXhPZihMLnN1Yk1hdGVyaWFsc1tNLnN1Yk1lc2hlc1trXS5tYXRlcmlhbEluZGV4XSkpLHUucHVzaChNLnN1Yk1lc2hlc1trXS5pbmRleENvdW50KX1lbHNle2guaW5kZXhPZihMKTwwJiZoLnB1c2goTCk7Zm9yKGxldCBrPTA7azxNLnN1Yk1lc2hlcy5sZW5ndGg7aysrKWwucHVzaChoLmluZGV4T2YoTCkpLHUucHVzaChNLnN1Yk1lc2hlc1trXS5pbmRleENvdW50KX19ZWxzZSBmb3IobGV0IEw9MDtMPE0uc3ViTWVzaGVzLmxlbmd0aDtMKyspbC5wdXNoKDApLHUucHVzaChNLnN1Yk1lc2hlc1tMXS5pbmRleENvdW50KX1jb25zdCBmPWVbMF0sXz1NPT57Y29uc3QgTD1NLmNvbXB1dGVXb3JsZE1hdHJpeCghMCk7cmV0dXJuW2VlLkV4dHJhY3RGcm9tTWVzaChNLCExLCExKSxMXX0sW0UsbV09XyhmKTthJiYoeWllbGQpO2NvbnN0IHY9bmV3IEFycmF5KGUubGVuZ3RoLTEpO2ZvcihsZXQgTT0xO008ZS5sZW5ndGg7TSsrKXZbTS0xXT1fKGVbTV0pLGEmJih5aWVsZCk7Y29uc3QgUz1FLl9tZXJnZUNvcm91dGluZShtLHYsaSxhLCF0KTtsZXQgeT1TLm5leHQoKTtmb3IoOyF5LmRvbmU7KWEmJih5aWVsZCkseT1TLm5leHQoKTtjb25zdCBBPXkudmFsdWU7c3x8KHM9bmV3IFcoZi5uYW1lKyJfbWVyZ2VkIixmLmdldFNjZW5lKCkpKTtjb25zdCBDPUEuX2FwcGx5VG9Db3JvdXRpbmUocyx2b2lkIDAsYSk7bGV0IGI9Qy5uZXh0KCk7Zm9yKDshYi5kb25lOylhJiYoeWllbGQpLGI9Qy5uZXh0KCk7aWYocy5jaGVja0NvbGxpc2lvbnM9Zi5jaGVja0NvbGxpc2lvbnMscy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uPWYub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbix0KWZvcihvPTA7bzxlLmxlbmd0aDtvKyspZVtvXS5kaXNwb3NlKCk7aWYocnx8bil7cy5yZWxlYXNlU3ViTWVzaGVzKCksbz0wO2xldCBNPTA7Zm9yKDtvPHUubGVuZ3RoOyl2dC5DcmVhdGVGcm9tSW5kaWNlcygwLE0sdVtvXSxzLHZvaWQgMCwhMSksTSs9dVtvXSxvKys7Zm9yKGNvbnN0IEwgb2Ygcy5zdWJNZXNoZXMpTC5yZWZyZXNoQm91bmRpbmdJbmZvKCk7cy5jb21wdXRlV29ybGRNYXRyaXgoITApfWlmKG4pe2NvbnN0IE09bmV3IFNpKGYubmFtZSsiX21lcmdlZCIsZi5nZXRTY2VuZSgpKTtNLnN1Yk1hdGVyaWFscz1oO2ZvcihsZXQgTD0wO0w8cy5zdWJNZXNoZXMubGVuZ3RoO0wrKylzLnN1Yk1lc2hlc1tMXS5tYXRlcmlhbEluZGV4PWxbTF07cy5tYXRlcmlhbD1NfWVsc2Ugcy5tYXRlcmlhbD1mLm1hdGVyaWFsO3JldHVybiBzfWFkZEluc3RhbmNlKGUpe2UuX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheT10aGlzLmluc3RhbmNlcy5sZW5ndGgsdGhpcy5pbnN0YW5jZXMucHVzaChlKX1yZW1vdmVJbnN0YW5jZShlKXtjb25zdCB0PWUuX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheTtpZih0IT0tMSl7aWYodCE9PXRoaXMuaW5zdGFuY2VzLmxlbmd0aC0xKXtjb25zdCBpPXRoaXMuaW5zdGFuY2VzW3RoaXMuaW5zdGFuY2VzLmxlbmd0aC0xXTt0aGlzLmluc3RhbmNlc1t0XT1pLGkuX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheT10fWUuX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheT0tMSx0aGlzLmluc3RhbmNlcy5wb3AoKX19X3Nob3VsZENvbnZlcnRSSFMoKXtyZXR1cm4gdGhpcy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uPT09UC5Db3VudGVyQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9ufX1XLkZST05UU0lERT1lZS5GUk9OVFNJREUsVy5CQUNLU0lERT1lZS5CQUNLU0lERSxXLkRPVUJMRVNJREU9ZWUuRE9VQkxFU0lERSxXLkRFRkFVTFRTSURFPWVlLkRFRkFVTFRTSURFLFcuTk9fQ0FQPTAsVy5DQVBfU1RBUlQ9MSxXLkNBUF9FTkQ9MixXLkNBUF9BTEw9MyxXLk5PX0ZMSVA9MCxXLkZMSVBfVElMRT0xLFcuUk9UQVRFX1RJTEU9MixXLkZMSVBfUk9XPTMsVy5ST1RBVEVfUk9XPTQsVy5GTElQX05fUk9UQVRFX1RJTEU9NSxXLkZMSVBfTl9ST1RBVEVfUk9XPTYsVy5DRU5URVI9MCxXLkxFRlQ9MSxXLlJJR0hUPTIsVy5UT1A9MyxXLkJPVFRPTT00LFcuSU5TVEFOQ0VETUVTSF9TT1JUX1RSQU5TUEFSRU5UPSExLFcuX0dyb3VuZE1lc2hQYXJzZXI9KGMsZSk9Pnt0aHJvdyAkKCJHcm91bmRNZXNoIil9LFcuX0dvbGRiZXJnTWVzaFBhcnNlcj0oYyxlKT0+e3Rocm93ICQoIkdvbGRiZXJnTWVzaCIpfSxXLl9MaW5lc01lc2hQYXJzZXI9KGMsZSk9Pnt0aHJvdyAkKCJMaW5lc01lc2giKX0saXQoIkJBQllMT04uTWVzaCIsVyksVy5wcm90b3R5cGUuc2V0TWF0ZXJpYWxCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLnNldE1hdGVyaWFsQnlJZChjKX0sVy5DcmVhdGVEaXNjPVcuQ3JlYXRlRGlzY3x8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksVy5DcmVhdGVCb3g9Vy5DcmVhdGVCb3h8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLFcuQ3JlYXRlU3BoZXJlPVcuQ3JlYXRlU3BoZXJlfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSxXLkNyZWF0ZUN5bGluZGVyPVcuQ3JlYXRlQ3lsaW5kZXJ8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLFcuQ3JlYXRlVG9ydXNLbm90PVcuQ3JlYXRlVG9ydXNLbm90fHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSxXLkNyZWF0ZVRvcnVzPVcuQ3JlYXRlVG9ydXN8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLFcuQ3JlYXRlUGxhbmU9Vy5DcmVhdGVQbGFuZXx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksVy5DcmVhdGVHcm91bmQ9Vy5DcmVhdGVHcm91bmR8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLFcuQ3JlYXRlVGlsZWRHcm91bmQ9Vy5DcmVhdGVUaWxlZEdyb3VuZHx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksVy5DcmVhdGVHcm91bmRGcm9tSGVpZ2h0TWFwPVcuQ3JlYXRlR3JvdW5kRnJvbUhlaWdodE1hcHx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksVy5DcmVhdGVUdWJlPVcuQ3JlYXRlVHViZXx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksVy5DcmVhdGVQb2x5aGVkcm9uPVcuQ3JlYXRlUG9seWhlZHJvbnx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksVy5DcmVhdGVJY29TcGhlcmU9Vy5DcmVhdGVJY29TcGhlcmV8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLFcuQ3JlYXRlRGVjYWw9Vy5DcmVhdGVEZWNhbHx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksVy5DcmVhdGVDYXBzdWxlPVcuQ3JlYXRlQ2Fwc3VsZXx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksVy5FeHRlbmRUb0dvbGRiZXJnPVcuRXh0ZW5kVG9Hb2xkYmVyZ3x8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSk7Y2xhc3MgenR7Y29uc3RydWN0b3IoZT0wKXt0aGlzLnByaW9yaXR5PWV9Z2V0RGVzY3JpcHRpb24oKXtyZXR1cm4iIn1hcHBseShlLHQpe3JldHVybiEwfX1jbGFzcyBMcyBleHRlbmRzIHp0e2NvbnN0cnVjdG9yKGU9MCx0PTEwMjQsaT0uNSl7c3VwZXIoZSksdGhpcy5wcmlvcml0eT1lLHRoaXMubWF4aW11bVNpemU9dCx0aGlzLnN0ZXA9aX1nZXREZXNjcmlwdGlvbigpe3JldHVybiJSZWR1Y2luZyByZW5kZXIgdGFyZ2V0IHRleHR1cmUgc2l6ZSB0byAiK3RoaXMubWF4aW11bVNpemV9YXBwbHkoZSx0KXtsZXQgaT0hMDtmb3IobGV0IHM9MDtzPGUudGV4dHVyZXMubGVuZ3RoO3MrKyl7Y29uc3Qgcj1lLnRleHR1cmVzW3NdO2lmKCFyLmNhblJlc2NhbGV8fHIuZ2V0Q29udGV4dCljb250aW51ZTtjb25zdCBuPXIuZ2V0U2l6ZSgpO01hdGgubWF4KG4ud2lkdGgsbi5oZWlnaHQpPnRoaXMubWF4aW11bVNpemUmJihyLnNjYWxlKHRoaXMuc3RlcCksaT0hMSl9cmV0dXJuIGl9fWNsYXNzIFByIGV4dGVuZHMgenR7Y29uc3RydWN0b3IoZT0wLHQ9MixpPS4yNSl7c3VwZXIoZSksdGhpcy5wcmlvcml0eT1lLHRoaXMubWF4aW11bVNjYWxlPXQsdGhpcy5zdGVwPWksdGhpcy5fY3VycmVudFNjYWxlPS0xLHRoaXMuX2RpcmVjdGlvbk9mZnNldD0xfWdldERlc2NyaXB0aW9uKCl7cmV0dXJuIlNldHRpbmcgaGFyZHdhcmUgc2NhbGluZyBsZXZlbCB0byAiK3RoaXMuX2N1cnJlbnRTY2FsZX1hcHBseShlLHQpe3JldHVybiB0aGlzLl9jdXJyZW50U2NhbGU9PT0tMSYmKHRoaXMuX2N1cnJlbnRTY2FsZT1lLmdldEVuZ2luZSgpLmdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCksdGhpcy5fY3VycmVudFNjYWxlPnRoaXMubWF4aW11bVNjYWxlJiYodGhpcy5fZGlyZWN0aW9uT2Zmc2V0PS0xKSksdGhpcy5fY3VycmVudFNjYWxlKz10aGlzLl9kaXJlY3Rpb25PZmZzZXQqdGhpcy5zdGVwLGUuZ2V0RW5naW5lKCkuc2V0SGFyZHdhcmVTY2FsaW5nTGV2ZWwodGhpcy5fY3VycmVudFNjYWxlKSx0aGlzLl9kaXJlY3Rpb25PZmZzZXQ9PT0xP3RoaXMuX2N1cnJlbnRTY2FsZT49dGhpcy5tYXhpbXVtU2NhbGU6dGhpcy5fY3VycmVudFNjYWxlPD10aGlzLm1heGltdW1TY2FsZX19Y2xhc3MgTnMgZXh0ZW5kcyB6dHtnZXREZXNjcmlwdGlvbigpe3JldHVybiJUdXJuaW5nIHNoYWRvd3Mgb24vb2ZmIn1hcHBseShlLHQpe3JldHVybiBlLnNoYWRvd3NFbmFibGVkPXQuaXNJbkltcHJvdmVtZW50TW9kZSwhMH19Y2xhc3MgQnMgZXh0ZW5kcyB6dHtnZXREZXNjcmlwdGlvbigpe3JldHVybiJUdXJuaW5nIHBvc3QtcHJvY2Vzc2VzIG9uL29mZiJ9YXBwbHkoZSx0KXtyZXR1cm4gZS5wb3N0UHJvY2Vzc2VzRW5hYmxlZD10LmlzSW5JbXByb3ZlbWVudE1vZGUsITB9fWNsYXNzIFVzIGV4dGVuZHMgenR7Z2V0RGVzY3JpcHRpb24oKXtyZXR1cm4iVHVybmluZyBsZW5zIGZsYXJlcyBvbi9vZmYifWFwcGx5KGUsdCl7cmV0dXJuIGUubGVuc0ZsYXJlc0VuYWJsZWQ9dC5pc0luSW1wcm92ZW1lbnRNb2RlLCEwfX1jbGFzcyBIbiBleHRlbmRzIHp0e2dldERlc2NyaXB0aW9uKCl7cmV0dXJuIHRoaXMub25HZXREZXNjcmlwdGlvbj90aGlzLm9uR2V0RGVzY3JpcHRpb24oKToiUnVubmluZyB1c2VyIGRlZmluZWQgY2FsbGJhY2sifWFwcGx5KGUsdCl7cmV0dXJuIHRoaXMub25BcHBseT90aGlzLm9uQXBwbHkoZSx0KTohMH19Y2xhc3Mga3MgZXh0ZW5kcyB6dHtnZXREZXNjcmlwdGlvbigpe3JldHVybiJUdXJuaW5nIHBhcnRpY2xlcyBvbi9vZmYifWFwcGx5KGUsdCl7cmV0dXJuIGUucGFydGljbGVzRW5hYmxlZD10LmlzSW5JbXByb3ZlbWVudE1vZGUsITB9fWNsYXNzIERyIGV4dGVuZHMgenR7Z2V0RGVzY3JpcHRpb24oKXtyZXR1cm4iVHVybmluZyByZW5kZXIgdGFyZ2V0cyBvZmYifWFwcGx5KGUsdCl7cmV0dXJuIGUucmVuZGVyVGFyZ2V0c0VuYWJsZWQ9dC5pc0luSW1wcm92ZW1lbnRNb2RlLCEwfX1jbGFzcyBRdCBleHRlbmRzIHp0e2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9jYW5CZU1lcmdlZD1lPT57aWYoIShlIGluc3RhbmNlb2YgVykpcmV0dXJuITE7Y29uc3QgdD1lO3JldHVybiEodC5pc0Rpc3Bvc2VkKCl8fCF0LmlzVmlzaWJsZXx8IXQuaXNFbmFibGVkKCl8fHQuaW5zdGFuY2VzLmxlbmd0aD4wfHx0LnNrZWxldG9ufHx0Lmhhc0xPRExldmVscyl9fXN0YXRpYyBnZXQgVXBkYXRlU2VsZWN0aW9uVHJlZSgpe3JldHVybiBRdC5fVXBkYXRlU2VsZWN0aW9uVHJlZX1zdGF0aWMgc2V0IFVwZGF0ZVNlbGVjdGlvblRyZWUoZSl7UXQuX1VwZGF0ZVNlbGVjdGlvblRyZWU9ZX1nZXREZXNjcmlwdGlvbigpe3JldHVybiJNZXJnaW5nIHNpbWlsYXIgbWVzaGVzIHRvZ2V0aGVyIn1hcHBseShlLHQsaSl7Y29uc3Qgcz1lLm1lc2hlcy5zbGljZSgwKTtsZXQgcj1zLmxlbmd0aDtmb3IobGV0IGE9MDthPHI7YSsrKXtjb25zdCBvPW5ldyBBcnJheSxoPXNbYV07aWYodGhpcy5fY2FuQmVNZXJnZWQoaCkpe28ucHVzaChoKTtmb3IobGV0IGw9YSsxO2w8cjtsKyspe2NvbnN0IHU9c1tsXTt0aGlzLl9jYW5CZU1lcmdlZCh1KSYmdS5tYXRlcmlhbD09PWgubWF0ZXJpYWwmJnUuY2hlY2tDb2xsaXNpb25zPT09aC5jaGVja0NvbGxpc2lvbnMmJihvLnB1c2godSksci0tLHMuc3BsaWNlKGwsMSksbC0tKX1vLmxlbmd0aDwyfHxXLk1lcmdlTWVzaGVzKG8sdm9pZCAwLCEwKX19Y29uc3Qgbj1lO3JldHVybiBuLmNyZWF0ZU9yVXBkYXRlU2VsZWN0aW9uT2N0cmVlJiYoaSE9bnVsbD9pJiZuLmNyZWF0ZU9yVXBkYXRlU2VsZWN0aW9uT2N0cmVlKCk6UXQuVXBkYXRlU2VsZWN0aW9uVHJlZSYmbi5jcmVhdGVPclVwZGF0ZVNlbGVjdGlvbk9jdHJlZSgpKSwhMH19UXQuX1VwZGF0ZVNlbGVjdGlvblRyZWU9ITE7Y2xhc3MgZ2l7Y29uc3RydWN0b3IoZT02MCx0PTJlMyl7dGhpcy50YXJnZXRGcmFtZVJhdGU9ZSx0aGlzLnRyYWNrZXJEdXJhdGlvbj10LHRoaXMub3B0aW1pemF0aW9ucz1uZXcgQXJyYXl9YWRkT3B0aW1pemF0aW9uKGUpe3JldHVybiB0aGlzLm9wdGltaXphdGlvbnMucHVzaChlKSx0aGlzfWFkZEN1c3RvbU9wdGltaXphdGlvbihlLHQsaT0wKXtjb25zdCBzPW5ldyBIbihpKTtyZXR1cm4gcy5vbkFwcGx5PWUscy5vbkdldERlc2NyaXB0aW9uPXQsdGhpcy5vcHRpbWl6YXRpb25zLnB1c2gocyksdGhpc31zdGF0aWMgTG93RGVncmFkYXRpb25BbGxvd2VkKGUpe2NvbnN0IHQ9bmV3IGdpKGUpO2xldCBpPTA7cmV0dXJuIHQuYWRkT3B0aW1pemF0aW9uKG5ldyBRdChpKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IE5zKGkpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgVXMoaSkpLGkrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgQnMoaSkpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBrcyhpKSksaSsrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBMcyhpLDEwMjQpKSx0fXN0YXRpYyBNb2RlcmF0ZURlZ3JhZGF0aW9uQWxsb3dlZChlKXtjb25zdCB0PW5ldyBnaShlKTtsZXQgaT0wO3JldHVybiB0LmFkZE9wdGltaXphdGlvbihuZXcgUXQoaSkpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBOcyhpKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IFVzKGkpKSxpKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IEJzKGkpKSx0LmFkZE9wdGltaXphdGlvbihuZXcga3MoaSkpLGkrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgTHMoaSw1MTIpKSxpKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IERyKGkpKSxpKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IFByKGksMikpLHR9c3RhdGljIEhpZ2hEZWdyYWRhdGlvbkFsbG93ZWQoZSl7Y29uc3QgdD1uZXcgZ2koZSk7bGV0IGk9MDtyZXR1cm4gdC5hZGRPcHRpbWl6YXRpb24obmV3IFF0KGkpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgTnMoaSkpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBVcyhpKSksaSsrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBCcyhpKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IGtzKGkpKSxpKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IExzKGksMjU2KSksaSsrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBEcihpKSksaSsrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBQcihpLDQpKSx0fX1jbGFzcyBWc3tjb25zdHJ1Y3RvcihlLHQsaT0hMCxzPSExKXtpZih0aGlzLl9pc1J1bm5pbmc9ITEsdGhpcy5fY3VycmVudFByaW9yaXR5TGV2ZWw9MCx0aGlzLl90YXJnZXRGcmFtZVJhdGU9NjAsdGhpcy5fdHJhY2tlckR1cmF0aW9uPTJlMyx0aGlzLl9jdXJyZW50RnJhbWVSYXRlPTAsdGhpcy5faW1wcm92ZW1lbnRNb2RlPSExLHRoaXMub25TdWNjZXNzT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uTmV3T3B0aW1pemF0aW9uQXBwbGllZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkZhaWx1cmVPYnNlcnZhYmxlPW5ldyBGLHQ/dGhpcy5fb3B0aW9ucz10OnRoaXMuX29wdGlvbnM9bmV3IGdpLHRoaXMuX29wdGlvbnMudGFyZ2V0RnJhbWVSYXRlJiYodGhpcy5fdGFyZ2V0RnJhbWVSYXRlPXRoaXMuX29wdGlvbnMudGFyZ2V0RnJhbWVSYXRlKSx0aGlzLl9vcHRpb25zLnRyYWNrZXJEdXJhdGlvbiYmKHRoaXMuX3RyYWNrZXJEdXJhdGlvbj10aGlzLl9vcHRpb25zLnRyYWNrZXJEdXJhdGlvbiksaSl7bGV0IHI9MDtmb3IoY29uc3QgbiBvZiB0aGlzLl9vcHRpb25zLm9wdGltaXphdGlvbnMpbi5wcmlvcml0eT1yKyt9dGhpcy5faW1wcm92ZW1lbnRNb2RlPXMsdGhpcy5fc2NlbmU9ZXx8ZmUuTGFzdENyZWF0ZWRTY2VuZSx0aGlzLl9zY2VuZURpc3Bvc2VPYnNlcnZlcj10aGlzLl9zY2VuZS5vbkRpc3Bvc2VPYnNlcnZhYmxlLmFkZCgoKT0+e3RoaXMuX3NjZW5lRGlzcG9zZU9ic2VydmVyPW51bGwsdGhpcy5kaXNwb3NlKCl9KX1nZXQgaXNJbkltcHJvdmVtZW50TW9kZSgpe3JldHVybiB0aGlzLl9pbXByb3ZlbWVudE1vZGV9c2V0IGlzSW5JbXByb3ZlbWVudE1vZGUoZSl7dGhpcy5faW1wcm92ZW1lbnRNb2RlPWV9Z2V0IGN1cnJlbnRQcmlvcml0eUxldmVsKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRQcmlvcml0eUxldmVsfWdldCBjdXJyZW50RnJhbWVSYXRlKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRGcmFtZVJhdGV9Z2V0IHRhcmdldEZyYW1lUmF0ZSgpe3JldHVybiB0aGlzLl90YXJnZXRGcmFtZVJhdGV9c2V0IHRhcmdldEZyYW1lUmF0ZShlKXt0aGlzLl90YXJnZXRGcmFtZVJhdGU9ZX1nZXQgdHJhY2tlckR1cmF0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYWNrZXJEdXJhdGlvbn1zZXQgdHJhY2tlckR1cmF0aW9uKGUpe3RoaXMuX3RyYWNrZXJEdXJhdGlvbj1lfWdldCBvcHRpbWl6YXRpb25zKCl7cmV0dXJuIHRoaXMuX29wdGlvbnMub3B0aW1pemF0aW9uc31zdG9wKCl7dGhpcy5faXNSdW5uaW5nPSExfXJlc2V0KCl7dGhpcy5fY3VycmVudFByaW9yaXR5TGV2ZWw9MH1zdGFydCgpe3RoaXMuX2lzUnVubmluZ3x8KHRoaXMuX2lzUnVubmluZz0hMCx0aGlzLl9zY2VuZS5leGVjdXRlV2hlblJlYWR5KCgpPT57c2V0VGltZW91dCgoKT0+e3RoaXMuX2NoZWNrQ3VycmVudFN0YXRlKCl9LHRoaXMuX3RyYWNrZXJEdXJhdGlvbil9KSl9X2NoZWNrQ3VycmVudFN0YXRlKCl7aWYoIXRoaXMuX2lzUnVubmluZylyZXR1cm47Y29uc3QgZT10aGlzLl9zY2VuZSx0PXRoaXMuX29wdGlvbnM7aWYodGhpcy5fY3VycmVudEZyYW1lUmF0ZT1NYXRoLnJvdW5kKGUuZ2V0RW5naW5lKCkuZ2V0RnBzKCkpLHRoaXMuX2ltcHJvdmVtZW50TW9kZSYmdGhpcy5fY3VycmVudEZyYW1lUmF0ZTw9dGhpcy5fdGFyZ2V0RnJhbWVSYXRlfHwhdGhpcy5faW1wcm92ZW1lbnRNb2RlJiZ0aGlzLl9jdXJyZW50RnJhbWVSYXRlPj10aGlzLl90YXJnZXRGcmFtZVJhdGUpe3RoaXMuX2lzUnVubmluZz0hMSx0aGlzLm9uU3VjY2Vzc09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO3JldHVybn1sZXQgaT0hMCxzPSEwO2ZvcihsZXQgcj0wO3I8dC5vcHRpbWl6YXRpb25zLmxlbmd0aDtyKyspe2NvbnN0IG49dC5vcHRpbWl6YXRpb25zW3JdO24ucHJpb3JpdHk9PT10aGlzLl9jdXJyZW50UHJpb3JpdHlMZXZlbCYmKHM9ITEsaT1pJiZuLmFwcGx5KGUsdGhpcyksdGhpcy5vbk5ld09wdGltaXphdGlvbkFwcGxpZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhuKSl9aWYocyl7dGhpcy5faXNSdW5uaW5nPSExLHRoaXMub25GYWlsdXJlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7cmV0dXJufWkmJnRoaXMuX2N1cnJlbnRQcmlvcml0eUxldmVsKyssZS5leGVjdXRlV2hlblJlYWR5KCgpPT57c2V0VGltZW91dCgoKT0+e3RoaXMuX2NoZWNrQ3VycmVudFN0YXRlKCl9LHRoaXMuX3RyYWNrZXJEdXJhdGlvbil9KX1kaXNwb3NlKCl7dGhpcy5zdG9wKCksdGhpcy5vblN1Y2Nlc3NPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkZhaWx1cmVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld09wdGltaXphdGlvbkFwcGxpZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fc2NlbmVEaXNwb3NlT2JzZXJ2ZXImJnRoaXMuX3NjZW5lLm9uRGlzcG9zZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX3NjZW5lRGlzcG9zZU9ic2VydmVyKX1zdGF0aWMgT3B0aW1pemVBc3luYyhlLHQsaSxzKXtjb25zdCByPW5ldyBWcyhlLHR8fGdpLk1vZGVyYXRlRGVncmFkYXRpb25BbGxvd2VkKCksITEpO3JldHVybiBpJiZyLm9uU3VjY2Vzc09ic2VydmFibGUuYWRkKCgpPT57aSgpfSkscyYmci5vbkZhaWx1cmVPYnNlcnZhYmxlLmFkZCgoKT0+e3MoKX0pLHIuc3RhcnQoKSxyfX1mdW5jdGlvbiBLbihjKXtjb25zdHtlbmdpbmU6ZX09Yyx0PW5ldyBuZShlKTt0LmNsZWFyQ29sb3I9bmV3IG1lKDAsMCwwLDApLHQucG9pbnRlck1vdmVQcmVkaWNhdGU9KCk9PiExLHQucG9pbnRlckRvd25QcmVkaWNhdGU9KCk9PiExLHQucG9pbnRlclVwUHJlZGljYXRlPSgpPT4hMSx0LmNsZWFyQ2FjaGVkVmVydGV4RGF0YSgpLHQudGhlbWVEYXRhPXt9O2NvbnN0IGk9Z2kuTG93RGVncmFkYXRpb25BbGxvd2VkKCk7cmV0dXJuIGkub3B0aW1pemF0aW9ucz1pLm9wdGltaXphdGlvbnMuc3BsaWNlKDEpLGkudGFyZ2V0RnJhbWVSYXRlPTYwLFZzLk9wdGltaXplQXN5bmModCxpKSx0fWNsYXNzIEdlIGV4dGVuZHMgantjb25zdHJ1Y3RvcihlLHQsaSxzPSEwKXtzdXBlcihlLHQsaSxzKSx0aGlzLl90bXBVcFZlY3Rvcj1wLlplcm8oKSx0aGlzLl90bXBUYXJnZXRWZWN0b3I9cC5aZXJvKCksdGhpcy5jYW1lcmFEaXJlY3Rpb249bmV3IHAoMCwwLDApLHRoaXMuY2FtZXJhUm90YXRpb249bmV3IHZlKDAsMCksdGhpcy5pZ25vcmVQYXJlbnRTY2FsaW5nPSExLHRoaXMudXBkYXRlVXBWZWN0b3JGcm9tUm90YXRpb249ITEsdGhpcy5fdG1wUXVhdGVybmlvbj1uZXcgWix0aGlzLnJvdGF0aW9uPW5ldyBwKDAsMCwwKSx0aGlzLnNwZWVkPTIsdGhpcy5ub1JvdGF0aW9uQ29uc3RyYWludD0hMSx0aGlzLmludmVydFJvdGF0aW9uPSExLHRoaXMuaW52ZXJzZVJvdGF0aW9uU3BlZWQ9LjIsdGhpcy5sb2NrZWRUYXJnZXQ9bnVsbCx0aGlzLl9jdXJyZW50VGFyZ2V0PXAuWmVybygpLHRoaXMuX2luaXRpYWxGb2NhbERpc3RhbmNlPTEsdGhpcy5fdmlld01hdHJpeD14Llplcm8oKSx0aGlzLl9jYW1NYXRyaXg9eC5aZXJvKCksdGhpcy5fY2FtZXJhVHJhbnNmb3JtTWF0cml4PXguWmVybygpLHRoaXMuX2NhbWVyYVJvdGF0aW9uTWF0cml4PXguWmVybygpLHRoaXMuX3JlZmVyZW5jZVBvaW50PW5ldyBwKDAsMCwxKSx0aGlzLl90cmFuc2Zvcm1lZFJlZmVyZW5jZVBvaW50PXAuWmVybygpLHRoaXMuX2RlZmF1bHRVcD1wLlVwKCksdGhpcy5fY2FjaGVkUm90YXRpb25aPTAsdGhpcy5fY2FjaGVkUXVhdGVybmlvblJvdGF0aW9uWj0wfWdldEZyb250UG9zaXRpb24oZSl7dGhpcy5nZXRXb3JsZE1hdHJpeCgpO2NvbnN0IHQ9dGhpcy5nZXRUYXJnZXQoKS5zdWJ0cmFjdCh0aGlzLnBvc2l0aW9uKTtyZXR1cm4gdC5ub3JtYWxpemUoKSx0LnNjYWxlSW5QbGFjZShlKSx0aGlzLmdsb2JhbFBvc2l0aW9uLmFkZCh0KX1fZ2V0TG9ja2VkVGFyZ2V0UG9zaXRpb24oKXtyZXR1cm4gdGhpcy5sb2NrZWRUYXJnZXQ/KHRoaXMubG9ja2VkVGFyZ2V0LmFic29sdXRlUG9zaXRpb24mJnRoaXMubG9ja2VkVGFyZ2V0LmNvbXB1dGVXb3JsZE1hdHJpeCgpLHRoaXMubG9ja2VkVGFyZ2V0LmFic29sdXRlUG9zaXRpb258fHRoaXMubG9ja2VkVGFyZ2V0KTpudWxsfXN0b3JlU3RhdGUoKXtyZXR1cm4gdGhpcy5fc3RvcmVkUG9zaXRpb249dGhpcy5wb3NpdGlvbi5jbG9uZSgpLHRoaXMuX3N0b3JlZFJvdGF0aW9uPXRoaXMucm90YXRpb24uY2xvbmUoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmKHRoaXMuX3N0b3JlZFJvdGF0aW9uUXVhdGVybmlvbj10aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpKSxzdXBlci5zdG9yZVN0YXRlKCl9X3Jlc3RvcmVTdGF0ZVZhbHVlcygpe3JldHVybiBzdXBlci5fcmVzdG9yZVN0YXRlVmFsdWVzKCk/KHRoaXMucG9zaXRpb249dGhpcy5fc3RvcmVkUG9zaXRpb24uY2xvbmUoKSx0aGlzLnJvdGF0aW9uPXRoaXMuX3N0b3JlZFJvdGF0aW9uLmNsb25lKCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24mJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj10aGlzLl9zdG9yZWRSb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKSksdGhpcy5jYW1lcmFEaXJlY3Rpb24uY29weUZyb21GbG9hdHMoMCwwLDApLHRoaXMuY2FtZXJhUm90YXRpb24uY29weUZyb21GbG9hdHMoMCwwKSwhMCk6ITF9X2luaXRDYWNoZSgpe3N1cGVyLl9pbml0Q2FjaGUoKSx0aGlzLl9jYWNoZS5sb2NrZWRUYXJnZXQ9bmV3IHAoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX2NhY2hlLnJvdGF0aW9uPW5ldyBwKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jYWNoZS5yb3RhdGlvblF1YXRlcm5pb249bmV3IFooTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSl9X3VwZGF0ZUNhY2hlKGUpe2V8fHN1cGVyLl91cGRhdGVDYWNoZSgpO2NvbnN0IHQ9dGhpcy5fZ2V0TG9ja2VkVGFyZ2V0UG9zaXRpb24oKTt0P3RoaXMuX2NhY2hlLmxvY2tlZFRhcmdldD90aGlzLl9jYWNoZS5sb2NrZWRUYXJnZXQuY29weUZyb20odCk6dGhpcy5fY2FjaGUubG9ja2VkVGFyZ2V0PXQuY2xvbmUoKTp0aGlzLl9jYWNoZS5sb2NrZWRUYXJnZXQ9bnVsbCx0aGlzLl9jYWNoZS5yb3RhdGlvbi5jb3B5RnJvbSh0aGlzLnJvdGF0aW9uKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmdGhpcy5fY2FjaGUucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKX1faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4KCl7aWYoIXN1cGVyLl9pc1N5bmNocm9uaXplZFZpZXdNYXRyaXgoKSlyZXR1cm4hMTtjb25zdCBlPXRoaXMuX2dldExvY2tlZFRhcmdldFBvc2l0aW9uKCk7cmV0dXJuKHRoaXMuX2NhY2hlLmxvY2tlZFRhcmdldD90aGlzLl9jYWNoZS5sb2NrZWRUYXJnZXQuZXF1YWxzKGUpOiFlKSYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uP3RoaXMucm90YXRpb25RdWF0ZXJuaW9uLmVxdWFscyh0aGlzLl9jYWNoZS5yb3RhdGlvblF1YXRlcm5pb24pOnRoaXMuX2NhY2hlLnJvdGF0aW9uLmVxdWFscyh0aGlzLnJvdGF0aW9uKSl9X2NvbXB1dGVMb2NhbENhbWVyYVNwZWVkKCl7Y29uc3QgZT10aGlzLmdldEVuZ2luZSgpO3JldHVybiB0aGlzLnNwZWVkKk1hdGguc3FydChlLmdldERlbHRhVGltZSgpLyhlLmdldEZwcygpKjEwMCkpfXNldFRhcmdldChlKXt0aGlzLnVwVmVjdG9yLm5vcm1hbGl6ZSgpLHRoaXMuX2luaXRpYWxGb2NhbERpc3RhbmNlPWUuc3VidHJhY3QodGhpcy5wb3NpdGlvbikubGVuZ3RoKCksdGhpcy5wb3NpdGlvbi56PT09ZS56JiYodGhpcy5wb3NpdGlvbi56Kz14ZSksdGhpcy5fcmVmZXJlbmNlUG9pbnQubm9ybWFsaXplKCkuc2NhbGVJblBsYWNlKHRoaXMuX2luaXRpYWxGb2NhbERpc3RhbmNlKSx4Lkxvb2tBdExIVG9SZWYodGhpcy5wb3NpdGlvbixlLHRoaXMuX2RlZmF1bHRVcCx0aGlzLl9jYW1NYXRyaXgpLHRoaXMuX2NhbU1hdHJpeC5pbnZlcnQoKSx0aGlzLnJvdGF0aW9uLng9TWF0aC5hdGFuKHRoaXMuX2NhbU1hdHJpeC5tWzZdL3RoaXMuX2NhbU1hdHJpeC5tWzEwXSk7Y29uc3QgdD1lLnN1YnRyYWN0KHRoaXMucG9zaXRpb24pO3QueD49MD90aGlzLnJvdGF0aW9uLnk9LU1hdGguYXRhbih0LnovdC54KStNYXRoLlBJLzI6dGhpcy5yb3RhdGlvbi55PS1NYXRoLmF0YW4odC56L3QueCktTWF0aC5QSS8yLHRoaXMucm90YXRpb24uej0wLGlzTmFOKHRoaXMucm90YXRpb24ueCkmJih0aGlzLnJvdGF0aW9uLng9MCksaXNOYU4odGhpcy5yb3RhdGlvbi55KSYmKHRoaXMucm90YXRpb24ueT0wKSxpc05hTih0aGlzLnJvdGF0aW9uLnopJiYodGhpcy5yb3RhdGlvbi56PTApLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiZaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy5yb3RhdGlvbi55LHRoaXMucm90YXRpb24ueCx0aGlzLnJvdGF0aW9uLnosdGhpcy5yb3RhdGlvblF1YXRlcm5pb24pfWdldCB0YXJnZXQoKXtyZXR1cm4gdGhpcy5nZXRUYXJnZXQoKX1zZXQgdGFyZ2V0KGUpe3RoaXMuc2V0VGFyZ2V0KGUpfWdldFRhcmdldCgpe3JldHVybiB0aGlzLl9jdXJyZW50VGFyZ2V0fV9kZWNpZGVJZk5lZWRzVG9Nb3ZlKCl7cmV0dXJuIE1hdGguYWJzKHRoaXMuY2FtZXJhRGlyZWN0aW9uLngpPjB8fE1hdGguYWJzKHRoaXMuY2FtZXJhRGlyZWN0aW9uLnkpPjB8fE1hdGguYWJzKHRoaXMuY2FtZXJhRGlyZWN0aW9uLnopPjB9X3VwZGF0ZVBvc2l0aW9uKCl7aWYodGhpcy5wYXJlbnQpe3RoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCkuaW52ZXJ0VG9SZWYoRC5NYXRyaXhbMF0pLHAuVHJhbnNmb3JtTm9ybWFsVG9SZWYodGhpcy5jYW1lcmFEaXJlY3Rpb24sRC5NYXRyaXhbMF0sRC5WZWN0b3IzWzBdKSx0aGlzLnBvc2l0aW9uLmFkZEluUGxhY2UoRC5WZWN0b3IzWzBdKTtyZXR1cm59dGhpcy5wb3NpdGlvbi5hZGRJblBsYWNlKHRoaXMuY2FtZXJhRGlyZWN0aW9uKX1fY2hlY2tJbnB1dHMoKXtjb25zdCBlPXRoaXMuaW52ZXJ0Um90YXRpb24/LXRoaXMuaW52ZXJzZVJvdGF0aW9uU3BlZWQ6MSx0PXRoaXMuX2RlY2lkZUlmTmVlZHNUb01vdmUoKSxpPU1hdGguYWJzKHRoaXMuY2FtZXJhUm90YXRpb24ueCk+MHx8TWF0aC5hYnModGhpcy5jYW1lcmFSb3RhdGlvbi55KT4wO3QmJnRoaXMuX3VwZGF0ZVBvc2l0aW9uKCksaSYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiZ0aGlzLnJvdGF0aW9uUXVhdGVybmlvbi50b0V1bGVyQW5nbGVzVG9SZWYodGhpcy5yb3RhdGlvbiksdGhpcy5yb3RhdGlvbi54Kz10aGlzLmNhbWVyYVJvdGF0aW9uLngqZSx0aGlzLnJvdGF0aW9uLnkrPXRoaXMuY2FtZXJhUm90YXRpb24ueSplLHRoaXMubm9Sb3RhdGlvbkNvbnN0cmFpbnR8fCh0aGlzLnJvdGF0aW9uLng+MS41NzA3OTYmJih0aGlzLnJvdGF0aW9uLng9MS41NzA3OTYpLHRoaXMucm90YXRpb24ueDwtMS41NzA3OTYmJih0aGlzLnJvdGF0aW9uLng9LTEuNTcwNzk2KSksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24mJnRoaXMucm90YXRpb24ubGVuZ3RoU3F1YXJlZCgpJiZaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy5yb3RhdGlvbi55LHRoaXMucm90YXRpb24ueCx0aGlzLnJvdGF0aW9uLnosdGhpcy5yb3RhdGlvblF1YXRlcm5pb24pKSx0JiYoTWF0aC5hYnModGhpcy5jYW1lcmFEaXJlY3Rpb24ueCk8dGhpcy5zcGVlZCp4ZSYmKHRoaXMuY2FtZXJhRGlyZWN0aW9uLng9MCksTWF0aC5hYnModGhpcy5jYW1lcmFEaXJlY3Rpb24ueSk8dGhpcy5zcGVlZCp4ZSYmKHRoaXMuY2FtZXJhRGlyZWN0aW9uLnk9MCksTWF0aC5hYnModGhpcy5jYW1lcmFEaXJlY3Rpb24ueik8dGhpcy5zcGVlZCp4ZSYmKHRoaXMuY2FtZXJhRGlyZWN0aW9uLno9MCksdGhpcy5jYW1lcmFEaXJlY3Rpb24uc2NhbGVJblBsYWNlKHRoaXMuaW5lcnRpYSkpLGkmJihNYXRoLmFicyh0aGlzLmNhbWVyYVJvdGF0aW9uLngpPHRoaXMuc3BlZWQqeGUmJih0aGlzLmNhbWVyYVJvdGF0aW9uLng9MCksTWF0aC5hYnModGhpcy5jYW1lcmFSb3RhdGlvbi55KTx0aGlzLnNwZWVkKnhlJiYodGhpcy5jYW1lcmFSb3RhdGlvbi55PTApLHRoaXMuY2FtZXJhUm90YXRpb24uc2NhbGVJblBsYWNlKHRoaXMuaW5lcnRpYSkpLHN1cGVyLl9jaGVja0lucHV0cygpfV91cGRhdGVDYW1lcmFSb3RhdGlvbk1hdHJpeCgpe3RoaXMucm90YXRpb25RdWF0ZXJuaW9uP3RoaXMucm90YXRpb25RdWF0ZXJuaW9uLnRvUm90YXRpb25NYXRyaXgodGhpcy5fY2FtZXJhUm90YXRpb25NYXRyaXgpOnguUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0aGlzLnJvdGF0aW9uLnksdGhpcy5yb3RhdGlvbi54LHRoaXMucm90YXRpb24ueix0aGlzLl9jYW1lcmFSb3RhdGlvbk1hdHJpeCl9X3JvdGF0ZVVwVmVjdG9yV2l0aENhbWVyYVJvdGF0aW9uTWF0cml4KCl7cmV0dXJuIHAuVHJhbnNmb3JtTm9ybWFsVG9SZWYodGhpcy5fZGVmYXVsdFVwLHRoaXMuX2NhbWVyYVJvdGF0aW9uTWF0cml4LHRoaXMudXBWZWN0b3IpLHRoaXN9X2dldFZpZXdNYXRyaXgoKXtyZXR1cm4gdGhpcy5sb2NrZWRUYXJnZXQmJnRoaXMuc2V0VGFyZ2V0KHRoaXMuX2dldExvY2tlZFRhcmdldFBvc2l0aW9uKCkpLHRoaXMuX3VwZGF0ZUNhbWVyYVJvdGF0aW9uTWF0cml4KCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24mJnRoaXMuX2NhY2hlZFF1YXRlcm5pb25Sb3RhdGlvblohPXRoaXMucm90YXRpb25RdWF0ZXJuaW9uLno/KHRoaXMuX3JvdGF0ZVVwVmVjdG9yV2l0aENhbWVyYVJvdGF0aW9uTWF0cml4KCksdGhpcy5fY2FjaGVkUXVhdGVybmlvblJvdGF0aW9uWj10aGlzLnJvdGF0aW9uUXVhdGVybmlvbi56KTp0aGlzLl9jYWNoZWRSb3RhdGlvblohPT10aGlzLnJvdGF0aW9uLnomJih0aGlzLl9yb3RhdGVVcFZlY3RvcldpdGhDYW1lcmFSb3RhdGlvbk1hdHJpeCgpLHRoaXMuX2NhY2hlZFJvdGF0aW9uWj10aGlzLnJvdGF0aW9uLnopLHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih0aGlzLl9yZWZlcmVuY2VQb2ludCx0aGlzLl9jYW1lcmFSb3RhdGlvbk1hdHJpeCx0aGlzLl90cmFuc2Zvcm1lZFJlZmVyZW5jZVBvaW50KSx0aGlzLnBvc2l0aW9uLmFkZFRvUmVmKHRoaXMuX3RyYW5zZm9ybWVkUmVmZXJlbmNlUG9pbnQsdGhpcy5fY3VycmVudFRhcmdldCksdGhpcy51cGRhdGVVcFZlY3RvckZyb21Sb3RhdGlvbiYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uP19pLlkucm90YXRlQnlRdWF0ZXJuaW9uVG9SZWYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24sdGhpcy51cFZlY3Rvcik6KFouRnJvbUV1bGVyVmVjdG9yVG9SZWYodGhpcy5yb3RhdGlvbix0aGlzLl90bXBRdWF0ZXJuaW9uKSxfaS5ZLnJvdGF0ZUJ5UXVhdGVybmlvblRvUmVmKHRoaXMuX3RtcFF1YXRlcm5pb24sdGhpcy51cFZlY3RvcikpKSx0aGlzLl9jb21wdXRlVmlld01hdHJpeCh0aGlzLnBvc2l0aW9uLHRoaXMuX2N1cnJlbnRUYXJnZXQsdGhpcy51cFZlY3RvciksdGhpcy5fdmlld01hdHJpeH1fY29tcHV0ZVZpZXdNYXRyaXgoZSx0LGkpe2lmKHRoaXMuaWdub3JlUGFyZW50U2NhbGluZyl7aWYodGhpcy5wYXJlbnQpe2NvbnN0IHM9dGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKTtwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoZSxzLHRoaXMuX2dsb2JhbFBvc2l0aW9uKSxwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodCxzLHRoaXMuX3RtcFRhcmdldFZlY3RvcikscC5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihpLHMsdGhpcy5fdG1wVXBWZWN0b3IpLHRoaXMuX21hcmtTeW5jZWRXaXRoUGFyZW50KCl9ZWxzZSB0aGlzLl9nbG9iYWxQb3NpdGlvbi5jb3B5RnJvbShlKSx0aGlzLl90bXBUYXJnZXRWZWN0b3IuY29weUZyb20odCksdGhpcy5fdG1wVXBWZWN0b3IuY29weUZyb20oaSk7dGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtP3guTG9va0F0UkhUb1JlZih0aGlzLl9nbG9iYWxQb3NpdGlvbix0aGlzLl90bXBUYXJnZXRWZWN0b3IsdGhpcy5fdG1wVXBWZWN0b3IsdGhpcy5fdmlld01hdHJpeCk6eC5Mb29rQXRMSFRvUmVmKHRoaXMuX2dsb2JhbFBvc2l0aW9uLHRoaXMuX3RtcFRhcmdldFZlY3Rvcix0aGlzLl90bXBVcFZlY3Rvcix0aGlzLl92aWV3TWF0cml4KTtyZXR1cm59aWYodGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtP3guTG9va0F0UkhUb1JlZihlLHQsaSx0aGlzLl92aWV3TWF0cml4KTp4Lkxvb2tBdExIVG9SZWYoZSx0LGksdGhpcy5fdmlld01hdHJpeCksdGhpcy5wYXJlbnQpe2NvbnN0IHM9dGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKTt0aGlzLl92aWV3TWF0cml4LmludmVydCgpLHRoaXMuX3ZpZXdNYXRyaXgubXVsdGlwbHlUb1JlZihzLHRoaXMuX3ZpZXdNYXRyaXgpLHRoaXMuX3ZpZXdNYXRyaXguZ2V0VHJhbnNsYXRpb25Ub1JlZih0aGlzLl9nbG9iYWxQb3NpdGlvbiksdGhpcy5fdmlld01hdHJpeC5pbnZlcnQoKSx0aGlzLl9tYXJrU3luY2VkV2l0aFBhcmVudCgpfWVsc2UgdGhpcy5fZ2xvYmFsUG9zaXRpb24uY29weUZyb20oZSl9Y3JlYXRlUmlnQ2FtZXJhKGUsdCl7aWYodGhpcy5jYW1lcmFSaWdNb2RlIT09ai5SSUdfTU9ERV9OT05FKXtjb25zdCBpPW5ldyBHZShlLHRoaXMucG9zaXRpb24uY2xvbmUoKSx0aGlzLmdldFNjZW5lKCkpO3JldHVybiBpLmlzUmlnQ2FtZXJhPSEwLGkucmlnUGFyZW50PXRoaXMsKHRoaXMuY2FtZXJhUmlnTW9kZT09PWouUklHX01PREVfVlJ8fHRoaXMuY2FtZXJhUmlnTW9kZT09PWouUklHX01PREVfV0VCVlIpJiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb258fCh0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj1uZXcgWiksaS5fY2FtZXJhUmlnUGFyYW1zPXt9LGkucm90YXRpb25RdWF0ZXJuaW9uPW5ldyBaKSxpLm1vZGU9dGhpcy5tb2RlLGkub3J0aG9MZWZ0PXRoaXMub3J0aG9MZWZ0LGkub3J0aG9SaWdodD10aGlzLm9ydGhvUmlnaHQsaS5vcnRob1RvcD10aGlzLm9ydGhvVG9wLGkub3J0aG9Cb3R0b209dGhpcy5vcnRob0JvdHRvbSxpfXJldHVybiBudWxsfV91cGRhdGVSaWdDYW1lcmFzKCl7Y29uc3QgZT10aGlzLl9yaWdDYW1lcmFzWzBdLHQ9dGhpcy5fcmlnQ2FtZXJhc1sxXTtzd2l0Y2godGhpcy5jb21wdXRlV29ybGRNYXRyaXgoKSx0aGlzLmNhbWVyYVJpZ01vZGUpe2Nhc2Ugai5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfQU5BR0xZUEg6Y2FzZSBqLlJJR19NT0RFX1NURVJFT1NDT1BJQ19TSURFQllTSURFX1BBUkFMTEVMOmNhc2Ugai5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfU0lERUJZU0lERV9DUk9TU0VZRUQ6Y2FzZSBqLlJJR19NT0RFX1NURVJFT1NDT1BJQ19PVkVSVU5ERVI6Y2FzZSBqLlJJR19NT0RFX1NURVJFT1NDT1BJQ19JTlRFUkxBQ0VEOntjb25zdCBpPXRoaXMuY2FtZXJhUmlnTW9kZT09PWouUklHX01PREVfU1RFUkVPU0NPUElDX1NJREVCWVNJREVfQ1JPU1NFWUVEPzE6LTEscz10aGlzLmNhbWVyYVJpZ01vZGU9PT1qLlJJR19NT0RFX1NURVJFT1NDT1BJQ19TSURFQllTSURFX0NST1NTRVlFRD8tMToxO3RoaXMuX2dldFJpZ0NhbVBvc2l0aW9uQW5kVGFyZ2V0KHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy5zdGVyZW9IYWxmQW5nbGUqaSxlKSx0aGlzLl9nZXRSaWdDYW1Qb3NpdGlvbkFuZFRhcmdldCh0aGlzLl9jYW1lcmFSaWdQYXJhbXMuc3RlcmVvSGFsZkFuZ2xlKnMsdCk7YnJlYWt9Y2FzZSBqLlJJR19NT0RFX1ZSOmUucm90YXRpb25RdWF0ZXJuaW9uPyhlLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbSh0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiksdC5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20odGhpcy5yb3RhdGlvblF1YXRlcm5pb24pKTooZS5yb3RhdGlvbi5jb3B5RnJvbSh0aGlzLnJvdGF0aW9uKSx0LnJvdGF0aW9uLmNvcHlGcm9tKHRoaXMucm90YXRpb24pKSxlLnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMucG9zaXRpb24pLHQucG9zaXRpb24uY29weUZyb20odGhpcy5wb3NpdGlvbik7YnJlYWt9c3VwZXIuX3VwZGF0ZVJpZ0NhbWVyYXMoKX1fZ2V0UmlnQ2FtUG9zaXRpb25BbmRUYXJnZXQoZSx0KXt0aGlzLmdldFRhcmdldCgpLnN1YnRyYWN0VG9SZWYodGhpcy5wb3NpdGlvbixHZS5fVGFyZ2V0Rm9jYWxQb2ludCksR2UuX1RhcmdldEZvY2FsUG9pbnQubm9ybWFsaXplKCkuc2NhbGVJblBsYWNlKHRoaXMuX2luaXRpYWxGb2NhbERpc3RhbmNlKTtjb25zdCBzPUdlLl9UYXJnZXRGb2NhbFBvaW50LmFkZEluUGxhY2UodGhpcy5wb3NpdGlvbik7eC5UcmFuc2xhdGlvblRvUmVmKC1zLngsLXMueSwtcy56LEdlLl9UYXJnZXRUcmFuc2Zvcm1NYXRyaXgpLEdlLl9UYXJnZXRUcmFuc2Zvcm1NYXRyaXgubXVsdGlwbHlUb1JlZih4LlJvdGF0aW9uQXhpcyh0LnVwVmVjdG9yLGUpLEdlLl9SaWdDYW1UcmFuc2Zvcm1NYXRyaXgpLHguVHJhbnNsYXRpb25Ub1JlZihzLngscy55LHMueixHZS5fVGFyZ2V0VHJhbnNmb3JtTWF0cml4KSxHZS5fUmlnQ2FtVHJhbnNmb3JtTWF0cml4Lm11bHRpcGx5VG9SZWYoR2UuX1RhcmdldFRyYW5zZm9ybU1hdHJpeCxHZS5fUmlnQ2FtVHJhbnNmb3JtTWF0cml4KSxwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodGhpcy5wb3NpdGlvbixHZS5fUmlnQ2FtVHJhbnNmb3JtTWF0cml4LHQucG9zaXRpb24pLHQuc2V0VGFyZ2V0KHMpfWdldENsYXNzTmFtZSgpe3JldHVybiJUYXJnZXRDYW1lcmEifX1HZS5fUmlnQ2FtVHJhbnNmb3JtTWF0cml4PW5ldyB4LEdlLl9UYXJnZXRUcmFuc2Zvcm1NYXRyaXg9bmV3IHgsR2UuX1RhcmdldEZvY2FsUG9pbnQ9bmV3IHAsVChbQnQoKV0sR2UucHJvdG90eXBlLCJyb3RhdGlvbiIsdm9pZCAwKSxUKFtSKCldLEdlLnByb3RvdHlwZSwic3BlZWQiLHZvaWQgMCksVChbTW4oImxvY2tlZFRhcmdldElkIildLEdlLnByb3RvdHlwZSwibG9ja2VkVGFyZ2V0Iix2b2lkIDApO2Z1bmN0aW9uIFluKGMpe2NvbnN0e3NjZW5lOmV9PWM7bGV0IHQ7Y29uc3QgaT0zNi41O3JldHVybiB0PW5ldyBHZSgiVGFyZ2V0Q2FtZXJhMSIsbmV3IHAoMCxpLDApLGUpLHQuZm92PS4yNSx0Lm1pblo9NSx0Lm1heFo9aSsxLHQuc2V0VGFyZ2V0KHAuWmVybygpKSx0fWNsYXNzIGhlIGV4dGVuZHMgemV7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMuZGlmZnVzZT1uZXcgcmUoMSwxLDEpLHRoaXMuc3BlY3VsYXI9bmV3IHJlKDEsMSwxKSx0aGlzLmZhbGxvZmZUeXBlPWhlLkZBTExPRkZfREVGQVVMVCx0aGlzLmludGVuc2l0eT0xLHRoaXMuX3JhbmdlPU51bWJlci5NQVhfVkFMVUUsdGhpcy5faW52ZXJzZVNxdWFyZWRSYW5nZT0wLHRoaXMuX3Bob3RvbWV0cmljU2NhbGU9MSx0aGlzLl9pbnRlbnNpdHlNb2RlPWhlLklOVEVOU0lUWU1PREVfQVVUT01BVElDLHRoaXMuX3JhZGl1cz0xZS01LHRoaXMucmVuZGVyUHJpb3JpdHk9MCx0aGlzLl9zaGFkb3dFbmFibGVkPSEwLHRoaXMuX2V4Y2x1ZGVXaXRoTGF5ZXJNYXNrPTAsdGhpcy5faW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrPTAsdGhpcy5fbGlnaHRtYXBNb2RlPTAsdGhpcy5fc2hhZG93R2VuZXJhdG9ycz1udWxsLHRoaXMuX2V4Y2x1ZGVkTWVzaGVzSWRzPW5ldyBBcnJheSx0aGlzLl9pbmNsdWRlZE9ubHlNZXNoZXNJZHM9bmV3IEFycmF5LHRoaXMuX2lzTGlnaHQ9ITAsdGhpcy5nZXRTY2VuZSgpLmFkZExpZ2h0KHRoaXMpLHRoaXMuX3VuaWZvcm1CdWZmZXI9bmV3IFYodGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLHZvaWQgMCx2b2lkIDAsZSksdGhpcy5fYnVpbGRVbmlmb3JtTGF5b3V0KCksdGhpcy5pbmNsdWRlZE9ubHlNZXNoZXM9bmV3IEFycmF5LHRoaXMuZXhjbHVkZWRNZXNoZXM9bmV3IEFycmF5LHRoaXMuX3Jlc3luY01lc2hlcygpfWdldCByYW5nZSgpe3JldHVybiB0aGlzLl9yYW5nZX1zZXQgcmFuZ2UoZSl7dGhpcy5fcmFuZ2U9ZSx0aGlzLl9pbnZlcnNlU3F1YXJlZFJhbmdlPTEvKHRoaXMucmFuZ2UqdGhpcy5yYW5nZSl9Z2V0IGludGVuc2l0eU1vZGUoKXtyZXR1cm4gdGhpcy5faW50ZW5zaXR5TW9kZX1zZXQgaW50ZW5zaXR5TW9kZShlKXt0aGlzLl9pbnRlbnNpdHlNb2RlPWUsdGhpcy5fY29tcHV0ZVBob3RvbWV0cmljU2NhbGUoKX1nZXQgcmFkaXVzKCl7cmV0dXJuIHRoaXMuX3JhZGl1c31zZXQgcmFkaXVzKGUpe3RoaXMuX3JhZGl1cz1lLHRoaXMuX2NvbXB1dGVQaG90b21ldHJpY1NjYWxlKCl9Z2V0IHNoYWRvd0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fc2hhZG93RW5hYmxlZH1zZXQgc2hhZG93RW5hYmxlZChlKXt0aGlzLl9zaGFkb3dFbmFibGVkIT09ZSYmKHRoaXMuX3NoYWRvd0VuYWJsZWQ9ZSx0aGlzLl9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCkpfWdldCBpbmNsdWRlZE9ubHlNZXNoZXMoKXtyZXR1cm4gdGhpcy5faW5jbHVkZWRPbmx5TWVzaGVzfXNldCBpbmNsdWRlZE9ubHlNZXNoZXMoZSl7dGhpcy5faW5jbHVkZWRPbmx5TWVzaGVzPWUsdGhpcy5faG9va0FycmF5Rm9ySW5jbHVkZWRPbmx5KGUpfWdldCBleGNsdWRlZE1lc2hlcygpe3JldHVybiB0aGlzLl9leGNsdWRlZE1lc2hlc31zZXQgZXhjbHVkZWRNZXNoZXMoZSl7dGhpcy5fZXhjbHVkZWRNZXNoZXM9ZSx0aGlzLl9ob29rQXJyYXlGb3JFeGNsdWRlZChlKX1nZXQgZXhjbHVkZVdpdGhMYXllck1hc2soKXtyZXR1cm4gdGhpcy5fZXhjbHVkZVdpdGhMYXllck1hc2t9c2V0IGV4Y2x1ZGVXaXRoTGF5ZXJNYXNrKGUpe3RoaXMuX2V4Y2x1ZGVXaXRoTGF5ZXJNYXNrPWUsdGhpcy5fcmVzeW5jTWVzaGVzKCl9Z2V0IGluY2x1ZGVPbmx5V2l0aExheWVyTWFzaygpe3JldHVybiB0aGlzLl9pbmNsdWRlT25seVdpdGhMYXllck1hc2t9c2V0IGluY2x1ZGVPbmx5V2l0aExheWVyTWFzayhlKXt0aGlzLl9pbmNsdWRlT25seVdpdGhMYXllck1hc2s9ZSx0aGlzLl9yZXN5bmNNZXNoZXMoKX1nZXQgbGlnaHRtYXBNb2RlKCl7cmV0dXJuIHRoaXMuX2xpZ2h0bWFwTW9kZX1zZXQgbGlnaHRtYXBNb2RlKGUpe3RoaXMuX2xpZ2h0bWFwTW9kZSE9PWUmJih0aGlzLl9saWdodG1hcE1vZGU9ZSx0aGlzLl9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCkpfXRyYW5zZmVyVGV4dHVyZXNUb0VmZmVjdChlLHQpe3JldHVybiB0aGlzfV9iaW5kTGlnaHQoZSx0LGkscyxyPSEwKXt2YXIgbjtjb25zdCBhPWUudG9TdHJpbmcoKTtsZXQgbz0hMTtpZih0aGlzLl91bmlmb3JtQnVmZmVyLmJpbmRUb0VmZmVjdChpLCJMaWdodCIrYSksdGhpcy5fcmVuZGVySWQhPT10LmdldFJlbmRlcklkKCl8fHRoaXMuX2xhc3RVc2VTcGVjdWxhciE9PXN8fCF0aGlzLl91bmlmb3JtQnVmZmVyLnVzZVVibyl7dGhpcy5fcmVuZGVySWQ9dC5nZXRSZW5kZXJJZCgpLHRoaXMuX2xhc3RVc2VTcGVjdWxhcj1zO2NvbnN0IGg9dGhpcy5nZXRTY2FsZWRJbnRlbnNpdHkoKTt0aGlzLnRyYW5zZmVyVG9FZmZlY3QoaSxhKSx0aGlzLmRpZmZ1c2Uuc2NhbGVUb1JlZihoLEVpLkNvbG9yM1swXSksdGhpcy5fdW5pZm9ybUJ1ZmZlci51cGRhdGVDb2xvcjQoInZMaWdodERpZmZ1c2UiLEVpLkNvbG9yM1swXSx0aGlzLnJhbmdlLGEpLHMmJih0aGlzLnNwZWN1bGFyLnNjYWxlVG9SZWYoaCxFaS5Db2xvcjNbMV0pLHRoaXMuX3VuaWZvcm1CdWZmZXIudXBkYXRlQ29sb3I0KCJ2TGlnaHRTcGVjdWxhciIsRWkuQ29sb3IzWzFdLHRoaXMucmFkaXVzLGEpKSxvPSEwfWlmKHRoaXMudHJhbnNmZXJUZXh0dXJlc1RvRWZmZWN0KGksYSksdC5zaGFkb3dzRW5hYmxlZCYmdGhpcy5zaGFkb3dFbmFibGVkJiZyKXtjb25zdCBoPShuPXRoaXMuZ2V0U2hhZG93R2VuZXJhdG9yKHQuYWN0aXZlQ2FtZXJhKSkhPT1udWxsJiZuIT09dm9pZCAwP246dGhpcy5nZXRTaGFkb3dHZW5lcmF0b3IoKTtoJiYoaC5iaW5kU2hhZG93TGlnaHQoYSxpKSxvPSEwKX1vP3RoaXMuX3VuaWZvcm1CdWZmZXIudXBkYXRlKCk6dGhpcy5fdW5pZm9ybUJ1ZmZlci5iaW5kVW5pZm9ybUJ1ZmZlcigpfWdldENsYXNzTmFtZSgpe3JldHVybiJMaWdodCJ9dG9TdHJpbmcoZSl7bGV0IHQ9Ik5hbWU6ICIrdGhpcy5uYW1lO2lmKHQrPSIsIHR5cGU6ICIrWyJQb2ludCIsIkRpcmVjdGlvbmFsIiwiU3BvdCIsIkhlbWlzcGhlcmljIl1bdGhpcy5nZXRUeXBlSUQoKV0sdGhpcy5hbmltYXRpb25zKWZvcihsZXQgaT0wO2k8dGhpcy5hbmltYXRpb25zLmxlbmd0aDtpKyspdCs9IiwgYW5pbWF0aW9uWzBdOiAiK3RoaXMuYW5pbWF0aW9uc1tpXS50b1N0cmluZyhlKTtyZXR1cm4gdH1fc3luY1BhcmVudEVuYWJsZWRTdGF0ZSgpe3N1cGVyLl9zeW5jUGFyZW50RW5hYmxlZFN0YXRlKCksdGhpcy5pc0Rpc3Bvc2VkKCl8fHRoaXMuX3Jlc3luY01lc2hlcygpfXNldEVuYWJsZWQoZSl7c3VwZXIuc2V0RW5hYmxlZChlKSx0aGlzLl9yZXN5bmNNZXNoZXMoKX1nZXRTaGFkb3dHZW5lcmF0b3IoZT1udWxsKXt2YXIgdDtyZXR1cm4gdGhpcy5fc2hhZG93R2VuZXJhdG9ycz09PW51bGw/bnVsbDoodD10aGlzLl9zaGFkb3dHZW5lcmF0b3JzLmdldChlKSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6bnVsbH1nZXRTaGFkb3dHZW5lcmF0b3JzKCl7cmV0dXJuIHRoaXMuX3NoYWRvd0dlbmVyYXRvcnN9Z2V0QWJzb2x1dGVQb3NpdGlvbigpe3JldHVybiBwLlplcm8oKX1jYW5BZmZlY3RNZXNoKGUpe3JldHVybiBlPyEodGhpcy5pbmNsdWRlZE9ubHlNZXNoZXMmJnRoaXMuaW5jbHVkZWRPbmx5TWVzaGVzLmxlbmd0aD4wJiZ0aGlzLmluY2x1ZGVkT25seU1lc2hlcy5pbmRleE9mKGUpPT09LTF8fHRoaXMuZXhjbHVkZWRNZXNoZXMmJnRoaXMuZXhjbHVkZWRNZXNoZXMubGVuZ3RoPjAmJnRoaXMuZXhjbHVkZWRNZXNoZXMuaW5kZXhPZihlKSE9PS0xfHx0aGlzLmluY2x1ZGVPbmx5V2l0aExheWVyTWFzayE9PTAmJiEodGhpcy5pbmNsdWRlT25seVdpdGhMYXllck1hc2smZS5sYXllck1hc2spfHx0aGlzLmV4Y2x1ZGVXaXRoTGF5ZXJNYXNrIT09MCYmdGhpcy5leGNsdWRlV2l0aExheWVyTWFzayZlLmxheWVyTWFzayk6ITB9ZGlzcG9zZShlLHQ9ITEpe2lmKHRoaXMuX3NoYWRvd0dlbmVyYXRvcnMpe2NvbnN0IGk9dGhpcy5fc2hhZG93R2VuZXJhdG9ycy52YWx1ZXMoKTtmb3IobGV0IHM9aS5uZXh0KCk7cy5kb25lIT09ITA7cz1pLm5leHQoKSlzLnZhbHVlLmRpc3Bvc2UoKTt0aGlzLl9zaGFkb3dHZW5lcmF0b3JzPW51bGx9aWYodGhpcy5nZXRTY2VuZSgpLnN0b3BBbmltYXRpb24odGhpcyksdGhpcy5fcGFyZW50Q29udGFpbmVyKXtjb25zdCBpPXRoaXMuX3BhcmVudENvbnRhaW5lci5saWdodHMuaW5kZXhPZih0aGlzKTtpPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIubGlnaHRzLnNwbGljZShpLDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfWZvcihjb25zdCBpIG9mIHRoaXMuZ2V0U2NlbmUoKS5tZXNoZXMpaS5fcmVtb3ZlTGlnaHRTb3VyY2UodGhpcywhMCk7dGhpcy5fdW5pZm9ybUJ1ZmZlci5kaXNwb3NlKCksdGhpcy5nZXRTY2VuZSgpLnJlbW92ZUxpZ2h0KHRoaXMpLHN1cGVyLmRpc3Bvc2UoZSx0KX1nZXRUeXBlSUQoKXtyZXR1cm4gMH1nZXRTY2FsZWRJbnRlbnNpdHkoKXtyZXR1cm4gdGhpcy5fcGhvdG9tZXRyaWNTY2FsZSp0aGlzLmludGVuc2l0eX1jbG9uZShlLHQ9bnVsbCl7Y29uc3QgaT1oZS5HZXRDb25zdHJ1Y3RvckZyb21OYW1lKHRoaXMuZ2V0VHlwZUlEKCksZSx0aGlzLmdldFNjZW5lKCkpO2lmKCFpKXJldHVybiBudWxsO2NvbnN0IHM9YWUuQ2xvbmUoaSx0aGlzKTtyZXR1cm4gZSYmKHMubmFtZT1lKSx0JiYocy5wYXJlbnQ9dCkscy5zZXRFbmFibGVkKHRoaXMuaXNFbmFibGVkKCkpLHRoaXMub25DbG9uZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhzKSxzfXNlcmlhbGl6ZSgpe2NvbnN0IGU9YWUuU2VyaWFsaXplKHRoaXMpO3JldHVybiBlLnVuaXF1ZUlkPXRoaXMudW5pcXVlSWQsZS50eXBlPXRoaXMuZ2V0VHlwZUlEKCksdGhpcy5wYXJlbnQmJnRoaXMucGFyZW50Ll9zZXJpYWxpemVBc1BhcmVudChlKSx0aGlzLmV4Y2x1ZGVkTWVzaGVzLmxlbmd0aD4wJiYoZS5leGNsdWRlZE1lc2hlc0lkcz1bXSx0aGlzLmV4Y2x1ZGVkTWVzaGVzLmZvckVhY2godD0+e2UuZXhjbHVkZWRNZXNoZXNJZHMucHVzaCh0LmlkKX0pKSx0aGlzLmluY2x1ZGVkT25seU1lc2hlcy5sZW5ndGg+MCYmKGUuaW5jbHVkZWRPbmx5TWVzaGVzSWRzPVtdLHRoaXMuaW5jbHVkZWRPbmx5TWVzaGVzLmZvckVhY2godD0+e2UuaW5jbHVkZWRPbmx5TWVzaGVzSWRzLnB1c2godC5pZCl9KSksYWUuQXBwZW5kU2VyaWFsaXplZEFuaW1hdGlvbnModGhpcyxlKSxlLnJhbmdlcz10aGlzLnNlcmlhbGl6ZUFuaW1hdGlvblJhbmdlcygpLGUuaXNFbmFibGVkPXRoaXMuaXNFbmFibGVkKCksZX1zdGF0aWMgR2V0Q29uc3RydWN0b3JGcm9tTmFtZShlLHQsaSl7Y29uc3Qgcz16ZS5Db25zdHJ1Y3QoIkxpZ2h0X1R5cGVfIitlLHQsaSk7cmV0dXJuIHN8fG51bGx9c3RhdGljIFBhcnNlKGUsdCl7Y29uc3QgaT1oZS5HZXRDb25zdHJ1Y3RvckZyb21OYW1lKGUudHlwZSxlLm5hbWUsdCk7aWYoIWkpcmV0dXJuIG51bGw7Y29uc3Qgcz1hZS5QYXJzZShpLGUsdCk7aWYoZS5leGNsdWRlZE1lc2hlc0lkcyYmKHMuX2V4Y2x1ZGVkTWVzaGVzSWRzPWUuZXhjbHVkZWRNZXNoZXNJZHMpLGUuaW5jbHVkZWRPbmx5TWVzaGVzSWRzJiYocy5faW5jbHVkZWRPbmx5TWVzaGVzSWRzPWUuaW5jbHVkZWRPbmx5TWVzaGVzSWRzKSxlLnBhcmVudElkIT09dm9pZCAwJiYocy5fd2FpdGluZ1BhcmVudElkPWUucGFyZW50SWQpLGUucGFyZW50SW5zdGFuY2VJbmRleCE9PXZvaWQgMCYmKHMuX3dhaXRpbmdQYXJlbnRJbnN0YW5jZUluZGV4PWUucGFyZW50SW5zdGFuY2VJbmRleCksZS5mYWxsb2ZmVHlwZSE9PXZvaWQgMCYmKHMuZmFsbG9mZlR5cGU9ZS5mYWxsb2ZmVHlwZSksZS5saWdodG1hcE1vZGUhPT12b2lkIDAmJihzLmxpZ2h0bWFwTW9kZT1lLmxpZ2h0bWFwTW9kZSksZS5hbmltYXRpb25zKXtmb3IobGV0IHI9MDtyPGUuYW5pbWF0aW9ucy5sZW5ndGg7cisrKXtjb25zdCBuPWUuYW5pbWF0aW9uc1tyXSxhPXJpKCJCQUJZTE9OLkFuaW1hdGlvbiIpO2EmJnMuYW5pbWF0aW9ucy5wdXNoKGEuUGFyc2UobikpfXplLlBhcnNlQW5pbWF0aW9uUmFuZ2VzKHMsZSx0KX1yZXR1cm4gZS5hdXRvQW5pbWF0ZSYmdC5iZWdpbkFuaW1hdGlvbihzLGUuYXV0b0FuaW1hdGVGcm9tLGUuYXV0b0FuaW1hdGVUbyxlLmF1dG9BbmltYXRlTG9vcCxlLmF1dG9BbmltYXRlU3BlZWR8fDEpLGUuaXNFbmFibGVkIT09dm9pZCAwJiZzLnNldEVuYWJsZWQoZS5pc0VuYWJsZWQpLHN9X2hvb2tBcnJheUZvckV4Y2x1ZGVkKGUpe2NvbnN0IHQ9ZS5wdXNoO2UucHVzaD0oLi4ucyk9Pntjb25zdCByPXQuYXBwbHkoZSxzKTtmb3IoY29uc3QgbiBvZiBzKW4uX3Jlc3luY0xpZ2h0U291cmNlKHRoaXMpO3JldHVybiByfTtjb25zdCBpPWUuc3BsaWNlO2Uuc3BsaWNlPShzLHIpPT57Y29uc3Qgbj1pLmFwcGx5KGUsW3Mscl0pO2Zvcihjb25zdCBhIG9mIG4pYS5fcmVzeW5jTGlnaHRTb3VyY2UodGhpcyk7cmV0dXJuIG59O2Zvcihjb25zdCBzIG9mIGUpcy5fcmVzeW5jTGlnaHRTb3VyY2UodGhpcyl9X2hvb2tBcnJheUZvckluY2x1ZGVkT25seShlKXtjb25zdCB0PWUucHVzaDtlLnB1c2g9KC4uLnMpPT57Y29uc3Qgcj10LmFwcGx5KGUscyk7cmV0dXJuIHRoaXMuX3Jlc3luY01lc2hlcygpLHJ9O2NvbnN0IGk9ZS5zcGxpY2U7ZS5zcGxpY2U9KHMscik9Pntjb25zdCBuPWkuYXBwbHkoZSxbcyxyXSk7cmV0dXJuIHRoaXMuX3Jlc3luY01lc2hlcygpLG59LHRoaXMuX3Jlc3luY01lc2hlcygpfV9yZXN5bmNNZXNoZXMoKXtmb3IoY29uc3QgZSBvZiB0aGlzLmdldFNjZW5lKCkubWVzaGVzKWUuX3Jlc3luY0xpZ2h0U291cmNlKHRoaXMpfV9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5nZXRTY2VuZSgpLm1lc2hlcyllLmxpZ2h0U291cmNlcy5pbmRleE9mKHRoaXMpIT09LTEmJmUuX21hcmtTdWJNZXNoZXNBc0xpZ2h0RGlydHkoKX1fY29tcHV0ZVBob3RvbWV0cmljU2NhbGUoKXt0aGlzLl9waG90b21ldHJpY1NjYWxlPXRoaXMuX2dldFBob3RvbWV0cmljU2NhbGUoKSx0aGlzLmdldFNjZW5lKCkucmVzZXRDYWNoZWRNYXRlcmlhbCgpfV9nZXRQaG90b21ldHJpY1NjYWxlKCl7bGV0IGU9MDtjb25zdCB0PXRoaXMuZ2V0VHlwZUlEKCk7bGV0IGk9dGhpcy5pbnRlbnNpdHlNb2RlO3N3aXRjaChpPT09aGUuSU5URU5TSVRZTU9ERV9BVVRPTUFUSUMmJih0PT09aGUuTElHSFRUWVBFSURfRElSRUNUSU9OQUxMSUdIVD9pPWhlLklOVEVOU0lUWU1PREVfSUxMVU1JTkFOQ0U6aT1oZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTSU5URU5TSVRZKSx0KXtjYXNlIGhlLkxJR0hUVFlQRUlEX1BPSU5UTElHSFQ6Y2FzZSBoZS5MSUdIVFRZUEVJRF9TUE9UTElHSFQ6c3dpdGNoKGkpe2Nhc2UgaGUuSU5URU5TSVRZTU9ERV9MVU1JTk9VU1BPV0VSOmU9MS8oNCpNYXRoLlBJKTticmVhaztjYXNlIGhlLklOVEVOU0lUWU1PREVfTFVNSU5PVVNJTlRFTlNJVFk6ZT0xO2JyZWFrO2Nhc2UgaGUuSU5URU5TSVRZTU9ERV9MVU1JTkFOQ0U6ZT10aGlzLnJhZGl1cyp0aGlzLnJhZGl1czticmVha31icmVhaztjYXNlIGhlLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQ6c3dpdGNoKGkpe2Nhc2UgaGUuSU5URU5TSVRZTU9ERV9JTExVTUlOQU5DRTplPTE7YnJlYWs7Y2FzZSBoZS5JTlRFTlNJVFlNT0RFX0xVTUlOQU5DRTp7bGV0IHM9dGhpcy5yYWRpdXM7cz1NYXRoLm1heChzLC4wMDEpLGU9MipNYXRoLlBJKigxLU1hdGguY29zKHMpKTticmVha319YnJlYWs7Y2FzZSBoZS5MSUdIVFRZUEVJRF9IRU1JU1BIRVJJQ0xJR0hUOmU9MTticmVha31yZXR1cm4gZX1fcmVvcmRlckxpZ2h0c0luU2NlbmUoKXtjb25zdCBlPXRoaXMuZ2V0U2NlbmUoKTt0aGlzLl9yZW5kZXJQcmlvcml0eSE9MCYmKGUucmVxdWlyZUxpZ2h0U29ydGluZz0hMCksdGhpcy5nZXRTY2VuZSgpLnNvcnRMaWdodHNCeVByaW9yaXR5KCl9fWhlLkZBTExPRkZfREVGQVVMVD1FZS5GQUxMT0ZGX0RFRkFVTFQsaGUuRkFMTE9GRl9QSFlTSUNBTD1FZS5GQUxMT0ZGX1BIWVNJQ0FMLGhlLkZBTExPRkZfR0xURj1FZS5GQUxMT0ZGX0dMVEYsaGUuRkFMTE9GRl9TVEFOREFSRD1FZS5GQUxMT0ZGX1NUQU5EQVJELGhlLkxJR0hUTUFQX0RFRkFVTFQ9RWUuTElHSFRNQVBfREVGQVVMVCxoZS5MSUdIVE1BUF9TUEVDVUxBUj1FZS5MSUdIVE1BUF9TUEVDVUxBUixoZS5MSUdIVE1BUF9TSEFET1dTT05MWT1FZS5MSUdIVE1BUF9TSEFET1dTT05MWSxoZS5JTlRFTlNJVFlNT0RFX0FVVE9NQVRJQz1FZS5JTlRFTlNJVFlNT0RFX0FVVE9NQVRJQyxoZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTUE9XRVI9RWUuSU5URU5TSVRZTU9ERV9MVU1JTk9VU1BPV0VSLGhlLklOVEVOU0lUWU1PREVfTFVNSU5PVVNJTlRFTlNJVFk9RWUuSU5URU5TSVRZTU9ERV9MVU1JTk9VU0lOVEVOU0lUWSxoZS5JTlRFTlNJVFlNT0RFX0lMTFVNSU5BTkNFPUVlLklOVEVOU0lUWU1PREVfSUxMVU1JTkFOQ0UsaGUuSU5URU5TSVRZTU9ERV9MVU1JTkFOQ0U9RWUuSU5URU5TSVRZTU9ERV9MVU1JTkFOQ0UsaGUuTElHSFRUWVBFSURfUE9JTlRMSUdIVD1FZS5MSUdIVFRZUEVJRF9QT0lOVExJR0hULGhlLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQ9RWUuTElHSFRUWVBFSURfRElSRUNUSU9OQUxMSUdIVCxoZS5MSUdIVFRZUEVJRF9TUE9UTElHSFQ9RWUuTElHSFRUWVBFSURfU1BPVExJR0hULGhlLkxJR0hUVFlQRUlEX0hFTUlTUEhFUklDTElHSFQ9RWUuTElHSFRUWVBFSURfSEVNSVNQSEVSSUNMSUdIVCxUKFtjaSgpXSxoZS5wcm90b3R5cGUsImRpZmZ1c2UiLHZvaWQgMCksVChbY2koKV0saGUucHJvdG90eXBlLCJzcGVjdWxhciIsdm9pZCAwKSxUKFtSKCldLGhlLnByb3RvdHlwZSwiZmFsbG9mZlR5cGUiLHZvaWQgMCksVChbUigpXSxoZS5wcm90b3R5cGUsImludGVuc2l0eSIsdm9pZCAwKSxUKFtSKCldLGhlLnByb3RvdHlwZSwicmFuZ2UiLG51bGwpLFQoW1IoKV0saGUucHJvdG90eXBlLCJpbnRlbnNpdHlNb2RlIixudWxsKSxUKFtSKCldLGhlLnByb3RvdHlwZSwicmFkaXVzIixudWxsKSxUKFtSKCldLGhlLnByb3RvdHlwZSwiX3JlbmRlclByaW9yaXR5Iix2b2lkIDApLFQoW2JlKCJfcmVvcmRlckxpZ2h0c0luU2NlbmUiKV0saGUucHJvdG90eXBlLCJyZW5kZXJQcmlvcml0eSIsdm9pZCAwKSxUKFtSKCJzaGFkb3dFbmFibGVkIildLGhlLnByb3RvdHlwZSwiX3NoYWRvd0VuYWJsZWQiLHZvaWQgMCksVChbUigiZXhjbHVkZVdpdGhMYXllck1hc2siKV0saGUucHJvdG90eXBlLCJfZXhjbHVkZVdpdGhMYXllck1hc2siLHZvaWQgMCksVChbUigiaW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrIildLGhlLnByb3RvdHlwZSwiX2luY2x1ZGVPbmx5V2l0aExheWVyTWFzayIsdm9pZCAwKSxUKFtSKCJsaWdodG1hcE1vZGUiKV0saGUucHJvdG90eXBlLCJfbGlnaHRtYXBNb2RlIix2b2lkIDApO2NsYXNzIFVpIGV4dGVuZHMgaGV7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX25lZWRQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZT0hMH1fc2V0UG9zaXRpb24oZSl7dGhpcy5fcG9zaXRpb249ZX1nZXQgcG9zaXRpb24oKXtyZXR1cm4gdGhpcy5fcG9zaXRpb259c2V0IHBvc2l0aW9uKGUpe3RoaXMuX3NldFBvc2l0aW9uKGUpfV9zZXREaXJlY3Rpb24oZSl7dGhpcy5fZGlyZWN0aW9uPWV9Z2V0IGRpcmVjdGlvbigpe3JldHVybiB0aGlzLl9kaXJlY3Rpb259c2V0IGRpcmVjdGlvbihlKXt0aGlzLl9zZXREaXJlY3Rpb24oZSl9Z2V0IHNoYWRvd01pblooKXtyZXR1cm4gdGhpcy5fc2hhZG93TWluWn1zZXQgc2hhZG93TWluWihlKXt0aGlzLl9zaGFkb3dNaW5aPWUsdGhpcy5mb3JjZVByb2plY3Rpb25NYXRyaXhDb21wdXRlKCl9Z2V0IHNoYWRvd01heFooKXtyZXR1cm4gdGhpcy5fc2hhZG93TWF4Wn1zZXQgc2hhZG93TWF4WihlKXt0aGlzLl9zaGFkb3dNYXhaPWUsdGhpcy5mb3JjZVByb2plY3Rpb25NYXRyaXhDb21wdXRlKCl9Y29tcHV0ZVRyYW5zZm9ybWVkSW5mb3JtYXRpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQmJnRoaXMucGFyZW50LmdldFdvcmxkTWF0cml4Pyh0aGlzLnRyYW5zZm9ybWVkUG9zaXRpb258fCh0aGlzLnRyYW5zZm9ybWVkUG9zaXRpb249cC5aZXJvKCkpLHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih0aGlzLnBvc2l0aW9uLHRoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCksdGhpcy50cmFuc2Zvcm1lZFBvc2l0aW9uKSx0aGlzLmRpcmVjdGlvbiYmKHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb258fCh0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uPXAuWmVybygpKSxwLlRyYW5zZm9ybU5vcm1hbFRvUmVmKHRoaXMuZGlyZWN0aW9uLHRoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCksdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbikpLCEwKTohMX1nZXREZXB0aFNjYWxlKCl7cmV0dXJuIDUwfWdldFNoYWRvd0RpcmVjdGlvbihlKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbj90aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uOnRoaXMuZGlyZWN0aW9ufWdldEFic29sdXRlUG9zaXRpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm1lZFBvc2l0aW9uP3RoaXMudHJhbnNmb3JtZWRQb3NpdGlvbjp0aGlzLnBvc2l0aW9ufXNldERpcmVjdGlvblRvVGFyZ2V0KGUpe3JldHVybiB0aGlzLmRpcmVjdGlvbj1wLk5vcm1hbGl6ZShlLnN1YnRyYWN0KHRoaXMucG9zaXRpb24pKSx0aGlzLmRpcmVjdGlvbn1nZXRSb3RhdGlvbigpe3RoaXMuZGlyZWN0aW9uLm5vcm1hbGl6ZSgpO2NvbnN0IGU9cC5Dcm9zcyh0aGlzLmRpcmVjdGlvbixfaS5ZKSx0PXAuQ3Jvc3MoZSx0aGlzLmRpcmVjdGlvbik7cmV0dXJuIHAuUm90YXRpb25Gcm9tQXhpcyhlLHQsdGhpcy5kaXJlY3Rpb24pfW5lZWRDdWJlKCl7cmV0dXJuITF9bmVlZFByb2plY3Rpb25NYXRyaXhDb21wdXRlKCl7cmV0dXJuIHRoaXMuX25lZWRQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZX1mb3JjZVByb2plY3Rpb25NYXRyaXhDb21wdXRlKCl7dGhpcy5fbmVlZFByb2plY3Rpb25NYXRyaXhDb21wdXRlPSEwfV9pbml0Q2FjaGUoKXtzdXBlci5faW5pdENhY2hlKCksdGhpcy5fY2FjaGUucG9zaXRpb249cC5aZXJvKCl9X2lzU3luY2hyb25pemVkKCl7cmV0dXJuISF0aGlzLl9jYWNoZS5wb3NpdGlvbi5lcXVhbHModGhpcy5wb3NpdGlvbil9Y29tcHV0ZVdvcmxkTWF0cml4KGUpe3JldHVybiFlJiZ0aGlzLmlzU3luY2hyb25pemVkKCk/KHRoaXMuX2N1cnJlbnRSZW5kZXJJZD10aGlzLmdldFNjZW5lKCkuZ2V0UmVuZGVySWQoKSx0aGlzLl93b3JsZE1hdHJpeCk6KHRoaXMuX3VwZGF0ZUNhY2hlKCksdGhpcy5fY2FjaGUucG9zaXRpb24uY29weUZyb20odGhpcy5wb3NpdGlvbiksdGhpcy5fd29ybGRNYXRyaXh8fCh0aGlzLl93b3JsZE1hdHJpeD14LklkZW50aXR5KCkpLHguVHJhbnNsYXRpb25Ub1JlZih0aGlzLnBvc2l0aW9uLngsdGhpcy5wb3NpdGlvbi55LHRoaXMucG9zaXRpb24ueix0aGlzLl93b3JsZE1hdHJpeCksdGhpcy5wYXJlbnQmJnRoaXMucGFyZW50LmdldFdvcmxkTWF0cml4JiYodGhpcy5fd29ybGRNYXRyaXgubXVsdGlwbHlUb1JlZih0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLHRoaXMuX3dvcmxkTWF0cml4KSx0aGlzLl9tYXJrU3luY2VkV2l0aFBhcmVudCgpKSx0aGlzLl93b3JsZE1hdHJpeERldGVybWluYW50SXNEaXJ0eT0hMCx0aGlzLl93b3JsZE1hdHJpeCl9Z2V0RGVwdGhNaW5aKGUpe3JldHVybiB0aGlzLnNoYWRvd01pblohPT12b2lkIDA/dGhpcy5zaGFkb3dNaW5aOmUubWluWn1nZXREZXB0aE1heFooZSl7cmV0dXJuIHRoaXMuc2hhZG93TWF4WiE9PXZvaWQgMD90aGlzLnNoYWRvd01heFo6ZS5tYXhafXNldFNoYWRvd1Byb2plY3Rpb25NYXRyaXgoZSx0LGkpe3JldHVybiB0aGlzLmN1c3RvbVByb2plY3Rpb25NYXRyaXhCdWlsZGVyP3RoaXMuY3VzdG9tUHJvamVjdGlvbk1hdHJpeEJ1aWxkZXIodCxpLGUpOnRoaXMuX3NldERlZmF1bHRTaGFkb3dQcm9qZWN0aW9uTWF0cml4KGUsdCxpKSx0aGlzfV9zeW5jUGFyZW50RW5hYmxlZFN0YXRlKCl7c3VwZXIuX3N5bmNQYXJlbnRFbmFibGVkU3RhdGUoKSwoIXRoaXMucGFyZW50fHwhdGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgpJiYodGhpcy50cmFuc2Zvcm1lZFBvc2l0aW9uPW51bGwsdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbj1udWxsKX19VChbQnQoKV0sVWkucHJvdG90eXBlLCJwb3NpdGlvbiIsbnVsbCksVChbQnQoKV0sVWkucHJvdG90eXBlLCJkaXJlY3Rpb24iLG51bGwpLFQoW1IoKV0sVWkucHJvdG90eXBlLCJzaGFkb3dNaW5aIixudWxsKSxUKFtSKCldLFVpLnByb3RvdHlwZSwic2hhZG93TWF4WiIsbnVsbCksemUuQWRkTm9kZUNvbnN0cnVjdG9yKCJMaWdodF9UeXBlXzEiLChjLGUpPT4oKT0+bmV3IEl0KGMscC5aZXJvKCksZSkpO2NsYXNzIEl0IGV4dGVuZHMgVWl7Y29uc3RydWN0b3IoZSx0LGkpe3N1cGVyKGUsaSksdGhpcy5fc2hhZG93RnJ1c3R1bVNpemU9MCx0aGlzLl9zaGFkb3dPcnRob1NjYWxlPS4xLHRoaXMuYXV0b1VwZGF0ZUV4dGVuZHM9ITAsdGhpcy5hdXRvQ2FsY1NoYWRvd1pCb3VuZHM9ITEsdGhpcy5fb3J0aG9MZWZ0PU51bWJlci5NQVhfVkFMVUUsdGhpcy5fb3J0aG9SaWdodD1OdW1iZXIuTUlOX1ZBTFVFLHRoaXMuX29ydGhvVG9wPU51bWJlci5NSU5fVkFMVUUsdGhpcy5fb3J0aG9Cb3R0b209TnVtYmVyLk1BWF9WQUxVRSx0aGlzLnBvc2l0aW9uPXQuc2NhbGUoLTEpLHRoaXMuZGlyZWN0aW9uPXR9Z2V0IHNoYWRvd0ZydXN0dW1TaXplKCl7cmV0dXJuIHRoaXMuX3NoYWRvd0ZydXN0dW1TaXplfXNldCBzaGFkb3dGcnVzdHVtU2l6ZShlKXt0aGlzLl9zaGFkb3dGcnVzdHVtU2l6ZT1lLHRoaXMuZm9yY2VQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZSgpfWdldCBzaGFkb3dPcnRob1NjYWxlKCl7cmV0dXJuIHRoaXMuX3NoYWRvd09ydGhvU2NhbGV9c2V0IHNoYWRvd09ydGhvU2NhbGUoZSl7dGhpcy5fc2hhZG93T3J0aG9TY2FsZT1lLHRoaXMuZm9yY2VQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZSgpfWdldCBvcnRob0xlZnQoKXtyZXR1cm4gdGhpcy5fb3J0aG9MZWZ0fXNldCBvcnRob0xlZnQoZSl7dGhpcy5fb3J0aG9MZWZ0PWV9Z2V0IG9ydGhvUmlnaHQoKXtyZXR1cm4gdGhpcy5fb3J0aG9SaWdodH1zZXQgb3J0aG9SaWdodChlKXt0aGlzLl9vcnRob1JpZ2h0PWV9Z2V0IG9ydGhvVG9wKCl7cmV0dXJuIHRoaXMuX29ydGhvVG9wfXNldCBvcnRob1RvcChlKXt0aGlzLl9vcnRob1RvcD1lfWdldCBvcnRob0JvdHRvbSgpe3JldHVybiB0aGlzLl9vcnRob0JvdHRvbX1zZXQgb3J0aG9Cb3R0b20oZSl7dGhpcy5fb3J0aG9Cb3R0b209ZX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iRGlyZWN0aW9uYWxMaWdodCJ9Z2V0VHlwZUlEKCl7cmV0dXJuIGhlLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFR9X3NldERlZmF1bHRTaGFkb3dQcm9qZWN0aW9uTWF0cml4KGUsdCxpKXt0aGlzLnNoYWRvd0ZydXN0dW1TaXplPjA/dGhpcy5fc2V0RGVmYXVsdEZpeGVkRnJ1c3R1bVNoYWRvd1Byb2plY3Rpb25NYXRyaXgoZSk6dGhpcy5fc2V0RGVmYXVsdEF1dG9FeHRlbmRTaGFkb3dQcm9qZWN0aW9uTWF0cml4KGUsdCxpKX1fc2V0RGVmYXVsdEZpeGVkRnJ1c3R1bVNoYWRvd1Byb2plY3Rpb25NYXRyaXgoZSl7Y29uc3QgdD10aGlzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhO3QmJnguT3J0aG9MSFRvUmVmKHRoaXMuc2hhZG93RnJ1c3R1bVNpemUsdGhpcy5zaGFkb3dGcnVzdHVtU2l6ZSx0aGlzLnNoYWRvd01pblohPT12b2lkIDA/dGhpcy5zaGFkb3dNaW5aOnQubWluWix0aGlzLnNoYWRvd01heFohPT12b2lkIDA/dGhpcy5zaGFkb3dNYXhaOnQubWF4WixlLHRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5pc05EQ0hhbGZaUmFuZ2UpfV9zZXREZWZhdWx0QXV0b0V4dGVuZFNoYWRvd1Byb2plY3Rpb25NYXRyaXgoZSx0LGkpe2NvbnN0IHM9dGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYTtpZighcylyZXR1cm47aWYodGhpcy5hdXRvVXBkYXRlRXh0ZW5kc3x8dGhpcy5fb3J0aG9MZWZ0PT09TnVtYmVyLk1BWF9WQUxVRSl7Y29uc3QgbD1wLlplcm8oKTt0aGlzLl9vcnRob0xlZnQ9TnVtYmVyLk1BWF9WQUxVRSx0aGlzLl9vcnRob1JpZ2h0PU51bWJlci5NSU5fVkFMVUUsdGhpcy5fb3J0aG9Ub3A9TnVtYmVyLk1JTl9WQUxVRSx0aGlzLl9vcnRob0JvdHRvbT1OdW1iZXIuTUFYX1ZBTFVFO2xldCB1PU51bWJlci5NQVhfVkFMVUUsZD1OdW1iZXIuTUlOX1ZBTFVFO2ZvcihsZXQgZj0wO2Y8aS5sZW5ndGg7ZisrKXtjb25zdCBfPWlbZl07aWYoIV8pY29udGludWU7Y29uc3QgbT1fLmdldEJvdW5kaW5nSW5mbygpLmJvdW5kaW5nQm94O2ZvcihsZXQgdj0wO3Y8bS52ZWN0b3JzV29ybGQubGVuZ3RoO3YrKylwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYobS52ZWN0b3JzV29ybGRbdl0sdCxsKSxsLng8dGhpcy5fb3J0aG9MZWZ0JiYodGhpcy5fb3J0aG9MZWZ0PWwueCksbC55PHRoaXMuX29ydGhvQm90dG9tJiYodGhpcy5fb3J0aG9Cb3R0b209bC55KSxsLng+dGhpcy5fb3J0aG9SaWdodCYmKHRoaXMuX29ydGhvUmlnaHQ9bC54KSxsLnk+dGhpcy5fb3J0aG9Ub3AmJih0aGlzLl9vcnRob1RvcD1sLnkpLHRoaXMuYXV0b0NhbGNTaGFkb3daQm91bmRzJiYobC56PHUmJih1PWwueiksbC56PmQmJihkPWwueikpfXRoaXMuYXV0b0NhbGNTaGFkb3daQm91bmRzJiYodGhpcy5fc2hhZG93TWluWj11LHRoaXMuX3NoYWRvd01heFo9ZCl9Y29uc3Qgcj10aGlzLl9vcnRob1JpZ2h0LXRoaXMuX29ydGhvTGVmdCxuPXRoaXMuX29ydGhvVG9wLXRoaXMuX29ydGhvQm90dG9tLGE9dGhpcy5zaGFkb3dNaW5aIT09dm9pZCAwP3RoaXMuc2hhZG93TWluWjpzLm1pblosbz10aGlzLnNoYWRvd01heFohPT12b2lkIDA/dGhpcy5zaGFkb3dNYXhaOnMubWF4WixoPXRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS51c2VSZXZlcnNlRGVwdGhCdWZmZXI7eC5PcnRob09mZkNlbnRlckxIVG9SZWYodGhpcy5fb3J0aG9MZWZ0LXIqdGhpcy5zaGFkb3dPcnRob1NjYWxlLHRoaXMuX29ydGhvUmlnaHQrcip0aGlzLnNoYWRvd09ydGhvU2NhbGUsdGhpcy5fb3J0aG9Cb3R0b20tbip0aGlzLnNoYWRvd09ydGhvU2NhbGUsdGhpcy5fb3J0aG9Ub3Arbip0aGlzLnNoYWRvd09ydGhvU2NhbGUsaD9vOmEsaD9hOm8sZSx0aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkuaXNORENIYWxmWlJhbmdlKX1fYnVpbGRVbmlmb3JtTGF5b3V0KCl7dGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2TGlnaHREYXRhIiw0KSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInZMaWdodERpZmZ1c2UiLDQpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidkxpZ2h0U3BlY3VsYXIiLDQpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgic2hhZG93c0luZm8iLDMpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgiZGVwdGhWYWx1ZXMiLDIpLHRoaXMuX3VuaWZvcm1CdWZmZXIuY3JlYXRlKCl9dHJhbnNmZXJUb0VmZmVjdChlLHQpe3JldHVybiB0aGlzLmNvbXB1dGVUcmFuc2Zvcm1lZEluZm9ybWF0aW9uKCk/KHRoaXMuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJ2TGlnaHREYXRhIix0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uLngsdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbi55LHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24ueiwxLHQpLHRoaXMpOih0aGlzLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0NCgidkxpZ2h0RGF0YSIsdGhpcy5kaXJlY3Rpb24ueCx0aGlzLmRpcmVjdGlvbi55LHRoaXMuZGlyZWN0aW9uLnosMSx0KSx0aGlzKX10cmFuc2ZlclRvTm9kZU1hdGVyaWFsRWZmZWN0KGUsdCl7cmV0dXJuIHRoaXMuY29tcHV0ZVRyYW5zZm9ybWVkSW5mb3JtYXRpb24oKT8oZS5zZXRGbG9hdDModCx0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uLngsdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbi55LHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24ueiksdGhpcyk6KGUuc2V0RmxvYXQzKHQsdGhpcy5kaXJlY3Rpb24ueCx0aGlzLmRpcmVjdGlvbi55LHRoaXMuZGlyZWN0aW9uLnopLHRoaXMpfWdldERlcHRoTWluWihlKXtjb25zdCB0PXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO3JldHVybiF0LnVzZVJldmVyc2VEZXB0aEJ1ZmZlciYmdC5pc05EQ0hhbGZaUmFuZ2U/MDoxfWdldERlcHRoTWF4WihlKXtjb25zdCB0PXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO3JldHVybiB0LnVzZVJldmVyc2VEZXB0aEJ1ZmZlciYmdC5pc05EQ0hhbGZaUmFuZ2U/MDoxfXByZXBhcmVMaWdodFNwZWNpZmljRGVmaW5lcyhlLHQpe2VbIkRJUkxJR0hUIit0XT0hMH19VChbUigpXSxJdC5wcm90b3R5cGUsInNoYWRvd0ZydXN0dW1TaXplIixudWxsKSxUKFtSKCldLEl0LnByb3RvdHlwZSwic2hhZG93T3J0aG9TY2FsZSIsbnVsbCksVChbUigpXSxJdC5wcm90b3R5cGUsImF1dG9VcGRhdGVFeHRlbmRzIix2b2lkIDApLFQoW1IoKV0sSXQucHJvdG90eXBlLCJhdXRvQ2FsY1NoYWRvd1pCb3VuZHMiLHZvaWQgMCksVChbUigib3J0aG9MZWZ0IildLEl0LnByb3RvdHlwZSwiX29ydGhvTGVmdCIsdm9pZCAwKSxUKFtSKCJvcnRob1JpZ2h0IildLEl0LnByb3RvdHlwZSwiX29ydGhvUmlnaHQiLHZvaWQgMCksVChbUigib3J0aG9Ub3AiKV0sSXQucHJvdG90eXBlLCJfb3J0aG9Ub3AiLHZvaWQgMCksVChbUigib3J0aG9Cb3R0b20iKV0sSXQucHJvdG90eXBlLCJfb3J0aG9Cb3R0b20iLHZvaWQgMCksemUuQWRkTm9kZUNvbnN0cnVjdG9yKCJMaWdodF9UeXBlXzMiLChjLGUpPT4oKT0+bmV3IG5zKGMscC5aZXJvKCksZSkpO2NsYXNzIG5zIGV4dGVuZHMgaGV7Y29uc3RydWN0b3IoZSx0LGkpe3N1cGVyKGUsaSksdGhpcy5ncm91bmRDb2xvcj1uZXcgcmUoMCwwLDApLHRoaXMuZGlyZWN0aW9uPXR8fHAuVXAoKX1fYnVpbGRVbmlmb3JtTGF5b3V0KCl7dGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2TGlnaHREYXRhIiw0KSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInZMaWdodERpZmZ1c2UiLDQpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidkxpZ2h0U3BlY3VsYXIiLDQpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidkxpZ2h0R3JvdW5kIiwzKSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInNoYWRvd3NJbmZvIiwzKSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oImRlcHRoVmFsdWVzIiwyKSx0aGlzLl91bmlmb3JtQnVmZmVyLmNyZWF0ZSgpfWdldENsYXNzTmFtZSgpe3JldHVybiJIZW1pc3BoZXJpY0xpZ2h0In1zZXREaXJlY3Rpb25Ub1RhcmdldChlKXtyZXR1cm4gdGhpcy5kaXJlY3Rpb249cC5Ob3JtYWxpemUoZS5zdWJ0cmFjdChwLlplcm8oKSkpLHRoaXMuZGlyZWN0aW9ufWdldFNoYWRvd0dlbmVyYXRvcigpe3JldHVybiBudWxsfXRyYW5zZmVyVG9FZmZlY3QoZSx0KXtjb25zdCBpPXAuTm9ybWFsaXplKHRoaXMuZGlyZWN0aW9uKTtyZXR1cm4gdGhpcy5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInZMaWdodERhdGEiLGkueCxpLnksaS56LDAsdCksdGhpcy5fdW5pZm9ybUJ1ZmZlci51cGRhdGVDb2xvcjMoInZMaWdodEdyb3VuZCIsdGhpcy5ncm91bmRDb2xvci5zY2FsZSh0aGlzLmludGVuc2l0eSksdCksdGhpc310cmFuc2ZlclRvTm9kZU1hdGVyaWFsRWZmZWN0KGUsdCl7Y29uc3QgaT1wLk5vcm1hbGl6ZSh0aGlzLmRpcmVjdGlvbik7cmV0dXJuIGUuc2V0RmxvYXQzKHQsaS54LGkueSxpLnopLHRoaXN9Y29tcHV0ZVdvcmxkTWF0cml4KCl7cmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4fHwodGhpcy5fd29ybGRNYXRyaXg9eC5JZGVudGl0eSgpKSx0aGlzLl93b3JsZE1hdHJpeH1nZXRUeXBlSUQoKXtyZXR1cm4gaGUuTElHSFRUWVBFSURfSEVNSVNQSEVSSUNMSUdIVH1wcmVwYXJlTGlnaHRTcGVjaWZpY0RlZmluZXMoZSx0KXtlWyJIRU1JTElHSFQiK3RdPSEwfX1UKFtjaSgpXSxucy5wcm90b3R5cGUsImdyb3VuZENvbG9yIix2b2lkIDApLFQoW0J0KCldLG5zLnByb3RvdHlwZSwiZGlyZWN0aW9uIix2b2lkIDApO2NsYXNzIEd0e2NvbnN0cnVjdG9yKGUsdCl7dGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXR9dG9TdHJpbmcoKXtyZXR1cm5ge1c6ICR7dGhpcy53aWR0aH0sIEg6ICR7dGhpcy5oZWlnaHR9fWB9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlNpemUifWdldEhhc2hDb2RlKCl7bGV0IGU9dGhpcy53aWR0aHwwO3JldHVybiBlPWUqMzk3Xih0aGlzLmhlaWdodHwwKSxlfWNvcHlGcm9tKGUpe3RoaXMud2lkdGg9ZS53aWR0aCx0aGlzLmhlaWdodD1lLmhlaWdodH1jb3B5RnJvbUZsb2F0cyhlLHQpe3JldHVybiB0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dCx0aGlzfXNldChlLHQpe3JldHVybiB0aGlzLmNvcHlGcm9tRmxvYXRzKGUsdCl9bXVsdGlwbHlCeUZsb2F0cyhlLHQpe3JldHVybiBuZXcgR3QodGhpcy53aWR0aCplLHRoaXMuaGVpZ2h0KnQpfWNsb25lKCl7cmV0dXJuIG5ldyBHdCh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX1lcXVhbHMoZSl7cmV0dXJuIGU/dGhpcy53aWR0aD09PWUud2lkdGgmJnRoaXMuaGVpZ2h0PT09ZS5oZWlnaHQ6ITF9Z2V0IHN1cmZhY2UoKXtyZXR1cm4gdGhpcy53aWR0aCp0aGlzLmhlaWdodH1zdGF0aWMgWmVybygpe3JldHVybiBuZXcgR3QoMCwwKX1hZGQoZSl7cmV0dXJuIG5ldyBHdCh0aGlzLndpZHRoK2Uud2lkdGgsdGhpcy5oZWlnaHQrZS5oZWlnaHQpfXN1YnRyYWN0KGUpe3JldHVybiBuZXcgR3QodGhpcy53aWR0aC1lLndpZHRoLHRoaXMuaGVpZ2h0LWUuaGVpZ2h0KX1zdGF0aWMgTGVycChlLHQsaSl7Y29uc3Qgcz1lLndpZHRoKyh0LndpZHRoLWUud2lkdGgpKmkscj1lLmhlaWdodCsodC5oZWlnaHQtZS5oZWlnaHQpKmk7cmV0dXJuIG5ldyBHdChzLHIpfX1jbGFzcyBabntjb25zdHJ1Y3RvcihlKXt0aGlzLl93cmFwVT0xLHRoaXMuX3dyYXBWPTEsdGhpcy53cmFwUj0xLHRoaXMuYW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD00LHRoaXMuZGVsYXlMb2FkU3RhdGU9MCx0aGlzLl90ZXh0dXJlPW51bGwsdGhpcy5fZW5naW5lPW51bGwsdGhpcy5fY2FjaGVkU2l6ZT1HdC5aZXJvKCksdGhpcy5fY2FjaGVkQmFzZVNpemU9R3QuWmVybygpLHRoaXMuX2luaXRpYWxTYW1wbGluZ01vZGU9Mix0aGlzLl90ZXh0dXJlPWUsdGhpcy5fdGV4dHVyZSYmKHRoaXMuX2VuZ2luZT10aGlzLl90ZXh0dXJlLmdldEVuZ2luZSgpKX1nZXQgd3JhcFUoKXtyZXR1cm4gdGhpcy5fd3JhcFV9c2V0IHdyYXBVKGUpe3RoaXMuX3dyYXBVPWV9Z2V0IHdyYXBWKCl7cmV0dXJuIHRoaXMuX3dyYXBWfXNldCB3cmFwVihlKXt0aGlzLl93cmFwVj1lfWdldCBjb29yZGluYXRlc01vZGUoKXtyZXR1cm4gMH1nZXQgaXNDdWJlKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pc0N1YmU6ITF9c2V0IGlzQ3ViZShlKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5pc0N1YmU9ZSl9Z2V0IGlzM0QoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLmlzM0Q6ITF9c2V0IGlzM0QoZSl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuaXMzRD1lKX1nZXQgaXMyREFycmF5KCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pczJEQXJyYXk6ITF9c2V0IGlzMkRBcnJheShlKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5pczJEQXJyYXk9ZSl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlRoaW5UZXh0dXJlIn1pc1JlYWR5KCl7cmV0dXJuIHRoaXMuZGVsYXlMb2FkU3RhdGU9PT00Pyh0aGlzLmRlbGF5TG9hZCgpLCExKTp0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXNSZWFkeTohMX1kZWxheUxvYWQoKXt9Z2V0SW50ZXJuYWxUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX3RleHR1cmV9Z2V0U2l6ZSgpe2lmKHRoaXMuX3RleHR1cmUpe2lmKHRoaXMuX3RleHR1cmUud2lkdGgpcmV0dXJuIHRoaXMuX2NhY2hlZFNpemUud2lkdGg9dGhpcy5fdGV4dHVyZS53aWR0aCx0aGlzLl9jYWNoZWRTaXplLmhlaWdodD10aGlzLl90ZXh0dXJlLmhlaWdodCx0aGlzLl9jYWNoZWRTaXplO2lmKHRoaXMuX3RleHR1cmUuX3NpemUpcmV0dXJuIHRoaXMuX2NhY2hlZFNpemUud2lkdGg9dGhpcy5fdGV4dHVyZS5fc2l6ZSx0aGlzLl9jYWNoZWRTaXplLmhlaWdodD10aGlzLl90ZXh0dXJlLl9zaXplLHRoaXMuX2NhY2hlZFNpemV9cmV0dXJuIHRoaXMuX2NhY2hlZFNpemV9Z2V0QmFzZVNpemUoKXtyZXR1cm4hdGhpcy5pc1JlYWR5KCl8fCF0aGlzLl90ZXh0dXJlPyh0aGlzLl9jYWNoZWRCYXNlU2l6ZS53aWR0aD0wLHRoaXMuX2NhY2hlZEJhc2VTaXplLmhlaWdodD0wLHRoaXMuX2NhY2hlZEJhc2VTaXplKTp0aGlzLl90ZXh0dXJlLl9zaXplPyh0aGlzLl9jYWNoZWRCYXNlU2l6ZS53aWR0aD10aGlzLl90ZXh0dXJlLl9zaXplLHRoaXMuX2NhY2hlZEJhc2VTaXplLmhlaWdodD10aGlzLl90ZXh0dXJlLl9zaXplLHRoaXMuX2NhY2hlZEJhc2VTaXplKToodGhpcy5fY2FjaGVkQmFzZVNpemUud2lkdGg9dGhpcy5fdGV4dHVyZS5iYXNlV2lkdGgsdGhpcy5fY2FjaGVkQmFzZVNpemUuaGVpZ2h0PXRoaXMuX3RleHR1cmUuYmFzZUhlaWdodCx0aGlzLl9jYWNoZWRCYXNlU2l6ZSl9Z2V0IHNhbXBsaW5nTW9kZSgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuc2FtcGxpbmdNb2RlOnRoaXMuX2luaXRpYWxTYW1wbGluZ01vZGV9dXBkYXRlU2FtcGxpbmdNb2RlKGUpe3RoaXMuX3RleHR1cmUmJnRoaXMuX2VuZ2luZSYmdGhpcy5fZW5naW5lLnVwZGF0ZVRleHR1cmVTYW1wbGluZ01vZGUoZSx0aGlzLl90ZXh0dXJlKX1yZWxlYXNlSW50ZXJuYWxUZXh0dXJlKCl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuZGlzcG9zZSgpLHRoaXMuX3RleHR1cmU9bnVsbCl9ZGlzcG9zZSgpe3RoaXMuX3RleHR1cmUmJih0aGlzLnJlbGVhc2VJbnRlcm5hbFRleHR1cmUoKSx0aGlzLl9lbmdpbmU9bnVsbCl9fWNsYXNzIFJlIGV4dGVuZHMgWm57Y29uc3RydWN0b3IoZSx0PW51bGwpe3N1cGVyKG51bGwpLHRoaXMubWV0YWRhdGE9bnVsbCx0aGlzLnJlc2VydmVkRGF0YVN0b3JlPW51bGwsdGhpcy5faGFzQWxwaGE9ITEsdGhpcy5fZ2V0QWxwaGFGcm9tUkdCPSExLHRoaXMubGV2ZWw9MSx0aGlzLl9jb29yZGluYXRlc0luZGV4PTAsdGhpcy5vcHRpbWl6ZVVWQWxsb2NhdGlvbj0hMCx0aGlzLl9jb29yZGluYXRlc01vZGU9MCx0aGlzLndyYXBSPTEsdGhpcy5hbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPVJlLkRFRkFVTFRfQU5JU09UUk9QSUNfRklMVEVSSU5HX0xFVkVMLHRoaXMuX2lzQ3ViZT0hMSx0aGlzLl9nYW1tYVNwYWNlPSEwLHRoaXMuaW52ZXJ0Wj0hMSx0aGlzLmxvZExldmVsSW5BbHBoYT0hMSx0aGlzLmlzUmVuZGVyVGFyZ2V0PSExLHRoaXMuX3ByZWZpbHRlcmVkPSExLHRoaXMuX2ZvcmNlU2VyaWFsaXplPSExLHRoaXMuYW5pbWF0aW9ucz1uZXcgQXJyYXksdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX29uRGlzcG9zZU9ic2VydmVyPW51bGwsdGhpcy5fc2NlbmU9bnVsbCx0aGlzLl91aWQ9bnVsbCx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbCx0aGlzLl9sb2FkaW5nRXJyb3I9ITEsZT9SZS5fSXNTY2VuZShlKT90aGlzLl9zY2VuZT1lOnRoaXMuX2VuZ2luZT1lOnRoaXMuX3NjZW5lPWZlLkxhc3RDcmVhdGVkU2NlbmUsdGhpcy5fc2NlbmUmJih0aGlzLnVuaXF1ZUlkPXRoaXMuX3NjZW5lLmdldFVuaXF1ZUlkKCksdGhpcy5fc2NlbmUuYWRkVGV4dHVyZSh0aGlzKSx0aGlzLl9lbmdpbmU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkpLHRoaXMuX3RleHR1cmU9dCx0aGlzLl91aWQ9bnVsbH1zZXQgaGFzQWxwaGEoZSl7dGhpcy5faGFzQWxwaGEhPT1lJiYodGhpcy5faGFzQWxwaGE9ZSx0aGlzLl9zY2VuZSYmdGhpcy5fc2NlbmUubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSx0PT50Lmhhc1RleHR1cmUodGhpcykpKX1nZXQgaGFzQWxwaGEoKXtyZXR1cm4gdGhpcy5faGFzQWxwaGF9c2V0IGdldEFscGhhRnJvbVJHQihlKXt0aGlzLl9nZXRBbHBoYUZyb21SR0IhPT1lJiYodGhpcy5fZ2V0QWxwaGFGcm9tUkdCPWUsdGhpcy5fc2NlbmUmJnRoaXMuX3NjZW5lLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEsdD0+dC5oYXNUZXh0dXJlKHRoaXMpKSl9Z2V0IGdldEFscGhhRnJvbVJHQigpe3JldHVybiB0aGlzLl9nZXRBbHBoYUZyb21SR0J9c2V0IGNvb3JkaW5hdGVzSW5kZXgoZSl7dGhpcy5fY29vcmRpbmF0ZXNJbmRleCE9PWUmJih0aGlzLl9jb29yZGluYXRlc0luZGV4PWUsdGhpcy5fc2NlbmUmJnRoaXMuX3NjZW5lLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEsdD0+dC5oYXNUZXh0dXJlKHRoaXMpKSl9Z2V0IGNvb3JkaW5hdGVzSW5kZXgoKXtyZXR1cm4gdGhpcy5fY29vcmRpbmF0ZXNJbmRleH1zZXQgY29vcmRpbmF0ZXNNb2RlKGUpe3RoaXMuX2Nvb3JkaW5hdGVzTW9kZSE9PWUmJih0aGlzLl9jb29yZGluYXRlc01vZGU9ZSx0aGlzLl9zY2VuZSYmdGhpcy5fc2NlbmUubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSx0PT50Lmhhc1RleHR1cmUodGhpcykpKX1nZXQgY29vcmRpbmF0ZXNNb2RlKCl7cmV0dXJuIHRoaXMuX2Nvb3JkaW5hdGVzTW9kZX1nZXQgd3JhcFUoKXtyZXR1cm4gdGhpcy5fd3JhcFV9c2V0IHdyYXBVKGUpe3RoaXMuX3dyYXBVPWV9Z2V0IHdyYXBWKCl7cmV0dXJuIHRoaXMuX3dyYXBWfXNldCB3cmFwVihlKXt0aGlzLl93cmFwVj1lfWdldCBpc0N1YmUoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLmlzQ3ViZTp0aGlzLl9pc0N1YmV9c2V0IGlzQ3ViZShlKXt0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXNDdWJlPWU6dGhpcy5faXNDdWJlPWV9Z2V0IGlzM0QoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLmlzM0Q6ITF9c2V0IGlzM0QoZSl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuaXMzRD1lKX1nZXQgaXMyREFycmF5KCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pczJEQXJyYXk6ITF9c2V0IGlzMkRBcnJheShlKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5pczJEQXJyYXk9ZSl9Z2V0IGdhbW1hU3BhY2UoKXtpZih0aGlzLl90ZXh0dXJlKXRoaXMuX3RleHR1cmUuX2dhbW1hU3BhY2U9PT1udWxsJiYodGhpcy5fdGV4dHVyZS5fZ2FtbWFTcGFjZT10aGlzLl9nYW1tYVNwYWNlKTtlbHNlIHJldHVybiB0aGlzLl9nYW1tYVNwYWNlO3JldHVybiB0aGlzLl90ZXh0dXJlLl9nYW1tYVNwYWNlJiYhdGhpcy5fdGV4dHVyZS5fdXNlU1JHQkJ1ZmZlcn1zZXQgZ2FtbWFTcGFjZShlKXtpZih0aGlzLl90ZXh0dXJlKXtpZih0aGlzLl90ZXh0dXJlLl9nYW1tYVNwYWNlPT09ZSlyZXR1cm47dGhpcy5fdGV4dHVyZS5fZ2FtbWFTcGFjZT1lfWVsc2V7aWYodGhpcy5fZ2FtbWFTcGFjZT09PWUpcmV0dXJuO3RoaXMuX2dhbW1hU3BhY2U9ZX10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5KCl9Z2V0IGlzUkdCRCgpe3JldHVybiB0aGlzLl90ZXh0dXJlIT1udWxsJiZ0aGlzLl90ZXh0dXJlLl9pc1JHQkR9c2V0IGlzUkdCRChlKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5faXNSR0JEPWUpfWdldCBub01pcG1hcCgpe3JldHVybiExfWdldCBsb2RHZW5lcmF0aW9uT2Zmc2V0KCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5fbG9kR2VuZXJhdGlvbk9mZnNldDowfXNldCBsb2RHZW5lcmF0aW9uT2Zmc2V0KGUpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLl9sb2RHZW5lcmF0aW9uT2Zmc2V0PWUpfWdldCBsb2RHZW5lcmF0aW9uU2NhbGUoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLl9sb2RHZW5lcmF0aW9uU2NhbGU6MH1zZXQgbG9kR2VuZXJhdGlvblNjYWxlKGUpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLl9sb2RHZW5lcmF0aW9uU2NhbGU9ZSl9Z2V0IGxpbmVhclNwZWN1bGFyTE9EKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5fbGluZWFyU3BlY3VsYXJMT0Q6ITF9c2V0IGxpbmVhclNwZWN1bGFyTE9EKGUpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLl9saW5lYXJTcGVjdWxhckxPRD1lKX1nZXQgaXJyYWRpYW5jZVRleHR1cmUoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLl9pcnJhZGlhbmNlVGV4dHVyZTpudWxsfXNldCBpcnJhZGlhbmNlVGV4dHVyZShlKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5faXJyYWRpYW5jZVRleHR1cmU9ZSl9Z2V0IHVpZCgpe3JldHVybiB0aGlzLl91aWR8fCh0aGlzLl91aWQ9bHIoKSksdGhpcy5fdWlkfXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMubmFtZX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iQmFzZVRleHR1cmUifXNldCBvbkRpc3Bvc2UoZSl7dGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXImJnRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXIpLHRoaXMuX29uRGlzcG9zZU9ic2VydmVyPXRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5hZGQoZSl9Z2V0IGlzQmxvY2tpbmcoKXtyZXR1cm4hMH1nZXQgbG9hZGluZ0Vycm9yKCl7cmV0dXJuIHRoaXMuX2xvYWRpbmdFcnJvcn1nZXQgZXJyb3JPYmplY3QoKXtyZXR1cm4gdGhpcy5fZXJyb3JPYmplY3R9Z2V0U2NlbmUoKXtyZXR1cm4gdGhpcy5fc2NlbmV9X2dldEVuZ2luZSgpe3JldHVybiB0aGlzLl9lbmdpbmV9Y2hlY2tUcmFuc2Zvcm1zQXJlSWRlbnRpY2FsKGUpe3JldHVybiBlIT09bnVsbH1nZXRUZXh0dXJlTWF0cml4KCl7cmV0dXJuIHguSWRlbnRpdHlSZWFkT25seX1nZXRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeCgpe3JldHVybiB4LklkZW50aXR5UmVhZE9ubHl9aXNSZWFkeU9yTm90QmxvY2tpbmcoKXtyZXR1cm4hdGhpcy5pc0Jsb2NraW5nfHx0aGlzLmlzUmVhZHkoKXx8dGhpcy5sb2FkaW5nRXJyb3J9c2NhbGUoZSl7fWdldCBjYW5SZXNjYWxlKCl7cmV0dXJuITF9X2dldEZyb21DYWNoZShlLHQsaSxzLHIsbil7Y29uc3QgYT10aGlzLl9nZXRFbmdpbmUoKTtpZighYSlyZXR1cm4gbnVsbDtjb25zdCBvPWEuX2dldFVzZVNSR0JCdWZmZXIoISFyLHQpLGg9YS5nZXRMb2FkZWRUZXh0dXJlc0NhY2hlKCk7Zm9yKGxldCBsPTA7bDxoLmxlbmd0aDtsKyspe2NvbnN0IHU9aFtsXTtpZigocj09PXZvaWQgMHx8bz09PXUuX3VzZVNSR0JCdWZmZXIpJiYocz09PXZvaWQgMHx8cz09PXUuaW52ZXJ0WSkmJnUudXJsPT09ZSYmdS5nZW5lcmF0ZU1pcE1hcHM9PT0hdCYmKCFpfHxpPT09dS5zYW1wbGluZ01vZGUpJiYobj09PXZvaWQgMHx8bj09PXUuaXNDdWJlKSlyZXR1cm4gdS5pbmNyZW1lbnRSZWZlcmVuY2VzKCksdX1yZXR1cm4gbnVsbH1fcmVidWlsZCgpe31jbG9uZSgpe3JldHVybiBudWxsfWdldCB0ZXh0dXJlVHlwZSgpe3JldHVybiB0aGlzLl90ZXh0dXJlJiZ0aGlzLl90ZXh0dXJlLnR5cGUhPT12b2lkIDA/dGhpcy5fdGV4dHVyZS50eXBlOjB9Z2V0IHRleHR1cmVGb3JtYXQoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZSYmdGhpcy5fdGV4dHVyZS5mb3JtYXQhPT12b2lkIDA/dGhpcy5fdGV4dHVyZS5mb3JtYXQ6NX1fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSgpe2NvbnN0IGU9dGhpcy5nZXRTY2VuZSgpO2UmJmUubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSl9cmVhZFBpeGVscyhlPTAsdD0wLGk9bnVsbCxzPSEwLHI9ITEsbj0wLGE9MCxvPU51bWJlci5NQVhfVkFMVUUsaD1OdW1iZXIuTUFYX1ZBTFVFKXtpZighdGhpcy5fdGV4dHVyZSlyZXR1cm4gbnVsbDtjb25zdCBsPXRoaXMuX2dldEVuZ2luZSgpO2lmKCFsKXJldHVybiBudWxsO2NvbnN0IHU9dGhpcy5nZXRTaXplKCk7bGV0IGQ9dS53aWR0aCxmPXUuaGVpZ2h0O3QhPT0wJiYoZD1kL01hdGgucG93KDIsdCksZj1mL01hdGgucG93KDIsdCksZD1NYXRoLnJvdW5kKGQpLGY9TWF0aC5yb3VuZChmKSksbz1NYXRoLm1pbihkLG8pLGg9TWF0aC5taW4oZixoKTt0cnl7cmV0dXJuIHRoaXMuX3RleHR1cmUuaXNDdWJlP2wuX3JlYWRUZXh0dXJlUGl4ZWxzKHRoaXMuX3RleHR1cmUsbyxoLGUsdCxpLHMscixuLGEpOmwuX3JlYWRUZXh0dXJlUGl4ZWxzKHRoaXMuX3RleHR1cmUsbyxoLC0xLHQsaSxzLHIsbixhKX1jYXRjaHtyZXR1cm4gbnVsbH19X3JlYWRQaXhlbHNTeW5jKGU9MCx0PTAsaT1udWxsLHM9ITAscj0hMSl7aWYoIXRoaXMuX3RleHR1cmUpcmV0dXJuIG51bGw7Y29uc3Qgbj10aGlzLmdldFNpemUoKTtsZXQgYT1uLndpZHRoLG89bi5oZWlnaHQ7Y29uc3QgaD10aGlzLl9nZXRFbmdpbmUoKTtpZighaClyZXR1cm4gbnVsbDt0IT0wJiYoYT1hL01hdGgucG93KDIsdCksbz1vL01hdGgucG93KDIsdCksYT1NYXRoLnJvdW5kKGEpLG89TWF0aC5yb3VuZChvKSk7dHJ5e3JldHVybiB0aGlzLl90ZXh0dXJlLmlzQ3ViZT9oLl9yZWFkVGV4dHVyZVBpeGVsc1N5bmModGhpcy5fdGV4dHVyZSxhLG8sZSx0LGkscyxyKTpoLl9yZWFkVGV4dHVyZVBpeGVsc1N5bmModGhpcy5fdGV4dHVyZSxhLG8sLTEsdCxpLHMscil9Y2F0Y2h7cmV0dXJuIG51bGx9fWdldCBfbG9kVGV4dHVyZUhpZ2goKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLl9sb2RUZXh0dXJlSGlnaDpudWxsfWdldCBfbG9kVGV4dHVyZU1pZCgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2xvZFRleHR1cmVNaWQ6bnVsbH1nZXQgX2xvZFRleHR1cmVMb3coKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLl9sb2RUZXh0dXJlTG93Om51bGx9ZGlzcG9zZSgpe2lmKHRoaXMuX3NjZW5lKXt0aGlzLl9zY2VuZS5zdG9wQW5pbWF0aW9uJiZ0aGlzLl9zY2VuZS5zdG9wQW5pbWF0aW9uKHRoaXMpLHRoaXMuX3NjZW5lLnJlbW92ZVBlbmRpbmdEYXRhKHRoaXMpO2NvbnN0IGU9dGhpcy5fc2NlbmUudGV4dHVyZXMuaW5kZXhPZih0aGlzKTtpZihlPj0wJiZ0aGlzLl9zY2VuZS50ZXh0dXJlcy5zcGxpY2UoZSwxKSx0aGlzLl9zY2VuZS5vblRleHR1cmVSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fc2NlbmU9bnVsbCx0aGlzLl9wYXJlbnRDb250YWluZXIpe2NvbnN0IHQ9dGhpcy5fcGFyZW50Q29udGFpbmVyLnRleHR1cmVzLmluZGV4T2YodGhpcyk7dD4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLnRleHR1cmVzLnNwbGljZSh0LDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfX10aGlzLm9uRGlzcG9zZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMubWV0YWRhdGE9bnVsbCxzdXBlci5kaXNwb3NlKCl9c2VyaWFsaXplKGU9ITEpe2lmKCF0aGlzLm5hbWUmJiFlKXJldHVybiBudWxsO2NvbnN0IHQ9YWUuU2VyaWFsaXplKHRoaXMpO3JldHVybiBhZS5BcHBlbmRTZXJpYWxpemVkQW5pbWF0aW9ucyh0aGlzLHQpLHR9c3RhdGljIFdoZW5BbGxSZWFkeShlLHQpe2xldCBpPWUubGVuZ3RoO2lmKGk9PT0wKXt0KCk7cmV0dXJufWZvcihsZXQgcz0wO3M8ZS5sZW5ndGg7cysrKXtjb25zdCByPWVbc107aWYoci5pc1JlYWR5KCkpLS1pPT09MCYmdCgpO2Vsc2V7Y29uc3Qgbj1yLm9uTG9hZE9ic2VydmFibGU7bj9uLmFkZE9uY2UoKCk9PnstLWk9PT0wJiZ0KCl9KTotLWk9PT0wJiZ0KCl9fX1zdGF0aWMgX0lzU2NlbmUoZSl7cmV0dXJuIGUuZ2V0Q2xhc3NOYW1lKCk9PT0iU2NlbmUifX1SZS5ERUZBVUxUX0FOSVNPVFJPUElDX0ZJTFRFUklOR19MRVZFTD00LFQoW1IoKV0sUmUucHJvdG90eXBlLCJ1bmlxdWVJZCIsdm9pZCAwKSxUKFtSKCldLFJlLnByb3RvdHlwZSwibmFtZSIsdm9pZCAwKSxUKFtSKCldLFJlLnByb3RvdHlwZSwibWV0YWRhdGEiLHZvaWQgMCksVChbUigiaGFzQWxwaGEiKV0sUmUucHJvdG90eXBlLCJfaGFzQWxwaGEiLHZvaWQgMCksVChbUigiZ2V0QWxwaGFGcm9tUkdCIildLFJlLnByb3RvdHlwZSwiX2dldEFscGhhRnJvbVJHQiIsdm9pZCAwKSxUKFtSKCldLFJlLnByb3RvdHlwZSwibGV2ZWwiLHZvaWQgMCksVChbUigiY29vcmRpbmF0ZXNJbmRleCIpXSxSZS5wcm90b3R5cGUsIl9jb29yZGluYXRlc0luZGV4Iix2b2lkIDApLFQoW1IoKV0sUmUucHJvdG90eXBlLCJvcHRpbWl6ZVVWQWxsb2NhdGlvbiIsdm9pZCAwKSxUKFtSKCJjb29yZGluYXRlc01vZGUiKV0sUmUucHJvdG90eXBlLCJfY29vcmRpbmF0ZXNNb2RlIix2b2lkIDApLFQoW1IoKV0sUmUucHJvdG90eXBlLCJ3cmFwVSIsbnVsbCksVChbUigpXSxSZS5wcm90b3R5cGUsIndyYXBWIixudWxsKSxUKFtSKCldLFJlLnByb3RvdHlwZSwid3JhcFIiLHZvaWQgMCksVChbUigpXSxSZS5wcm90b3R5cGUsImFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWwiLHZvaWQgMCksVChbUigpXSxSZS5wcm90b3R5cGUsImlzQ3ViZSIsbnVsbCksVChbUigpXSxSZS5wcm90b3R5cGUsImlzM0QiLG51bGwpLFQoW1IoKV0sUmUucHJvdG90eXBlLCJpczJEQXJyYXkiLG51bGwpLFQoW1IoKV0sUmUucHJvdG90eXBlLCJnYW1tYVNwYWNlIixudWxsKSxUKFtSKCldLFJlLnByb3RvdHlwZSwiaW52ZXJ0WiIsdm9pZCAwKSxUKFtSKCldLFJlLnByb3RvdHlwZSwibG9kTGV2ZWxJbkFscGhhIix2b2lkIDApLFQoW1IoKV0sUmUucHJvdG90eXBlLCJsb2RHZW5lcmF0aW9uT2Zmc2V0IixudWxsKSxUKFtSKCldLFJlLnByb3RvdHlwZSwibG9kR2VuZXJhdGlvblNjYWxlIixudWxsKSxUKFtSKCldLFJlLnByb3RvdHlwZSwibGluZWFyU3BlY3VsYXJMT0QiLG51bGwpLFQoW210KCldLFJlLnByb3RvdHlwZSwiaXJyYWRpYW5jZVRleHR1cmUiLG51bGwpLFQoW1IoKV0sUmUucHJvdG90eXBlLCJpc1JlbmRlclRhcmdldCIsdm9pZCAwKTtmdW5jdGlvbiBGcihjLGUsdD0hMSl7Y29uc3QgaT1lLndpZHRoLHM9ZS5oZWlnaHQ7aWYoYyBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSl7bGV0IGg9Yy5ieXRlTGVuZ3RoL2MuQllURVNfUEVSX0VMRU1FTlQ7Y29uc3QgbD1uZXcgVWludDhBcnJheShoKTtmb3IoOy0taD49MDspe2xldCB1PWNbaF07dTwwP3U9MDp1PjEmJih1PTEpLGxbaF09dSoyNTV9Yz1sfWNvbnN0IHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7ci53aWR0aD1pLHIuaGVpZ2h0PXM7Y29uc3Qgbj1yLmdldENvbnRleHQoIjJkIik7aWYoIW4pcmV0dXJuIG51bGw7Y29uc3QgYT1uLmNyZWF0ZUltYWdlRGF0YShpLHMpO2lmKGEuZGF0YS5zZXQoYyksbi5wdXRJbWFnZURhdGEoYSwwLDApLHQpe2NvbnN0IGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7aC53aWR0aD1pLGguaGVpZ2h0PXM7Y29uc3QgbD1oLmdldENvbnRleHQoIjJkIik7cmV0dXJuIGw/KGwudHJhbnNsYXRlKDAscyksbC5zY2FsZSgxLC0xKSxsLmRyYXdJbWFnZShyLDAsMCksaC50b0RhdGFVUkwoImltYWdlL3BuZyIpKTpudWxsfXJldHVybiByLnRvRGF0YVVSTCgiaW1hZ2UvcG5nIil9ZnVuY3Rpb24gcW4oYyxlPTAsdD0wKXtjb25zdCBpPWMuZ2V0SW50ZXJuYWxUZXh0dXJlKCk7aWYoIWkpcmV0dXJuIG51bGw7Y29uc3Qgcz1jLl9yZWFkUGl4ZWxzU3luYyhlLHQpO3JldHVybiBzP0ZyKHMsYy5nZXRTaXplKCksaS5pbnZlcnRZKTpudWxsfWFzeW5jIGZ1bmN0aW9uIGpuKGMsZT0wLHQ9MCl7Y29uc3QgaT1jLmdldEludGVybmFsVGV4dHVyZSgpO2lmKCFpKXJldHVybiBudWxsO2NvbnN0IHM9YXdhaXQgYy5yZWFkUGl4ZWxzKGUsdCk7cmV0dXJuIHM/RnIocyxjLmdldFNpemUoKSxpLmludmVydFkpOm51bGx9Y2xhc3MgTiBleHRlbmRzIFJle2NvbnN0cnVjdG9yKGUsdCxpLHMscj1OLlRSSUxJTkVBUl9TQU1QTElOR01PREUsbj1udWxsLGE9bnVsbCxvPW51bGwsaD0hMSxsLHUsZCxmLF8pe3ZhciBFLG0sdixTLHksQSxDLGIsTTtzdXBlcih0KSx0aGlzLnVybD1udWxsLHRoaXMudU9mZnNldD0wLHRoaXMudk9mZnNldD0wLHRoaXMudVNjYWxlPTEsdGhpcy52U2NhbGU9MSx0aGlzLnVBbmc9MCx0aGlzLnZBbmc9MCx0aGlzLndBbmc9MCx0aGlzLnVSb3RhdGlvbkNlbnRlcj0uNSx0aGlzLnZSb3RhdGlvbkNlbnRlcj0uNSx0aGlzLndSb3RhdGlvbkNlbnRlcj0uNSx0aGlzLmhvbW9nZW5lb3VzUm90YXRpb25JblVWVHJhbnNmb3JtPSExLHRoaXMuaW5zcGVjdGFibGVDdXN0b21Qcm9wZXJ0aWVzPW51bGwsdGhpcy5fbm9NaXBtYXA9ITEsdGhpcy5faW52ZXJ0WT0hMSx0aGlzLl9yb3dHZW5lcmF0aW9uTWF0cml4PW51bGwsdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeD1udWxsLHRoaXMuX3Byb2plY3Rpb25Nb2RlTWF0cml4PW51bGwsdGhpcy5fdDA9bnVsbCx0aGlzLl90MT1udWxsLHRoaXMuX3QyPW51bGwsdGhpcy5fY2FjaGVkVU9mZnNldD0tMSx0aGlzLl9jYWNoZWRWT2Zmc2V0PS0xLHRoaXMuX2NhY2hlZFVTY2FsZT0wLHRoaXMuX2NhY2hlZFZTY2FsZT0wLHRoaXMuX2NhY2hlZFVBbmc9LTEsdGhpcy5fY2FjaGVkVkFuZz0tMSx0aGlzLl9jYWNoZWRXQW5nPS0xLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25Qcm9qZWN0aW9uTWF0cml4SWQ9LTEsdGhpcy5fY2FjaGVkVVJvdGF0aW9uQ2VudGVyPS0xLHRoaXMuX2NhY2hlZFZSb3RhdGlvbkNlbnRlcj0tMSx0aGlzLl9jYWNoZWRXUm90YXRpb25DZW50ZXI9LTEsdGhpcy5fY2FjaGVkSG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm09ITEsdGhpcy5fY2FjaGVkUmVmbGVjdGlvblRleHR1cmVNYXRyaXg9bnVsbCx0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVU9mZnNldD0tMSx0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVk9mZnNldD0tMSx0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVVNjYWxlPTAsdGhpcy5fY2FjaGVkUmVmbGVjdGlvblZTY2FsZT0wLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25Db29yZGluYXRlc01vZGU9LTEsdGhpcy5fYnVmZmVyPW51bGwsdGhpcy5fZGVsZXRlQnVmZmVyPSExLHRoaXMuX2Zvcm1hdD1udWxsLHRoaXMuX2RlbGF5ZWRPbkxvYWQ9bnVsbCx0aGlzLl9kZWxheWVkT25FcnJvcj1udWxsLHRoaXMub25Mb2FkT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9pc0Jsb2NraW5nPSEwLHRoaXMubmFtZT1lfHwiIix0aGlzLnVybD1lO2xldCBMLGs9ITEsdz1udWxsO3R5cGVvZiBpPT0ib2JqZWN0IiYmaSE9PW51bGw/KEw9KEU9aS5ub01pcG1hcCkhPT1udWxsJiZFIT09dm9pZCAwP0U6ITEscz0obT1pLmludmVydFkpIT09bnVsbCYmbSE9PXZvaWQgMD9tOiFmdC5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWLHI9KHY9aS5zYW1wbGluZ01vZGUpIT09bnVsbCYmdiE9PXZvaWQgMD92Ok4uVFJJTElORUFSX1NBTVBMSU5HTU9ERSxuPShTPWkub25Mb2FkKSE9PW51bGwmJlMhPT12b2lkIDA/UzpudWxsLGE9KHk9aS5vbkVycm9yKSE9PW51bGwmJnkhPT12b2lkIDA/eTpudWxsLG89KEE9aS5idWZmZXIpIT09bnVsbCYmQSE9PXZvaWQgMD9BOm51bGwsaD0oQz1pLmRlbGV0ZUJ1ZmZlcikhPT1udWxsJiZDIT09dm9pZCAwP0M6ITEsbD1pLmZvcm1hdCx1PWkubWltZVR5cGUsZD1pLmxvYWRlck9wdGlvbnMsZj1pLmNyZWF0aW9uRmxhZ3Msaz0oYj1pLnVzZVNSR0JCdWZmZXIpIT09bnVsbCYmYiE9PXZvaWQgMD9iOiExLHc9KE09aS5pbnRlcm5hbFRleHR1cmUpIT09bnVsbCYmTSE9PXZvaWQgMD9NOm51bGwpOkw9ISFpLHRoaXMuX25vTWlwbWFwPUwsdGhpcy5faW52ZXJ0WT1zPT09dm9pZCAwPyFmdC5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWOnMsdGhpcy5faW5pdGlhbFNhbXBsaW5nTW9kZT1yLHRoaXMuX2J1ZmZlcj1vLHRoaXMuX2RlbGV0ZUJ1ZmZlcj1oLHRoaXMuX21pbWVUeXBlPXUsdGhpcy5fbG9hZGVyT3B0aW9ucz1kLHRoaXMuX2NyZWF0aW9uRmxhZ3M9Zix0aGlzLl91c2VTUkdCQnVmZmVyPWssdGhpcy5fZm9yY2VkRXh0ZW5zaW9uPV8sbCYmKHRoaXMuX2Zvcm1hdD1sKTtjb25zdCBkZT10aGlzLmdldFNjZW5lKCksY2U9dGhpcy5fZ2V0RW5naW5lKCk7aWYoIWNlKXJldHVybjtjZS5vbkJlZm9yZVRleHR1cmVJbml0T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7Y29uc3Qgc2U9KCk9Pnt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5faW52ZXJ0VlNjYWxlJiYodGhpcy52U2NhbGUqPS0xLHRoaXMudk9mZnNldCs9MSksdGhpcy5fdGV4dHVyZS5fY2FjaGVkV3JhcFUhPT1udWxsJiYodGhpcy53cmFwVT10aGlzLl90ZXh0dXJlLl9jYWNoZWRXcmFwVSx0aGlzLl90ZXh0dXJlLl9jYWNoZWRXcmFwVT1udWxsKSx0aGlzLl90ZXh0dXJlLl9jYWNoZWRXcmFwViE9PW51bGwmJih0aGlzLndyYXBWPXRoaXMuX3RleHR1cmUuX2NhY2hlZFdyYXBWLHRoaXMuX3RleHR1cmUuX2NhY2hlZFdyYXBWPW51bGwpLHRoaXMuX3RleHR1cmUuX2NhY2hlZFdyYXBSIT09bnVsbCYmKHRoaXMud3JhcFI9dGhpcy5fdGV4dHVyZS5fY2FjaGVkV3JhcFIsdGhpcy5fdGV4dHVyZS5fY2FjaGVkV3JhcFI9bnVsbCkpLHRoaXMub25Mb2FkT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSYmdGhpcy5vbkxvYWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSxuJiZuKCksIXRoaXMuaXNCbG9ja2luZyYmZGUmJmRlLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKX0sdGU9KEZlLHdlKT0+e3RoaXMuX2xvYWRpbmdFcnJvcj0hMCx0aGlzLl9lcnJvck9iamVjdD17bWVzc2FnZTpGZSxleGNlcHRpb246d2V9LGEmJmEoRmUsd2UpLE4uT25UZXh0dXJlTG9hZEVycm9yT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9O2lmKCF0aGlzLnVybCYmIXcpe3RoaXMuX2RlbGF5ZWRPbkxvYWQ9c2UsdGhpcy5fZGVsYXllZE9uRXJyb3I9dGU7cmV0dXJufWlmKHRoaXMuX3RleHR1cmU9dz8/dGhpcy5fZ2V0RnJvbUNhY2hlKHRoaXMudXJsLEwscix0aGlzLl9pbnZlcnRZLGspLHRoaXMuX3RleHR1cmUpaWYodGhpcy5fdGV4dHVyZS5pc1JlYWR5KVhpLlNldEltbWVkaWF0ZSgoKT0+c2UoKSk7ZWxzZXtjb25zdCBGZT10aGlzLl90ZXh0dXJlLm9uTG9hZGVkT2JzZXJ2YWJsZS5hZGQoc2UpO3RoaXMuX3RleHR1cmUub25FcnJvck9ic2VydmFibGUuYWRkKHdlPT57dmFyIEhlO3RlKHdlLm1lc3NhZ2Usd2UuZXhjZXB0aW9uKSwoSGU9dGhpcy5fdGV4dHVyZSk9PT1udWxsfHxIZT09PXZvaWQgMHx8SGUub25Mb2FkZWRPYnNlcnZhYmxlLnJlbW92ZShGZSl9KX1lbHNlIGlmKCFkZXx8IWRlLnVzZURlbGF5ZWRUZXh0dXJlTG9hZGluZyl7dHJ5e3RoaXMuX3RleHR1cmU9Y2UuY3JlYXRlVGV4dHVyZSh0aGlzLnVybCxMLHRoaXMuX2ludmVydFksZGUscixzZSx0ZSx0aGlzLl9idWZmZXIsdm9pZCAwLHRoaXMuX2Zvcm1hdCx0aGlzLl9mb3JjZWRFeHRlbnNpb24sdSxkLGYsayl9Y2F0Y2goRmUpe3Rocm93IHRlKCJlcnJvciBsb2FkaW5nIixGZSksRmV9aCYmKHRoaXMuX2J1ZmZlcj1udWxsKX1lbHNlIHRoaXMuZGVsYXlMb2FkU3RhdGU9NCx0aGlzLl9kZWxheWVkT25Mb2FkPXNlLHRoaXMuX2RlbGF5ZWRPbkVycm9yPXRlfWdldCBub01pcG1hcCgpe3JldHVybiB0aGlzLl9ub01pcG1hcH1nZXQgbWltZVR5cGUoKXtyZXR1cm4gdGhpcy5fbWltZVR5cGV9c2V0IGlzQmxvY2tpbmcoZSl7dGhpcy5faXNCbG9ja2luZz1lfWdldCBpc0Jsb2NraW5nKCl7cmV0dXJuIHRoaXMuX2lzQmxvY2tpbmd9Z2V0IGludmVydFkoKXtyZXR1cm4gdGhpcy5faW52ZXJ0WX11cGRhdGVVUkwoZSx0PW51bGwsaSxzKXt0aGlzLnVybCYmKHRoaXMucmVsZWFzZUludGVybmFsVGV4dHVyZSgpLHRoaXMuZ2V0U2NlbmUoKS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSksKCF0aGlzLm5hbWV8fHRoaXMubmFtZS5zdGFydHNXaXRoKCJkYXRhOiIpKSYmKHRoaXMubmFtZT1lKSx0aGlzLnVybD1lLHRoaXMuX2J1ZmZlcj10LHRoaXMuX2ZvcmNlZEV4dGVuc2lvbj1zLHRoaXMuZGVsYXlMb2FkU3RhdGU9NCxpJiYodGhpcy5fZGVsYXllZE9uTG9hZD1pKSx0aGlzLmRlbGF5TG9hZCgpfWRlbGF5TG9hZCgpe2lmKHRoaXMuZGVsYXlMb2FkU3RhdGUhPT00KXJldHVybjtjb25zdCBlPXRoaXMuZ2V0U2NlbmUoKTtlJiYodGhpcy5kZWxheUxvYWRTdGF0ZT0xLHRoaXMuX3RleHR1cmU9dGhpcy5fZ2V0RnJvbUNhY2hlKHRoaXMudXJsLHRoaXMuX25vTWlwbWFwLHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2ludmVydFksdGhpcy5fdXNlU1JHQkJ1ZmZlciksdGhpcy5fdGV4dHVyZT90aGlzLl9kZWxheWVkT25Mb2FkJiYodGhpcy5fdGV4dHVyZS5pc1JlYWR5P1hpLlNldEltbWVkaWF0ZSh0aGlzLl9kZWxheWVkT25Mb2FkKTp0aGlzLl90ZXh0dXJlLm9uTG9hZGVkT2JzZXJ2YWJsZS5hZGQodGhpcy5fZGVsYXllZE9uTG9hZCkpOih0aGlzLl90ZXh0dXJlPWUuZ2V0RW5naW5lKCkuY3JlYXRlVGV4dHVyZSh0aGlzLnVybCx0aGlzLl9ub01pcG1hcCx0aGlzLl9pbnZlcnRZLGUsdGhpcy5zYW1wbGluZ01vZGUsdGhpcy5fZGVsYXllZE9uTG9hZCx0aGlzLl9kZWxheWVkT25FcnJvcix0aGlzLl9idWZmZXIsbnVsbCx0aGlzLl9mb3JtYXQsdGhpcy5fZm9yY2VkRXh0ZW5zaW9uLHRoaXMuX21pbWVUeXBlLHRoaXMuX2xvYWRlck9wdGlvbnMsdGhpcy5fY3JlYXRpb25GbGFncyx0aGlzLl91c2VTUkdCQnVmZmVyKSx0aGlzLl9kZWxldGVCdWZmZXImJih0aGlzLl9idWZmZXI9bnVsbCkpLHRoaXMuX2RlbGF5ZWRPbkxvYWQ9bnVsbCx0aGlzLl9kZWxheWVkT25FcnJvcj1udWxsKX1fcHJlcGFyZVJvd0ZvclRleHR1cmVHZW5lcmF0aW9uKGUsdCxpLHMpe2UqPXRoaXMuX2NhY2hlZFVTY2FsZSx0Kj10aGlzLl9jYWNoZWRWU2NhbGUsZS09dGhpcy51Um90YXRpb25DZW50ZXIqdGhpcy5fY2FjaGVkVVNjYWxlLHQtPXRoaXMudlJvdGF0aW9uQ2VudGVyKnRoaXMuX2NhY2hlZFZTY2FsZSxpLT10aGlzLndSb3RhdGlvbkNlbnRlcixwLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHRoaXMuX3Jvd0dlbmVyYXRpb25NYXRyaXgscykscy54Kz10aGlzLnVSb3RhdGlvbkNlbnRlcip0aGlzLl9jYWNoZWRVU2NhbGUrdGhpcy5fY2FjaGVkVU9mZnNldCxzLnkrPXRoaXMudlJvdGF0aW9uQ2VudGVyKnRoaXMuX2NhY2hlZFZTY2FsZSt0aGlzLl9jYWNoZWRWT2Zmc2V0LHMueis9dGhpcy53Um90YXRpb25DZW50ZXJ9Y2hlY2tUcmFuc2Zvcm1zQXJlSWRlbnRpY2FsKGUpe3JldHVybiBlIT09bnVsbCYmdGhpcy51T2Zmc2V0PT09ZS51T2Zmc2V0JiZ0aGlzLnZPZmZzZXQ9PT1lLnZPZmZzZXQmJnRoaXMudVNjYWxlPT09ZS51U2NhbGUmJnRoaXMudlNjYWxlPT09ZS52U2NhbGUmJnRoaXMudUFuZz09PWUudUFuZyYmdGhpcy52QW5nPT09ZS52QW5nJiZ0aGlzLndBbmc9PT1lLndBbmd9Z2V0VGV4dHVyZU1hdHJpeChlPTEpe2lmKHRoaXMudU9mZnNldD09PXRoaXMuX2NhY2hlZFVPZmZzZXQmJnRoaXMudk9mZnNldD09PXRoaXMuX2NhY2hlZFZPZmZzZXQmJnRoaXMudVNjYWxlKmU9PT10aGlzLl9jYWNoZWRVU2NhbGUmJnRoaXMudlNjYWxlPT09dGhpcy5fY2FjaGVkVlNjYWxlJiZ0aGlzLnVBbmc9PT10aGlzLl9jYWNoZWRVQW5nJiZ0aGlzLnZBbmc9PT10aGlzLl9jYWNoZWRWQW5nJiZ0aGlzLndBbmc9PT10aGlzLl9jYWNoZWRXQW5nJiZ0aGlzLnVSb3RhdGlvbkNlbnRlcj09PXRoaXMuX2NhY2hlZFVSb3RhdGlvbkNlbnRlciYmdGhpcy52Um90YXRpb25DZW50ZXI9PT10aGlzLl9jYWNoZWRWUm90YXRpb25DZW50ZXImJnRoaXMud1JvdGF0aW9uQ2VudGVyPT09dGhpcy5fY2FjaGVkV1JvdGF0aW9uQ2VudGVyJiZ0aGlzLmhvbW9nZW5lb3VzUm90YXRpb25JblVWVHJhbnNmb3JtPT09dGhpcy5fY2FjaGVkSG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm0pcmV0dXJuIHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXg7dGhpcy5fY2FjaGVkVU9mZnNldD10aGlzLnVPZmZzZXQsdGhpcy5fY2FjaGVkVk9mZnNldD10aGlzLnZPZmZzZXQsdGhpcy5fY2FjaGVkVVNjYWxlPXRoaXMudVNjYWxlKmUsdGhpcy5fY2FjaGVkVlNjYWxlPXRoaXMudlNjYWxlLHRoaXMuX2NhY2hlZFVBbmc9dGhpcy51QW5nLHRoaXMuX2NhY2hlZFZBbmc9dGhpcy52QW5nLHRoaXMuX2NhY2hlZFdBbmc9dGhpcy53QW5nLHRoaXMuX2NhY2hlZFVSb3RhdGlvbkNlbnRlcj10aGlzLnVSb3RhdGlvbkNlbnRlcix0aGlzLl9jYWNoZWRWUm90YXRpb25DZW50ZXI9dGhpcy52Um90YXRpb25DZW50ZXIsdGhpcy5fY2FjaGVkV1JvdGF0aW9uQ2VudGVyPXRoaXMud1JvdGF0aW9uQ2VudGVyLHRoaXMuX2NhY2hlZEhvbW9nZW5lb3VzUm90YXRpb25JblVWVHJhbnNmb3JtPXRoaXMuaG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm0sKCF0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4fHwhdGhpcy5fcm93R2VuZXJhdGlvbk1hdHJpeCkmJih0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4PXguWmVybygpLHRoaXMuX3Jvd0dlbmVyYXRpb25NYXRyaXg9bmV3IHgsdGhpcy5fdDA9cC5aZXJvKCksdGhpcy5fdDE9cC5aZXJvKCksdGhpcy5fdDI9cC5aZXJvKCkpLHguUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0aGlzLnZBbmcsdGhpcy51QW5nLHRoaXMud0FuZyx0aGlzLl9yb3dHZW5lcmF0aW9uTWF0cml4KSx0aGlzLmhvbW9nZW5lb3VzUm90YXRpb25JblVWVHJhbnNmb3JtPyh4LlRyYW5zbGF0aW9uVG9SZWYoLXRoaXMuX2NhY2hlZFVSb3RhdGlvbkNlbnRlciwtdGhpcy5fY2FjaGVkVlJvdGF0aW9uQ2VudGVyLC10aGlzLl9jYWNoZWRXUm90YXRpb25DZW50ZXIsRC5NYXRyaXhbMF0pLHguVHJhbnNsYXRpb25Ub1JlZih0aGlzLl9jYWNoZWRVUm90YXRpb25DZW50ZXIsdGhpcy5fY2FjaGVkVlJvdGF0aW9uQ2VudGVyLHRoaXMuX2NhY2hlZFdSb3RhdGlvbkNlbnRlcixELk1hdHJpeFsxXSkseC5TY2FsaW5nVG9SZWYodGhpcy5fY2FjaGVkVVNjYWxlLHRoaXMuX2NhY2hlZFZTY2FsZSwwLEQuTWF0cml4WzJdKSx4LlRyYW5zbGF0aW9uVG9SZWYodGhpcy5fY2FjaGVkVU9mZnNldCx0aGlzLl9jYWNoZWRWT2Zmc2V0LDAsRC5NYXRyaXhbM10pLEQuTWF0cml4WzBdLm11bHRpcGx5VG9SZWYodGhpcy5fcm93R2VuZXJhdGlvbk1hdHJpeCx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4Lm11bHRpcGx5VG9SZWYoRC5NYXRyaXhbMV0sdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeCksdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeC5tdWx0aXBseVRvUmVmKEQuTWF0cml4WzJdLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgpLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgubXVsdGlwbHlUb1JlZihELk1hdHJpeFszXSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4LnNldFJvd0Zyb21GbG9hdHMoMix0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4Lm1bMTJdLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgubVsxM10sdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeC5tWzE0XSwxKSk6KHRoaXMuX3ByZXBhcmVSb3dGb3JUZXh0dXJlR2VuZXJhdGlvbigwLDAsMCx0aGlzLl90MCksdGhpcy5fcHJlcGFyZVJvd0ZvclRleHR1cmVHZW5lcmF0aW9uKDEsMCwwLHRoaXMuX3QxKSx0aGlzLl9wcmVwYXJlUm93Rm9yVGV4dHVyZUdlbmVyYXRpb24oMCwxLDAsdGhpcy5fdDIpLHRoaXMuX3QxLnN1YnRyYWN0SW5QbGFjZSh0aGlzLl90MCksdGhpcy5fdDIuc3VidHJhY3RJblBsYWNlKHRoaXMuX3QwKSx4LkZyb21WYWx1ZXNUb1JlZih0aGlzLl90MS54LHRoaXMuX3QxLnksdGhpcy5fdDEueiwwLHRoaXMuX3QyLngsdGhpcy5fdDIueSx0aGlzLl90Mi56LDAsdGhpcy5fdDAueCx0aGlzLl90MC55LHRoaXMuX3QwLnosMCwwLDAsMCwxLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgpKTtjb25zdCB0PXRoaXMuZ2V0U2NlbmUoKTtyZXR1cm4gdD8odGhpcy5vcHRpbWl6ZVVWQWxsb2NhdGlvbiYmdC5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxLGk9PmkuaGFzVGV4dHVyZSh0aGlzKSksdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeCk6dGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeH1nZXRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeCgpe2NvbnN0IGU9dGhpcy5nZXRTY2VuZSgpO2lmKCFlKXJldHVybiB0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeDtpZih0aGlzLnVPZmZzZXQ9PT10aGlzLl9jYWNoZWRSZWZsZWN0aW9uVU9mZnNldCYmdGhpcy52T2Zmc2V0PT09dGhpcy5fY2FjaGVkUmVmbGVjdGlvblZPZmZzZXQmJnRoaXMudVNjYWxlPT09dGhpcy5fY2FjaGVkUmVmbGVjdGlvblVTY2FsZSYmdGhpcy52U2NhbGU9PT10aGlzLl9jYWNoZWRSZWZsZWN0aW9uVlNjYWxlJiZ0aGlzLmNvb3JkaW5hdGVzTW9kZT09PXRoaXMuX2NhY2hlZFJlZmxlY3Rpb25Db29yZGluYXRlc01vZGUpaWYodGhpcy5jb29yZGluYXRlc01vZGU9PT1OLlBST0pFQ1RJT05fTU9ERSl7aWYodGhpcy5fY2FjaGVkUmVmbGVjdGlvblByb2plY3Rpb25NYXRyaXhJZD09PWUuZ2V0UHJvamVjdGlvbk1hdHJpeCgpLnVwZGF0ZUZsYWcpcmV0dXJuIHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4fWVsc2UgcmV0dXJuIHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4O3RoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4fHwodGhpcy5fY2FjaGVkUmVmbGVjdGlvblRleHR1cmVNYXRyaXg9eC5aZXJvKCkpLHRoaXMuX3Byb2plY3Rpb25Nb2RlTWF0cml4fHwodGhpcy5fcHJvamVjdGlvbk1vZGVNYXRyaXg9eC5aZXJvKCkpO2NvbnN0IHQ9dGhpcy5fY2FjaGVkUmVmbGVjdGlvbkNvb3JkaW5hdGVzTW9kZSE9PXRoaXMuY29vcmRpbmF0ZXNNb2RlO3N3aXRjaCh0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVU9mZnNldD10aGlzLnVPZmZzZXQsdGhpcy5fY2FjaGVkUmVmbGVjdGlvblZPZmZzZXQ9dGhpcy52T2Zmc2V0LHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25VU2NhbGU9dGhpcy51U2NhbGUsdGhpcy5fY2FjaGVkUmVmbGVjdGlvblZTY2FsZT10aGlzLnZTY2FsZSx0aGlzLl9jYWNoZWRSZWZsZWN0aW9uQ29vcmRpbmF0ZXNNb2RlPXRoaXMuY29vcmRpbmF0ZXNNb2RlLHRoaXMuY29vcmRpbmF0ZXNNb2RlKXtjYXNlIE4uUExBTkFSX01PREU6e3guSWRlbnRpdHlUb1JlZih0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeCksdGhpcy5fY2FjaGVkUmVmbGVjdGlvblRleHR1cmVNYXRyaXhbMF09dGhpcy51U2NhbGUsdGhpcy5fY2FjaGVkUmVmbGVjdGlvblRleHR1cmVNYXRyaXhbNV09dGhpcy52U2NhbGUsdGhpcy5fY2FjaGVkUmVmbGVjdGlvblRleHR1cmVNYXRyaXhbMTJdPXRoaXMudU9mZnNldCx0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeFsxM109dGhpcy52T2Zmc2V0O2JyZWFrfWNhc2UgTi5QUk9KRUNUSU9OX01PREU6e3guRnJvbVZhbHVlc1RvUmVmKC41LDAsMCwwLDAsLS41LDAsMCwwLDAsMCwwLC41LC41LDEsMSx0aGlzLl9wcm9qZWN0aW9uTW9kZU1hdHJpeCk7Y29uc3QgaT1lLmdldFByb2plY3Rpb25NYXRyaXgoKTt0aGlzLl9jYWNoZWRSZWZsZWN0aW9uUHJvamVjdGlvbk1hdHJpeElkPWkudXBkYXRlRmxhZyxpLm11bHRpcGx5VG9SZWYodGhpcy5fcHJvamVjdGlvbk1vZGVNYXRyaXgsdGhpcy5fY2FjaGVkUmVmbGVjdGlvblRleHR1cmVNYXRyaXgpO2JyZWFrfWRlZmF1bHQ6eC5JZGVudGl0eVRvUmVmKHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4KTticmVha31yZXR1cm4gdCYmZS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxLGk9PmkuZ2V0QWN0aXZlVGV4dHVyZXMoKS5pbmRleE9mKHRoaXMpIT09LTEpLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4fWNsb25lKCl7Y29uc3QgZT17bm9NaXBtYXA6dGhpcy5fbm9NaXBtYXAsaW52ZXJ0WTp0aGlzLl9pbnZlcnRZLHNhbXBsaW5nTW9kZTp0aGlzLnNhbXBsaW5nTW9kZSxvbkxvYWQ6dm9pZCAwLG9uRXJyb3I6dm9pZCAwLGJ1ZmZlcjp0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2J1ZmZlcjp2b2lkIDAsZGVsZXRlQnVmZmVyOnRoaXMuX2RlbGV0ZUJ1ZmZlcixmb3JtYXQ6dGhpcy50ZXh0dXJlRm9ybWF0LG1pbWVUeXBlOnRoaXMubWltZVR5cGUsbG9hZGVyT3B0aW9uczp0aGlzLl9sb2FkZXJPcHRpb25zLGNyZWF0aW9uRmxhZ3M6dGhpcy5fY3JlYXRpb25GbGFncyx1c2VTUkdCQnVmZmVyOnRoaXMuX3VzZVNSR0JCdWZmZXJ9O3JldHVybiBhZS5DbG9uZSgoKT0+bmV3IE4odGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLnVybDpudWxsLHRoaXMuZ2V0U2NlbmUoKSxlKSx0aGlzKX1zZXJpYWxpemUoKXt2YXIgZSx0O2NvbnN0IGk9dGhpcy5uYW1lO04uU2VyaWFsaXplQnVmZmVyc3x8dGhpcy5uYW1lLnN0YXJ0c1dpdGgoImRhdGE6IikmJih0aGlzLm5hbWU9IiIpLHRoaXMubmFtZS5zdGFydHNXaXRoKCJkYXRhOiIpJiZ0aGlzLnVybD09PXRoaXMubmFtZSYmKHRoaXMudXJsPSIiKTtjb25zdCBzPXN1cGVyLnNlcmlhbGl6ZShOLl9TZXJpYWxpemVJbnRlcm5hbFRleHR1cmVVbmlxdWVJZCk7cmV0dXJuIHM/KChOLlNlcmlhbGl6ZUJ1ZmZlcnN8fE4uRm9yY2VTZXJpYWxpemVCdWZmZXJzKSYmKHR5cGVvZiB0aGlzLl9idWZmZXI9PSJzdHJpbmciJiZ0aGlzLl9idWZmZXIuc3Vic3RyKDAsNSk9PT0iZGF0YToiPyhzLmJhc2U2NFN0cmluZz10aGlzLl9idWZmZXIscy5uYW1lPXMubmFtZS5yZXBsYWNlKCJkYXRhOiIsIiIpKTp0aGlzLnVybCYmdGhpcy51cmwuc3RhcnRzV2l0aCgiZGF0YToiKSYmdGhpcy5fYnVmZmVyIGluc3RhbmNlb2YgVWludDhBcnJheT9zLmJhc2U2NFN0cmluZz0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LCIrc3IodGhpcy5fYnVmZmVyKTooTi5Gb3JjZVNlcmlhbGl6ZUJ1ZmZlcnN8fHRoaXMudXJsJiZ0aGlzLnVybC5zdGFydHNXaXRoKCJibG9iOiIpfHx0aGlzLl9mb3JjZVNlcmlhbGl6ZSkmJihzLmJhc2U2NFN0cmluZz0hdGhpcy5fZW5naW5lfHx0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnN1cHBvcnRTeW5jVGV4dHVyZVJlYWQ/cW4odGhpcyk6am4odGhpcykpKSxzLmludmVydFk9dGhpcy5faW52ZXJ0WSxzLnNhbXBsaW5nTW9kZT10aGlzLnNhbXBsaW5nTW9kZSxzLl9jcmVhdGlvbkZsYWdzPXRoaXMuX2NyZWF0aW9uRmxhZ3Mscy5fdXNlU1JHQkJ1ZmZlcj10aGlzLl91c2VTUkdCQnVmZmVyLE4uX1NlcmlhbGl6ZUludGVybmFsVGV4dHVyZVVuaXF1ZUlkJiYocy5pbnRlcm5hbFRleHR1cmVVbmlxdWVJZD0odD0oZT10aGlzLl90ZXh0dXJlKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUudW5pcXVlSWQpIT09bnVsbCYmdCE9PXZvaWQgMD90OnZvaWQgMCksdGhpcy5uYW1lPWkscyk6bnVsbH1nZXRDbGFzc05hbWUoKXtyZXR1cm4iVGV4dHVyZSJ9ZGlzcG9zZSgpe3N1cGVyLmRpc3Bvc2UoKSx0aGlzLm9uTG9hZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9kZWxheWVkT25Mb2FkPW51bGwsdGhpcy5fZGVsYXllZE9uRXJyb3I9bnVsbCx0aGlzLl9idWZmZXI9bnVsbH1zdGF0aWMgUGFyc2UoZSx0LGkpe2lmKGUuY3VzdG9tVHlwZSl7Y29uc3QgaD1MaS5JbnN0YW50aWF0ZShlLmN1c3RvbVR5cGUpLlBhcnNlKGUsdCxpKTtyZXR1cm4gZS5zYW1wbGluZ01vZGUmJmgudXBkYXRlU2FtcGxpbmdNb2RlJiZoLl9zYW1wbGluZ01vZGUmJmguX3NhbXBsaW5nTW9kZSE9PWUuc2FtcGxpbmdNb2RlJiZoLnVwZGF0ZVNhbXBsaW5nTW9kZShlLnNhbXBsaW5nTW9kZSksaH1pZihlLmlzQ3ViZSYmIWUuaXNSZW5kZXJUYXJnZXQpcmV0dXJuIE4uX0N1YmVUZXh0dXJlUGFyc2VyKGUsdCxpKTtjb25zdCBzPWUuaW50ZXJuYWxUZXh0dXJlVW5pcXVlSWQhPT12b2lkIDA7aWYoIWUubmFtZSYmIWUuaXNSZW5kZXJUYXJnZXQmJiFzKXJldHVybiBudWxsO2xldCByO2lmKHMpe2NvbnN0IG89dC5nZXRFbmdpbmUoKS5nZXRMb2FkZWRUZXh0dXJlc0NhY2hlKCk7Zm9yKGNvbnN0IGggb2YgbylpZihoLnVuaXF1ZUlkPT09ZS5pbnRlcm5hbFRleHR1cmVVbmlxdWVJZCl7cj1oO2JyZWFrfX1jb25zdCBuPW89Pnt2YXIgaDtpZihvJiZvLl90ZXh0dXJlJiYoby5fdGV4dHVyZS5fY2FjaGVkV3JhcFU9bnVsbCxvLl90ZXh0dXJlLl9jYWNoZWRXcmFwVj1udWxsLG8uX3RleHR1cmUuX2NhY2hlZFdyYXBSPW51bGwpLGUuc2FtcGxpbmdNb2RlKXtjb25zdCBsPWUuc2FtcGxpbmdNb2RlO28mJm8uc2FtcGxpbmdNb2RlIT09bCYmby51cGRhdGVTYW1wbGluZ01vZGUobCl9aWYobyYmZS5hbmltYXRpb25zKWZvcihsZXQgbD0wO2w8ZS5hbmltYXRpb25zLmxlbmd0aDtsKyspe2NvbnN0IHU9ZS5hbmltYXRpb25zW2xdLGQ9cmkoIkJBQllMT04uQW5pbWF0aW9uIik7ZCYmby5hbmltYXRpb25zLnB1c2goZC5QYXJzZSh1KSl9cyYmIXImJigoaD1vPT1udWxsP3ZvaWQgMDpvLl90ZXh0dXJlKT09PW51bGx8fGg9PT12b2lkIDB8fGguX3NldFVuaXF1ZUlkKGUuaW50ZXJuYWxUZXh0dXJlVW5pcXVlSWQpKX07cmV0dXJuIGFlLlBhcnNlKCgpPT57dmFyIG8saCxsO2xldCB1PSEwO2lmKGUubm9NaXBtYXAmJih1PSExKSxlLm1pcnJvclBsYW5lKXtjb25zdCBkPU4uX0NyZWF0ZU1pcnJvcihlLm5hbWUsZS5yZW5kZXJUYXJnZXRTaXplLHQsdSk7cmV0dXJuIGQuX3dhaXRpbmdSZW5kZXJMaXN0PWUucmVuZGVyTGlzdCxkLm1pcnJvclBsYW5lPXh0LkZyb21BcnJheShlLm1pcnJvclBsYW5lKSxuKGQpLGR9ZWxzZSBpZihlLmlzUmVuZGVyVGFyZ2V0KXtsZXQgZD1udWxsO2lmKGUuaXNDdWJlKXtpZih0LnJlZmxlY3Rpb25Qcm9iZXMpZm9yKGxldCBmPTA7Zjx0LnJlZmxlY3Rpb25Qcm9iZXMubGVuZ3RoO2YrKyl7Y29uc3QgXz10LnJlZmxlY3Rpb25Qcm9iZXNbZl07aWYoXy5uYW1lPT09ZS5uYW1lKXJldHVybiBfLmN1YmVUZXh0dXJlfX1lbHNlIGQ9Ti5fQ3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZShlLm5hbWUsZS5yZW5kZXJUYXJnZXRTaXplLHQsdSwobz1lLl9jcmVhdGlvbkZsYWdzKSE9PW51bGwmJm8hPT12b2lkIDA/bzowKSxkLl93YWl0aW5nUmVuZGVyTGlzdD1lLnJlbmRlckxpc3Q7cmV0dXJuIG4oZCksZH1lbHNle2xldCBkO2lmKGUuYmFzZTY0U3RyaW5nJiYhcilkPU4uQ3JlYXRlRnJvbUJhc2U2NFN0cmluZyhlLmJhc2U2NFN0cmluZyxlLmJhc2U2NFN0cmluZyx0LCF1LGUuaW52ZXJ0WSxlLnNhbXBsaW5nTW9kZSwoKT0+e24oZCl9LChoPWUuX2NyZWF0aW9uRmxhZ3MpIT09bnVsbCYmaCE9PXZvaWQgMD9oOjAsKGw9ZS5fdXNlU1JHQkJ1ZmZlcikhPT1udWxsJiZsIT09dm9pZCAwP2w6ITEpLGQubmFtZT1lLm5hbWU7ZWxzZXtsZXQgZjtlLm5hbWUmJmUubmFtZS5pbmRleE9mKCI6Ly8iKT4wP2Y9ZS5uYW1lOmY9aStlLm5hbWUsZS51cmwmJihlLnVybC5zdGFydHNXaXRoKCJkYXRhOiIpfHxOLlVzZVNlcmlhbGl6ZWRVcmxJZkFueSkmJihmPWUudXJsKTtjb25zdCBfPXtub01pcG1hcDohdSxpbnZlcnRZOmUuaW52ZXJ0WSxzYW1wbGluZ01vZGU6ZS5zYW1wbGluZ01vZGUsb25Mb2FkOigpPT57bihkKX0saW50ZXJuYWxUZXh0dXJlOnJ9O2Q9bmV3IE4oZix0LF8pfXJldHVybiBkfX0sZSx0KX1zdGF0aWMgQ3JlYXRlRnJvbUJhc2U2NFN0cmluZyhlLHQsaSxzLHIsbj1OLlRSSUxJTkVBUl9TQU1QTElOR01PREUsYT1udWxsLG89bnVsbCxoPTUsbCl7cmV0dXJuIG5ldyBOKCJkYXRhOiIrdCxpLHMscixuLGEsbyxlLCExLGgsdm9pZCAwLHZvaWQgMCxsKX1zdGF0aWMgTG9hZEZyb21EYXRhU3RyaW5nKGUsdCxpLHM9ITEscixuPSEwLGE9Ti5UUklMSU5FQVJfU0FNUExJTkdNT0RFLG89bnVsbCxoPW51bGwsbD01LHUpe3JldHVybiBlLnN1YnN0cigwLDUpIT09ImRhdGE6IiYmKGU9ImRhdGE6IitlKSxuZXcgTihlLGkscixuLGEsbyxoLHQscyxsLHZvaWQgMCx2b2lkIDAsdSl9fU4uU2VyaWFsaXplQnVmZmVycz0hMCxOLkZvcmNlU2VyaWFsaXplQnVmZmVycz0hMSxOLk9uVGV4dHVyZUxvYWRFcnJvck9ic2VydmFibGU9bmV3IEYsTi5fU2VyaWFsaXplSW50ZXJuYWxUZXh0dXJlVW5pcXVlSWQ9ITEsTi5fQ3ViZVRleHR1cmVQYXJzZXI9KGMsZSx0KT0+e3Rocm93ICQoIkN1YmVUZXh0dXJlIil9LE4uX0NyZWF0ZU1pcnJvcj0oYyxlLHQsaSk9Pnt0aHJvdyAkKCJNaXJyb3JUZXh0dXJlIil9LE4uX0NyZWF0ZVJlbmRlclRhcmdldFRleHR1cmU9KGMsZSx0LGkscyk9Pnt0aHJvdyAkKCJSZW5kZXJUYXJnZXRUZXh0dXJlIil9LE4uTkVBUkVTVF9TQU1QTElOR01PREU9MSxOLk5FQVJFU1RfTkVBUkVTVF9NSVBMSU5FQVI9OCxOLkJJTElORUFSX1NBTVBMSU5HTU9ERT0yLE4uTElORUFSX0xJTkVBUl9NSVBORUFSRVNUPTExLE4uVFJJTElORUFSX1NBTVBMSU5HTU9ERT0zLE4uTElORUFSX0xJTkVBUl9NSVBMSU5FQVI9MyxOLk5FQVJFU1RfTkVBUkVTVF9NSVBORUFSRVNUPTQsTi5ORUFSRVNUX0xJTkVBUl9NSVBORUFSRVNUPTUsTi5ORUFSRVNUX0xJTkVBUl9NSVBMSU5FQVI9NixOLk5FQVJFU1RfTElORUFSPTcsTi5ORUFSRVNUX05FQVJFU1Q9MSxOLkxJTkVBUl9ORUFSRVNUX01JUE5FQVJFU1Q9OSxOLkxJTkVBUl9ORUFSRVNUX01JUExJTkVBUj0xMCxOLkxJTkVBUl9MSU5FQVI9MixOLkxJTkVBUl9ORUFSRVNUPTEyLE4uRVhQTElDSVRfTU9ERT0wLE4uU1BIRVJJQ0FMX01PREU9MSxOLlBMQU5BUl9NT0RFPTIsTi5DVUJJQ19NT0RFPTMsTi5QUk9KRUNUSU9OX01PREU9NCxOLlNLWUJPWF9NT0RFPTUsTi5JTlZDVUJJQ19NT0RFPTYsTi5FUVVJUkVDVEFOR1VMQVJfTU9ERT03LE4uRklYRURfRVFVSVJFQ1RBTkdVTEFSX01PREU9OCxOLkZJWEVEX0VRVUlSRUNUQU5HVUxBUl9NSVJST1JFRF9NT0RFPTksTi5DTEFNUF9BRERSRVNTTU9ERT0wLE4uV1JBUF9BRERSRVNTTU9ERT0xLE4uTUlSUk9SX0FERFJFU1NNT0RFPTIsTi5Vc2VTZXJpYWxpemVkVXJsSWZBbnk9ITEsVChbUigpXSxOLnByb3RvdHlwZSwidXJsIix2b2lkIDApLFQoW1IoKV0sTi5wcm90b3R5cGUsInVPZmZzZXQiLHZvaWQgMCksVChbUigpXSxOLnByb3RvdHlwZSwidk9mZnNldCIsdm9pZCAwKSxUKFtSKCldLE4ucHJvdG90eXBlLCJ1U2NhbGUiLHZvaWQgMCksVChbUigpXSxOLnByb3RvdHlwZSwidlNjYWxlIix2b2lkIDApLFQoW1IoKV0sTi5wcm90b3R5cGUsInVBbmciLHZvaWQgMCksVChbUigpXSxOLnByb3RvdHlwZSwidkFuZyIsdm9pZCAwKSxUKFtSKCldLE4ucHJvdG90eXBlLCJ3QW5nIix2b2lkIDApLFQoW1IoKV0sTi5wcm90b3R5cGUsInVSb3RhdGlvbkNlbnRlciIsdm9pZCAwKSxUKFtSKCldLE4ucHJvdG90eXBlLCJ2Um90YXRpb25DZW50ZXIiLHZvaWQgMCksVChbUigpXSxOLnByb3RvdHlwZSwid1JvdGF0aW9uQ2VudGVyIix2b2lkIDApLFQoW1IoKV0sTi5wcm90b3R5cGUsImhvbW9nZW5lb3VzUm90YXRpb25JblVWVHJhbnNmb3JtIix2b2lkIDApLFQoW1IoKV0sTi5wcm90b3R5cGUsImlzQmxvY2tpbmciLG51bGwpLGl0KCJCQUJZTE9OLlRleHR1cmUiLE4pLGFlLl9UZXh0dXJlUGFyc2VyPU4uUGFyc2U7Y2xhc3MgJG57Y29uc3RydWN0b3IoZSx0LGkscyl7dGhpcy5fdGV4dHVyZXM9bnVsbCx0aGlzLl9zYW1wbGVzPTEsdGhpcy5fYXR0YWNobWVudHM9bnVsbCx0aGlzLl9nZW5lcmF0ZVN0ZW5jaWxCdWZmZXI9ITEsdGhpcy5fZ2VuZXJhdGVEZXB0aEJ1ZmZlcj0hMSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlV2l0aFN0ZW5jaWw9ITEsdGhpcy5faXNNdWx0aT1lLHRoaXMuX2lzQ3ViZT10LHRoaXMuX3NpemU9aSx0aGlzLl9lbmdpbmU9cyx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlPW51bGx9Z2V0IGRlcHRoU3RlbmNpbFRleHR1cmUoKXtyZXR1cm4gdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZX1nZXQgZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsKCl7cmV0dXJuIHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVXaXRoU3RlbmNpbH1nZXQgaXNDdWJlKCl7cmV0dXJuIHRoaXMuX2lzQ3ViZX1nZXQgaXNNdWx0aSgpe3JldHVybiB0aGlzLl9pc011bHRpfWdldCBpczJEQXJyYXkoKXtyZXR1cm4gdGhpcy5sYXllcnM+MH1nZXQgc2l6ZSgpe3JldHVybiB0aGlzLndpZHRofWdldCB3aWR0aCgpe3JldHVybiB0aGlzLl9zaXplLndpZHRofHx0aGlzLl9zaXplfWdldCBoZWlnaHQoKXtyZXR1cm4gdGhpcy5fc2l6ZS5oZWlnaHR8fHRoaXMuX3NpemV9Z2V0IGxheWVycygpe3JldHVybiB0aGlzLl9zaXplLmxheWVyc3x8MH1nZXQgdGV4dHVyZSgpe3ZhciBlLHQ7cmV0dXJuKHQ9KGU9dGhpcy5fdGV4dHVyZXMpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZVswXSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6bnVsbH1nZXQgdGV4dHVyZXMoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZXN9Z2V0IHNhbXBsZXMoKXtyZXR1cm4gdGhpcy5fc2FtcGxlc31zZXRTYW1wbGVzKGUsdD0hMCxpPSExKXtpZih0aGlzLnNhbXBsZXM9PT1lJiYhaSlyZXR1cm4gZTtjb25zdCBzPXRoaXMuX2lzTXVsdGk/dGhpcy5fZW5naW5lLnVwZGF0ZU11bHRpcGxlUmVuZGVyVGFyZ2V0VGV4dHVyZVNhbXBsZUNvdW50KHRoaXMsZSx0KTp0aGlzLl9lbmdpbmUudXBkYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZVNhbXBsZUNvdW50KHRoaXMsZSk7cmV0dXJuIHRoaXMuX3NhbXBsZXM9ZSxzfXNldFRleHR1cmVzKGUpe0FycmF5LmlzQXJyYXkoZSk/dGhpcy5fdGV4dHVyZXM9ZTplP3RoaXMuX3RleHR1cmVzPVtlXTp0aGlzLl90ZXh0dXJlcz1udWxsfXNldFRleHR1cmUoZSx0PTAsaT0hMCl7dGhpcy5fdGV4dHVyZXN8fCh0aGlzLl90ZXh0dXJlcz1bXSksdGhpcy5fdGV4dHVyZXNbdF0mJmkmJnRoaXMuX3RleHR1cmVzW3RdLmRpc3Bvc2UoKSx0aGlzLl90ZXh0dXJlc1t0XT1lfWNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmUoZT0wLHQ9ITAsaT0hMSxzPTEscj0xNCl7dmFyIG47cmV0dXJuKG49dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSk9PT1udWxsfHxuPT09dm9pZCAwfHxuLmRpc3Bvc2UoKSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlV2l0aFN0ZW5jaWw9aSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlPXRoaXMuX2VuZ2luZS5jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKHRoaXMuX3NpemUse2JpbGluZWFyRmlsdGVyaW5nOnQsY29tcGFyaXNvbkZ1bmN0aW9uOmUsZ2VuZXJhdGVTdGVuY2lsOmksaXNDdWJlOnRoaXMuX2lzQ3ViZSxzYW1wbGVzOnMsZGVwdGhUZXh0dXJlRm9ybWF0OnJ9LHRoaXMpLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmV9X3NoYXJlRGVwdGgoZSl7dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSYmKGUuX2RlcHRoU3RlbmNpbFRleHR1cmUmJmUuX2RlcHRoU3RlbmNpbFRleHR1cmUuZGlzcG9zZSgpLGUuX2RlcHRoU3RlbmNpbFRleHR1cmU9dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLmluY3JlbWVudFJlZmVyZW5jZXMoKSl9X3N3YXBBbmREaWUoZSl7dGhpcy50ZXh0dXJlJiZ0aGlzLnRleHR1cmUuX3N3YXBBbmREaWUoZSksdGhpcy5fdGV4dHVyZXM9bnVsbCx0aGlzLmRpc3Bvc2UoITApfV9jbG9uZVJlbmRlclRhcmdldFdyYXBwZXIoKXt2YXIgZSx0LGkscyxyLG47bGV0IGE9bnVsbDtpZih0aGlzLl9pc011bHRpKXtjb25zdCBvPXRoaXMudGV4dHVyZXM7aWYobyYmby5sZW5ndGg+MCl7bGV0IGg9ITEsbD1vLmxlbmd0aDtjb25zdCB1PW9bby5sZW5ndGgtMV0uX3NvdXJjZTsodT09PU5lLkRlcHRofHx1PT09TmUuRGVwdGhTdGVuY2lsKSYmKGg9ITAsbC0tKTtjb25zdCBkPVtdLGY9W107Zm9yKGxldCBtPTA7bTxsOysrbSl7Y29uc3Qgdj1vW21dO2QucHVzaCh2LnNhbXBsaW5nTW9kZSksZi5wdXNoKHYudHlwZSl9Y29uc3QgXz17c2FtcGxpbmdNb2RlczpkLGdlbmVyYXRlTWlwTWFwczpvWzBdLmdlbmVyYXRlTWlwTWFwcyxnZW5lcmF0ZURlcHRoQnVmZmVyOnRoaXMuX2dlbmVyYXRlRGVwdGhCdWZmZXIsZ2VuZXJhdGVTdGVuY2lsQnVmZmVyOnRoaXMuX2dlbmVyYXRlU3RlbmNpbEJ1ZmZlcixnZW5lcmF0ZURlcHRoVGV4dHVyZTpoLHR5cGVzOmYsdGV4dHVyZUNvdW50Omx9LEU9e3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fTthPXRoaXMuX2VuZ2luZS5jcmVhdGVNdWx0aXBsZVJlbmRlclRhcmdldChFLF8pfX1lbHNle2NvbnN0IG89e307aWYoby5nZW5lcmF0ZURlcHRoQnVmZmVyPXRoaXMuX2dlbmVyYXRlRGVwdGhCdWZmZXIsby5nZW5lcmF0ZU1pcE1hcHM9KHQ9KGU9dGhpcy50ZXh0dXJlKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuZ2VuZXJhdGVNaXBNYXBzKSE9PW51bGwmJnQhPT12b2lkIDA/dDohMSxvLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcj10aGlzLl9nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsby5zYW1wbGluZ01vZGU9KGk9dGhpcy50ZXh0dXJlKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmkuc2FtcGxpbmdNb2RlLG8udHlwZT0ocz10aGlzLnRleHR1cmUpPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6cy50eXBlLG8uZm9ybWF0PShyPXRoaXMudGV4dHVyZSk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLmZvcm1hdCx0aGlzLmlzQ3ViZSlhPXRoaXMuX2VuZ2luZS5jcmVhdGVSZW5kZXJUYXJnZXRDdWJlVGV4dHVyZSh0aGlzLndpZHRoLG8pO2Vsc2V7Y29uc3QgaD17d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHQsbGF5ZXJzOnRoaXMuaXMyREFycmF5PyhuPXRoaXMudGV4dHVyZSk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLmRlcHRoOnZvaWQgMH07YT10aGlzLl9lbmdpbmUuY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZShoLG8pfWEudGV4dHVyZS5pc1JlYWR5PSEwfXJldHVybiBhfV9zd2FwUmVuZGVyVGFyZ2V0V3JhcHBlcihlKXtpZih0aGlzLl90ZXh0dXJlcyYmZS5fdGV4dHVyZXMpZm9yKGxldCB0PTA7dDx0aGlzLl90ZXh0dXJlcy5sZW5ndGg7Kyt0KXRoaXMuX3RleHR1cmVzW3RdLl9zd2FwQW5kRGllKGUuX3RleHR1cmVzW3RdLCExKSxlLl90ZXh0dXJlc1t0XS5pc1JlYWR5PSEwO3RoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUmJmUuX2RlcHRoU3RlbmNpbFRleHR1cmUmJih0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLl9zd2FwQW5kRGllKGUuX2RlcHRoU3RlbmNpbFRleHR1cmUpLGUuX2RlcHRoU3RlbmNpbFRleHR1cmUuaXNSZWFkeT0hMCksdGhpcy5fdGV4dHVyZXM9bnVsbCx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlPW51bGx9X3JlYnVpbGQoKXtjb25zdCBlPXRoaXMuX2Nsb25lUmVuZGVyVGFyZ2V0V3JhcHBlcigpO2lmKGUpe2lmKHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUpe2NvbnN0IHQ9dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZS5zYW1wbGluZ01vZGUsaT10PT09Mnx8dD09PTN8fHQ9PT0xMTtlLmNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmUodGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZS5fY29tcGFyaXNvbkZ1bmN0aW9uLGksdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUuc2FtcGxlcyl9dGhpcy5zYW1wbGVzPjEmJmUuc2V0U2FtcGxlcyh0aGlzLnNhbXBsZXMpLGUuX3N3YXBSZW5kZXJUYXJnZXRXcmFwcGVyKHRoaXMpLGUuZGlzcG9zZSgpfX1yZWxlYXNlVGV4dHVyZXMoKXt2YXIgZSx0O2lmKHRoaXMuX3RleHR1cmVzKWZvcihsZXQgaT0wOyh0PWk8KChlPXRoaXMuX3RleHR1cmVzKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUubGVuZ3RoKSkhPT1udWxsJiZ0IT09dm9pZCAwJiZ0OysraSl0aGlzLl90ZXh0dXJlc1tpXS5kaXNwb3NlKCk7dGhpcy5fdGV4dHVyZXM9bnVsbH1kaXNwb3NlKGU9ITEpe3ZhciB0O2V8fCgodD10aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlKT09PW51bGx8fHQ9PT12b2lkIDB8fHQuZGlzcG9zZSgpLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmU9bnVsbCx0aGlzLnJlbGVhc2VUZXh0dXJlcygpKSx0aGlzLl9lbmdpbmUuX3JlbGVhc2VSZW5kZXJUYXJnZXRXcmFwcGVyKHRoaXMpfX1jbGFzcyBRbiBleHRlbmRzICRue2NvbnN0cnVjdG9yKGUsdCxpLHMscil7c3VwZXIoZSx0LGkscyksdGhpcy5fZnJhbWVidWZmZXI9bnVsbCx0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXI9bnVsbCx0aGlzLl9NU0FBRnJhbWVidWZmZXI9bnVsbCx0aGlzLl9jb2xvclRleHR1cmVBcnJheT1udWxsLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheT1udWxsLHRoaXMuX2NvbnRleHQ9cn1fY2xvbmVSZW5kZXJUYXJnZXRXcmFwcGVyKCl7bGV0IGU9bnVsbDtyZXR1cm4gdGhpcy5fY29sb3JUZXh0dXJlQXJyYXkmJnRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheT8oZT10aGlzLl9lbmdpbmUuY3JlYXRlTXVsdGl2aWV3UmVuZGVyVGFyZ2V0VGV4dHVyZSh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSxlLnRleHR1cmUuaXNSZWFkeT0hMCk6ZT1zdXBlci5fY2xvbmVSZW5kZXJUYXJnZXRXcmFwcGVyKCksZX1fc3dhcFJlbmRlclRhcmdldFdyYXBwZXIoZSl7c3VwZXIuX3N3YXBSZW5kZXJUYXJnZXRXcmFwcGVyKGUpLGUuX2ZyYW1lYnVmZmVyPXRoaXMuX2ZyYW1lYnVmZmVyLGUuX2RlcHRoU3RlbmNpbEJ1ZmZlcj10aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXIsZS5fTVNBQUZyYW1lYnVmZmVyPXRoaXMuX01TQUFGcmFtZWJ1ZmZlcixlLl9jb2xvclRleHR1cmVBcnJheT10aGlzLl9jb2xvclRleHR1cmVBcnJheSxlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXk9dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5LHRoaXMuX2ZyYW1lYnVmZmVyPXRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcj10aGlzLl9NU0FBRnJhbWVidWZmZXI9dGhpcy5fY29sb3JUZXh0dXJlQXJyYXk9dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5PW51bGx9X3NoYXJlRGVwdGgoZSl7c3VwZXIuX3NoYXJlRGVwdGgoZSk7Y29uc3QgdD10aGlzLl9jb250ZXh0LGk9dGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyLHM9ZS5fTVNBQUZyYW1lYnVmZmVyfHxlLl9mcmFtZWJ1ZmZlcjtlLl9kZXB0aFN0ZW5jaWxCdWZmZXImJnQuZGVsZXRlUmVuZGVyYnVmZmVyKGUuX2RlcHRoU3RlbmNpbEJ1ZmZlciksZS5fZGVwdGhTdGVuY2lsQnVmZmVyPXRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcix0aGlzLl9lbmdpbmUuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIocyksdC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcih0LkZSQU1FQlVGRkVSLHQuREVQVEhfQVRUQUNITUVOVCx0LlJFTkRFUkJVRkZFUixpKSx0aGlzLl9lbmdpbmUuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobnVsbCl9X2JpbmRUZXh0dXJlUmVuZGVyVGFyZ2V0KGUsdD0wLGk9LTEscz0wKXtpZighZS5faGFyZHdhcmVUZXh0dXJlKXJldHVybjtjb25zdCByPXRoaXMuX2NvbnRleHQsbj10aGlzLl9mcmFtZWJ1ZmZlcixhPXRoaXMuX2VuZ2luZS5fY3VycmVudEZyYW1lYnVmZmVyO3RoaXMuX2VuZ2luZS5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihuKTtjb25zdCBvPXJbdGhpcy5fZW5naW5lLndlYkdMVmVyc2lvbj4xPyJDT0xPUl9BVFRBQ0hNRU5UIit0OiJDT0xPUl9BVFRBQ0hNRU5UIit0KyJfV0VCR0wiXSxoPWkhPT0tMT9yLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCtpOnIuVEVYVFVSRV8yRDtyLmZyYW1lYnVmZmVyVGV4dHVyZTJEKHIuRlJBTUVCVUZGRVIsbyxoLGUuX2hhcmR3YXJlVGV4dHVyZS51bmRlcmx5aW5nUmVzb3VyY2UscyksdGhpcy5fZW5naW5lLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKGEpfXNldFRleHR1cmUoZSx0PTAsaT0hMCl7c3VwZXIuc2V0VGV4dHVyZShlLHQsaSksdGhpcy5fYmluZFRleHR1cmVSZW5kZXJUYXJnZXQoZSx0KX1kaXNwb3NlKGU9ITEpe2NvbnN0IHQ9dGhpcy5fY29udGV4dDtlfHwodGhpcy5fY29sb3JUZXh0dXJlQXJyYXkmJih0aGlzLl9jb250ZXh0LmRlbGV0ZVRleHR1cmUodGhpcy5fY29sb3JUZXh0dXJlQXJyYXkpLHRoaXMuX2NvbG9yVGV4dHVyZUFycmF5PW51bGwpLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheSYmKHRoaXMuX2NvbnRleHQuZGVsZXRlVGV4dHVyZSh0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXkpLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheT1udWxsKSksdGhpcy5fZnJhbWVidWZmZXImJih0LmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuX2ZyYW1lYnVmZmVyKSx0aGlzLl9mcmFtZWJ1ZmZlcj1udWxsKSx0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXImJih0LmRlbGV0ZVJlbmRlcmJ1ZmZlcih0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXIpLHRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcj1udWxsKSx0aGlzLl9NU0FBRnJhbWVidWZmZXImJih0LmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuX01TQUFGcmFtZWJ1ZmZlciksdGhpcy5fTVNBQUZyYW1lYnVmZmVyPW51bGwpLHN1cGVyLmRpc3Bvc2UoZSl9fW9lLnByb3RvdHlwZS5fY3JlYXRlSGFyZHdhcmVSZW5kZXJUYXJnZXRXcmFwcGVyPWZ1bmN0aW9uKGMsZSx0KXtjb25zdCBpPW5ldyBRbihjLGUsdCx0aGlzLHRoaXMuX2dsKTtyZXR1cm4gdGhpcy5fcmVuZGVyVGFyZ2V0V3JhcHBlckNhY2hlLnB1c2goaSksaX0sb2UucHJvdG90eXBlLmNyZWF0ZVJlbmRlclRhcmdldFRleHR1cmU9ZnVuY3Rpb24oYyxlKXt2YXIgdCxpO2NvbnN0IHM9dGhpcy5fY3JlYXRlSGFyZHdhcmVSZW5kZXJUYXJnZXRXcmFwcGVyKCExLCExLGMpO2xldCByPSEwLG49ITEsYT0hMSxvLGg9MTtlIT09dm9pZCAwJiZ0eXBlb2YgZT09Im9iamVjdCImJihyPSh0PWUuZ2VuZXJhdGVEZXB0aEJ1ZmZlcikhPT1udWxsJiZ0IT09dm9pZCAwP3Q6ITAsbj0hIWUuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLGE9ISFlLm5vQ29sb3JBdHRhY2htZW50LG89ZS5jb2xvckF0dGFjaG1lbnQsaD0oaT1lLnNhbXBsZXMpIT09bnVsbCYmaSE9PXZvaWQgMD9pOjEpO2NvbnN0IGw9b3x8KGE/bnVsbDp0aGlzLl9jcmVhdGVJbnRlcm5hbFRleHR1cmUoYyxlLCEwLE5lLlJlbmRlclRhcmdldCkpLHU9Yy53aWR0aHx8YyxkPWMuaGVpZ2h0fHxjLGY9dGhpcy5fY3VycmVudEZyYW1lYnVmZmVyLF89dGhpcy5fZ2wsRT1fLmNyZWF0ZUZyYW1lYnVmZmVyKCk7cmV0dXJuIHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoRSkscy5fZGVwdGhTdGVuY2lsQnVmZmVyPXRoaXMuX3NldHVwRnJhbWVidWZmZXJEZXB0aEF0dGFjaG1lbnRzKG4scix1LGQpLGwmJiFsLmlzMkRBcnJheSYmXy5mcmFtZWJ1ZmZlclRleHR1cmUyRChfLkZSQU1FQlVGRkVSLF8uQ09MT1JfQVRUQUNITUVOVDAsXy5URVhUVVJFXzJELGwuX2hhcmR3YXJlVGV4dHVyZS51bmRlcmx5aW5nUmVzb3VyY2UsMCksdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihmKSxzLl9mcmFtZWJ1ZmZlcj1FLHMuX2dlbmVyYXRlRGVwdGhCdWZmZXI9cixzLl9nZW5lcmF0ZVN0ZW5jaWxCdWZmZXI9bixzLnNldFRleHR1cmVzKGwpLHRoaXMudXBkYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZVNhbXBsZUNvdW50KHMsaCksc30sb2UucHJvdG90eXBlLmNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmU9ZnVuY3Rpb24oYyxlLHQpe2lmKGUuaXNDdWJlKXtjb25zdCBpPWMud2lkdGh8fGM7cmV0dXJuIHRoaXMuX2NyZWF0ZURlcHRoU3RlbmNpbEN1YmVUZXh0dXJlKGksZSx0KX1lbHNlIHJldHVybiB0aGlzLl9jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKGMsZSx0KX0sb2UucHJvdG90eXBlLl9jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlPWZ1bmN0aW9uKGMsZSx0KXtjb25zdCBpPXRoaXMuX2dsLHM9Yy5sYXllcnN8fDAscj1zIT09MD9pLlRFWFRVUkVfMkRfQVJSQVk6aS5URVhUVVJFXzJELG49bmV3IE90KHRoaXMsTmUuRGVwdGhTdGVuY2lsKTtpZighdGhpcy5fY2Fwcy5kZXB0aFRleHR1cmVFeHRlbnNpb24pcmV0dXJuIE8uRXJyb3IoIkRlcHRoIHRleHR1cmUgaXMgbm90IHN1cHBvcnRlZCBieSB5b3VyIGJyb3dzZXIgb3IgaGFyZHdhcmUuIiksbjtjb25zdCBhPXtiaWxpbmVhckZpbHRlcmluZzohMSxjb21wYXJpc29uRnVuY3Rpb246MCxnZW5lcmF0ZVN0ZW5jaWw6ITEsLi4uZX07aWYodGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShyLG4sITApLHRoaXMuX3NldHVwRGVwdGhTdGVuY2lsVGV4dHVyZShuLGMsYS5nZW5lcmF0ZVN0ZW5jaWwsYS5jb21wYXJpc29uRnVuY3Rpb249PT0wPyExOmEuYmlsaW5lYXJGaWx0ZXJpbmcsYS5jb21wYXJpc29uRnVuY3Rpb24sYS5zYW1wbGVzKSxhLmRlcHRoVGV4dHVyZUZvcm1hdCE9PXZvaWQgMCl7aWYoYS5kZXB0aFRleHR1cmVGb3JtYXQhPT0xNSYmYS5kZXB0aFRleHR1cmVGb3JtYXQhPT0xNiYmYS5kZXB0aFRleHR1cmVGb3JtYXQhPT0xNyYmYS5kZXB0aFRleHR1cmVGb3JtYXQhPT0xMyYmYS5kZXB0aFRleHR1cmVGb3JtYXQhPT0xNCYmYS5kZXB0aFRleHR1cmVGb3JtYXQhPT0xOClyZXR1cm4gTy5FcnJvcigiRGVwdGggdGV4dHVyZSBmb3JtYXQgaXMgbm90IHN1cHBvcnRlZC4iKSxuO24uZm9ybWF0PWEuZGVwdGhUZXh0dXJlRm9ybWF0fWVsc2Ugbi5mb3JtYXQ9YS5nZW5lcmF0ZVN0ZW5jaWw/MTM6MTY7Y29uc3Qgbz1uLmZvcm1hdD09PTE3fHxuLmZvcm1hdD09PTEzfHxuLmZvcm1hdD09PTE4O3QuX2RlcHRoU3RlbmNpbFRleHR1cmU9bix0Ll9kZXB0aFN0ZW5jaWxUZXh0dXJlV2l0aFN0ZW5jaWw9bztsZXQgaD1pLlVOU0lHTkVEX0lOVDtuLmZvcm1hdD09PTE1P2g9aS5VTlNJR05FRF9TSE9SVDpuLmZvcm1hdD09PTE3fHxuLmZvcm1hdD09PTEzP2g9aS5VTlNJR05FRF9JTlRfMjRfODpuLmZvcm1hdD09PTE0P2g9aS5GTE9BVDpuLmZvcm1hdD09PTE4JiYoaD1pLkZMT0FUXzMyX1VOU0lHTkVEX0lOVF8yNF84X1JFVik7Y29uc3QgbD1vP2kuREVQVEhfU1RFTkNJTDppLkRFUFRIX0NPTVBPTkVOVDtsZXQgdT1sO3RoaXMud2ViR0xWZXJzaW9uPjEmJihuLmZvcm1hdD09PTE1P3U9aS5ERVBUSF9DT01QT05FTlQxNjpuLmZvcm1hdD09PTE2P3U9aS5ERVBUSF9DT01QT05FTlQyNDpuLmZvcm1hdD09PTE3fHxuLmZvcm1hdD09PTEzP3U9aS5ERVBUSDI0X1NURU5DSUw4Om4uZm9ybWF0PT09MTQ/dT1pLkRFUFRIX0NPTVBPTkVOVDMyRjpuLmZvcm1hdD09PTE4JiYodT1pLkRFUFRIMzJGX1NURU5DSUw4KSksbi5pczJEQXJyYXk/aS50ZXhJbWFnZTNEKHIsMCx1LG4ud2lkdGgsbi5oZWlnaHQscywwLGwsaCxudWxsKTppLnRleEltYWdlMkQociwwLHUsbi53aWR0aCxuLmhlaWdodCwwLGwsaCxudWxsKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHIsbnVsbCksdGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLnB1c2gobik7Y29uc3QgZD10O2lmKGQuX2RlcHRoU3RlbmNpbEJ1ZmZlcil7Y29uc3QgZj10aGlzLl9jdXJyZW50RnJhbWVidWZmZXI7dGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihkLl9mcmFtZWJ1ZmZlciksaS5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihpLkZSQU1FQlVGRkVSLGkuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5ULGkuUkVOREVSQlVGRkVSLG51bGwpLGkuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoaS5GUkFNRUJVRkZFUixpLkRFUFRIX0FUVEFDSE1FTlQsaS5SRU5ERVJCVUZGRVIsbnVsbCksaS5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihpLkZSQU1FQlVGRkVSLGkuU1RFTkNJTF9BVFRBQ0hNRU5ULGkuUkVOREVSQlVGRkVSLG51bGwpLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoZiksaS5kZWxldGVSZW5kZXJidWZmZXIoZC5fZGVwdGhTdGVuY2lsQnVmZmVyKSxkLl9kZXB0aFN0ZW5jaWxCdWZmZXI9bnVsbH1yZXR1cm4gbn0sb2UucHJvdG90eXBlLnVwZGF0ZVJlbmRlclRhcmdldFRleHR1cmVTYW1wbGVDb3VudD1mdW5jdGlvbihjLGUpe2lmKHRoaXMud2ViR0xWZXJzaW9uPDJ8fCFjfHwhYy50ZXh0dXJlKXJldHVybiAxO2lmKGMuc2FtcGxlcz09PWUpcmV0dXJuIGU7Y29uc3QgdD10aGlzLl9nbDtlPU1hdGgubWluKGUsdGhpcy5nZXRDYXBzKCkubWF4TVNBQVNhbXBsZXMpLGMuX2RlcHRoU3RlbmNpbEJ1ZmZlciYmKHQuZGVsZXRlUmVuZGVyYnVmZmVyKGMuX2RlcHRoU3RlbmNpbEJ1ZmZlciksYy5fZGVwdGhTdGVuY2lsQnVmZmVyPW51bGwpLGMuX01TQUFGcmFtZWJ1ZmZlciYmKHQuZGVsZXRlRnJhbWVidWZmZXIoYy5fTVNBQUZyYW1lYnVmZmVyKSxjLl9NU0FBRnJhbWVidWZmZXI9bnVsbCk7Y29uc3QgaT1jLnRleHR1cmUuX2hhcmR3YXJlVGV4dHVyZTtpZihpLl9NU0FBUmVuZGVyQnVmZmVyJiYodC5kZWxldGVSZW5kZXJidWZmZXIoaS5fTVNBQVJlbmRlckJ1ZmZlciksaS5fTVNBQVJlbmRlckJ1ZmZlcj1udWxsKSxlPjEmJnQucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlKXtjb25zdCBzPXQuY3JlYXRlRnJhbWVidWZmZXIoKTtpZighcyl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgbXVsdGkgc2FtcGxlZCBmcmFtZWJ1ZmZlciIpO2MuX01TQUFGcmFtZWJ1ZmZlcj1zLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoYy5fTVNBQUZyYW1lYnVmZmVyKTtjb25zdCByPXRoaXMuX2NyZWF0ZVJlbmRlckJ1ZmZlcihjLnRleHR1cmUud2lkdGgsYy50ZXh0dXJlLmhlaWdodCxlLC0xLHRoaXMuX2dldFJHQkFNdWx0aVNhbXBsZUJ1ZmZlckZvcm1hdChjLnRleHR1cmUudHlwZSksdC5DT0xPUl9BVFRBQ0hNRU5UMCwhMSk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIG11bHRpIHNhbXBsZWQgZnJhbWVidWZmZXIiKTtpLl9NU0FBUmVuZGVyQnVmZmVyPXJ9ZWxzZSB0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKGMuX2ZyYW1lYnVmZmVyKTtyZXR1cm4gYy50ZXh0dXJlLnNhbXBsZXM9ZSxjLl9zYW1wbGVzPWUsYy5fZGVwdGhTdGVuY2lsQnVmZmVyPXRoaXMuX3NldHVwRnJhbWVidWZmZXJEZXB0aEF0dGFjaG1lbnRzKGMuX2dlbmVyYXRlU3RlbmNpbEJ1ZmZlcixjLl9nZW5lcmF0ZURlcHRoQnVmZmVyLGMudGV4dHVyZS53aWR0aCxjLnRleHR1cmUuaGVpZ2h0LGUpLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobnVsbCksZX0sb2UucHJvdG90eXBlLmNyZWF0ZVJlbmRlclRhcmdldEN1YmVUZXh0dXJlPWZ1bmN0aW9uKGMsZSl7Y29uc3QgdD10aGlzLl9jcmVhdGVIYXJkd2FyZVJlbmRlclRhcmdldFdyYXBwZXIoITEsITAsYyksaT17Z2VuZXJhdGVNaXBNYXBzOiEwLGdlbmVyYXRlRGVwdGhCdWZmZXI6ITAsZ2VuZXJhdGVTdGVuY2lsQnVmZmVyOiExLHR5cGU6MCxzYW1wbGluZ01vZGU6Myxmb3JtYXQ6NSwuLi5lfTtpLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcj1pLmdlbmVyYXRlRGVwdGhCdWZmZXImJmkuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLChpLnR5cGU9PT0xJiYhdGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmd8fGkudHlwZT09PTImJiF0aGlzLl9jYXBzLnRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmcpJiYoaS5zYW1wbGluZ01vZGU9MSk7Y29uc3Qgcz10aGlzLl9nbCxyPW5ldyBPdCh0aGlzLE5lLlJlbmRlclRhcmdldCk7dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShzLlRFWFRVUkVfQ1VCRV9NQVAsciwhMCk7Y29uc3Qgbj10aGlzLl9nZXRTYW1wbGluZ1BhcmFtZXRlcnMoaS5zYW1wbGluZ01vZGUsaS5nZW5lcmF0ZU1pcE1hcHMpO2kudHlwZT09PTEmJiF0aGlzLl9jYXBzLnRleHR1cmVGbG9hdCYmKGkudHlwZT0wLE8uV2FybigiRmxvYXQgdGV4dHVyZXMgYXJlIG5vdCBzdXBwb3J0ZWQuIEN1YmUgcmVuZGVyIHRhcmdldCBmb3JjZWQgdG8gVEVYVFVSRVRZUEVfVU5FU0lHTkVEX0JZVEUgdHlwZSIpKSxzLnRleFBhcmFtZXRlcmkocy5URVhUVVJFX0NVQkVfTUFQLHMuVEVYVFVSRV9NQUdfRklMVEVSLG4ubWFnKSxzLnRleFBhcmFtZXRlcmkocy5URVhUVVJFX0NVQkVfTUFQLHMuVEVYVFVSRV9NSU5fRklMVEVSLG4ubWluKSxzLnRleFBhcmFtZXRlcmkocy5URVhUVVJFX0NVQkVfTUFQLHMuVEVYVFVSRV9XUkFQX1Mscy5DTEFNUF9UT19FREdFKSxzLnRleFBhcmFtZXRlcmkocy5URVhUVVJFX0NVQkVfTUFQLHMuVEVYVFVSRV9XUkFQX1Qscy5DTEFNUF9UT19FREdFKTtmb3IobGV0IG89MDtvPDY7bysrKXMudGV4SW1hZ2UyRChzLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCtvLDAsdGhpcy5fZ2V0UkdCQUJ1ZmZlckludGVybmFsU2l6ZWRGb3JtYXQoaS50eXBlLGkuZm9ybWF0KSxjLGMsMCx0aGlzLl9nZXRJbnRlcm5hbEZvcm1hdChpLmZvcm1hdCksdGhpcy5fZ2V0V2ViR0xUZXh0dXJlVHlwZShpLnR5cGUpLG51bGwpO2NvbnN0IGE9cy5jcmVhdGVGcmFtZWJ1ZmZlcigpO3JldHVybiB0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKGEpLHQuX2RlcHRoU3RlbmNpbEJ1ZmZlcj10aGlzLl9zZXR1cEZyYW1lYnVmZmVyRGVwdGhBdHRhY2htZW50cyhpLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcixpLmdlbmVyYXRlRGVwdGhCdWZmZXIsYyxjKSxpLmdlbmVyYXRlTWlwTWFwcyYmcy5nZW5lcmF0ZU1pcG1hcChzLlRFWFRVUkVfQ1VCRV9NQVApLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkocy5URVhUVVJFX0NVQkVfTUFQLG51bGwpLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobnVsbCksdC5fZnJhbWVidWZmZXI9YSx0Ll9nZW5lcmF0ZURlcHRoQnVmZmVyPWkuZ2VuZXJhdGVEZXB0aEJ1ZmZlcix0Ll9nZW5lcmF0ZVN0ZW5jaWxCdWZmZXI9aS5nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsci53aWR0aD1jLHIuaGVpZ2h0PWMsci5pc1JlYWR5PSEwLHIuaXNDdWJlPSEwLHIuc2FtcGxlcz0xLHIuZ2VuZXJhdGVNaXBNYXBzPWkuZ2VuZXJhdGVNaXBNYXBzLHIuc2FtcGxpbmdNb2RlPWkuc2FtcGxpbmdNb2RlLHIudHlwZT1pLnR5cGUsci5mb3JtYXQ9aS5mb3JtYXQsdGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLnB1c2gociksdC5zZXRUZXh0dXJlcyhyKSx0fTtjb25zdCBKbj0icG9zdHByb2Nlc3NWZXJ0ZXhTaGFkZXIiLGVhPWBhdHRyaWJ1dGUgdmVjMiBwb3NpdGlvbjsKdW5pZm9ybSB2ZWMyIHNjYWxlOwp2YXJ5aW5nIHZlYzIgdlVWOwpjb25zdCB2ZWMyIG1hZGQ9dmVjMigwLjUsMC41KTsKI2RlZmluZSBDVVNUT01fVkVSVEVYX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKSB7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0JFR0lOCnZVVj0ocG9zaXRpb24qbWFkZCttYWRkKSpzY2FsZTsKZ2xfUG9zaXRpb249dmVjNChwb3NpdGlvbiwwLjAsMS4wKTsKI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fRU5ECn1gO1UuU2hhZGVyc1N0b3JlW0puXT1lYTtjb25zdCBXcz17cG9zaXRpb25zOlsxLDEsLTEsMSwtMSwtMSwxLC0xXSxpbmRpY2VzOlswLDEsMiwwLDIsM119O2NsYXNzIHRhe2NvbnN0cnVjdG9yKGUsdD1Xcyl7dmFyIGksczt0aGlzLl9mdWxsc2NyZWVuVmlld3BvcnQ9bmV3IEJpKDAsMCwxLDEpO2NvbnN0IHI9KGk9dC5wb3NpdGlvbnMpIT09bnVsbCYmaSE9PXZvaWQgMD9pOldzLnBvc2l0aW9ucyxuPShzPXQuaW5kaWNlcykhPT1udWxsJiZzIT09dm9pZCAwP3M6V3MuaW5kaWNlczt0aGlzLmVuZ2luZT1lLHRoaXMuX3ZlcnRleEJ1ZmZlcnM9e1tnLlBvc2l0aW9uS2luZF06bmV3IGcoZSxyLGcuUG9zaXRpb25LaW5kLCExLCExLDIpfSx0aGlzLl9pbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKG4pLHRoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXI9ZS5vbkNvbnRleHRSZXN0b3JlZE9ic2VydmFibGUuYWRkKCgpPT57dGhpcy5faW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcihuKTtmb3IoY29uc3QgYSBpbiB0aGlzLl92ZXJ0ZXhCdWZmZXJzKXRoaXMuX3ZlcnRleEJ1ZmZlcnNbYV0uX3JlYnVpbGQoKX0pfXNldFZpZXdwb3J0KGU9dGhpcy5fZnVsbHNjcmVlblZpZXdwb3J0KXt0aGlzLmVuZ2luZS5zZXRWaWV3cG9ydChlKX1iaW5kQnVmZmVycyhlKXt0aGlzLmVuZ2luZS5iaW5kQnVmZmVycyh0aGlzLl92ZXJ0ZXhCdWZmZXJzLHRoaXMuX2luZGV4QnVmZmVyLGUpfWFwcGx5RWZmZWN0V3JhcHBlcihlKXt0aGlzLmVuZ2luZS5zZXRTdGF0ZSghMCksdGhpcy5lbmdpbmUuZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhUZXN0PSExLHRoaXMuZW5naW5lLnN0ZW5jaWxTdGF0ZS5zdGVuY2lsVGVzdD0hMSx0aGlzLmVuZ2luZS5lbmFibGVFZmZlY3QoZS5fZHJhd1dyYXBwZXIpLHRoaXMuYmluZEJ1ZmZlcnMoZS5lZmZlY3QpLGUub25BcHBseU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHt9KX1yZXN0b3JlU3RhdGVzKCl7dGhpcy5lbmdpbmUuZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhUZXN0PSEwLHRoaXMuZW5naW5lLnN0ZW5jaWxTdGF0ZS5zdGVuY2lsVGVzdD0hMH1kcmF3KCl7dGhpcy5lbmdpbmUuZHJhd0VsZW1lbnRzVHlwZSgwLDAsNil9X2lzUmVuZGVyVGFyZ2V0VGV4dHVyZShlKXtyZXR1cm4gZS5yZW5kZXJUYXJnZXQhPT12b2lkIDB9cmVuZGVyKGUsdD1udWxsKXtpZighZS5lZmZlY3QuaXNSZWFkeSgpKXJldHVybjt0aGlzLnNldFZpZXdwb3J0KCk7Y29uc3QgaT10PT09bnVsbD9udWxsOnRoaXMuX2lzUmVuZGVyVGFyZ2V0VGV4dHVyZSh0KT90LnJlbmRlclRhcmdldDp0O2kmJnRoaXMuZW5naW5lLmJpbmRGcmFtZWJ1ZmZlcihpKSx0aGlzLmFwcGx5RWZmZWN0V3JhcHBlcihlKSx0aGlzLmRyYXcoKSxpJiZ0aGlzLmVuZ2luZS51bkJpbmRGcmFtZWJ1ZmZlcihpKSx0aGlzLnJlc3RvcmVTdGF0ZXMoKX1kaXNwb3NlKCl7Y29uc3QgZT10aGlzLl92ZXJ0ZXhCdWZmZXJzW2cuUG9zaXRpb25LaW5kXTtlJiYoZS5kaXNwb3NlKCksZGVsZXRlIHRoaXMuX3ZlcnRleEJ1ZmZlcnNbZy5Qb3NpdGlvbktpbmRdKSx0aGlzLl9pbmRleEJ1ZmZlciYmdGhpcy5lbmdpbmUuX3JlbGVhc2VCdWZmZXIodGhpcy5faW5kZXhCdWZmZXIpLHRoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXImJih0aGlzLmVuZ2luZS5vbkNvbnRleHRSZXN0b3JlZE9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXIpLHRoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXI9bnVsbCl9fWNsYXNzIGlhe2NvbnN0cnVjdG9yKGUpe3RoaXMub25BcHBseU9ic2VydmFibGU9bmV3IEY7bGV0IHQ7Y29uc3QgaT1lLnVuaWZvcm1OYW1lc3x8W107ZS52ZXJ0ZXhTaGFkZXI/dD17ZnJhZ21lbnRTb3VyY2U6ZS5mcmFnbWVudFNoYWRlcix2ZXJ0ZXhTb3VyY2U6ZS52ZXJ0ZXhTaGFkZXIsc3BlY3Rvck5hbWU6ZS5uYW1lfHwiZWZmZWN0V3JhcHBlciJ9OihpLnB1c2goInNjYWxlIiksdD17ZnJhZ21lbnRTb3VyY2U6ZS5mcmFnbWVudFNoYWRlcix2ZXJ0ZXg6InBvc3Rwcm9jZXNzIixzcGVjdG9yTmFtZTplLm5hbWV8fCJlZmZlY3RXcmFwcGVyIn0sdGhpcy5vbkFwcGx5T2JzZXJ2YWJsZS5hZGQoKCk9Pnt0aGlzLmVmZmVjdC5zZXRGbG9hdDIoInNjYWxlIiwxLDEpfSkpO2NvbnN0IHM9ZS5kZWZpbmVzP2UuZGVmaW5lcy5qb2luKGAKYCk6IiI7dGhpcy5fZHJhd1dyYXBwZXI9bmV3IG1pKGUuZW5naW5lKSxlLnVzZVNoYWRlclN0b3JlPyh0LmZyYWdtZW50PXQuZnJhZ21lbnRTb3VyY2UsdC52ZXJ0ZXh8fCh0LnZlcnRleD10LnZlcnRleFNvdXJjZSksZGVsZXRlIHQuZnJhZ21lbnRTb3VyY2UsZGVsZXRlIHQudmVydGV4U291cmNlLHRoaXMuZWZmZWN0PWUuZW5naW5lLmNyZWF0ZUVmZmVjdCh0LGUuYXR0cmlidXRlTmFtZXN8fFsicG9zaXRpb24iXSxpLGUuc2FtcGxlck5hbWVzLHMsdm9pZCAwLGUub25Db21waWxlZCx2b2lkIDAsdm9pZCAwLGUuc2hhZGVyTGFuZ3VhZ2UpKToodGhpcy5lZmZlY3Q9bmV3IFBlKHQsZS5hdHRyaWJ1dGVOYW1lc3x8WyJwb3NpdGlvbiJdLGksZS5zYW1wbGVyTmFtZXMsZS5lbmdpbmUscyx2b2lkIDAsZS5vbkNvbXBpbGVkLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGUuc2hhZGVyTGFuZ3VhZ2UpLHRoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXI9ZS5lbmdpbmUub25Db250ZXh0UmVzdG9yZWRPYnNlcnZhYmxlLmFkZCgoKT0+e3RoaXMuZWZmZWN0Ll9waXBlbGluZUNvbnRleHQ9bnVsbCx0aGlzLmVmZmVjdC5fd2FzUHJldmlvdXNseVJlYWR5PSExLHRoaXMuZWZmZWN0Ll9wcmVwYXJlRWZmZWN0KCl9KSl9Z2V0IGVmZmVjdCgpe3JldHVybiB0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3R9c2V0IGVmZmVjdChlKXt0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3Q9ZX1kaXNwb3NlKCl7dGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlciYmKHRoaXMuZWZmZWN0LmdldEVuZ2luZSgpLm9uQ29udGV4dFJlc3RvcmVkT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlciksdGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlcj1udWxsKSx0aGlzLmVmZmVjdC5kaXNwb3NlKCl9fWNvbnN0IHdyPSJwYXNzUGl4ZWxTaGFkZXIiLE9yPWB2YXJ5aW5nIHZlYzIgdlVWOwp1bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlU2FtcGxlcjsKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpIAp7CmdsX0ZyYWdDb2xvcj10ZXh0dXJlMkQodGV4dHVyZVNhbXBsZXIsdlVWKTsKfWA7VS5TaGFkZXJzU3RvcmVbd3JdPU9yO2NvbnN0IExyPXtuYW1lOndyLHNoYWRlcjpPcn07Y2xhc3MgdHR7c3RhdGljIF9DcmVhdGVEdW1wUmVuZGVyZXIoKXtpZighdHQuX0R1bXBUb29sc0VuZ2luZSl7Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSx0PW5ldyBvZShlLCExLHtwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ITAsZGVwdGg6ITEsc3RlbmNpbDohMSxhbHBoYTohMCxwcmVtdWx0aXBsaWVkQWxwaGE6ITEsYW50aWFsaWFzOiExLGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6ITF9KTt0LmdldENhcHMoKS5wYXJhbGxlbFNoYWRlckNvbXBpbGU9dm9pZCAwO2NvbnN0IGk9bmV3IHRhKHQpLHM9bmV3IGlhKHtlbmdpbmU6dCxuYW1lOkxyLm5hbWUsZnJhZ21lbnRTaGFkZXI6THIuc2hhZGVyLHNhbXBsZXJOYW1lczpbInRleHR1cmVTYW1wbGVyIl19KTt0dC5fRHVtcFRvb2xzRW5naW5lPXtjYW52YXM6ZSxlbmdpbmU6dCxyZW5kZXJlcjppLHdyYXBwZXI6c319cmV0dXJuIHR0Ll9EdW1wVG9vbHNFbmdpbmV9c3RhdGljIGFzeW5jIER1bXBGcmFtZWJ1ZmZlcihlLHQsaSxzLHI9ImltYWdlL3BuZyIsbil7Y29uc3QgYT1hd2FpdCBpLnJlYWRQaXhlbHMoMCwwLGUsdCksbz1uZXcgVWludDhBcnJheShhLmJ1ZmZlcik7dHQuRHVtcERhdGEoZSx0LG8scyxyLG4sITApfXN0YXRpYyBEdW1wRGF0YUFzeW5jKGUsdCxpLHM9ImltYWdlL3BuZyIscixuPSExLGE9ITEsbyl7cmV0dXJuIG5ldyBQcm9taXNlKGg9Pnt0dC5EdW1wRGF0YShlLHQsaSxsPT5oKGwpLHMscixuLGEsbyl9KX1zdGF0aWMgRHVtcERhdGEoZSx0LGkscyxyPSJpbWFnZS9wbmciLG4sYT0hMSxvPSExLGgpe2NvbnN0IGw9dHQuX0NyZWF0ZUR1bXBSZW5kZXJlcigpO2lmKGwuZW5naW5lLnNldFNpemUoZSx0LCEwKSxpIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KXtjb25zdCBkPW5ldyBVaW50OEFycmF5KGkubGVuZ3RoKTtsZXQgZj1pLmxlbmd0aDtmb3IoO2YtLTspe2NvbnN0IF89aVtmXTtkW2ZdPV88MD8wOl8+MT8xOk1hdGgucm91bmQoXyoyNTUpfWk9ZH1jb25zdCB1PWwuZW5naW5lLmNyZWF0ZVJhd1RleHR1cmUoaSxlLHQsNSwhMSwhYSwxKTtsLnJlbmRlcmVyLnNldFZpZXdwb3J0KCksbC5yZW5kZXJlci5hcHBseUVmZmVjdFdyYXBwZXIobC53cmFwcGVyKSxsLndyYXBwZXIuZWZmZWN0Ll9iaW5kVGV4dHVyZSgidGV4dHVyZVNhbXBsZXIiLHUpLGwucmVuZGVyZXIuZHJhdygpLG8/SC5Ub0Jsb2IobC5jYW52YXMsZD0+e2NvbnN0IGY9bmV3IEZpbGVSZWFkZXI7Zi5vbmxvYWQ9Xz0+e2NvbnN0IEU9Xy50YXJnZXQucmVzdWx0O3MmJnMoRSl9LGYucmVhZEFzQXJyYXlCdWZmZXIoZCl9LHIsaCk6SC5FbmNvZGVTY3JlZW5zaG90Q2FudmFzRGF0YShsLmNhbnZhcyxzLHIsbixoKSx1LmRpc3Bvc2UoKX1zdGF0aWMgRGlzcG9zZSgpe3R0Ll9EdW1wVG9vbHNFbmdpbmUmJih0dC5fRHVtcFRvb2xzRW5naW5lLndyYXBwZXIuZGlzcG9zZSgpLHR0Ll9EdW1wVG9vbHNFbmdpbmUucmVuZGVyZXIuZGlzcG9zZSgpLHR0Ll9EdW1wVG9vbHNFbmdpbmUuZW5naW5lLmRpc3Bvc2UoKSksdHQuX0R1bXBUb29sc0VuZ2luZT1udWxsfX0oKCk9PntILkR1bXBEYXRhPXR0LkR1bXBEYXRhLEguRHVtcERhdGFBc3luYz10dC5EdW1wRGF0YUFzeW5jLEguRHVtcEZyYW1lYnVmZmVyPXR0LkR1bXBGcmFtZWJ1ZmZlcn0pKCk7Y2xhc3MgX3QgZXh0ZW5kcyBOe2NvbnN0cnVjdG9yKGUsdCxpLHM9ITEscj0hMCxuPTAsYT0hMSxvPU4uVFJJTElORUFSX1NBTVBMSU5HTU9ERSxoPSEwLGw9ITEsdT0hMSxkPTUsZj0hMSxfLEUsbT0hMSx2PSExKXt2YXIgUyx5LEEsQyxiLE07bGV0IEw7aWYodHlwZW9mIHM9PSJvYmplY3QiKXtjb25zdCB3PXM7cz0hIXcuZ2VuZXJhdGVNaXBNYXBzLHI9KFM9dy5kb05vdENoYW5nZUFzcGVjdFJhdGlvKSE9PW51bGwmJlMhPT12b2lkIDA/UzohMCxuPSh5PXcudHlwZSkhPT1udWxsJiZ5IT09dm9pZCAwP3k6MCxhPSEhdy5pc0N1YmUsbz0oQT13LnNhbXBsaW5nTW9kZSkhPT1udWxsJiZBIT09dm9pZCAwP0E6Ti5UUklMSU5FQVJfU0FNUExJTkdNT0RFLGg9KEM9dy5nZW5lcmF0ZURlcHRoQnVmZmVyKSE9PW51bGwmJkMhPT12b2lkIDA/QzohMCxsPSEhdy5nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsdT0hIXcuaXNNdWx0aSxkPShiPXcuZm9ybWF0KSE9PW51bGwmJmIhPT12b2lkIDA/Yjo1LGY9ISF3LmRlbGF5QWxsb2NhdGlvbixfPXcuc2FtcGxlcyxFPXcuY3JlYXRpb25GbGFncyxtPSEhdy5ub0NvbG9yQXR0YWNobWVudCx2PSEhdy51c2VTUkdCQnVmZmVyLEw9dy5jb2xvckF0dGFjaG1lbnR9aWYoc3VwZXIobnVsbCxpLCFzLHZvaWQgMCxvLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCxkKSx0aGlzLl91bk9ic2VydmVSZW5kZXJMaXN0PW51bGwsdGhpcy5fcmVuZGVyTGlzdEhhc0NoYW5nZWQ9KHcsZGUpPT57dmFyIGNlO2NvbnN0IHNlPXRoaXMuX3JlbmRlckxpc3Q/dGhpcy5fcmVuZGVyTGlzdC5sZW5ndGg6MDsoZGU9PT0wJiZzZT4wfHxzZT09PTApJiYoKGNlPXRoaXMuZ2V0U2NlbmUoKSk9PT1udWxsfHxjZT09PXZvaWQgMHx8Y2UubWVzaGVzLmZvckVhY2godGU9Pnt0ZS5fbWFya1N1Yk1lc2hlc0FzTGlnaHREaXJ0eSgpfSkpfSx0aGlzLnJlbmRlclBhcnRpY2xlcz0hMCx0aGlzLnJlbmRlclNwcml0ZXM9ITEsdGhpcy5mb3JjZUxheWVyTWFza0NoZWNrPSExLHRoaXMuaWdub3JlQ2FtZXJhVmlld3BvcnQ9ITEsdGhpcy5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25BZnRlclVuYmluZE9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQ2xlYXJPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25SZXNpemVPYnNlcnZhYmxlPW5ldyBGLHRoaXMuX2NsZWFyZWQ9ITEsdGhpcy5za2lwSW5pdGlhbENsZWFyPSExLHRoaXMuX2N1cnJlbnRSZWZyZXNoSWQ9LTEsdGhpcy5fcmVmcmVzaFJhdGU9MSx0aGlzLl9zYW1wbGVzPTEsdGhpcy5fY2FuUmVzY2FsZT0hMCx0aGlzLl9yZW5kZXJUYXJnZXQ9bnVsbCx0aGlzLmJvdW5kaW5nQm94UG9zaXRpb249cC5aZXJvKCksaT10aGlzLmdldFNjZW5lKCksIWkpcmV0dXJuO2NvbnN0IGs9dGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpO3RoaXMuX2Nvb3JkaW5hdGVzTW9kZT1OLlBST0pFQ1RJT05fTU9ERSx0aGlzLnJlbmRlckxpc3Q9bmV3IEFycmF5LHRoaXMubmFtZT1lLHRoaXMuaXNSZW5kZXJUYXJnZXQ9ITAsdGhpcy5faW5pdGlhbFNpemVQYXJhbWV0ZXI9dCx0aGlzLl9yZW5kZXJQYXNzSWRzPVtdLHRoaXMuX2lzQ3ViZURhdGE9YSx0aGlzLl9wcm9jZXNzU2l6ZVBhcmFtZXRlcih0KSx0aGlzLnJlbmRlclBhc3NJZD10aGlzLl9yZW5kZXJQYXNzSWRzWzBdLHRoaXMuX3Jlc2l6ZU9ic2VydmVyPWsub25SZXNpemVPYnNlcnZhYmxlLmFkZCgoKT0+e30pLHRoaXMuX2dlbmVyYXRlTWlwTWFwcz0hIXMsdGhpcy5fZG9Ob3RDaGFuZ2VBc3BlY3RSYXRpbz1yLHRoaXMuX3JlbmRlcmluZ01hbmFnZXI9bmV3IFdlKGkpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuX3VzZVNjZW5lQXV0b0NsZWFyU2V0dXA9ITAsIXUmJih0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zPXtnZW5lcmF0ZU1pcE1hcHM6cyx0eXBlOm4sZm9ybWF0OihNPXRoaXMuX2Zvcm1hdCkhPT1udWxsJiZNIT09dm9pZCAwP006dm9pZCAwLHNhbXBsaW5nTW9kZTp0aGlzLnNhbXBsaW5nTW9kZSxnZW5lcmF0ZURlcHRoQnVmZmVyOmgsZ2VuZXJhdGVTdGVuY2lsQnVmZmVyOmwsc2FtcGxlczpfLGNyZWF0aW9uRmxhZ3M6RSxub0NvbG9yQXR0YWNobWVudDptLHVzZVNSR0JCdWZmZXI6dixjb2xvckF0dGFjaG1lbnQ6TH0sdGhpcy5zYW1wbGluZ01vZGU9PT1OLk5FQVJFU1RfU0FNUExJTkdNT0RFJiYodGhpcy53cmFwVT1OLkNMQU1QX0FERFJFU1NNT0RFLHRoaXMud3JhcFY9Ti5DTEFNUF9BRERSRVNTTU9ERSksZnx8KGE/KHRoaXMuX3JlbmRlclRhcmdldD1pLmdldEVuZ2luZSgpLmNyZWF0ZVJlbmRlclRhcmdldEN1YmVUZXh0dXJlKHRoaXMuZ2V0UmVuZGVyU2l6ZSgpLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMpLHRoaXMuY29vcmRpbmF0ZXNNb2RlPU4uSU5WQ1VCSUNfTU9ERSx0aGlzLl90ZXh0dXJlTWF0cml4PXguSWRlbnRpdHkoKSk6dGhpcy5fcmVuZGVyVGFyZ2V0PWkuZ2V0RW5naW5lKCkuY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZSh0aGlzLl9zaXplLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMpLHRoaXMuX3RleHR1cmU9dGhpcy5fcmVuZGVyVGFyZ2V0LnRleHR1cmUsXyE9PXZvaWQgMCYmKHRoaXMuc2FtcGxlcz1fKSkpfWdldCByZW5kZXJMaXN0KCl7cmV0dXJuIHRoaXMuX3JlbmRlckxpc3R9c2V0IHJlbmRlckxpc3QoZSl7dGhpcy5fdW5PYnNlcnZlUmVuZGVyTGlzdCYmKHRoaXMuX3VuT2JzZXJ2ZVJlbmRlckxpc3QoKSx0aGlzLl91bk9ic2VydmVSZW5kZXJMaXN0PW51bGwpLGUmJih0aGlzLl91bk9ic2VydmVSZW5kZXJMaXN0PSRzKGUsdGhpcy5fcmVuZGVyTGlzdEhhc0NoYW5nZWQpKSx0aGlzLl9yZW5kZXJMaXN0PWV9Z2V0IHBvc3RQcm9jZXNzZXMoKXtyZXR1cm4gdGhpcy5fcG9zdFByb2Nlc3Nlc31nZXQgX3ByZVBhc3NFbmFibGVkKCl7cmV0dXJuISF0aGlzLl9wcmVQYXNzUmVuZGVyVGFyZ2V0JiZ0aGlzLl9wcmVQYXNzUmVuZGVyVGFyZ2V0LmVuYWJsZWR9c2V0IG9uQWZ0ZXJVbmJpbmQoZSl7dGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyJiZ0aGlzLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXIpLHRoaXMuX29uQWZ0ZXJVbmJpbmRPYnNlcnZlcj10aGlzLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLmFkZChlKX1zZXQgb25CZWZvcmVSZW5kZXIoZSl7dGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXIpLHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKGUpfXNldCBvbkFmdGVyUmVuZGVyKGUpe3RoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyKSx0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSl9c2V0IG9uQ2xlYXIoZSl7dGhpcy5fb25DbGVhck9ic2VydmVyJiZ0aGlzLm9uQ2xlYXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkNsZWFyT2JzZXJ2ZXIpLHRoaXMuX29uQ2xlYXJPYnNlcnZlcj10aGlzLm9uQ2xlYXJPYnNlcnZhYmxlLmFkZChlKX1nZXQgcmVuZGVyUGFzc0lkcygpe3JldHVybiB0aGlzLl9yZW5kZXJQYXNzSWRzfWdldCBjdXJyZW50UmVmcmVzaElkKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRSZWZyZXNoSWR9c2V0TWF0ZXJpYWxGb3JSZW5kZXJpbmcoZSx0KXtsZXQgaTtBcnJheS5pc0FycmF5KGUpP2k9ZTppPVtlXTtmb3IobGV0IHM9MDtzPGkubGVuZ3RoOysrcylmb3IobGV0IHI9MDtyPHRoaXMuX3JlbmRlclBhc3NJZHMubGVuZ3RoOysrcilpW3NdLnNldE1hdGVyaWFsRm9yUmVuZGVyUGFzcyh0aGlzLl9yZW5kZXJQYXNzSWRzW3JdLHQhPT12b2lkIDA/QXJyYXkuaXNBcnJheSh0KT90W3JdOnQ6dm9pZCAwKX1nZXQgcmVuZGVyVGFyZ2V0T3B0aW9ucygpe3JldHVybiB0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zfWdldCByZW5kZXJUYXJnZXQoKXtyZXR1cm4gdGhpcy5fcmVuZGVyVGFyZ2V0fV9vblJhdGlvUmVzY2FsZSgpe3RoaXMuX3NpemVSYXRpbyYmdGhpcy5yZXNpemUodGhpcy5faW5pdGlhbFNpemVQYXJhbWV0ZXIpfXNldCBib3VuZGluZ0JveFNpemUoZSl7aWYodGhpcy5fYm91bmRpbmdCb3hTaXplJiZ0aGlzLl9ib3VuZGluZ0JveFNpemUuZXF1YWxzKGUpKXJldHVybjt0aGlzLl9ib3VuZGluZ0JveFNpemU9ZTtjb25zdCB0PXRoaXMuZ2V0U2NlbmUoKTt0JiZ0Lm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpfWdldCBib3VuZGluZ0JveFNpemUoKXtyZXR1cm4gdGhpcy5fYm91bmRpbmdCb3hTaXplfWdldCBkZXB0aFN0ZW5jaWxUZXh0dXJlKCl7dmFyIGUsdDtyZXR1cm4odD0oZT10aGlzLl9yZW5kZXJUYXJnZXQpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5fZGVwdGhTdGVuY2lsVGV4dHVyZSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6bnVsbH1jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKGU9MCx0PSEwLGk9ITEscz0xLHI9MTQpe3ZhciBuOyhuPXRoaXMuX3JlbmRlclRhcmdldCk9PT1udWxsfHxuPT09dm9pZCAwfHxuLmNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmUoZSx0LGkscyxyKX1fcmVsZWFzZVJlbmRlclBhc3NJZCgpe2lmKHRoaXMuX3NjZW5lKXtjb25zdCBlPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO2ZvcihsZXQgdD0wO3Q8dGhpcy5fcmVuZGVyUGFzc0lkcy5sZW5ndGg7Kyt0KWUucmVsZWFzZVJlbmRlclBhc3NJZCh0aGlzLl9yZW5kZXJQYXNzSWRzW3RdKX10aGlzLl9yZW5kZXJQYXNzSWRzPVtdfV9jcmVhdGVSZW5kZXJQYXNzSWQoKXt0aGlzLl9yZWxlYXNlUmVuZGVyUGFzc0lkKCk7Y29uc3QgZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSx0PXRoaXMuX2lzQ3ViZURhdGE/Njp0aGlzLmdldFJlbmRlckxheWVycygpfHwxO2ZvcihsZXQgaT0wO2k8dDsrK2kpdGhpcy5fcmVuZGVyUGFzc0lkc1tpXT1lLmNyZWF0ZVJlbmRlclBhc3NJZChgUmVuZGVyVGFyZ2V0VGV4dHVyZSAtICR7dGhpcy5uYW1lfSMke2l9YCl9X3Byb2Nlc3NTaXplUGFyYW1ldGVyKGUpe2lmKGUucmF0aW8pe3RoaXMuX3NpemVSYXRpbz1lLnJhdGlvO2NvbnN0IHQ9dGhpcy5fZ2V0RW5naW5lKCk7dGhpcy5fc2l6ZT17d2lkdGg6dGhpcy5fYmVzdFJlZmxlY3Rpb25SZW5kZXJUYXJnZXREaW1lbnNpb24odC5nZXRSZW5kZXJXaWR0aCgpLHRoaXMuX3NpemVSYXRpbyksaGVpZ2h0OnRoaXMuX2Jlc3RSZWZsZWN0aW9uUmVuZGVyVGFyZ2V0RGltZW5zaW9uKHQuZ2V0UmVuZGVySGVpZ2h0KCksdGhpcy5fc2l6ZVJhdGlvKX19ZWxzZSB0aGlzLl9zaXplPWU7dGhpcy5fY3JlYXRlUmVuZGVyUGFzc0lkKCl9Z2V0IHNhbXBsZXMoKXt2YXIgZSx0O3JldHVybih0PShlPXRoaXMuX3JlbmRlclRhcmdldCk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLnNhbXBsZXMpIT09bnVsbCYmdCE9PXZvaWQgMD90OnRoaXMuX3NhbXBsZXN9c2V0IHNhbXBsZXMoZSl7dGhpcy5fcmVuZGVyVGFyZ2V0JiYodGhpcy5fc2FtcGxlcz10aGlzLl9yZW5kZXJUYXJnZXQuc2V0U2FtcGxlcyhlKSl9cmVzZXRSZWZyZXNoQ291bnRlcigpe3RoaXMuX2N1cnJlbnRSZWZyZXNoSWQ9LTF9Z2V0IHJlZnJlc2hSYXRlKCl7cmV0dXJuIHRoaXMuX3JlZnJlc2hSYXRlfXNldCByZWZyZXNoUmF0ZShlKXt0aGlzLl9yZWZyZXNoUmF0ZT1lLHRoaXMucmVzZXRSZWZyZXNoQ291bnRlcigpfWFkZFBvc3RQcm9jZXNzKGUpe2lmKCF0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIpe2NvbnN0IHQ9dGhpcy5nZXRTY2VuZSgpO2lmKCF0KXJldHVybjt0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXI9bmV3IFFpKHQpLHRoaXMuX3Bvc3RQcm9jZXNzZXM9bmV3IEFycmF5fXRoaXMuX3Bvc3RQcm9jZXNzZXMucHVzaChlKSx0aGlzLl9wb3N0UHJvY2Vzc2VzWzBdLmF1dG9DbGVhcj0hMX1jbGVhclBvc3RQcm9jZXNzZXMoZT0hMSl7aWYodGhpcy5fcG9zdFByb2Nlc3Nlcyl7aWYoZSlmb3IoY29uc3QgdCBvZiB0aGlzLl9wb3N0UHJvY2Vzc2VzKXQuZGlzcG9zZSgpO3RoaXMuX3Bvc3RQcm9jZXNzZXM9W119fXJlbW92ZVBvc3RQcm9jZXNzKGUpe2lmKCF0aGlzLl9wb3N0UHJvY2Vzc2VzKXJldHVybjtjb25zdCB0PXRoaXMuX3Bvc3RQcm9jZXNzZXMuaW5kZXhPZihlKTt0IT09LTEmJih0aGlzLl9wb3N0UHJvY2Vzc2VzLnNwbGljZSh0LDEpLHRoaXMuX3Bvc3RQcm9jZXNzZXMubGVuZ3RoPjAmJih0aGlzLl9wb3N0UHJvY2Vzc2VzWzBdLmF1dG9DbGVhcj0hMSkpfV9zaG91bGRSZW5kZXIoKXtyZXR1cm4gdGhpcy5fY3VycmVudFJlZnJlc2hJZD09PS0xPyh0aGlzLl9jdXJyZW50UmVmcmVzaElkPTEsITApOnRoaXMucmVmcmVzaFJhdGU9PT10aGlzLl9jdXJyZW50UmVmcmVzaElkPyh0aGlzLl9jdXJyZW50UmVmcmVzaElkPTEsITApOih0aGlzLl9jdXJyZW50UmVmcmVzaElkKyssITEpfWdldFJlbmRlclNpemUoKXtyZXR1cm4gdGhpcy5nZXRSZW5kZXJXaWR0aCgpfWdldFJlbmRlcldpZHRoKCl7cmV0dXJuIHRoaXMuX3NpemUud2lkdGg/dGhpcy5fc2l6ZS53aWR0aDp0aGlzLl9zaXplfWdldFJlbmRlckhlaWdodCgpe3JldHVybiB0aGlzLl9zaXplLndpZHRoP3RoaXMuX3NpemUuaGVpZ2h0OnRoaXMuX3NpemV9Z2V0UmVuZGVyTGF5ZXJzKCl7Y29uc3QgZT10aGlzLl9zaXplLmxheWVycztyZXR1cm4gZXx8MH1kaXNhYmxlUmVzY2FsaW5nKCl7dGhpcy5fY2FuUmVzY2FsZT0hMX1nZXQgY2FuUmVzY2FsZSgpe3JldHVybiB0aGlzLl9jYW5SZXNjYWxlfXNjYWxlKGUpe2NvbnN0IHQ9TWF0aC5tYXgoMSx0aGlzLmdldFJlbmRlclNpemUoKSplKTt0aGlzLnJlc2l6ZSh0KX1nZXRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeCgpe3JldHVybiB0aGlzLmlzQ3ViZT90aGlzLl90ZXh0dXJlTWF0cml4OnN1cGVyLmdldFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4KCl9cmVzaXplKGUpe3ZhciB0O2NvbnN0IGk9dGhpcy5pc0N1YmU7KHQ9dGhpcy5fcmVuZGVyVGFyZ2V0KT09PW51bGx8fHQ9PT12b2lkIDB8fHQuZGlzcG9zZSgpLHRoaXMuX3JlbmRlclRhcmdldD1udWxsO2NvbnN0IHM9dGhpcy5nZXRTY2VuZSgpO3MmJih0aGlzLl9wcm9jZXNzU2l6ZVBhcmFtZXRlcihlKSxpP3RoaXMuX3JlbmRlclRhcmdldD1zLmdldEVuZ2luZSgpLmNyZWF0ZVJlbmRlclRhcmdldEN1YmVUZXh0dXJlKHRoaXMuZ2V0UmVuZGVyU2l6ZSgpLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMpOnRoaXMuX3JlbmRlclRhcmdldD1zLmdldEVuZ2luZSgpLmNyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUodGhpcy5fc2l6ZSx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zKSx0aGlzLl90ZXh0dXJlPXRoaXMuX3JlbmRlclRhcmdldC50ZXh0dXJlLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMuc2FtcGxlcyE9PXZvaWQgMCYmKHRoaXMuc2FtcGxlcz10aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLnNhbXBsZXMpLHRoaXMub25SZXNpemVPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZ0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcykpfXJlbmRlcihlPSExLHQ9ITEpe3RoaXMuX3JlbmRlcihlLHQpfWlzUmVhZHlGb3JSZW5kZXJpbmcoKXtyZXR1cm4gdGhpcy5fcmVuZGVyKCExLCExLCEwKX1fcmVuZGVyKGU9ITEsdD0hMSxpPSExKXt2YXIgcztjb25zdCByPXRoaXMuZ2V0U2NlbmUoKTtpZighcilyZXR1cm4gaTtjb25zdCBuPXIuZ2V0RW5naW5lKCk7aWYodGhpcy51c2VDYW1lcmFQb3N0UHJvY2Vzc2VzIT09dm9pZCAwJiYoZT10aGlzLnVzZUNhbWVyYVBvc3RQcm9jZXNzZXMpLHRoaXMuX3dhaXRpbmdSZW5kZXJMaXN0KXt0aGlzLnJlbmRlckxpc3Q9W107Zm9yKGxldCB1PTA7dTx0aGlzLl93YWl0aW5nUmVuZGVyTGlzdC5sZW5ndGg7dSsrKXtjb25zdCBkPXRoaXMuX3dhaXRpbmdSZW5kZXJMaXN0W3VdLGY9ci5nZXRNZXNoQnlJZChkKTtmJiZ0aGlzLnJlbmRlckxpc3QucHVzaChmKX10aGlzLl93YWl0aW5nUmVuZGVyTGlzdD12b2lkIDB9aWYodGhpcy5yZW5kZXJMaXN0UHJlZGljYXRlKXt0aGlzLnJlbmRlckxpc3Q/dGhpcy5yZW5kZXJMaXN0Lmxlbmd0aD0wOnRoaXMucmVuZGVyTGlzdD1bXTtjb25zdCB1PXRoaXMuZ2V0U2NlbmUoKTtpZighdSlyZXR1cm4gaTtjb25zdCBkPXUubWVzaGVzO2ZvcihsZXQgZj0wO2Y8ZC5sZW5ndGg7ZisrKXtjb25zdCBfPWRbZl07dGhpcy5yZW5kZXJMaXN0UHJlZGljYXRlKF8pJiZ0aGlzLnJlbmRlckxpc3QucHVzaChfKX19Y29uc3QgYT1uLmN1cnJlbnRSZW5kZXJQYXNzSWQ7dGhpcy5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtjb25zdCBvPShzPXRoaXMuYWN0aXZlQ2FtZXJhKSE9PW51bGwmJnMhPT12b2lkIDA/czpyLmFjdGl2ZUNhbWVyYSxoPXIuYWN0aXZlQ2FtZXJhO28mJihvIT09ci5hY3RpdmVDYW1lcmEmJihyLnNldFRyYW5zZm9ybU1hdHJpeChvLmdldFZpZXdNYXRyaXgoKSxvLmdldFByb2plY3Rpb25NYXRyaXgoITApKSxyLmFjdGl2ZUNhbWVyYT1vKSxuLnNldFZpZXdwb3J0KG8udmlld3BvcnQsdGhpcy5nZXRSZW5kZXJXaWR0aCgpLHRoaXMuZ2V0UmVuZGVySGVpZ2h0KCkpKSx0aGlzLl9kZWZhdWx0UmVuZGVyTGlzdFByZXBhcmVkPSExO2xldCBsPWk7aWYoaSl7ci5nZXRWaWV3TWF0cml4KCl8fHIudXBkYXRlVHJhbnNmb3JtTWF0cml4KCk7Y29uc3QgdT10aGlzLmlzMkRBcnJheT90aGlzLmdldFJlbmRlckxheWVycygpOnRoaXMuaXNDdWJlPzY6MTtmb3IobGV0IGQ9MDtkPHUmJmw7ZCsrKXtsZXQgZj1udWxsO2NvbnN0IF89dGhpcy5yZW5kZXJMaXN0P3RoaXMucmVuZGVyTGlzdDpyLmdldEFjdGl2ZU1lc2hlcygpLmRhdGEsRT10aGlzLnJlbmRlckxpc3Q/dGhpcy5yZW5kZXJMaXN0Lmxlbmd0aDpyLmdldEFjdGl2ZU1lc2hlcygpLmxlbmd0aDtuLmN1cnJlbnRSZW5kZXJQYXNzSWQ9dGhpcy5fcmVuZGVyUGFzc0lkc1tkXSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZCksdGhpcy5nZXRDdXN0b21SZW5kZXJMaXN0JiYoZj10aGlzLmdldEN1c3RvbVJlbmRlckxpc3QoZCxfLEUpKSxmfHwoZj1fKSx0aGlzLl9kb05vdENoYW5nZUFzcGVjdFJhdGlvfHxyLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCk7Zm9yKGxldCBtPTA7bTxmLmxlbmd0aCYmbDsrK20pe2NvbnN0IHY9ZlttXTtpZighKCF2LmlzRW5hYmxlZCgpfHx2LmlzQmxvY2tlZHx8IXYuaXNWaXNpYmxlfHwhdi5zdWJNZXNoZXMpKXtpZih0aGlzLmN1c3RvbUlzUmVhZHlGdW5jdGlvbil7aWYoIXRoaXMuY3VzdG9tSXNSZWFkeUZ1bmN0aW9uKHYsdGhpcy5yZWZyZXNoUmF0ZSxpKSl7bD0hMTtjb250aW51ZX19ZWxzZSBpZighdi5pc1JlYWR5KCEwKSl7bD0hMTtjb250aW51ZX19fXRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGQpLCh0aGlzLmlzMkRBcnJheXx8dGhpcy5pc0N1YmUpJiYoci5pbmNyZW1lbnRSZW5kZXJJZCgpLHIucmVzZXRDYWNoZWRNYXRlcmlhbCgpKX19ZWxzZSBpZih0aGlzLmlzMkRBcnJheSlmb3IobGV0IHU9MDt1PHRoaXMuZ2V0UmVuZGVyTGF5ZXJzKCk7dSsrKXRoaXMuX3JlbmRlclRvVGFyZ2V0KDAsZSx0LHUsbyksci5pbmNyZW1lbnRSZW5kZXJJZCgpLHIucmVzZXRDYWNoZWRNYXRlcmlhbCgpO2Vsc2UgaWYodGhpcy5pc0N1YmUpZm9yKGxldCB1PTA7dTw2O3UrKyl0aGlzLl9yZW5kZXJUb1RhcmdldCh1LGUsdCx2b2lkIDAsbyksci5pbmNyZW1lbnRSZW5kZXJJZCgpLHIucmVzZXRDYWNoZWRNYXRlcmlhbCgpO2Vsc2UgdGhpcy5fcmVuZGVyVG9UYXJnZXQoMCxlLHQsdm9pZCAwLG8pO3JldHVybiB0aGlzLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSxuLmN1cnJlbnRSZW5kZXJQYXNzSWQ9YSxoJiYoci5hY3RpdmVDYW1lcmE9aCwoci5nZXRFbmdpbmUoKS5zY2VuZXMubGVuZ3RoPjF8fHRoaXMuYWN0aXZlQ2FtZXJhJiZ0aGlzLmFjdGl2ZUNhbWVyYSE9PXIuYWN0aXZlQ2FtZXJhKSYmci5zZXRUcmFuc2Zvcm1NYXRyaXgoci5hY3RpdmVDYW1lcmEuZ2V0Vmlld01hdHJpeCgpLHIuYWN0aXZlQ2FtZXJhLmdldFByb2plY3Rpb25NYXRyaXgoITApKSxuLnNldFZpZXdwb3J0KHIuYWN0aXZlQ2FtZXJhLnZpZXdwb3J0KSksci5yZXNldENhY2hlZE1hdGVyaWFsKCksbH1fYmVzdFJlZmxlY3Rpb25SZW5kZXJUYXJnZXREaW1lbnNpb24oZSx0KXtjb25zdCBzPWUqdCxyPUkuTmVhcmVzdFBPVChzKzEyOCoxMjgvKDEyOCtzKSk7cmV0dXJuIE1hdGgubWluKEkuRmxvb3JQT1QoZSkscil9X3ByZXBhcmVSZW5kZXJpbmdNYW5hZ2VyKGUsdCxpLHMpe2NvbnN0IHI9dGhpcy5nZXRTY2VuZSgpO2lmKCFyKXJldHVybjt0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnJlc2V0KCk7Y29uc3Qgbj1yLmdldFJlbmRlcklkKCk7Zm9yKGxldCBhPTA7YTx0O2ErKyl7Y29uc3Qgbz1lW2FdO2lmKG8mJiFvLmlzQmxvY2tlZCl7aWYodGhpcy5jdXN0b21Jc1JlYWR5RnVuY3Rpb24pe2lmKCF0aGlzLmN1c3RvbUlzUmVhZHlGdW5jdGlvbihvLHRoaXMucmVmcmVzaFJhdGUsITEpKXt0aGlzLnJlc2V0UmVmcmVzaENvdW50ZXIoKTtjb250aW51ZX19ZWxzZSBpZighby5pc1JlYWR5KHRoaXMucmVmcmVzaFJhdGU9PT0wKSl7dGhpcy5yZXNldFJlZnJlc2hDb3VudGVyKCk7Y29udGludWV9aWYoIW8uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0RJc1VwVG9EYXRlJiZyLmFjdGl2ZUNhbWVyYSYmKG8uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0Q9ci5jdXN0b21MT0RTZWxlY3Rvcj9yLmN1c3RvbUxPRFNlbGVjdG9yKG8sdGhpcy5hY3RpdmVDYW1lcmF8fHIuYWN0aXZlQ2FtZXJhKTpvLmdldExPRCh0aGlzLmFjdGl2ZUNhbWVyYXx8ci5hY3RpdmVDYW1lcmEpLG8uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0RJc1VwVG9EYXRlPSEwKSwhby5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY3VycmVudExPRCljb250aW51ZTtsZXQgaD1vLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jdXJyZW50TE9EO2guX3ByZUFjdGl2YXRlRm9ySW50ZXJtZWRpYXRlUmVuZGVyaW5nKG4pO2xldCBsO2lmKHMmJmk/bD0oby5sYXllck1hc2smaS5sYXllck1hc2spPT09MDpsPSExLG8uaXNFbmFibGVkKCkmJm8uaXNWaXNpYmxlJiZvLnN1Yk1lc2hlcyYmIWwmJihoIT09byYmaC5fYWN0aXZhdGUobiwhMCksby5fYWN0aXZhdGUobiwhMCkmJm8uc3ViTWVzaGVzLmxlbmd0aCkpe28uaXNBbkluc3RhbmNlP28uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2gmJihoPW8pOmguX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX29ubHlGb3JJbnN0YW5jZXNJbnRlcm1lZGlhdGU9ITEsaC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITA7Zm9yKGxldCB1PTA7dTxoLnN1Yk1lc2hlcy5sZW5ndGg7dSsrKXtjb25zdCBkPWguc3ViTWVzaGVzW3VdO3RoaXMuX3JlbmRlcmluZ01hbmFnZXIuZGlzcGF0Y2goZCxoKX19fX1mb3IobGV0IGE9MDthPHIucGFydGljbGVTeXN0ZW1zLmxlbmd0aDthKyspe2NvbnN0IG89ci5wYXJ0aWNsZVN5c3RlbXNbYV0saD1vLmVtaXR0ZXI7IW8uaXNTdGFydGVkKCl8fCFofHwhaC5wb3NpdGlvbnx8IWguaXNFbmFibGVkKCl8fGUuaW5kZXhPZihoKT49MCYmdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5kaXNwYXRjaFBhcnRpY2xlcyhvKX19X2JpbmRGcmFtZUJ1ZmZlcihlPTAsdD0wKXtjb25zdCBpPXRoaXMuZ2V0U2NlbmUoKTtpZighaSlyZXR1cm47Y29uc3Qgcz1pLmdldEVuZ2luZSgpO3RoaXMuX3JlbmRlclRhcmdldCYmcy5iaW5kRnJhbWVidWZmZXIodGhpcy5fcmVuZGVyVGFyZ2V0LHRoaXMuaXNDdWJlP2U6dm9pZCAwLHZvaWQgMCx2b2lkIDAsdGhpcy5pZ25vcmVDYW1lcmFWaWV3cG9ydCwwLHQpfV91bmJpbmRGcmFtZUJ1ZmZlcihlLHQpe3RoaXMuX3JlbmRlclRhcmdldCYmZS51bkJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9yZW5kZXJUYXJnZXQsdGhpcy5pc0N1YmUsKCk9Pnt0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0KX0pfV9wcmVwYXJlRnJhbWUoZSx0LGkscyl7dGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyP3RoaXMuX3ByZVBhc3NFbmFibGVkfHx0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuX3ByZXBhcmVGcmFtZSh0aGlzLl90ZXh0dXJlLHRoaXMuX3Bvc3RQcm9jZXNzZXMpOighc3x8IWUucG9zdFByb2Nlc3NNYW5hZ2VyLl9wcmVwYXJlRnJhbWUodGhpcy5fdGV4dHVyZSkpJiZ0aGlzLl9iaW5kRnJhbWVCdWZmZXIodCxpKX1fcmVuZGVyVG9UYXJnZXQoZSx0LGkscz0wLHI9bnVsbCl7dmFyIG4sYSxvLGgsbCx1O2NvbnN0IGQ9dGhpcy5nZXRTY2VuZSgpO2lmKCFkKXJldHVybjtjb25zdCBmPWQuZ2V0RW5naW5lKCk7aWYoKG49Zi5fZGVidWdQdXNoR3JvdXApPT09bnVsbHx8bj09PXZvaWQgMHx8bi5jYWxsKGYsYHJlbmRlciB0byBmYWNlICMke2V9IGxheWVyICMke3N9YCwxKSx0aGlzLl9wcmVwYXJlRnJhbWUoZCxlLHMsdCksdGhpcy5pczJEQXJyYXk/KGYuY3VycmVudFJlbmRlclBhc3NJZD10aGlzLl9yZW5kZXJQYXNzSWRzW3NdLHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhzKSk6KGYuY3VycmVudFJlbmRlclBhc3NJZD10aGlzLl9yZW5kZXJQYXNzSWRzW2VdLHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSksZi5zbmFwc2hvdFJlbmRlcmluZyYmZi5zbmFwc2hvdFJlbmRlcmluZ01vZGU9PT0xKXRoaXMub25DbGVhck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCk/dGhpcy5vbkNsZWFyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZik6dGhpcy5za2lwSW5pdGlhbENsZWFyfHxmLmNsZWFyKHRoaXMuY2xlYXJDb2xvcnx8ZC5jbGVhckNvbG9yLCEwLCEwLCEwKTtlbHNle2xldCBFPW51bGw7Y29uc3QgbT10aGlzLnJlbmRlckxpc3Q/dGhpcy5yZW5kZXJMaXN0OmQuZ2V0QWN0aXZlTWVzaGVzKCkuZGF0YSx2PXRoaXMucmVuZGVyTGlzdD90aGlzLnJlbmRlckxpc3QubGVuZ3RoOmQuZ2V0QWN0aXZlTWVzaGVzKCkubGVuZ3RoO3RoaXMuZ2V0Q3VzdG9tUmVuZGVyTGlzdCYmKEU9dGhpcy5nZXRDdXN0b21SZW5kZXJMaXN0KHRoaXMuaXMyREFycmF5P3M6ZSxtLHYpKSxFP3RoaXMuX3ByZXBhcmVSZW5kZXJpbmdNYW5hZ2VyKEUsRS5sZW5ndGgscix0aGlzLmZvcmNlTGF5ZXJNYXNrQ2hlY2spOih0aGlzLl9kZWZhdWx0UmVuZGVyTGlzdFByZXBhcmVkfHwodGhpcy5fcHJlcGFyZVJlbmRlcmluZ01hbmFnZXIobSx2LHIsIXRoaXMucmVuZGVyTGlzdHx8dGhpcy5mb3JjZUxheWVyTWFza0NoZWNrKSx0aGlzLl9kZWZhdWx0UmVuZGVyTGlzdFByZXBhcmVkPSEwKSxFPW0pO2Zvcihjb25zdCB5IG9mIGQuX2JlZm9yZVJlbmRlclRhcmdldENsZWFyU3RhZ2UpeS5hY3Rpb24odGhpcyxlLHMpO3RoaXMub25DbGVhck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCk/dGhpcy5vbkNsZWFyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZik6dGhpcy5za2lwSW5pdGlhbENsZWFyfHxmLmNsZWFyKHRoaXMuY2xlYXJDb2xvcnx8ZC5jbGVhckNvbG9yLCEwLCEwLCEwKSx0aGlzLl9kb05vdENoYW5nZUFzcGVjdFJhdGlvfHxkLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCk7Zm9yKGNvbnN0IHkgb2YgZC5fYmVmb3JlUmVuZGVyVGFyZ2V0RHJhd1N0YWdlKXkuYWN0aW9uKHRoaXMsZSxzKTt0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnJlbmRlcih0aGlzLmN1c3RvbVJlbmRlckZ1bmN0aW9uLEUsdGhpcy5yZW5kZXJQYXJ0aWNsZXMsdGhpcy5yZW5kZXJTcHJpdGVzKTtmb3IoY29uc3QgeSBvZiBkLl9hZnRlclJlbmRlclRhcmdldERyYXdTdGFnZSl5LmFjdGlvbih0aGlzLGUscyk7Y29uc3QgUz0obz0oYT10aGlzLl90ZXh0dXJlKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmEuZ2VuZXJhdGVNaXBNYXBzKSE9PW51bGwmJm8hPT12b2lkIDA/bzohMTt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5nZW5lcmF0ZU1pcE1hcHM9ITEpLHRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlcj90aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuX2ZpbmFsaXplRnJhbWUoITEsKGg9dGhpcy5fcmVuZGVyVGFyZ2V0KSE9PW51bGwmJmghPT12b2lkIDA/aDp2b2lkIDAsZSx0aGlzLl9wb3N0UHJvY2Vzc2VzLHRoaXMuaWdub3JlQ2FtZXJhVmlld3BvcnQpOnQmJmQucG9zdFByb2Nlc3NNYW5hZ2VyLl9maW5hbGl6ZUZyYW1lKCExLChsPXRoaXMuX3JlbmRlclRhcmdldCkhPT1udWxsJiZsIT09dm9pZCAwP2w6dm9pZCAwLGUpO2Zvcihjb25zdCB5IG9mIGQuX2FmdGVyUmVuZGVyVGFyZ2V0UG9zdFByb2Nlc3NTdGFnZSl5LmFjdGlvbih0aGlzLGUscyk7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuZ2VuZXJhdGVNaXBNYXBzPVMpLHRoaXMuX2RvTm90Q2hhbmdlQXNwZWN0UmF0aW98fGQudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKSxpJiZ0dC5EdW1wRnJhbWVidWZmZXIodGhpcy5nZXRSZW5kZXJXaWR0aCgpLHRoaXMuZ2V0UmVuZGVySGVpZ2h0KCksZil9dGhpcy5fdW5iaW5kRnJhbWVCdWZmZXIoZixlKSx0aGlzLl90ZXh0dXJlJiZ0aGlzLmlzQ3ViZSYmZT09PTUmJmYuZ2VuZXJhdGVNaXBNYXBzRm9yQ3ViZW1hcCh0aGlzLl90ZXh0dXJlKSwodT1mLl9kZWJ1Z1BvcEdyb3VwKT09PW51bGx8fHU9PT12b2lkIDB8fHUuY2FsbChmLDEpfXNldFJlbmRlcmluZ09yZGVyKGUsdD1udWxsLGk9bnVsbCxzPW51bGwpe3RoaXMuX3JlbmRlcmluZ01hbmFnZXIuc2V0UmVuZGVyaW5nT3JkZXIoZSx0LGkscyl9c2V0UmVuZGVyaW5nQXV0b0NsZWFyRGVwdGhTdGVuY2lsKGUsdCl7dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5zZXRSZW5kZXJpbmdBdXRvQ2xlYXJEZXB0aFN0ZW5jaWwoZSx0KSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLl91c2VTY2VuZUF1dG9DbGVhclNldHVwPSExfWNsb25lKCl7Y29uc3QgZT10aGlzLmdldFNpemUoKSx0PW5ldyBfdCh0aGlzLm5hbWUsZSx0aGlzLmdldFNjZW5lKCksdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5fZG9Ob3RDaGFuZ2VBc3BlY3RSYXRpbyx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLnR5cGUsdGhpcy5pc0N1YmUsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5zYW1wbGluZ01vZGUsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5nZW5lcmF0ZURlcHRoQnVmZmVyLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLHZvaWQgMCx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLmZvcm1hdCx2b2lkIDAsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5zYW1wbGVzKTtyZXR1cm4gdC5oYXNBbHBoYT10aGlzLmhhc0FscGhhLHQubGV2ZWw9dGhpcy5sZXZlbCx0LmNvb3JkaW5hdGVzTW9kZT10aGlzLmNvb3JkaW5hdGVzTW9kZSx0aGlzLnJlbmRlckxpc3QmJih0LnJlbmRlckxpc3Q9dGhpcy5yZW5kZXJMaXN0LnNsaWNlKDApKSx0fXNlcmlhbGl6ZSgpe2lmKCF0aGlzLm5hbWUpcmV0dXJuIG51bGw7Y29uc3QgZT1zdXBlci5zZXJpYWxpemUoKTtpZihlLnJlbmRlclRhcmdldFNpemU9dGhpcy5nZXRSZW5kZXJTaXplKCksZS5yZW5kZXJMaXN0PVtdLHRoaXMucmVuZGVyTGlzdClmb3IobGV0IHQ9MDt0PHRoaXMucmVuZGVyTGlzdC5sZW5ndGg7dCsrKWUucmVuZGVyTGlzdC5wdXNoKHRoaXMucmVuZGVyTGlzdFt0XS5pZCk7cmV0dXJuIGV9ZGlzcG9zZUZyYW1lYnVmZmVyT2JqZWN0cygpe3ZhciBlOyhlPXRoaXMuX3JlbmRlclRhcmdldCk9PT1udWxsfHxlPT09dm9pZCAwfHxlLmRpc3Bvc2UoITApfXJlbGVhc2VJbnRlcm5hbFRleHR1cmUoKXt2YXIgZTsoZT10aGlzLl9yZW5kZXJUYXJnZXQpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5yZWxlYXNlVGV4dHVyZXMoKSx0aGlzLl90ZXh0dXJlPW51bGx9ZGlzcG9zZSgpe3ZhciBlO3RoaXMub25SZXNpemVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNsZWFyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXImJih0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuZGlzcG9zZSgpLHRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlcj1udWxsKSx0aGlzLl9wcmVQYXNzUmVuZGVyVGFyZ2V0JiZ0aGlzLl9wcmVQYXNzUmVuZGVyVGFyZ2V0LmRpc3Bvc2UoKSx0aGlzLl9yZWxlYXNlUmVuZGVyUGFzc0lkKCksdGhpcy5jbGVhclBvc3RQcm9jZXNzZXMoITApLHRoaXMuX3Jlc2l6ZU9ic2VydmVyJiYodGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLm9uUmVzaXplT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fcmVzaXplT2JzZXJ2ZXIpLHRoaXMuX3Jlc2l6ZU9ic2VydmVyPW51bGwpLHRoaXMucmVuZGVyTGlzdD1udWxsO2NvbnN0IHQ9dGhpcy5nZXRTY2VuZSgpO2lmKCF0KXJldHVybjtsZXQgaT10LmN1c3RvbVJlbmRlclRhcmdldHMuaW5kZXhPZih0aGlzKTtpPj0wJiZ0LmN1c3RvbVJlbmRlclRhcmdldHMuc3BsaWNlKGksMSk7Zm9yKGNvbnN0IHMgb2YgdC5jYW1lcmFzKWk9cy5jdXN0b21SZW5kZXJUYXJnZXRzLmluZGV4T2YodGhpcyksaT49MCYmcy5jdXN0b21SZW5kZXJUYXJnZXRzLnNwbGljZShpLDEpOyhlPXRoaXMuX3JlbmRlclRhcmdldCk9PT1udWxsfHxlPT09dm9pZCAwfHxlLmRpc3Bvc2UoKSx0aGlzLl9yZW5kZXJUYXJnZXQ9bnVsbCx0aGlzLl90ZXh0dXJlPW51bGwsc3VwZXIuZGlzcG9zZSgpfV9yZWJ1aWxkKCl7dGhpcy5yZWZyZXNoUmF0ZT09PV90LlJFRlJFU0hSQVRFX1JFTkRFUl9PTkNFJiYodGhpcy5yZWZyZXNoUmF0ZT1fdC5SRUZSRVNIUkFURV9SRU5ERVJfT05DRSksdGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyJiZ0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuX3JlYnVpbGQoKX1mcmVlUmVuZGVyaW5nR3JvdXBzKCl7dGhpcy5fcmVuZGVyaW5nTWFuYWdlciYmdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5mcmVlUmVuZGVyaW5nR3JvdXBzKCl9Z2V0Vmlld0NvdW50KCl7cmV0dXJuIDF9fV90LlJFRlJFU0hSQVRFX1JFTkRFUl9PTkNFPTAsX3QuUkVGUkVTSFJBVEVfUkVOREVSX09ORVZFUllGUkFNRT0xLF90LlJFRlJFU0hSQVRFX1JFTkRFUl9PTkVWRVJZVFdPRlJBTUVTPTIsTi5fQ3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZT0oYyxlLHQsaSxzKT0+bmV3IF90KGMsZSx0LGkpO2NsYXNzIE1le2NvbnN0cnVjdG9yKGUsdCxpLHMscixuLGE9MSxvLGgsbD1udWxsLHU9MCxkPSJwb3N0cHJvY2VzcyIsZixfPSExLEU9NSxtPVplLkdMU0wpe3RoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsLHRoaXMud2lkdGg9LTEsdGhpcy5oZWlnaHQ9LTEsdGhpcy5ub2RlTWF0ZXJpYWxTb3VyY2U9bnVsbCx0aGlzLl9vdXRwdXRUZXh0dXJlPW51bGwsdGhpcy5hdXRvQ2xlYXI9ITAsdGhpcy5hbHBoYU1vZGU9MCx0aGlzLmFuaW1hdGlvbnM9bmV3IEFycmF5LHRoaXMuZW5hYmxlUGl4ZWxQZXJmZWN0TW9kZT0hMSx0aGlzLmZvcmNlRnVsbHNjcmVlblZpZXdwb3J0PSEwLHRoaXMuc2NhbGVNb2RlPTEsdGhpcy5hbHdheXNGb3JjZVBPVD0hMSx0aGlzLl9zYW1wbGVzPTEsdGhpcy5hZGFwdFNjYWxlVG9DdXJyZW50Vmlld3BvcnQ9ITEsdGhpcy5fcmV1c2FibGU9ITEsdGhpcy5fcmVuZGVySWQ9MCx0aGlzLmV4dGVybmFsVGV4dHVyZVNhbXBsZXJCaW5kaW5nPSExLHRoaXMuX3RleHR1cmVzPW5ldyAkZSgyKSx0aGlzLl90ZXh0dXJlQ2FjaGU9W10sdGhpcy5fY3VycmVudFJlbmRlclRleHR1cmVJbmQ9MCx0aGlzLl9zY2FsZVJhdGlvPW5ldyB2ZSgxLDEpLHRoaXMuX3RleGVsU2l6ZT12ZS5aZXJvKCksdGhpcy5vbkFjdGl2YXRlT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25BcHBseU9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGU9bmV3IEYsdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm5hbWU9ZSxuIT1udWxsPyh0aGlzLl9jYW1lcmE9bix0aGlzLl9zY2VuZT1uLmdldFNjZW5lKCksbi5hdHRhY2hQb3N0UHJvY2Vzcyh0aGlzKSx0aGlzLl9lbmdpbmU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksdGhpcy5fc2NlbmUucG9zdFByb2Nlc3Nlcy5wdXNoKHRoaXMpLHRoaXMudW5pcXVlSWQ9dGhpcy5fc2NlbmUuZ2V0VW5pcXVlSWQoKSk6byYmKHRoaXMuX2VuZ2luZT1vLHRoaXMuX2VuZ2luZS5wb3N0UHJvY2Vzc2VzLnB1c2godGhpcykpLHRoaXMuX29wdGlvbnM9cix0aGlzLnJlbmRlclRhcmdldFNhbXBsaW5nTW9kZT1hfHwxLHRoaXMuX3JldXNhYmxlPWh8fCExLHRoaXMuX3RleHR1cmVUeXBlPXUsdGhpcy5fdGV4dHVyZUZvcm1hdD1FLHRoaXMuX3NoYWRlckxhbmd1YWdlPW0sdGhpcy5fc2FtcGxlcnM9c3x8W10sdGhpcy5fc2FtcGxlcnMucHVzaCgidGV4dHVyZVNhbXBsZXIiKSx0aGlzLl9mcmFnbWVudFVybD10LHRoaXMuX3ZlcnRleFVybD1kLHRoaXMuX3BhcmFtZXRlcnM9aXx8W10sdGhpcy5fcGFyYW1ldGVycy5wdXNoKCJzY2FsZSIpLHRoaXMuX2luZGV4UGFyYW1ldGVycz1mLHRoaXMuX2RyYXdXcmFwcGVyPW5ldyBtaSh0aGlzLl9lbmdpbmUpLF98fHRoaXMudXBkYXRlRWZmZWN0KGwpfXN0YXRpYyBSZWdpc3RlclNoYWRlckNvZGVQcm9jZXNzaW5nKGUsdCl7aWYoIXQpe2RlbGV0ZSBNZS5fQ3VzdG9tU2hhZGVyQ29kZVByb2Nlc3NpbmdbZT8/IiJdO3JldHVybn1NZS5fQ3VzdG9tU2hhZGVyQ29kZVByb2Nlc3NpbmdbZT8/IiJdPXR9c3RhdGljIF9HZXRTaGFkZXJDb2RlUHJvY2Vzc2luZyhlKXt2YXIgdDtyZXR1cm4odD1NZS5fQ3VzdG9tU2hhZGVyQ29kZVByb2Nlc3NpbmdbZV0pIT09bnVsbCYmdCE9PXZvaWQgMD90Ok1lLl9DdXN0b21TaGFkZXJDb2RlUHJvY2Vzc2luZ1siIl19Z2V0IHNhbXBsZXMoKXtyZXR1cm4gdGhpcy5fc2FtcGxlc31zZXQgc2FtcGxlcyhlKXt0aGlzLl9zYW1wbGVzPU1hdGgubWluKGUsdGhpcy5fZW5naW5lLmdldENhcHMoKS5tYXhNU0FBU2FtcGxlcyksdGhpcy5fdGV4dHVyZXMuZm9yRWFjaCh0PT57dC5zZXRTYW1wbGVzKHRoaXMuX3NhbXBsZXMpfSl9Z2V0RWZmZWN0TmFtZSgpe3JldHVybiB0aGlzLl9mcmFnbWVudFVybH1zZXQgb25BY3RpdmF0ZShlKXt0aGlzLl9vbkFjdGl2YXRlT2JzZXJ2ZXImJnRoaXMub25BY3RpdmF0ZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQWN0aXZhdGVPYnNlcnZlciksZSYmKHRoaXMuX29uQWN0aXZhdGVPYnNlcnZlcj10aGlzLm9uQWN0aXZhdGVPYnNlcnZhYmxlLmFkZChlKSl9c2V0IG9uU2l6ZUNoYW5nZWQoZSl7dGhpcy5fb25TaXplQ2hhbmdlZE9ic2VydmVyJiZ0aGlzLm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vblNpemVDaGFuZ2VkT2JzZXJ2ZXIpLHRoaXMuX29uU2l6ZUNoYW5nZWRPYnNlcnZlcj10aGlzLm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlLmFkZChlKX1zZXQgb25BcHBseShlKXt0aGlzLl9vbkFwcGx5T2JzZXJ2ZXImJnRoaXMub25BcHBseU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQXBwbHlPYnNlcnZlciksdGhpcy5fb25BcHBseU9ic2VydmVyPXRoaXMub25BcHBseU9ic2VydmFibGUuYWRkKGUpfXNldCBvbkJlZm9yZVJlbmRlcihlKXt0aGlzLl9vbkJlZm9yZVJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlciksdGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlcj10aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSl9c2V0IG9uQWZ0ZXJSZW5kZXIoZSl7dGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXIpLHRoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlcj10aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmFkZChlKX1nZXQgaW5wdXRUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX3RleHR1cmVzLmRhdGFbdGhpcy5fY3VycmVudFJlbmRlclRleHR1cmVJbmRdfXNldCBpbnB1dFRleHR1cmUoZSl7dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZT1lfXJlc3RvcmVEZWZhdWx0SW5wdXRUZXh0dXJlKCl7dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZSYmKHRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmU9bnVsbCx0aGlzLm1hcmtUZXh0dXJlRGlydHkoKSl9Z2V0Q2FtZXJhKCl7cmV0dXJuIHRoaXMuX2NhbWVyYX1nZXQgdGV4ZWxTaXplKCl7cmV0dXJuIHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzP3RoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzLnRleGVsU2l6ZToodGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZSYmdGhpcy5fdGV4ZWxTaXplLmNvcHlGcm9tRmxvYXRzKDEvdGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZS53aWR0aCwxL3RoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUuaGVpZ2h0KSx0aGlzLl90ZXhlbFNpemUpfWdldENsYXNzTmFtZSgpe3JldHVybiJQb3N0UHJvY2VzcyJ9Z2V0RW5naW5lKCl7cmV0dXJuIHRoaXMuX2VuZ2luZX1nZXRFZmZlY3QoKXtyZXR1cm4gdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0fXNoYXJlT3V0cHV0V2l0aChlKXtyZXR1cm4gdGhpcy5fZGlzcG9zZVRleHR1cmVzKCksdGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3M9ZSx0aGlzfXVzZU93bk91dHB1dCgpe3RoaXMuX3RleHR1cmVzLmxlbmd0aD09MCYmKHRoaXMuX3RleHR1cmVzPW5ldyAkZSgyKSksdGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3M9bnVsbH11cGRhdGVFZmZlY3QoZT1udWxsLHQ9bnVsbCxpPW51bGwscyxyLG4sYSxvKXt2YXIgaCxsO2NvbnN0IHU9TWUuX0dldFNoYWRlckNvZGVQcm9jZXNzaW5nKHRoaXMubmFtZSk7aWYodSE9bnVsbCYmdS5kZWZpbmVDdXN0b21CaW5kaW5ncyl7Y29uc3QgZD0oaD10PT1udWxsP3ZvaWQgMDp0LnNsaWNlKCkpIT09bnVsbCYmaCE9PXZvaWQgMD9oOltdO2QucHVzaCguLi50aGlzLl9wYXJhbWV0ZXJzKTtjb25zdCBmPShsPWk9PW51bGw/dm9pZCAwOmkuc2xpY2UoKSkhPT1udWxsJiZsIT09dm9pZCAwP2w6W107Zi5wdXNoKC4uLnRoaXMuX3NhbXBsZXJzKSxlPXUuZGVmaW5lQ3VzdG9tQmluZGluZ3ModGhpcy5uYW1lLGUsZCxmKSx0PWQsaT1mfXRoaXMuX3Bvc3RQcm9jZXNzRGVmaW5lcz1lLHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdD10aGlzLl9lbmdpbmUuY3JlYXRlRWZmZWN0KHt2ZXJ0ZXg6YT8/dGhpcy5fdmVydGV4VXJsLGZyYWdtZW50Om8/P3RoaXMuX2ZyYWdtZW50VXJsfSx7YXR0cmlidXRlczpbInBvc2l0aW9uIl0sdW5pZm9ybXNOYW1lczp0fHx0aGlzLl9wYXJhbWV0ZXJzLHVuaWZvcm1CdWZmZXJzTmFtZXM6W10sc2FtcGxlcnM6aXx8dGhpcy5fc2FtcGxlcnMsZGVmaW5lczplIT09bnVsbD9lOiIiLGZhbGxiYWNrczpudWxsLG9uQ29tcGlsZWQ6cj8/bnVsbCxvbkVycm9yOm4/P251bGwsaW5kZXhQYXJhbWV0ZXJzOnN8fHRoaXMuX2luZGV4UGFyYW1ldGVycyxwcm9jZXNzQ29kZUFmdGVySW5jbHVkZXM6dSE9bnVsbCYmdS5wcm9jZXNzQ29kZUFmdGVySW5jbHVkZXM/KGQsZik9PnUucHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzKHRoaXMubmFtZSxkLGYpOm51bGwscHJvY2Vzc0ZpbmFsQ29kZTp1IT1udWxsJiZ1LnByb2Nlc3NGaW5hbENvZGU/KGQsZik9PnUucHJvY2Vzc0ZpbmFsQ29kZSh0aGlzLm5hbWUsZCxmKTpudWxsLHNoYWRlckxhbmd1YWdlOnRoaXMuX3NoYWRlckxhbmd1YWdlfSx0aGlzLl9lbmdpbmUpfWlzUmV1c2FibGUoKXtyZXR1cm4gdGhpcy5fcmV1c2FibGV9bWFya1RleHR1cmVEaXJ0eSgpe3RoaXMud2lkdGg9LTF9X2NyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUoZSx0LGk9MCl7Zm9yKGxldCByPTA7cjx0aGlzLl90ZXh0dXJlQ2FjaGUubGVuZ3RoO3IrKylpZih0aGlzLl90ZXh0dXJlQ2FjaGVbcl0udGV4dHVyZS53aWR0aD09PWUud2lkdGgmJnRoaXMuX3RleHR1cmVDYWNoZVtyXS50ZXh0dXJlLmhlaWdodD09PWUuaGVpZ2h0JiZ0aGlzLl90ZXh0dXJlQ2FjaGVbcl0ucG9zdFByb2Nlc3NDaGFubmVsPT09aSYmdGhpcy5fdGV4dHVyZUNhY2hlW3JdLnRleHR1cmUuX2dlbmVyYXRlRGVwdGhCdWZmZXI9PT10LmdlbmVyYXRlRGVwdGhCdWZmZXImJnRoaXMuX3RleHR1cmVDYWNoZVtyXS50ZXh0dXJlLnNhbXBsZXM9PT10LnNhbXBsZXMpcmV0dXJuIHRoaXMuX3RleHR1cmVDYWNoZVtyXS50ZXh0dXJlO2NvbnN0IHM9dGhpcy5fZW5naW5lLmNyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUoZSx0KTtyZXR1cm4gdGhpcy5fdGV4dHVyZUNhY2hlLnB1c2goe3RleHR1cmU6cyxwb3N0UHJvY2Vzc0NoYW5uZWw6aSxsYXN0VXNlZFJlbmRlcklkOi0xfSksc31fZmx1c2hUZXh0dXJlQ2FjaGUoKXtjb25zdCBlPXRoaXMuX3JlbmRlcklkO2ZvcihsZXQgdD10aGlzLl90ZXh0dXJlQ2FjaGUubGVuZ3RoLTE7dD49MDt0LS0paWYoZS10aGlzLl90ZXh0dXJlQ2FjaGVbdF0ubGFzdFVzZWRSZW5kZXJJZD4xMDApe2xldCBpPSExO2ZvcihsZXQgcz0wO3M8dGhpcy5fdGV4dHVyZXMubGVuZ3RoO3MrKylpZih0aGlzLl90ZXh0dXJlcy5kYXRhW3NdPT09dGhpcy5fdGV4dHVyZUNhY2hlW3RdLnRleHR1cmUpe2k9ITA7YnJlYWt9aXx8KHRoaXMuX3RleHR1cmVDYWNoZVt0XS50ZXh0dXJlLmRpc3Bvc2UoKSx0aGlzLl90ZXh0dXJlQ2FjaGUuc3BsaWNlKHQsMSkpfX1fcmVzaXplKGUsdCxpLHMscil7dGhpcy5fdGV4dHVyZXMubGVuZ3RoPjAmJnRoaXMuX3RleHR1cmVzLnJlc2V0KCksdGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXQ7bGV0IG49bnVsbDtmb3IobGV0IGg9MDtoPGkuX3Bvc3RQcm9jZXNzZXMubGVuZ3RoO2grKylpZihpLl9wb3N0UHJvY2Vzc2VzW2hdIT09bnVsbCl7bj1pLl9wb3N0UHJvY2Vzc2VzW2hdO2JyZWFrfWNvbnN0IGE9e3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fSxvPXtnZW5lcmF0ZU1pcE1hcHM6cyxnZW5lcmF0ZURlcHRoQnVmZmVyOnJ8fG49PT10aGlzLGdlbmVyYXRlU3RlbmNpbEJ1ZmZlcjoocnx8bj09PXRoaXMpJiZ0aGlzLl9lbmdpbmUuaXNTdGVuY2lsRW5hYmxlLHNhbXBsaW5nTW9kZTp0aGlzLnJlbmRlclRhcmdldFNhbXBsaW5nTW9kZSx0eXBlOnRoaXMuX3RleHR1cmVUeXBlLGZvcm1hdDp0aGlzLl90ZXh0dXJlRm9ybWF0LHNhbXBsZXM6dGhpcy5fc2FtcGxlc307dGhpcy5fdGV4dHVyZXMucHVzaCh0aGlzLl9jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKGEsbywwKSksdGhpcy5fcmV1c2FibGUmJnRoaXMuX3RleHR1cmVzLnB1c2godGhpcy5fY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZShhLG8sMSkpLHRoaXMuX3RleGVsU2l6ZS5jb3B5RnJvbUZsb2F0cygxL3RoaXMud2lkdGgsMS90aGlzLmhlaWdodCksdGhpcy5vblNpemVDaGFuZ2VkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9YWN0aXZhdGUoZSx0PW51bGwsaSl7dmFyIHMscjtlPWV8fHRoaXMuX2NhbWVyYTtjb25zdCBuPWUuZ2V0U2NlbmUoKSxhPW4uZ2V0RW5naW5lKCksbz1hLmdldENhcHMoKS5tYXhUZXh0dXJlU2l6ZTtsZXQgaD0odD90LndpZHRoOnRoaXMuX2VuZ2luZS5nZXRSZW5kZXJXaWR0aCghMCkpKnRoaXMuX29wdGlvbnN8MDtjb25zdCBsPSh0P3QuaGVpZ2h0OnRoaXMuX2VuZ2luZS5nZXRSZW5kZXJIZWlnaHQoITApKSp0aGlzLl9vcHRpb25zfDAsdT1lLnBhcmVudDt1JiYodS5sZWZ0Q2FtZXJhPT1lfHx1LnJpZ2h0Q2FtZXJhPT1lKSYmKGgvPTIpO2xldCBkPXRoaXMuX29wdGlvbnMud2lkdGh8fGgsZj10aGlzLl9vcHRpb25zLmhlaWdodHx8bDtjb25zdCBfPXRoaXMucmVuZGVyVGFyZ2V0U2FtcGxpbmdNb2RlIT09NyYmdGhpcy5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUhPT0xJiZ0aGlzLnJlbmRlclRhcmdldFNhbXBsaW5nTW9kZSE9PTI7aWYoIXRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzJiYhdGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZSl7aWYodGhpcy5hZGFwdFNjYWxlVG9DdXJyZW50Vmlld3BvcnQpe2NvbnN0IG09YS5jdXJyZW50Vmlld3BvcnQ7bSYmKGQqPW0ud2lkdGgsZio9bS5oZWlnaHQpfShffHx0aGlzLmFsd2F5c0ZvcmNlUE9UKSYmKHRoaXMuX29wdGlvbnMud2lkdGh8fChkPWEubmVlZFBPVFRleHR1cmVzP0kuR2V0RXhwb25lbnRPZlR3byhkLG8sdGhpcy5zY2FsZU1vZGUpOmQpLHRoaXMuX29wdGlvbnMuaGVpZ2h0fHwoZj1hLm5lZWRQT1RUZXh0dXJlcz9JLkdldEV4cG9uZW50T2ZUd28oZixvLHRoaXMuc2NhbGVNb2RlKTpmKSksKHRoaXMud2lkdGghPT1kfHx0aGlzLmhlaWdodCE9PWYpJiZ0aGlzLl9yZXNpemUoZCxmLGUsXyxpKSx0aGlzLl90ZXh0dXJlcy5mb3JFYWNoKG09PnttLnNhbXBsZXMhPT10aGlzLnNhbXBsZXMmJnRoaXMuX2VuZ2luZS51cGRhdGVSZW5kZXJUYXJnZXRUZXh0dXJlU2FtcGxlQ291bnQobSx0aGlzLnNhbXBsZXMpfSksdGhpcy5fZmx1c2hUZXh0dXJlQ2FjaGUoKSx0aGlzLl9yZW5kZXJJZCsrfWxldCBFO2lmKHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzKUU9dGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3MuaW5wdXRUZXh0dXJlO2Vsc2UgaWYodGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZSlFPXRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUsdGhpcy53aWR0aD10aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlLndpZHRoLHRoaXMuaGVpZ2h0PXRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUuaGVpZ2h0O2Vsc2V7RT10aGlzLmlucHV0VGV4dHVyZTtsZXQgbTtmb3IobGV0IHY9MDt2PHRoaXMuX3RleHR1cmVDYWNoZS5sZW5ndGg7disrKWlmKHRoaXMuX3RleHR1cmVDYWNoZVt2XS50ZXh0dXJlPT09RSl7bT10aGlzLl90ZXh0dXJlQ2FjaGVbdl07YnJlYWt9bSYmKG0ubGFzdFVzZWRSZW5kZXJJZD10aGlzLl9yZW5kZXJJZCl9cmV0dXJuIHRoaXMuZW5hYmxlUGl4ZWxQZXJmZWN0TW9kZT8odGhpcy5fc2NhbGVSYXRpby5jb3B5RnJvbUZsb2F0cyhoL2QsbC9mKSx0aGlzLl9lbmdpbmUuYmluZEZyYW1lYnVmZmVyKEUsMCxoLGwsdGhpcy5mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydCkpOih0aGlzLl9zY2FsZVJhdGlvLmNvcHlGcm9tRmxvYXRzKDEsMSksdGhpcy5fZW5naW5lLmJpbmRGcmFtZWJ1ZmZlcihFLDAsdm9pZCAwLHZvaWQgMCx0aGlzLmZvcmNlRnVsbHNjcmVlblZpZXdwb3J0KSksKHI9KHM9dGhpcy5fZW5naW5lKS5fZGVidWdJbnNlcnRNYXJrZXIpPT09bnVsbHx8cj09PXZvaWQgMHx8ci5jYWxsKHMsYHBvc3QgcHJvY2VzcyAke3RoaXMubmFtZX0gaW5wdXRgKSx0aGlzLm9uQWN0aXZhdGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0aGlzLmF1dG9DbGVhciYmdGhpcy5hbHBoYU1vZGU9PT0wJiZ0aGlzLl9lbmdpbmUuY2xlYXIodGhpcy5jbGVhckNvbG9yP3RoaXMuY2xlYXJDb2xvcjpuLmNsZWFyQ29sb3Isbi5fYWxsb3dQb3N0UHJvY2Vzc0NsZWFyQ29sb3IsITAsITApLHRoaXMuX3JldXNhYmxlJiYodGhpcy5fY3VycmVudFJlbmRlclRleHR1cmVJbmQ9KHRoaXMuX2N1cnJlbnRSZW5kZXJUZXh0dXJlSW5kKzEpJTIpLEV9Z2V0IGlzU3VwcG9ydGVkKCl7cmV0dXJuIHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdC5pc1N1cHBvcnRlZH1nZXQgYXNwZWN0UmF0aW8oKXtyZXR1cm4gdGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3M/dGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3MuYXNwZWN0UmF0aW86dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZT90aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlLndpZHRoL3RoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUuaGVpZ2h0OnRoaXMud2lkdGgvdGhpcy5oZWlnaHR9aXNSZWFkeSgpe3ZhciBlLHQ7cmV0dXJuKHQ9KGU9dGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0KT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuaXNSZWFkeSgpKSE9PW51bGwmJnQhPT12b2lkIDA/dDohMX1hcHBseSgpe3ZhciBlLHQsaTtpZighKCEoKGU9dGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0KT09PW51bGx8fGU9PT12b2lkIDApJiZlLmlzUmVhZHkoKSkpcmV0dXJuIG51bGw7dGhpcy5fZW5naW5lLmVuYWJsZUVmZmVjdCh0aGlzLl9kcmF3V3JhcHBlciksdGhpcy5fZW5naW5lLnNldFN0YXRlKCExKSx0aGlzLl9lbmdpbmUuc2V0RGVwdGhCdWZmZXIoITEpLHRoaXMuX2VuZ2luZS5zZXREZXB0aFdyaXRlKCExKSx0aGlzLl9lbmdpbmUuc2V0QWxwaGFNb2RlKHRoaXMuYWxwaGFNb2RlKSx0aGlzLmFscGhhQ29uc3RhbnRzJiZ0aGlzLmdldEVuZ2luZSgpLnNldEFscGhhQ29uc3RhbnRzKHRoaXMuYWxwaGFDb25zdGFudHMucix0aGlzLmFscGhhQ29uc3RhbnRzLmcsdGhpcy5hbHBoYUNvbnN0YW50cy5iLHRoaXMuYWxwaGFDb25zdGFudHMuYSk7bGV0IHM7cmV0dXJuIHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzP3M9dGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3MuaW5wdXRUZXh0dXJlOnRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmU/cz10aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlOnM9dGhpcy5pbnB1dFRleHR1cmUsdGhpcy5leHRlcm5hbFRleHR1cmVTYW1wbGVyQmluZGluZ3x8dGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0Ll9iaW5kVGV4dHVyZSgidGV4dHVyZVNhbXBsZXIiLHM9PW51bGw/dm9pZCAwOnMudGV4dHVyZSksdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0LnNldFZlY3RvcjIoInNjYWxlIix0aGlzLl9zY2FsZVJhdGlvKSx0aGlzLm9uQXBwbHlPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QpLChpPSh0PU1lLl9HZXRTaGFkZXJDb2RlUHJvY2Vzc2luZyh0aGlzLm5hbWUpKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnQuYmluZEN1c3RvbUJpbmRpbmdzKT09PW51bGx8fGk9PT12b2lkIDB8fGkuY2FsbCh0LHRoaXMubmFtZSx0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QpLHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdH1fZGlzcG9zZVRleHR1cmVzKCl7aWYodGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3N8fHRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUpe3RoaXMuX2Rpc3Bvc2VUZXh0dXJlQ2FjaGUoKTtyZXR1cm59dGhpcy5fZGlzcG9zZVRleHR1cmVDYWNoZSgpLHRoaXMuX3RleHR1cmVzLmRpc3Bvc2UoKX1fZGlzcG9zZVRleHR1cmVDYWNoZSgpe2ZvcihsZXQgZT10aGlzLl90ZXh0dXJlQ2FjaGUubGVuZ3RoLTE7ZT49MDtlLS0pdGhpcy5fdGV4dHVyZUNhY2hlW2VdLnRleHR1cmUuZGlzcG9zZSgpO3RoaXMuX3RleHR1cmVDYWNoZS5sZW5ndGg9MH1zZXRQcmVQYXNzUmVuZGVyZXIoZSl7cmV0dXJuIHRoaXMuX3ByZVBhc3NFZmZlY3RDb25maWd1cmF0aW9uPyh0aGlzLl9wcmVQYXNzRWZmZWN0Q29uZmlndXJhdGlvbj1lLmFkZEVmZmVjdENvbmZpZ3VyYXRpb24odGhpcy5fcHJlUGFzc0VmZmVjdENvbmZpZ3VyYXRpb24pLHRoaXMuX3ByZVBhc3NFZmZlY3RDb25maWd1cmF0aW9uLmVuYWJsZWQ9ITAsITApOiExfWRpc3Bvc2UoZSl7ZT1lfHx0aGlzLl9jYW1lcmEsdGhpcy5fZGlzcG9zZVRleHR1cmVzKCk7bGV0IHQ7aWYodGhpcy5fc2NlbmUmJih0PXRoaXMuX3NjZW5lLnBvc3RQcm9jZXNzZXMuaW5kZXhPZih0aGlzKSx0IT09LTEmJnRoaXMuX3NjZW5lLnBvc3RQcm9jZXNzZXMuc3BsaWNlKHQsMSkpLHRoaXMuX3BhcmVudENvbnRhaW5lcil7Y29uc3QgaT10aGlzLl9wYXJlbnRDb250YWluZXIucG9zdFByb2Nlc3Nlcy5pbmRleE9mKHRoaXMpO2k+LTEmJnRoaXMuX3BhcmVudENvbnRhaW5lci5wb3N0UHJvY2Vzc2VzLnNwbGljZShpLDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfWlmKHQ9dGhpcy5fZW5naW5lLnBvc3RQcm9jZXNzZXMuaW5kZXhPZih0aGlzKSx0IT09LTEmJnRoaXMuX2VuZ2luZS5wb3N0UHJvY2Vzc2VzLnNwbGljZSh0LDEpLCEhZSl7aWYoZS5kZXRhY2hQb3N0UHJvY2Vzcyh0aGlzKSx0PWUuX3Bvc3RQcm9jZXNzZXMuaW5kZXhPZih0aGlzKSx0PT09MCYmZS5fcG9zdFByb2Nlc3Nlcy5sZW5ndGg+MCl7Y29uc3QgaT10aGlzLl9jYW1lcmEuX2dldEZpcnN0UG9zdFByb2Nlc3MoKTtpJiZpLm1hcmtUZXh0dXJlRGlydHkoKX10aGlzLm9uQWN0aXZhdGVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BcHBseU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25TaXplQ2hhbmdlZE9ic2VydmFibGUuY2xlYXIoKX19c2VyaWFsaXplKCl7Y29uc3QgZT1hZS5TZXJpYWxpemUodGhpcyksdD10aGlzLmdldENhbWVyYSgpfHx0aGlzLl9zY2VuZSYmdGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhO3JldHVybiBlLmN1c3RvbVR5cGU9IkJBQllMT04uIit0aGlzLmdldENsYXNzTmFtZSgpLGUuY2FtZXJhSWQ9dD90LmlkOm51bGwsZS5yZXVzYWJsZT10aGlzLl9yZXVzYWJsZSxlLnRleHR1cmVUeXBlPXRoaXMuX3RleHR1cmVUeXBlLGUuZnJhZ21lbnRVcmw9dGhpcy5fZnJhZ21lbnRVcmwsZS5wYXJhbWV0ZXJzPXRoaXMuX3BhcmFtZXRlcnMsZS5zYW1wbGVycz10aGlzLl9zYW1wbGVycyxlLm9wdGlvbnM9dGhpcy5fb3B0aW9ucyxlLmRlZmluZXM9dGhpcy5fcG9zdFByb2Nlc3NEZWZpbmVzLGUudGV4dHVyZUZvcm1hdD10aGlzLl90ZXh0dXJlRm9ybWF0LGUudmVydGV4VXJsPXRoaXMuX3ZlcnRleFVybCxlLmluZGV4UGFyYW1ldGVycz10aGlzLl9pbmRleFBhcmFtZXRlcnMsZX1jbG9uZSgpe2NvbnN0IGU9dGhpcy5zZXJpYWxpemUoKTtlLl9lbmdpbmU9dGhpcy5fZW5naW5lLGUuY2FtZXJhSWQ9bnVsbDtjb25zdCB0PU1lLlBhcnNlKGUsdGhpcy5fc2NlbmUsIiIpO3JldHVybiB0Pyh0Lm9uQWN0aXZhdGVPYnNlcnZhYmxlPXRoaXMub25BY3RpdmF0ZU9ic2VydmFibGUuY2xvbmUoKSx0Lm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlPXRoaXMub25TaXplQ2hhbmdlZE9ic2VydmFibGUuY2xvbmUoKSx0Lm9uQXBwbHlPYnNlcnZhYmxlPXRoaXMub25BcHBseU9ic2VydmFibGUuY2xvbmUoKSx0Lm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZT10aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5jbG9uZSgpLHQub25BZnRlclJlbmRlck9ic2VydmFibGU9dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5jbG9uZSgpLHQuX3ByZVBhc3NFZmZlY3RDb25maWd1cmF0aW9uPXRoaXMuX3ByZVBhc3NFZmZlY3RDb25maWd1cmF0aW9uLHQpOm51bGx9c3RhdGljIFBhcnNlKGUsdCxpKXtjb25zdCBzPXJpKGUuY3VzdG9tVHlwZSk7aWYoIXN8fCFzLl9QYXJzZSlyZXR1cm4gbnVsbDtjb25zdCByPXQ/dC5nZXRDYW1lcmFCeUlkKGUuY2FtZXJhSWQpOm51bGw7cmV0dXJuIHMuX1BhcnNlKGUscix0LGkpfXN0YXRpYyBfUGFyc2UoZSx0LGkscyl7cmV0dXJuIGFlLlBhcnNlKCgpPT5uZXcgTWUoZS5uYW1lLGUuZnJhZ21lbnRVcmwsZS5wYXJhbWV0ZXJzLGUuc2FtcGxlcnMsZS5vcHRpb25zLHQsZS5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUsZS5fZW5naW5lLGUucmV1c2FibGUsZS5kZWZpbmVzLGUudGV4dHVyZVR5cGUsZS52ZXJ0ZXhVcmwsZS5pbmRleFBhcmFtZXRlcnMsITEsZS50ZXh0dXJlRm9ybWF0KSxlLGkscyl9fU1lLl9DdXN0b21TaGFkZXJDb2RlUHJvY2Vzc2luZz17fSxUKFtSKCldLE1lLnByb3RvdHlwZSwidW5pcXVlSWQiLHZvaWQgMCksVChbUigpXSxNZS5wcm90b3R5cGUsIm5hbWUiLHZvaWQgMCksVChbUigpXSxNZS5wcm90b3R5cGUsIndpZHRoIix2b2lkIDApLFQoW1IoKV0sTWUucHJvdG90eXBlLCJoZWlnaHQiLHZvaWQgMCksVChbUigpXSxNZS5wcm90b3R5cGUsInJlbmRlclRhcmdldFNhbXBsaW5nTW9kZSIsdm9pZCAwKSxUKFtkcigpXSxNZS5wcm90b3R5cGUsImNsZWFyQ29sb3IiLHZvaWQgMCksVChbUigpXSxNZS5wcm90b3R5cGUsImF1dG9DbGVhciIsdm9pZCAwKSxUKFtSKCldLE1lLnByb3RvdHlwZSwiYWxwaGFNb2RlIix2b2lkIDApLFQoW1IoKV0sTWUucHJvdG90eXBlLCJhbHBoYUNvbnN0YW50cyIsdm9pZCAwKSxUKFtSKCldLE1lLnByb3RvdHlwZSwiZW5hYmxlUGl4ZWxQZXJmZWN0TW9kZSIsdm9pZCAwKSxUKFtSKCldLE1lLnByb3RvdHlwZSwiZm9yY2VGdWxsc2NyZWVuVmlld3BvcnQiLHZvaWQgMCksVChbUigpXSxNZS5wcm90b3R5cGUsInNjYWxlTW9kZSIsdm9pZCAwKSxUKFtSKCldLE1lLnByb3RvdHlwZSwiYWx3YXlzRm9yY2VQT1QiLHZvaWQgMCksVChbUigic2FtcGxlcyIpXSxNZS5wcm90b3R5cGUsIl9zYW1wbGVzIix2b2lkIDApLFQoW1IoKV0sTWUucHJvdG90eXBlLCJhZGFwdFNjYWxlVG9DdXJyZW50Vmlld3BvcnQiLHZvaWQgMCksaXQoIkJBQllMT04uUG9zdFByb2Nlc3MiLE1lKTtjb25zdCBzYT0ia2VybmVsQmx1clZhcnlpbmdEZWNsYXJhdGlvbiIscmE9InZhcnlpbmcgdmVjMiBzYW1wbGVDb29yZHtYfTsiO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbc2FdPXJhO2NvbnN0IG5hPSJwYWNraW5nRnVuY3Rpb25zIixhYT1gdmVjNCBwYWNrKGZsb2F0IGRlcHRoKQp7CmNvbnN0IHZlYzQgYml0X3NoaWZ0PXZlYzQoMjU1LjAqMjU1LjAqMjU1LjAsMjU1LjAqMjU1LjAsMjU1LjAsMS4wKTsKY29uc3QgdmVjNCBiaXRfbWFzaz12ZWM0KDAuMCwxLjAvMjU1LjAsMS4wLzI1NS4wLDEuMC8yNTUuMCk7CnZlYzQgcmVzPWZyYWN0KGRlcHRoKmJpdF9zaGlmdCk7CnJlcy09cmVzLnh4eXoqYml0X21hc2s7CnJldHVybiByZXM7Cn0KZmxvYXQgdW5wYWNrKHZlYzQgY29sb3IpCnsKY29uc3QgdmVjNCBiaXRfc2hpZnQ9dmVjNCgxLjAvKDI1NS4wKjI1NS4wKjI1NS4wKSwxLjAvKDI1NS4wKjI1NS4wKSwxLjAvMjU1LjAsMS4wKTsKcmV0dXJuIGRvdChjb2xvcixiaXRfc2hpZnQpOwp9YDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW25hXT1hYTtjb25zdCBvYT0ia2VybmVsQmx1ckZyYWdtZW50IixoYT1gI2lmZGVmIERPRgpmYWN0b3I9c2FtcGxlQ29DKHNhbXBsZUNvb3Jke1h9KTsgCmNvbXB1dGVkV2VpZ2h0PUtFUk5FTF9XRUlHSFR7WH0qZmFjdG9yOwpzdW1PZldlaWdodHMrPWNvbXB1dGVkV2VpZ2h0OwojZWxzZQpjb21wdXRlZFdlaWdodD1LRVJORUxfV0VJR0hUe1h9OwojZW5kaWYKI2lmZGVmIFBBQ0tFREZMT0FUCmJsZW5kKz11bnBhY2sodGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHNhbXBsZUNvb3Jke1h9KSkqY29tcHV0ZWRXZWlnaHQ7CiNlbHNlCmJsZW5kKz10ZXh0dXJlMkQodGV4dHVyZVNhbXBsZXIsc2FtcGxlQ29vcmR7WH0pKmNvbXB1dGVkV2VpZ2h0OwojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW29hXT1oYTtjb25zdCBsYT0ia2VybmVsQmx1ckZyYWdtZW50MiIsY2E9YCNpZmRlZiBET0YKZmFjdG9yPXNhbXBsZUNvQyhzYW1wbGVDZW50ZXIrZGVsdGEqS0VSTkVMX0RFUF9PRkZTRVR7WH0pOwpjb21wdXRlZFdlaWdodD1LRVJORUxfREVQX1dFSUdIVHtYfSpmYWN0b3I7CnN1bU9mV2VpZ2h0cys9Y29tcHV0ZWRXZWlnaHQ7CiNlbHNlCmNvbXB1dGVkV2VpZ2h0PUtFUk5FTF9ERVBfV0VJR0hUe1h9OwojZW5kaWYKI2lmZGVmIFBBQ0tFREZMT0FUCmJsZW5kKz11bnBhY2sodGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHNhbXBsZUNlbnRlcitkZWx0YSpLRVJORUxfREVQX09GRlNFVHtYfSkpKmNvbXB1dGVkV2VpZ2h0OwojZWxzZQpibGVuZCs9dGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHNhbXBsZUNlbnRlcitkZWx0YSpLRVJORUxfREVQX09GRlNFVHtYfSkqY29tcHV0ZWRXZWlnaHQ7CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbbGFdPWNhO2NvbnN0IHVhPSJrZXJuZWxCbHVyUGl4ZWxTaGFkZXIiLGRhPWB1bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlU2FtcGxlcjsKdW5pZm9ybSB2ZWMyIGRlbHRhOwp2YXJ5aW5nIHZlYzIgc2FtcGxlQ2VudGVyOwojaWZkZWYgRE9GCnVuaWZvcm0gc2FtcGxlcjJEIGNpcmNsZU9mQ29uZnVzaW9uU2FtcGxlcjsKZmxvYXQgc2FtcGxlQ29DKGluIHZlYzIgb2Zmc2V0KSB7CmZsb2F0IGNvYz10ZXh0dXJlMkQoY2lyY2xlT2ZDb25mdXNpb25TYW1wbGVyLG9mZnNldCkucjsKcmV0dXJuIGNvYzsgCn0KI2VuZGlmCiNpbmNsdWRlPGtlcm5lbEJsdXJWYXJ5aW5nRGVjbGFyYXRpb24+WzAuLnZhcnlpbmdDb3VudF0KI2lmZGVmIFBBQ0tFREZMT0FUCiNpbmNsdWRlPHBhY2tpbmdGdW5jdGlvbnM+CiNlbmRpZgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkKewpmbG9hdCBjb21wdXRlZFdlaWdodD0wLjA7CiNpZmRlZiBQQUNLRURGTE9BVApmbG9hdCBibGVuZD0wLjsKI2Vsc2UKdmVjNCBibGVuZD12ZWM0KDAuKTsKI2VuZGlmCiNpZmRlZiBET0YKZmxvYXQgc3VtT2ZXZWlnaHRzPUNFTlRFUl9XRUlHSFQ7IApmbG9hdCBmYWN0b3I9MC4wOwojaWZkZWYgUEFDS0VERkxPQVQKYmxlbmQrPXVucGFjayh0ZXh0dXJlMkQodGV4dHVyZVNhbXBsZXIsc2FtcGxlQ2VudGVyKSkqQ0VOVEVSX1dFSUdIVDsKI2Vsc2UKYmxlbmQrPXRleHR1cmUyRCh0ZXh0dXJlU2FtcGxlcixzYW1wbGVDZW50ZXIpKkNFTlRFUl9XRUlHSFQ7CiNlbmRpZgojZW5kaWYKI2luY2x1ZGU8a2VybmVsQmx1ckZyYWdtZW50PlswLi52YXJ5aW5nQ291bnRdCiNpbmNsdWRlPGtlcm5lbEJsdXJGcmFnbWVudDI+WzAuLmRlcENvdW50XQojaWZkZWYgUEFDS0VERkxPQVQKZ2xfRnJhZ0NvbG9yPXBhY2soYmxlbmQpOwojZWxzZQpnbF9GcmFnQ29sb3I9YmxlbmQ7CiNlbmRpZgojaWZkZWYgRE9GCmdsX0ZyYWdDb2xvci89c3VtT2ZXZWlnaHRzOwojZW5kaWYKfWA7VS5TaGFkZXJzU3RvcmVbdWFdPWRhO2NvbnN0IGZhPSJrZXJuZWxCbHVyVmVydGV4IixfYT0ic2FtcGxlQ29vcmR7WH09c2FtcGxlQ2VudGVyK2RlbHRhKktFUk5FTF9PRkZTRVR7WH07IjtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2ZhXT1fYTtjb25zdCBnYT0ia2VybmVsQmx1clZlcnRleFNoYWRlciIscGE9YGF0dHJpYnV0ZSB2ZWMyIHBvc2l0aW9uOwp1bmlmb3JtIHZlYzIgZGVsdGE7CnZhcnlpbmcgdmVjMiBzYW1wbGVDZW50ZXI7CiNpbmNsdWRlPGtlcm5lbEJsdXJWYXJ5aW5nRGVjbGFyYXRpb24+WzAuLnZhcnlpbmdDb3VudF0KY29uc3QgdmVjMiBtYWRkPXZlYzIoMC41LDAuNSk7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkgewojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9CRUdJTgpzYW1wbGVDZW50ZXI9KHBvc2l0aW9uKm1hZGQrbWFkZCk7CiNpbmNsdWRlPGtlcm5lbEJsdXJWZXJ0ZXg+WzAuLnZhcnlpbmdDb3VudF0KZ2xfUG9zaXRpb249dmVjNChwb3NpdGlvbiwwLjAsMS4wKTsKI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fRU5ECn1gO1UuU2hhZGVyc1N0b3JlW2dhXT1wYTtjbGFzcyBKdCBleHRlbmRzIE1le2NvbnN0cnVjdG9yKGUsdCxpLHMscixuPU4uQklMSU5FQVJfU0FNUExJTkdNT0RFLGEsbyxoPTAsbD0iIix1PSExLGQ9NSl7c3VwZXIoZSwia2VybmVsQmx1ciIsWyJkZWx0YSIsImRpcmVjdGlvbiJdLFsiY2lyY2xlT2ZDb25mdXNpb25TYW1wbGVyIl0scyxyLG4sYSxvLG51bGwsaCwia2VybmVsQmx1ciIse3ZhcnlpbmdDb3VudDowLGRlcENvdW50OjB9LCEwLGQpLHRoaXMuX2Jsb2NrQ29tcGlsYXRpb249dSx0aGlzLl9wYWNrZWRGbG9hdD0hMSx0aGlzLl9zdGF0aWNEZWZpbmVzPSIiLHRoaXMuX3N0YXRpY0RlZmluZXM9bCx0aGlzLmRpcmVjdGlvbj10LHRoaXMub25BcHBseU9ic2VydmFibGUuYWRkKGY9Pnt0aGlzLl9vdXRwdXRUZXh0dXJlP2Yuc2V0RmxvYXQyKCJkZWx0YSIsMS90aGlzLl9vdXRwdXRUZXh0dXJlLndpZHRoKnRoaXMuZGlyZWN0aW9uLngsMS90aGlzLl9vdXRwdXRUZXh0dXJlLmhlaWdodCp0aGlzLmRpcmVjdGlvbi55KTpmLnNldEZsb2F0MigiZGVsdGEiLDEvdGhpcy53aWR0aCp0aGlzLmRpcmVjdGlvbi54LDEvdGhpcy5oZWlnaHQqdGhpcy5kaXJlY3Rpb24ueSl9KSx0aGlzLmtlcm5lbD1pfXNldCBrZXJuZWwoZSl7dGhpcy5faWRlYWxLZXJuZWwhPT1lJiYoZT1NYXRoLm1heChlLDEpLHRoaXMuX2lkZWFsS2VybmVsPWUsdGhpcy5fa2VybmVsPXRoaXMuX25lYXJlc3RCZXN0S2VybmVsKGUpLHRoaXMuX2Jsb2NrQ29tcGlsYXRpb258fHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IGtlcm5lbCgpe3JldHVybiB0aGlzLl9pZGVhbEtlcm5lbH1zZXQgcGFja2VkRmxvYXQoZSl7dGhpcy5fcGFja2VkRmxvYXQhPT1lJiYodGhpcy5fcGFja2VkRmxvYXQ9ZSx0aGlzLl9ibG9ja0NvbXBpbGF0aW9ufHx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBwYWNrZWRGbG9hdCgpe3JldHVybiB0aGlzLl9wYWNrZWRGbG9hdH1nZXRDbGFzc05hbWUoKXtyZXR1cm4iQmx1clBvc3RQcm9jZXNzIn11cGRhdGVFZmZlY3QoZT1udWxsLHQ9bnVsbCxpPW51bGwscyxyLG4pe3RoaXMuX3VwZGF0ZVBhcmFtZXRlcnMocixuKX1fdXBkYXRlUGFyYW1ldGVycyhlLHQpe2NvbnN0IGk9dGhpcy5fa2VybmVsLHM9KGktMSkvMjtsZXQgcj1bXSxuPVtdLGE9MDtmb3IobGV0IG09MDttPGk7bSsrKXtjb25zdCB2PW0vKGktMSksUz10aGlzLl9nYXVzc2lhbldlaWdodCh2KjItMSk7clttXT1tLXMsblttXT1TLGErPVN9Zm9yKGxldCBtPTA7bTxuLmxlbmd0aDttKyspblttXS89YTtjb25zdCBvPVtdLGg9W10sbD1bXTtmb3IobGV0IG09MDttPD1zO20rPTIpe2NvbnN0IHY9TWF0aC5taW4obSsxLE1hdGguZmxvb3IocykpO2lmKG09PT12KWwucHVzaCh7bzpyW21dLHc6blttXX0pO2Vsc2V7Y29uc3QgeT12PT09cyxBPW5bbV0rblt2XSooeT8uNToxKSxDPXJbbV0rMS8oMStuW21dL25bdl0pO0M9PT0wPyhsLnB1c2goe286clttXSx3Om5bbV19KSxsLnB1c2goe286clttKzFdLHc6blttKzFdfSkpOihsLnB1c2goe286Qyx3OkF9KSxsLnB1c2goe286LUMsdzpBfSkpfX1mb3IobGV0IG09MDttPGwubGVuZ3RoO20rKyloW21dPWxbbV0ubyxvW21dPWxbbV0udztyPWgsbj1vO2NvbnN0IHU9dGhpcy5nZXRFbmdpbmUoKS5nZXRDYXBzKCkubWF4VmFyeWluZ1ZlY3RvcnMsZD1NYXRoLm1heCh1LDApLTE7bGV0IGY9TWF0aC5taW4oci5sZW5ndGgsZCksXz0iIjtfKz10aGlzLl9zdGF0aWNEZWZpbmVzLHRoaXMuX3N0YXRpY0RlZmluZXMuaW5kZXhPZigiRE9GIikhPS0xJiYoXys9YCNkZWZpbmUgQ0VOVEVSX1dFSUdIVCAke3RoaXMuX2dsc2xGbG9hdChuW2YtMV0pfVxyCmAsZi0tKTtmb3IobGV0IG09MDttPGY7bSsrKV8rPWAjZGVmaW5lIEtFUk5FTF9PRkZTRVQke219ICR7dGhpcy5fZ2xzbEZsb2F0KHJbbV0pfVxyCmAsXys9YCNkZWZpbmUgS0VSTkVMX1dFSUdIVCR7bX0gJHt0aGlzLl9nbHNsRmxvYXQoblttXSl9XHIKYDtsZXQgRT0wO2ZvcihsZXQgbT1kO208ci5sZW5ndGg7bSsrKV8rPWAjZGVmaW5lIEtFUk5FTF9ERVBfT0ZGU0VUJHtFfSAke3RoaXMuX2dsc2xGbG9hdChyW21dKX1ccgpgLF8rPWAjZGVmaW5lIEtFUk5FTF9ERVBfV0VJR0hUJHtFfSAke3RoaXMuX2dsc2xGbG9hdChuW21dKX1ccgpgLEUrKzt0aGlzLnBhY2tlZEZsb2F0JiYoXys9IiNkZWZpbmUgUEFDS0VERkxPQVQgMSIpLHRoaXMuX2Jsb2NrQ29tcGlsYXRpb249ITEsc3VwZXIudXBkYXRlRWZmZWN0KF8sbnVsbCxudWxsLHt2YXJ5aW5nQ291bnQ6ZixkZXBDb3VudDpFfSxlLHQpfV9uZWFyZXN0QmVzdEtlcm5lbChlKXtjb25zdCB0PU1hdGgucm91bmQoZSk7Zm9yKGNvbnN0IGkgb2ZbdCx0LTEsdCsxLHQtMix0KzJdKWlmKGklMiE9PTAmJk1hdGguZmxvb3IoaS8yKSUyPT09MCYmaT4wKXJldHVybiBNYXRoLm1heChpLDMpO3JldHVybiBNYXRoLm1heCh0LDMpfV9nYXVzc2lhbldlaWdodChlKXtjb25zdCB0PS4zMzMzMzMzMzMzMzMzMzMzLGk9TWF0aC5zcXJ0KDIqTWF0aC5QSSkqdCxzPS0oZSplLygyKnQqdCkpO3JldHVybiAxL2kqTWF0aC5leHAocyl9X2dsc2xGbG9hdChlLHQ9OCl7cmV0dXJuIGUudG9GaXhlZCh0KS5yZXBsYWNlKC8wKyQvLCIiKX1zdGF0aWMgX1BhcnNlKGUsdCxpLHMpe3JldHVybiBhZS5QYXJzZSgoKT0+bmV3IEp0KGUubmFtZSxlLmRpcmVjdGlvbixlLmtlcm5lbCxlLm9wdGlvbnMsdCxlLnJlbmRlclRhcmdldFNhbXBsaW5nTW9kZSxpLmdldEVuZ2luZSgpLGUucmV1c2FibGUsZS50ZXh0dXJlVHlwZSx2b2lkIDAsITEpLGUsaSxzKX19VChbUigia2VybmVsIildLEp0LnByb3RvdHlwZSwiX2tlcm5lbCIsdm9pZCAwKSxUKFtSKCJwYWNrZWRGbG9hdCIpXSxKdC5wcm90b3R5cGUsIl9wYWNrZWRGbG9hdCIsdm9pZCAwKSxUKFt4bigpXSxKdC5wcm90b3R5cGUsImRpcmVjdGlvbiIsdm9pZCAwKSxpdCgiQkFCWUxPTi5CbHVyUG9zdFByb2Nlc3MiLEp0KTtjbGFzcyB6c3tjb25zdHJ1Y3Rvcigpe3RoaXMuX2RlZmluZXM9e30sdGhpcy5fY3VycmVudFJhbms9MzIsdGhpcy5fbWF4UmFuaz0tMSx0aGlzLl9tZXNoPW51bGx9dW5CaW5kTWVzaCgpe3RoaXMuX21lc2g9bnVsbH1hZGRGYWxsYmFjayhlLHQpe3RoaXMuX2RlZmluZXNbZV18fChlPHRoaXMuX2N1cnJlbnRSYW5rJiYodGhpcy5fY3VycmVudFJhbms9ZSksZT50aGlzLl9tYXhSYW5rJiYodGhpcy5fbWF4UmFuaz1lKSx0aGlzLl9kZWZpbmVzW2VdPW5ldyBBcnJheSksdGhpcy5fZGVmaW5lc1tlXS5wdXNoKHQpfWFkZENQVVNraW5uaW5nRmFsbGJhY2soZSx0KXt0aGlzLl9tZXNoPXQsZTx0aGlzLl9jdXJyZW50UmFuayYmKHRoaXMuX2N1cnJlbnRSYW5rPWUpLGU+dGhpcy5fbWF4UmFuayYmKHRoaXMuX21heFJhbms9ZSl9Z2V0IGhhc01vcmVGYWxsYmFja3MoKXtyZXR1cm4gdGhpcy5fY3VycmVudFJhbms8PXRoaXMuX21heFJhbmt9cmVkdWNlKGUsdCl7aWYodGhpcy5fbWVzaCYmdGhpcy5fbWVzaC5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJnRoaXMuX21lc2gubnVtQm9uZUluZmx1ZW5jZXJzPjApe3RoaXMuX21lc2guY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPSExLGU9ZS5yZXBsYWNlKCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTICIrdGhpcy5fbWVzaC5udW1Cb25lSW5mbHVlbmNlcnMsIiNkZWZpbmUgTlVNX0JPTkVfSU5GTFVFTkNFUlMgMCIpLHQuX2JvbmVzQ29tcHV0YXRpb25Gb3JjZWRUb0NQVT0hMDtjb25zdCBpPXRoaXMuX21lc2guZ2V0U2NlbmUoKTtmb3IobGV0IHM9MDtzPGkubWVzaGVzLmxlbmd0aDtzKyspe2NvbnN0IHI9aS5tZXNoZXNbc107aWYoIXIubWF0ZXJpYWwpeyF0aGlzLl9tZXNoLm1hdGVyaWFsJiZyLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyYmci5udW1Cb25lSW5mbHVlbmNlcnM+MCYmKHIuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPSExKTtjb250aW51ZX1pZighKCFyLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVyc3x8ci5udW1Cb25lSW5mbHVlbmNlcnM9PT0wKSl7aWYoci5tYXRlcmlhbC5nZXRFZmZlY3QoKT09PXQpci5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9ITE7ZWxzZSBpZihyLnN1Yk1lc2hlcyl7Zm9yKGNvbnN0IG4gb2Ygci5zdWJNZXNoZXMpaWYobi5lZmZlY3Q9PT10KXtyLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycz0hMTticmVha319fX19ZWxzZXtjb25zdCBpPXRoaXMuX2RlZmluZXNbdGhpcy5fY3VycmVudFJhbmtdO2lmKGkpZm9yKGxldCBzPTA7czxpLmxlbmd0aDtzKyspZT1lLnJlcGxhY2UoIiNkZWZpbmUgIitpW3NdLCIiKTt0aGlzLl9jdXJyZW50UmFuaysrfXJldHVybiBlfX1jb25zdCBtYT0iYmF5ZXJEaXRoZXJGdW5jdGlvbnMiLEVhPWBmbG9hdCBiYXllckRpdGhlcjIodmVjMiBfUCkgewpyZXR1cm4gbW9kKDIuMCpfUC55K19QLngrMS4wLDQuMCk7Cn0KZmxvYXQgYmF5ZXJEaXRoZXI0KHZlYzIgX1ApIHsKdmVjMiBQMT1tb2QoX1AsMi4wKTsgCnZlYzIgUDI9Zmxvb3IoMC41Km1vZChfUCw0LjApKTsgCnJldHVybiA0LjAqYmF5ZXJEaXRoZXIyKFAxKStiYXllckRpdGhlcjIoUDIpOwp9CmZsb2F0IGJheWVyRGl0aGVyOCh2ZWMyIF9QKSB7CnZlYzIgUDE9bW9kKF9QLDIuMCk7IAp2ZWMyIFAyPWZsb29yKDAuNSAqbW9kKF9QLDQuMCkpOyAKdmVjMiBQND1mbG9vcigwLjI1Km1vZChfUCw4LjApKTsgCnJldHVybiA0LjAqKDQuMCpiYXllckRpdGhlcjIoUDEpK2JheWVyRGl0aGVyMihQMikpK2JheWVyRGl0aGVyMihQNCk7Cn0KYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW21hXT1FYTtjb25zdCB2YT0ic2hhZG93TWFwRnJhZ21lbnRFeHRyYURlY2xhcmF0aW9uIixUYT1gI2lmIFNNX0ZMT0FUPT0wCiNpbmNsdWRlPHBhY2tpbmdGdW5jdGlvbnM+CiNlbmRpZgojaWYgU01fU09GVFRSQU5TUEFSRU5UU0hBRE9XPT0xCiNpbmNsdWRlPGJheWVyRGl0aGVyRnVuY3Rpb25zPgp1bmlmb3JtIGZsb2F0IHNvZnRUcmFuc3BhcmVudFNoYWRvd1NNOwojZW5kaWYKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWNTTTsKI2lmIFNNX1VTRURJU1RBTkNFPT0xCnVuaWZvcm0gdmVjMyBsaWdodERhdGFTTTsKdmFyeWluZyB2ZWMzIHZQb3NpdGlvbldTTTsKI2VuZGlmCnVuaWZvcm0gdmVjMyBiaWFzQW5kU2NhbGVTTTsKdW5pZm9ybSB2ZWMyIGRlcHRoVmFsdWVzU007CiNpZiBkZWZpbmVkKFNNX0RFUFRIQ0xBTVApICYmIFNNX0RFUFRIQ0xBTVA9PTEKdmFyeWluZyBmbG9hdCB6U007CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbdmFdPVRhO2NvbnN0IGJhPSJjbGlwUGxhbmVGcmFnbWVudERlY2xhcmF0aW9uIixTYT1gI2lmZGVmIENMSVBQTEFORQp2YXJ5aW5nIGZsb2F0IGZDbGlwRGlzdGFuY2U7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMgp2YXJ5aW5nIGZsb2F0IGZDbGlwRGlzdGFuY2UyOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTMKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlMzsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU0CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTQ7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNQp2YXJ5aW5nIGZsb2F0IGZDbGlwRGlzdGFuY2U1OwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTYKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlNjsKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtiYV09U2E7Y29uc3QgeGE9ImNsaXBQbGFuZUZyYWdtZW50IixNYT1gI2lmIGRlZmluZWQoQ0xJUFBMQU5FKSB8fCBkZWZpbmVkKENMSVBQTEFORTIpIHx8IGRlZmluZWQoQ0xJUFBMQU5FMykgfHwgZGVmaW5lZChDTElQUExBTkU0KSB8fCBkZWZpbmVkKENMSVBQTEFORTUpIHx8IGRlZmluZWQoQ0xJUFBMQU5FNikKaWYgKGZhbHNlKSB7fQojZW5kaWYKI2lmZGVmIENMSVBQTEFORQplbHNlIGlmIChmQ2xpcERpc3RhbmNlPjAuMCkKewpkaXNjYXJkOwp9CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMgplbHNlIGlmIChmQ2xpcERpc3RhbmNlMj4wLjApCnsKZGlzY2FyZDsKfQojZW5kaWYKI2lmZGVmIENMSVBQTEFORTMKZWxzZSBpZiAoZkNsaXBEaXN0YW5jZTM+MC4wKQp7CmRpc2NhcmQ7Cn0KI2VuZGlmCiNpZmRlZiBDTElQUExBTkU0CmVsc2UgaWYgKGZDbGlwRGlzdGFuY2U0PjAuMCkKewpkaXNjYXJkOwp9CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNQplbHNlIGlmIChmQ2xpcERpc3RhbmNlNT4wLjApCnsKZGlzY2FyZDsKfQojZW5kaWYKI2lmZGVmIENMSVBQTEFORTYKZWxzZSBpZiAoZkNsaXBEaXN0YW5jZTY+MC4wKQp7CmRpc2NhcmQ7Cn0KI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVt4YV09TWE7Y29uc3QgQWE9InNoYWRvd01hcEZyYWdtZW50IixSYT1gZmxvYXQgZGVwdGhTTT12RGVwdGhNZXRyaWNTTTsKI2lmIGRlZmluZWQoU01fREVQVEhDTEFNUCkgJiYgU01fREVQVEhDTEFNUD09MQojaWYgU01fVVNFRElTVEFOQ0U9PTEKZGVwdGhTTT0obGVuZ3RoKHZQb3NpdGlvbldTTS1saWdodERhdGFTTSkrZGVwdGhWYWx1ZXNTTS54KS9kZXB0aFZhbHVlc1NNLnkrYmlhc0FuZFNjYWxlU00ueDsKI2Vsc2UKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCmRlcHRoU009KC16U00rZGVwdGhWYWx1ZXNTTS54KS9kZXB0aFZhbHVlc1NNLnkrYmlhc0FuZFNjYWxlU00ueDsKI2Vsc2UKZGVwdGhTTT0oelNNK2RlcHRoVmFsdWVzU00ueCkvZGVwdGhWYWx1ZXNTTS55K2JpYXNBbmRTY2FsZVNNLng7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCmdsX0ZyYWdEZXB0aD1jbGFtcCgxLjAtZGVwdGhTTSwwLjAsMS4wKTsKI2Vsc2UKZ2xfRnJhZ0RlcHRoPWNsYW1wKGRlcHRoU00sMC4wLDEuMCk7IAojZW5kaWYKI2VsaWYgU01fVVNFRElTVEFOQ0U9PTEKZGVwdGhTTT0obGVuZ3RoKHZQb3NpdGlvbldTTS1saWdodERhdGFTTSkrZGVwdGhWYWx1ZXNTTS54KS9kZXB0aFZhbHVlc1NNLnkrYmlhc0FuZFNjYWxlU00ueDsKI2VuZGlmCiNpZiBTTV9FU009PTEKZGVwdGhTTT1jbGFtcChleHAoLW1pbig4Ny4sYmlhc0FuZFNjYWxlU00ueipkZXB0aFNNKSksMC4sMS4pOwojZW5kaWYKI2lmIFNNX0ZMT0FUPT0xCmdsX0ZyYWdDb2xvcj12ZWM0KGRlcHRoU00sMS4wLDEuMCwxLjApOwojZWxzZQpnbF9GcmFnQ29sb3I9cGFjayhkZXB0aFNNKTsKI2VuZGlmCnJldHVybjtgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbQWFdPVJhO2NvbnN0IHlhPSJzaGFkb3dNYXBQaXhlbFNoYWRlciIsQ2E9YCNpbmNsdWRlPHNoYWRvd01hcEZyYWdtZW50RXh0cmFEZWNsYXJhdGlvbj4KI2lmZGVmIEFMUEhBVEVYVFVSRQp2YXJ5aW5nIHZlYzIgdlVWOwp1bmlmb3JtIHNhbXBsZXIyRCBkaWZmdXNlU2FtcGxlcjsKI2VuZGlmCiNpbmNsdWRlPGNsaXBQbGFuZUZyYWdtZW50RGVjbGFyYXRpb24+CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKQp7CiNpbmNsdWRlPGNsaXBQbGFuZUZyYWdtZW50PgojaWZkZWYgQUxQSEFURVhUVVJFCmZsb2F0IGFscGhhRnJvbUFscGhhVGV4dHVyZT10ZXh0dXJlMkQoZGlmZnVzZVNhbXBsZXIsdlVWKS5hOwojaWZkZWYgQUxQSEFURVNUVkFMVUUKaWYgKGFscGhhRnJvbUFscGhhVGV4dHVyZTxBTFBIQVRFU1RWQUxVRSkKZGlzY2FyZDsKI2VuZGlmCiNlbmRpZgojaWYgU01fU09GVFRSQU5TUEFSRU5UU0hBRE9XPT0xCiNpZmRlZiBBTFBIQVRFWFRVUkUKaWYgKChiYXllckRpdGhlcjgoZmxvb3IobW9kKGdsX0ZyYWdDb29yZC54eSw4LjApKSkpLzY0LjA+PXNvZnRUcmFuc3BhcmVudFNoYWRvd1NNKmFscGhhRnJvbUFscGhhVGV4dHVyZSkgZGlzY2FyZDsKI2Vsc2UKaWYgKChiYXllckRpdGhlcjgoZmxvb3IobW9kKGdsX0ZyYWdDb29yZC54eSw4LjApKSkpLzY0LjA+PXNvZnRUcmFuc3BhcmVudFNoYWRvd1NNKSBkaXNjYXJkOwojZW5kaWYKI2VuZGlmCiNpbmNsdWRlPHNoYWRvd01hcEZyYWdtZW50Pgp9YDtVLlNoYWRlcnNTdG9yZVt5YV09Q2E7Y29uc3QgSWE9ImJvbmVzRGVjbGFyYXRpb24iLFBhPWAjaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MAphdHRyaWJ1dGUgdmVjNCBtYXRyaWNlc0luZGljZXM7CmF0dHJpYnV0ZSB2ZWM0IG1hdHJpY2VzV2VpZ2h0czsKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjQKYXR0cmlidXRlIHZlYzQgbWF0cmljZXNJbmRpY2VzRXh0cmE7CmF0dHJpYnV0ZSB2ZWM0IG1hdHJpY2VzV2VpZ2h0c0V4dHJhOwojZW5kaWYKI2lmbmRlZiBCQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkUKI2lmZGVmIEJPTkVURVhUVVJFCnVuaWZvcm0gc2FtcGxlcjJEIGJvbmVTYW1wbGVyOwp1bmlmb3JtIGZsb2F0IGJvbmVUZXh0dXJlV2lkdGg7CiNlbHNlCnVuaWZvcm0gbWF0NCBtQm9uZXNbQm9uZXNQZXJNZXNoXTsKI2lmZGVmIEJPTkVTX1ZFTE9DSVRZX0VOQUJMRUQKdW5pZm9ybSBtYXQ0IG1QcmV2aW91c0JvbmVzW0JvbmVzUGVyTWVzaF07CiNlbmRpZgojZW5kaWYKI2lmZGVmIEJPTkVURVhUVVJFCiNkZWZpbmUgaW5saW5lCm1hdDQgcmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyKHNhbXBsZXIyRCBzbXAsZmxvYXQgaW5kZXgpCnsKZmxvYXQgb2Zmc2V0PWluZGV4ICo0LjA7CmZsb2F0IGR4PTEuMC9ib25lVGV4dHVyZVdpZHRoOwp2ZWM0IG0wPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzAuNSksMC4pKTsKdmVjNCBtMT10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCsxLjUpLDAuKSk7CnZlYzQgbTI9dGV4dHVyZTJEKHNtcCx2ZWMyKGR4KihvZmZzZXQrMi41KSwwLikpOwp2ZWM0IG0zPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzMuNSksMC4pKTsKcmV0dXJuIG1hdDQobTAsbTEsbTIsbTMpOwp9CiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtJYV09UGE7Y29uc3QgRGE9ImJha2VkVmVydGV4QW5pbWF0aW9uRGVjbGFyYXRpb24iLEZhPWAjaWZkZWYgQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFCnVuaWZvcm0gZmxvYXQgYmFrZWRWZXJ0ZXhBbmltYXRpb25UaW1lOwp1bmlmb3JtIHZlYzIgYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlU2l6ZUludmVydGVkOwp1bmlmb3JtIHZlYzQgYmFrZWRWZXJ0ZXhBbmltYXRpb25TZXR0aW5nczsKdW5pZm9ybSBzYW1wbGVyMkQgYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlOwojaWZkZWYgSU5TVEFOQ0VTCmF0dHJpYnV0ZSB2ZWM0IGJha2VkVmVydGV4QW5pbWF0aW9uU2V0dGluZ3NJbnN0YW5jZWQ7CiNlbmRpZgojZGVmaW5lIGlubGluZQptYXQ0IHJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChzYW1wbGVyMkQgc21wLGZsb2F0IGluZGV4LGZsb2F0IGZyYW1lKQp7CmZsb2F0IG9mZnNldD1pbmRleCo0LjA7CmZsb2F0IGZyYW1lVVY9KGZyYW1lKzAuNSkqYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlU2l6ZUludmVydGVkLnk7CmZsb2F0IGR4PWJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZVNpemVJbnZlcnRlZC54Owp2ZWM0IG0wPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzAuNSksZnJhbWVVVikpOwp2ZWM0IG0xPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzEuNSksZnJhbWVVVikpOwp2ZWM0IG0yPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzIuNSksZnJhbWVVVikpOwp2ZWM0IG0zPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzMuNSksZnJhbWVVVikpOwpyZXR1cm4gbWF0NChtMCxtMSxtMixtMyk7Cn0KI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtEYV09RmE7Y29uc3Qgd2E9Im1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbERlY2xhcmF0aW9uIixPYT1gI2lmZGVmIE1PUlBIVEFSR0VUUwp1bmlmb3JtIGZsb2F0IG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1tOVU1fTU9SUEhfSU5GTFVFTkNFUlNdOwojaWZkZWYgTU9SUEhUQVJHRVRTX1RFWFRVUkUgCnByZWNpc2lvbiBtZWRpdW1wIHNhbXBsZXIyREFycmF5OyAKdW5pZm9ybSBmbG9hdCBtb3JwaFRhcmdldFRleHR1cmVJbmRpY2VzW05VTV9NT1JQSF9JTkZMVUVOQ0VSU107CnVuaWZvcm0gdmVjMyBtb3JwaFRhcmdldFRleHR1cmVJbmZvOwp1bmlmb3JtIHNhbXBsZXIyREFycmF5IG1vcnBoVGFyZ2V0czsKdmVjMyByZWFkVmVjdG9yM0Zyb21SYXdTYW1wbGVyKGludCB0YXJnZXRJbmRleCxmbG9hdCB2ZXJ0ZXhJbmRleCkKeyAKZmxvYXQgeT1mbG9vcih2ZXJ0ZXhJbmRleC9tb3JwaFRhcmdldFRleHR1cmVJbmZvLnkpOwpmbG9hdCB4PXZlcnRleEluZGV4LXkqbW9ycGhUYXJnZXRUZXh0dXJlSW5mby55Owp2ZWMzIHRleHR1cmVVVj12ZWMzKCh4KzAuNSkvbW9ycGhUYXJnZXRUZXh0dXJlSW5mby55LCh5KzAuNSkvbW9ycGhUYXJnZXRUZXh0dXJlSW5mby56LG1vcnBoVGFyZ2V0VGV4dHVyZUluZGljZXNbdGFyZ2V0SW5kZXhdKTsKcmV0dXJuIHRleHR1cmUobW9ycGhUYXJnZXRzLHRleHR1cmVVVikueHl6Owp9CiNlbmRpZgojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3dhXT1PYTtjb25zdCBMYT0ibW9ycGhUYXJnZXRzVmVydGV4RGVjbGFyYXRpb24iLE5hPWAjaWZkZWYgTU9SUEhUQVJHRVRTCiNpZm5kZWYgTU9SUEhUQVJHRVRTX1RFWFRVUkUKYXR0cmlidXRlIHZlYzMgcG9zaXRpb257WH07CiNpZmRlZiBNT1JQSFRBUkdFVFNfTk9STUFMCmF0dHJpYnV0ZSB2ZWMzIG5vcm1hbHtYfTsKI2VuZGlmCiNpZmRlZiBNT1JQSFRBUkdFVFNfVEFOR0VOVAphdHRyaWJ1dGUgdmVjMyB0YW5nZW50e1h9OwojZW5kaWYKI2lmZGVmIE1PUlBIVEFSR0VUU19VVgphdHRyaWJ1dGUgdmVjMiB1dl97WH07CiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtMYV09TmE7Y29uc3QgQmE9ImhlbHBlckZ1bmN0aW9ucyIsVWE9YGNvbnN0IGZsb2F0IFBJPTMuMTQxNTkyNjUzNTg5NzkzMjM4NDYyNjQzMzgzMjc5NTsKY29uc3QgZmxvYXQgSEFMRl9NSU49NS45NjA0NjQ0OGUtMDg7IApjb25zdCBmbG9hdCBMaW5lYXJFbmNvZGVQb3dlckFwcHJveD0yLjI7CmNvbnN0IGZsb2F0IEdhbW1hRW5jb2RlUG93ZXJBcHByb3g9MS4wL0xpbmVhckVuY29kZVBvd2VyQXBwcm94Owpjb25zdCB2ZWMzIEx1bWluYW5jZUVuY29kZUFwcHJveD12ZWMzKDAuMjEyNiwwLjcxNTIsMC4wNzIyKTsKY29uc3QgZmxvYXQgRXBzaWxvbj0wLjAwMDAwMDE7CiNkZWZpbmUgc2F0dXJhdGUoeCkgY2xhbXAoeCwwLjAsMS4wKQojZGVmaW5lIGFic0Vwcyh4KSBhYnMoeCkrRXBzaWxvbgojZGVmaW5lIG1heEVwcyh4KSBtYXgoeCxFcHNpbG9uKQojZGVmaW5lIHNhdHVyYXRlRXBzKHgpIGNsYW1wKHgsRXBzaWxvbiwxLjApCm1hdDMgdHJhbnNwb3NlTWF0MyhtYXQzIGluTWF0cml4KSB7CnZlYzMgaTA9aW5NYXRyaXhbMF07CnZlYzMgaTE9aW5NYXRyaXhbMV07CnZlYzMgaTI9aW5NYXRyaXhbMl07Cm1hdDMgb3V0TWF0cml4PW1hdDMoCnZlYzMoaTAueCxpMS54LGkyLngpLAp2ZWMzKGkwLnksaTEueSxpMi55KSwKdmVjMyhpMC56LGkxLnosaTIueikKKTsKcmV0dXJuIG91dE1hdHJpeDsKfQptYXQzIGludmVyc2VNYXQzKG1hdDMgaW5NYXRyaXgpIHsKZmxvYXQgYTAwPWluTWF0cml4WzBdWzBdLGEwMT1pbk1hdHJpeFswXVsxXSxhMDI9aW5NYXRyaXhbMF1bMl07CmZsb2F0IGExMD1pbk1hdHJpeFsxXVswXSxhMTE9aW5NYXRyaXhbMV1bMV0sYTEyPWluTWF0cml4WzFdWzJdOwpmbG9hdCBhMjA9aW5NYXRyaXhbMl1bMF0sYTIxPWluTWF0cml4WzJdWzFdLGEyMj1pbk1hdHJpeFsyXVsyXTsKZmxvYXQgYjAxPWEyMiphMTEtYTEyKmEyMTsKZmxvYXQgYjExPS1hMjIqYTEwK2ExMiphMjA7CmZsb2F0IGIyMT1hMjEqYTEwLWExMSphMjA7CmZsb2F0IGRldD1hMDAqYjAxK2EwMSpiMTErYTAyKmIyMTsKcmV0dXJuIG1hdDMoYjAxLCgtYTIyKmEwMSthMDIqYTIxKSwoYTEyKmEwMS1hMDIqYTExKSwKYjExLChhMjIqYTAwLWEwMiphMjApLCgtYTEyKmEwMCthMDIqYTEwKSwKYjIxLCgtYTIxKmEwMCthMDEqYTIwKSwoYTExKmEwMC1hMDEqYTEwKSkvZGV0Owp9CiNpZiBVU0VfRVhBQ1RfU1JHQl9DT05WRVJTSU9OUwp2ZWMzIHRvTGluZWFyU3BhY2VFeGFjdCh2ZWMzIGNvbG9yKQp7CnZlYzMgbmVhclplcm9TZWN0aW9uPTAuMDc3Mzk5MzgwOCpjb2xvcjsKdmVjMyByZW1haW5pbmdTZWN0aW9uPXBvdygwLjk0Nzg2NzI5OSooY29sb3IrdmVjMygwLjA1NSkpLHZlYzMoMi40KSk7CiNpZiBkZWZpbmVkKFdFQkdMMikgfHwgZGVmaW5lZChXRUJHUFUpIHx8IGRlZmluZWQoTkFUSVZFKQpyZXR1cm4gbWl4KHJlbWFpbmluZ1NlY3Rpb24sbmVhclplcm9TZWN0aW9uLGxlc3NUaGFuRXF1YWwoY29sb3IsdmVjMygwLjA0MDQ1KSkpOwojZWxzZQpyZXR1cm4KdmVjMygKY29sb3Iucjw9MC4wNDA0NSA/IG5lYXJaZXJvU2VjdGlvbi5yIDogcmVtYWluaW5nU2VjdGlvbi5yLApjb2xvci5nPD0wLjA0MDQ1ID8gbmVhclplcm9TZWN0aW9uLmcgOiByZW1haW5pbmdTZWN0aW9uLmcsCmNvbG9yLmI8PTAuMDQwNDUgPyBuZWFyWmVyb1NlY3Rpb24uYiA6IHJlbWFpbmluZ1NlY3Rpb24uYik7CiNlbmRpZgp9CnZlYzMgdG9HYW1tYVNwYWNlRXhhY3QodmVjMyBjb2xvcikKewp2ZWMzIG5lYXJaZXJvU2VjdGlvbj0xMi45Mipjb2xvcjsKdmVjMyByZW1haW5pbmdTZWN0aW9uPTEuMDU1KnBvdyhjb2xvcix2ZWMzKDAuNDE2NjYpKS12ZWMzKDAuMDU1KTsKI2lmIGRlZmluZWQoV0VCR0wyKSB8fCBkZWZpbmVkKFdFQkdQVSkgfHwgZGVmaW5lZChOQVRJVkUpCnJldHVybiBtaXgocmVtYWluaW5nU2VjdGlvbixuZWFyWmVyb1NlY3Rpb24sbGVzc1RoYW5FcXVhbChjb2xvcix2ZWMzKDAuMDAzMTMwOCkpKTsKI2Vsc2UKcmV0dXJuCnZlYzMoCmNvbG9yLnI8PTAuMDAzMTMwOCA/IG5lYXJaZXJvU2VjdGlvbi5yIDogcmVtYWluaW5nU2VjdGlvbi5yLApjb2xvci5nPD0wLjAwMzEzMDggPyBuZWFyWmVyb1NlY3Rpb24uZyA6IHJlbWFpbmluZ1NlY3Rpb24uZywKY29sb3IuYjw9MC4wMDMxMzA4ID8gbmVhclplcm9TZWN0aW9uLmIgOiByZW1haW5pbmdTZWN0aW9uLmIpOwojZW5kaWYKfQojZW5kaWYKZmxvYXQgdG9MaW5lYXJTcGFjZShmbG9hdCBjb2xvcikKewojaWYgVVNFX0VYQUNUX1NSR0JfQ09OVkVSU0lPTlMKZmxvYXQgbmVhclplcm9TZWN0aW9uPTAuMDc3Mzk5MzgwOCpjb2xvcjsKZmxvYXQgcmVtYWluaW5nU2VjdGlvbj1wb3coMC45NDc4NjcyOTkqKGNvbG9yKzAuMDU1KSwyLjQpOwpyZXR1cm4gY29sb3I8PTAuMDQwNDUgPyBuZWFyWmVyb1NlY3Rpb24gOiByZW1haW5pbmdTZWN0aW9uOwojZWxzZQpyZXR1cm4gcG93KGNvbG9yLExpbmVhckVuY29kZVBvd2VyQXBwcm94KTsKI2VuZGlmCn0KdmVjMyB0b0xpbmVhclNwYWNlKHZlYzMgY29sb3IpCnsKI2lmIFVTRV9FWEFDVF9TUkdCX0NPTlZFUlNJT05TCnJldHVybiB0b0xpbmVhclNwYWNlRXhhY3QoY29sb3IpOwojZWxzZQpyZXR1cm4gcG93KGNvbG9yLHZlYzMoTGluZWFyRW5jb2RlUG93ZXJBcHByb3gpKTsKI2VuZGlmCn0KdmVjNCB0b0xpbmVhclNwYWNlKHZlYzQgY29sb3IpCnsKI2lmIFVTRV9FWEFDVF9TUkdCX0NPTlZFUlNJT05TCnJldHVybiB2ZWM0KHRvTGluZWFyU3BhY2VFeGFjdChjb2xvci5yZ2IpLGNvbG9yLmEpOwojZWxzZQpyZXR1cm4gdmVjNChwb3coY29sb3IucmdiLHZlYzMoTGluZWFyRW5jb2RlUG93ZXJBcHByb3gpKSxjb2xvci5hKTsKI2VuZGlmCn0KZmxvYXQgdG9HYW1tYVNwYWNlKGZsb2F0IGNvbG9yKQp7CiNpZiBVU0VfRVhBQ1RfU1JHQl9DT05WRVJTSU9OUwpmbG9hdCBuZWFyWmVyb1NlY3Rpb249MTIuOTIqY29sb3I7CmZsb2F0IHJlbWFpbmluZ1NlY3Rpb249MS4wNTUqcG93KGNvbG9yLDAuNDE2NjYpLTAuMDU1OwpyZXR1cm4gY29sb3I8PTAuMDAzMTMwOCA/IG5lYXJaZXJvU2VjdGlvbiA6IHJlbWFpbmluZ1NlY3Rpb247CiNlbHNlCnJldHVybiBwb3coY29sb3IsR2FtbWFFbmNvZGVQb3dlckFwcHJveCk7CiNlbmRpZgp9CnZlYzMgdG9HYW1tYVNwYWNlKHZlYzMgY29sb3IpCnsKI2lmIFVTRV9FWEFDVF9TUkdCX0NPTlZFUlNJT05TCnJldHVybiB0b0dhbW1hU3BhY2VFeGFjdChjb2xvcik7CiNlbHNlCnJldHVybiBwb3coY29sb3IsdmVjMyhHYW1tYUVuY29kZVBvd2VyQXBwcm94KSk7CiNlbmRpZgp9CnZlYzQgdG9HYW1tYVNwYWNlKHZlYzQgY29sb3IpCnsKI2lmIFVTRV9FWEFDVF9TUkdCX0NPTlZFUlNJT05TCnJldHVybiB2ZWM0KHRvR2FtbWFTcGFjZUV4YWN0KGNvbG9yLnJnYiksY29sb3IuYSk7CiNlbHNlCnJldHVybiB2ZWM0KHBvdyhjb2xvci5yZ2IsdmVjMyhHYW1tYUVuY29kZVBvd2VyQXBwcm94KSksY29sb3IuYSk7CiNlbmRpZgp9CmZsb2F0IHNxdWFyZShmbG9hdCB2YWx1ZSkKewpyZXR1cm4gdmFsdWUqdmFsdWU7Cn0KdmVjMyBzcXVhcmUodmVjMyB2YWx1ZSkKewpyZXR1cm4gdmFsdWUqdmFsdWU7Cn0KZmxvYXQgcG93NShmbG9hdCB2YWx1ZSkgewpmbG9hdCBzcT12YWx1ZSp2YWx1ZTsKcmV0dXJuIHNxKnNxKnZhbHVlOwp9CmZsb2F0IGdldEx1bWluYW5jZSh2ZWMzIGNvbG9yKQp7CnJldHVybiBjbGFtcChkb3QoY29sb3IsTHVtaW5hbmNlRW5jb2RlQXBwcm94KSwwLiwxLik7Cn0KZmxvYXQgZ2V0UmFuZCh2ZWMyIHNlZWQpIHsKcmV0dXJuIGZyYWN0KHNpbihkb3Qoc2VlZC54eSAsdmVjMigxMi45ODk4LDc4LjIzMykpKSo0Mzc1OC41NDUzKTsKfQpmbG9hdCBkaXRoZXIodmVjMiBzZWVkLGZsb2F0IHZhcmlhbmNlQW1vdW50KSB7CmZsb2F0IHJhbmQ9Z2V0UmFuZChzZWVkKTsKZmxvYXQgbm9ybVZhcmlhbmNlPXZhcmlhbmNlQW1vdW50LzI1NS4wOwpmbG9hdCBkaXRoZXI9bWl4KC1ub3JtVmFyaWFuY2Usbm9ybVZhcmlhbmNlLHJhbmQpOwpyZXR1cm4gZGl0aGVyOwp9CmNvbnN0IGZsb2F0IHJnYmRNYXhSYW5nZT0yNTUuMDsKdmVjNCB0b1JHQkQodmVjMyBjb2xvcikgewpmbG9hdCBtYXhSR0I9bWF4RXBzKG1heChjb2xvci5yLG1heChjb2xvci5nLGNvbG9yLmIpKSk7CmZsb2F0IEQgPW1heChyZ2JkTWF4UmFuZ2UvbWF4UkdCLDEuKTsKRCA9Y2xhbXAoZmxvb3IoRCkvMjU1LjAsMC4sMS4pOwp2ZWMzIHJnYj1jb2xvci5yZ2IqRDsKcmdiPXRvR2FtbWFTcGFjZShyZ2IpOwpyZXR1cm4gdmVjNChjbGFtcChyZ2IsMC4sMS4pLEQpOyAKfQp2ZWMzIGZyb21SR0JEKHZlYzQgcmdiZCkgewpyZ2JkLnJnYj10b0xpbmVhclNwYWNlKHJnYmQucmdiKTsKcmV0dXJuIHJnYmQucmdiL3JnYmQuYTsKfQp2ZWMzIHBhcmFsbGF4Q29ycmVjdE5vcm1hbCggdmVjMyB2ZXJ0ZXhQb3MsdmVjMyBvcmlnVmVjLHZlYzMgY3ViZVNpemUsdmVjMyBjdWJlUG9zICkgewp2ZWMzIGludk9yaWdWZWM9dmVjMygxLjAsMS4wLDEuMCkvb3JpZ1ZlYzsKdmVjMyBoYWxmU2l6ZT1jdWJlU2l6ZSowLjU7CnZlYzMgaW50ZXJzZWNBdE1heFBsYW5lPShjdWJlUG9zK2hhbGZTaXplLXZlcnRleFBvcykqaW52T3JpZ1ZlYzsKdmVjMyBpbnRlcnNlY0F0TWluUGxhbmU9KGN1YmVQb3MtaGFsZlNpemUtdmVydGV4UG9zKSppbnZPcmlnVmVjOwp2ZWMzIGxhcmdlc3RJbnRlcnNlYz1tYXgoaW50ZXJzZWNBdE1heFBsYW5lLGludGVyc2VjQXRNaW5QbGFuZSk7CmZsb2F0IGRpc3RhbmNlPW1pbihtaW4obGFyZ2VzdEludGVyc2VjLngsbGFyZ2VzdEludGVyc2VjLnkpLGxhcmdlc3RJbnRlcnNlYy56KTsKdmVjMyBpbnRlcnNlY3RQb3NpdGlvbldTPXZlcnRleFBvcytvcmlnVmVjKmRpc3RhbmNlOwpyZXR1cm4gaW50ZXJzZWN0UG9zaXRpb25XUy1jdWJlUG9zOwp9CmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtCYV09VWE7Y29uc3Qga2E9InNjZW5lVmVydGV4RGVjbGFyYXRpb24iLFZhPWB1bmlmb3JtIG1hdDQgdmlld1Byb2plY3Rpb247CiNpZmRlZiBNVUxUSVZJRVcKdW5pZm9ybSBtYXQ0IHZpZXdQcm9qZWN0aW9uUjsKI2VuZGlmCnVuaWZvcm0gbWF0NCB2aWV3Owp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbjsKdW5pZm9ybSB2ZWM0IHZFeWVQb3NpdGlvbjsKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2thXT1WYTtjb25zdCBXYT0ibWVzaFZlcnRleERlY2xhcmF0aW9uIix6YT1gdW5pZm9ybSBtYXQ0IHdvcmxkOwp1bmlmb3JtIGZsb2F0IHZpc2liaWxpdHk7CmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtXYV09emE7Y29uc3QgR2E9InNoYWRvd01hcFZlcnRleERlY2xhcmF0aW9uIixYYT1gI2luY2x1ZGU8c2NlbmVWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8bWVzaFZlcnRleERlY2xhcmF0aW9uPgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbR2FdPVhhO2NvbnN0IEhhPSJzY2VuZVVib0RlY2xhcmF0aW9uIixLYT1gbGF5b3V0KHN0ZDE0MCxjb2x1bW5fbWFqb3IpIHVuaWZvcm07CnVuaWZvcm0gU2NlbmUgewptYXQ0IHZpZXdQcm9qZWN0aW9uOwojaWZkZWYgTVVMVElWSUVXCm1hdDQgdmlld1Byb2plY3Rpb25SOwojZW5kaWYgCm1hdDQgdmlldzsKbWF0NCBwcm9qZWN0aW9uOwp2ZWM0IHZFeWVQb3NpdGlvbjsKfTsKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0hhXT1LYTtjb25zdCBZYT0ibWVzaFVib0RlY2xhcmF0aW9uIixaYT1gI2lmZGVmIFdFQkdMMgp1bmlmb3JtIG1hdDQgd29ybGQ7CnVuaWZvcm0gZmxvYXQgdmlzaWJpbGl0eTsKI2Vsc2UKbGF5b3V0KHN0ZDE0MCxjb2x1bW5fbWFqb3IpIHVuaWZvcm07CnVuaWZvcm0gTWVzaAp7Cm1hdDQgd29ybGQ7CmZsb2F0IHZpc2liaWxpdHk7Cn07CiNlbmRpZgojZGVmaW5lIFdPUkxEX1VCTwpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbWWFdPVphO2NvbnN0IHFhPSJzaGFkb3dNYXBVYm9EZWNsYXJhdGlvbiIsamE9YGxheW91dChzdGQxNDAsY29sdW1uX21ham9yKSB1bmlmb3JtOwojaW5jbHVkZTxzY2VuZVVib0RlY2xhcmF0aW9uPgojaW5jbHVkZTxtZXNoVWJvRGVjbGFyYXRpb24+CmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtxYV09amE7Y29uc3QgJGE9InNoYWRvd01hcFZlcnRleEV4dHJhRGVjbGFyYXRpb24iLFFhPWAjaWYgU01fTk9STUFMQklBUz09MQp1bmlmb3JtIHZlYzMgbGlnaHREYXRhU007CiNlbmRpZgp1bmlmb3JtIHZlYzMgYmlhc0FuZFNjYWxlU007CnVuaWZvcm0gdmVjMiBkZXB0aFZhbHVlc1NNOwp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY1NNOwojaWYgU01fVVNFRElTVEFOQ0U9PTEKdmFyeWluZyB2ZWMzIHZQb3NpdGlvbldTTTsKI2VuZGlmCiNpZiBkZWZpbmVkKFNNX0RFUFRIQ0xBTVApICYmIFNNX0RFUFRIQ0xBTVA9PTEKdmFyeWluZyBmbG9hdCB6U007CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbJGFdPVFhO2NvbnN0IEphPSJjbGlwUGxhbmVWZXJ0ZXhEZWNsYXJhdGlvbiIsZW89YCNpZmRlZiBDTElQUExBTkUKdW5pZm9ybSB2ZWM0IHZDbGlwUGxhbmU7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkUyCnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lMjsKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlMjsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkUzCnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lMzsKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlMzsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU0CnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lNDsKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlNDsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU1CnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lNTsKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlNTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU2CnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lNjsKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlNjsKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtKYV09ZW87Y29uc3QgdG89Im1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbCIsaW89YCNpZmRlZiBNT1JQSFRBUkdFVFMKI2lmZGVmIE1PUlBIVEFSR0VUU19URVhUVVJFCmZsb2F0IHZlcnRleElEOwojZW5kaWYKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVt0b109aW87Y29uc3Qgc289Im1vcnBoVGFyZ2V0c1ZlcnRleCIscm89YCNpZmRlZiBNT1JQSFRBUkdFVFMKI2lmZGVmIE1PUlBIVEFSR0VUU19URVhUVVJFIAp2ZXJ0ZXhJRD1mbG9hdChnbF9WZXJ0ZXhJRCkqbW9ycGhUYXJnZXRUZXh0dXJlSW5mby54Owpwb3NpdGlvblVwZGF0ZWQrPShyZWFkVmVjdG9yM0Zyb21SYXdTYW1wbGVyKHtYfSx2ZXJ0ZXhJRCktcG9zaXRpb24pKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwp2ZXJ0ZXhJRCs9MS4wOwojaWZkZWYgTU9SUEhUQVJHRVRTX05PUk1BTApub3JtYWxVcGRhdGVkKz0ocmVhZFZlY3RvcjNGcm9tUmF3U2FtcGxlcih7WH0sdmVydGV4SUQpIC1ub3JtYWwpKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwp2ZXJ0ZXhJRCs9MS4wOwojZW5kaWYKI2lmZGVmIE1PUlBIVEFSR0VUU19VVgp1dlVwZGF0ZWQrPShyZWFkVmVjdG9yM0Zyb21SYXdTYW1wbGVyKHtYfSx2ZXJ0ZXhJRCkueHktdXYpKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwp2ZXJ0ZXhJRCs9MS4wOwojZW5kaWYKI2lmZGVmIE1PUlBIVEFSR0VUU19UQU5HRU5UCnRhbmdlbnRVcGRhdGVkLnh5eis9KHJlYWRWZWN0b3IzRnJvbVJhd1NhbXBsZXIoe1h9LHZlcnRleElEKSAtdGFuZ2VudC54eXopKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwojZW5kaWYKI2Vsc2UKcG9zaXRpb25VcGRhdGVkKz0ocG9zaXRpb257WH0tcG9zaXRpb24pKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwojaWZkZWYgTU9SUEhUQVJHRVRTX05PUk1BTApub3JtYWxVcGRhdGVkKz0obm9ybWFse1h9LW5vcm1hbCkqbW9ycGhUYXJnZXRJbmZsdWVuY2VzW3tYfV07CiNlbmRpZgojaWZkZWYgTU9SUEhUQVJHRVRTX1RBTkdFTlQKdGFuZ2VudFVwZGF0ZWQueHl6Kz0odGFuZ2VudHtYfS10YW5nZW50Lnh5eikqbW9ycGhUYXJnZXRJbmZsdWVuY2VzW3tYfV07CiNlbmRpZgojaWZkZWYgTU9SUEhUQVJHRVRTX1VWCnV2VXBkYXRlZCs9KHV2X3tYfS11dikqbW9ycGhUYXJnZXRJbmZsdWVuY2VzW3tYfV07CiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtzb109cm87Y29uc3Qgbm89Imluc3RhbmNlc1ZlcnRleCIsYW89YCNpZmRlZiBJTlNUQU5DRVMKbWF0NCBmaW5hbFdvcmxkPW1hdDQod29ybGQwLHdvcmxkMSx3b3JsZDIsd29ybGQzKTsKI2lmIGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkgfHwgZGVmaW5lZChWRUxPQ0lUWSkKbWF0NCBmaW5hbFByZXZpb3VzV29ybGQ9bWF0NChwcmV2aW91c1dvcmxkMCxwcmV2aW91c1dvcmxkMSxwcmV2aW91c1dvcmxkMixwcmV2aW91c1dvcmxkMyk7CiNlbmRpZgojaWZkZWYgVEhJTl9JTlNUQU5DRVMKZmluYWxXb3JsZD13b3JsZCpmaW5hbFdvcmxkOwojaWYgZGVmaW5lZChQUkVQQVNTX1ZFTE9DSVRZKSB8fCBkZWZpbmVkKFZFTE9DSVRZKQpmaW5hbFByZXZpb3VzV29ybGQ9cHJldmlvdXNXb3JsZCpmaW5hbFByZXZpb3VzV29ybGQ7CiNlbmRpZgojZW5kaWYKI2Vsc2UKbWF0NCBmaW5hbFdvcmxkPXdvcmxkOwojaWYgZGVmaW5lZChQUkVQQVNTX1ZFTE9DSVRZKSB8fCBkZWZpbmVkKFZFTE9DSVRZKQptYXQ0IGZpbmFsUHJldmlvdXNXb3JsZD1wcmV2aW91c1dvcmxkOwojZW5kaWYKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtub109YW87Y29uc3Qgb289ImJvbmVzVmVydGV4Iixobz1gI2lmbmRlZiBCQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkUKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjAKbWF0NCBpbmZsdWVuY2U7CiNpZmRlZiBCT05FVEVYVFVSRQppbmZsdWVuY2U9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyKGJvbmVTYW1wbGVyLG1hdHJpY2VzSW5kaWNlc1swXSkqbWF0cmljZXNXZWlnaHRzWzBdOwojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MQppbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNbMV0pKm1hdHJpY2VzV2VpZ2h0c1sxXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4yCmluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyKGJvbmVTYW1wbGVyLG1hdHJpY2VzSW5kaWNlc1syXSkqbWF0cmljZXNXZWlnaHRzWzJdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjMKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzWzNdKSptYXRyaWNlc1dlaWdodHNbM107CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NAppbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNFeHRyYVswXSkqbWF0cmljZXNXZWlnaHRzRXh0cmFbMF07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NQppbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNFeHRyYVsxXSkqbWF0cmljZXNXZWlnaHRzRXh0cmFbMV07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NgppbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNFeHRyYVsyXSkqbWF0cmljZXNXZWlnaHRzRXh0cmFbMl07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NwppbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNFeHRyYVszXSkqbWF0cmljZXNXZWlnaHRzRXh0cmFbM107CiNlbmRpZgojZWxzZQppbmZsdWVuY2U9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNbMF0pXSptYXRyaWNlc1dlaWdodHNbMF07CiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4xCmluZmx1ZW5jZSs9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNbMV0pXSptYXRyaWNlc1dlaWdodHNbMV07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MgppbmZsdWVuY2UrPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzJdKV0qbWF0cmljZXNXZWlnaHRzWzJdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjMKaW5mbHVlbmNlKz1tQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1szXSldKm1hdHJpY2VzV2VpZ2h0c1szXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz40CmluZmx1ZW5jZSs9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVswXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzBdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjUKaW5mbHVlbmNlKz1tQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc0V4dHJhWzFdKV0qbWF0cmljZXNXZWlnaHRzRXh0cmFbMV07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NgppbmZsdWVuY2UrPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbMl0pXSptYXRyaWNlc1dlaWdodHNFeHRyYVsyXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz43CmluZmx1ZW5jZSs9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVszXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzNdOwojZW5kaWYKI2VuZGlmCmZpbmFsV29ybGQ9ZmluYWxXb3JsZCppbmZsdWVuY2U7CiNlbmRpZgojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW29vXT1obztjb25zdCBsbz0iYmFrZWRWZXJ0ZXhBbmltYXRpb24iLGNvPWAjaWZkZWYgQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFCnsKI2lmZGVmIElOU1RBTkNFUwojZGVmaW5lIEJWQVNOQU1FIGJha2VkVmVydGV4QW5pbWF0aW9uU2V0dGluZ3NJbnN0YW5jZWQKI2Vsc2UKI2RlZmluZSBCVkFTTkFNRSBiYWtlZFZlcnRleEFuaW1hdGlvblNldHRpbmdzCiNlbmRpZgpmbG9hdCBWQVRTdGFydEZyYW1lPUJWQVNOQU1FLng7CmZsb2F0IFZBVEVuZEZyYW1lPUJWQVNOQU1FLnk7CmZsb2F0IFZBVE9mZnNldEZyYW1lPUJWQVNOQU1FLno7CmZsb2F0IFZBVFNwZWVkPUJWQVNOQU1FLnc7CmZsb2F0IHRvdGFsRnJhbWVzPVZBVEVuZEZyYW1lLVZBVFN0YXJ0RnJhbWUrMS4wOwpmbG9hdCB0aW1lPWJha2VkVmVydGV4QW5pbWF0aW9uVGltZSpWQVRTcGVlZC90b3RhbEZyYW1lczsKZmxvYXQgZnJhbWVDb3JyZWN0aW9uPXRpbWU8MS4wID8gMC4wIDogMS4wOwpmbG9hdCBudW1PZkZyYW1lcz10b3RhbEZyYW1lcy1mcmFtZUNvcnJlY3Rpb247CmZsb2F0IFZBVEZyYW1lTnVtPWZyYWN0KHRpbWUpKm51bU9mRnJhbWVzOwpWQVRGcmFtZU51bT1tb2QoVkFURnJhbWVOdW0rVkFUT2Zmc2V0RnJhbWUsbnVtT2ZGcmFtZXMpOwpWQVRGcmFtZU51bT1mbG9vcihWQVRGcmFtZU51bSk7ClZBVEZyYW1lTnVtKz1WQVRTdGFydEZyYW1lK2ZyYW1lQ29ycmVjdGlvbjsKbWF0NCBWQVRJbmZsdWVuY2U7ClZBVEluZmx1ZW5jZT1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc1swXSxWQVRGcmFtZU51bSkqbWF0cmljZXNXZWlnaHRzWzBdOwojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MQpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzWzFdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNbMV07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MgpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzWzJdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNbMl07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MwpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzWzNdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNbM107CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NApWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzRXh0cmFbMF0sVkFURnJhbWVOdW0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzBdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjUKVkFUSW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc0V4dHJhWzFdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNFeHRyYVsxXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz42ClZBVEluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyVkFUKGJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZSxtYXRyaWNlc0luZGljZXNFeHRyYVsyXSxWQVRGcmFtZU51bSkqbWF0cmljZXNXZWlnaHRzRXh0cmFbMl07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NwpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzRXh0cmFbM10sVkFURnJhbWVOdW0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzNdOwojZW5kaWYKZmluYWxXb3JsZD1maW5hbFdvcmxkKlZBVEluZmx1ZW5jZTsKfQojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2xvXT1jbztjb25zdCB1bz0ic2hhZG93TWFwVmVydGV4Tm9ybWFsQmlhcyIsZm89YCNpZiBTTV9OT1JNQUxCSUFTPT0xCiNpZiBTTV9ESVJFQ1RJT05JTkxJR0hUREFUQT09MQp2ZWMzIHdvcmxkTGlnaHREaXJTTT1ub3JtYWxpemUoLWxpZ2h0RGF0YVNNLnh5eik7CiNlbHNlCnZlYzMgZGlyZWN0aW9uVG9MaWdodFNNPWxpZ2h0RGF0YVNNLnh5ei13b3JsZFBvcy54eXo7CnZlYzMgd29ybGRMaWdodERpclNNPW5vcm1hbGl6ZShkaXJlY3Rpb25Ub0xpZ2h0U00pOwojZW5kaWYKZmxvYXQgbmRsU009ZG90KHZOb3JtYWxXLHdvcmxkTGlnaHREaXJTTSk7CmZsb2F0IHNpbk5MU009c3FydCgxLjAtbmRsU00qbmRsU00pOwpmbG9hdCBub3JtYWxCaWFzU009Ymlhc0FuZFNjYWxlU00ueSpzaW5OTFNNOwp3b3JsZFBvcy54eXotPXZOb3JtYWxXKm5vcm1hbEJpYXNTTTsKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVt1b109Zm87Y29uc3QgX289InNoYWRvd01hcFZlcnRleE1ldHJpYyIsZ289YCNpZiBTTV9VU0VESVNUQU5DRT09MQp2UG9zaXRpb25XU009d29ybGRQb3MueHl6OwojZW5kaWYKI2lmIFNNX0RFUFRIVEVYVFVSRT09MQojaWZkZWYgSVNfTkRDX0hBTEZfWlJBTkdFCiNkZWZpbmUgQklBU0ZBQ1RPUiAwLjUKI2Vsc2UKI2RlZmluZSBCSUFTRkFDVE9SIDEuMAojZW5kaWYKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCmdsX1Bvc2l0aW9uLnotPWJpYXNBbmRTY2FsZVNNLngqZ2xfUG9zaXRpb24udypCSUFTRkFDVE9SOwojZWxzZQpnbF9Qb3NpdGlvbi56Kz1iaWFzQW5kU2NhbGVTTS54KmdsX1Bvc2l0aW9uLncqQklBU0ZBQ1RPUjsKI2VuZGlmCiNlbmRpZgojaWYgZGVmaW5lZChTTV9ERVBUSENMQU1QKSAmJiBTTV9ERVBUSENMQU1QPT0xCnpTTT1nbF9Qb3NpdGlvbi56OwpnbF9Qb3NpdGlvbi56PTAuMDsKI2VsaWYgU01fVVNFRElTVEFOQ0U9PTAKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCnZEZXB0aE1ldHJpY1NNPSgtZ2xfUG9zaXRpb24ueitkZXB0aFZhbHVlc1NNLngpL2RlcHRoVmFsdWVzU00ueStiaWFzQW5kU2NhbGVTTS54OwojZWxzZQp2RGVwdGhNZXRyaWNTTT0oZ2xfUG9zaXRpb24ueitkZXB0aFZhbHVlc1NNLngpL2RlcHRoVmFsdWVzU00ueStiaWFzQW5kU2NhbGVTTS54OwojZW5kaWYKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtfb109Z287Y29uc3QgcG89ImNsaXBQbGFuZVZlcnRleCIsbW89YCNpZmRlZiBDTElQUExBTkUKZkNsaXBEaXN0YW5jZT1kb3Qod29ybGRQb3MsdkNsaXBQbGFuZSk7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMgpmQ2xpcERpc3RhbmNlMj1kb3Qod29ybGRQb3MsdkNsaXBQbGFuZTIpOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTMKZkNsaXBEaXN0YW5jZTM9ZG90KHdvcmxkUG9zLHZDbGlwUGxhbmUzKTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU0CmZDbGlwRGlzdGFuY2U0PWRvdCh3b3JsZFBvcyx2Q2xpcFBsYW5lNCk7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNQpmQ2xpcERpc3RhbmNlNT1kb3Qod29ybGRQb3MsdkNsaXBQbGFuZTUpOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTYKZkNsaXBEaXN0YW5jZTY9ZG90KHdvcmxkUG9zLHZDbGlwUGxhbmU2KTsKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtwb109bW87Y29uc3QgRW89InNoYWRvd01hcFZlcnRleFNoYWRlciIsdm89YGF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uOwojaWZkZWYgTk9STUFMCmF0dHJpYnV0ZSB2ZWMzIG5vcm1hbDsKI2VuZGlmCiNpbmNsdWRlPGJvbmVzRGVjbGFyYXRpb24+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uRGVjbGFyYXRpb24+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbERlY2xhcmF0aW9uPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhEZWNsYXJhdGlvbj5bMC4ubWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzXQojaWZkZWYgSU5TVEFOQ0VTCmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMDsKYXR0cmlidXRlIHZlYzQgd29ybGQxOwphdHRyaWJ1dGUgdmVjNCB3b3JsZDI7CmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMzsKI2VuZGlmCiNpbmNsdWRlPGhlbHBlckZ1bmN0aW9ucz4KI2luY2x1ZGU8X19kZWNsX19zaGFkb3dNYXBWZXJ0ZXg+CiNpZmRlZiBBTFBIQVRFWFRVUkUKdmFyeWluZyB2ZWMyIHZVVjsKdW5pZm9ybSBtYXQ0IGRpZmZ1c2VNYXRyaXg7CiNpZmRlZiBVVjEKYXR0cmlidXRlIHZlYzIgdXY7CiNlbmRpZgojaWZkZWYgVVYyCmF0dHJpYnV0ZSB2ZWMyIHV2MjsKI2VuZGlmCiNlbmRpZgojaW5jbHVkZTxzaGFkb3dNYXBWZXJ0ZXhFeHRyYURlY2xhcmF0aW9uPgojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXhEZWNsYXJhdGlvbj4KI2RlZmluZSBDVVNUT01fVkVSVEVYX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKQp7CnZlYzMgcG9zaXRpb25VcGRhdGVkPXBvc2l0aW9uOwojaWZkZWYgVVYxCnZlYzIgdXZVcGRhdGVkPXV2OwojZW5kaWYKI2lmZGVmIE5PUk1BTAp2ZWMzIG5vcm1hbFVwZGF0ZWQ9bm9ybWFsOwojZW5kaWYKI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4R2xvYmFsPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXg+WzAuLm1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0c10KI2luY2x1ZGU8aW5zdGFuY2VzVmVydGV4PgojaW5jbHVkZTxib25lc1ZlcnRleD4KI2luY2x1ZGU8YmFrZWRWZXJ0ZXhBbmltYXRpb24+CnZlYzQgd29ybGRQb3M9ZmluYWxXb3JsZCp2ZWM0KHBvc2l0aW9uVXBkYXRlZCwxLjApOwojaWZkZWYgTk9STUFMCm1hdDMgbm9ybVdvcmxkU009bWF0MyhmaW5hbFdvcmxkKTsKI2lmIGRlZmluZWQoSU5TVEFOQ0VTKSAmJiBkZWZpbmVkKFRISU5fSU5TVEFOQ0VTKQp2ZWMzIHZOb3JtYWxXPW5vcm1hbFVwZGF0ZWQvdmVjMyhkb3Qobm9ybVdvcmxkU01bMF0sbm9ybVdvcmxkU01bMF0pLGRvdChub3JtV29ybGRTTVsxXSxub3JtV29ybGRTTVsxXSksZG90KG5vcm1Xb3JsZFNNWzJdLG5vcm1Xb3JsZFNNWzJdKSk7CnZOb3JtYWxXPW5vcm1hbGl6ZShub3JtV29ybGRTTSp2Tm9ybWFsVyk7CiNlbHNlCiNpZmRlZiBOT05VTklGT1JNU0NBTElORwpub3JtV29ybGRTTT10cmFuc3Bvc2VNYXQzKGludmVyc2VNYXQzKG5vcm1Xb3JsZFNNKSk7CiNlbmRpZgp2ZWMzIHZOb3JtYWxXPW5vcm1hbGl6ZShub3JtV29ybGRTTSpub3JtYWxVcGRhdGVkKTsKI2VuZGlmCiNlbmRpZgojaW5jbHVkZTxzaGFkb3dNYXBWZXJ0ZXhOb3JtYWxCaWFzPgpnbF9Qb3NpdGlvbj12aWV3UHJvamVjdGlvbip3b3JsZFBvczsKI2luY2x1ZGU8c2hhZG93TWFwVmVydGV4TWV0cmljPgojaWZkZWYgQUxQSEFURVhUVVJFCiNpZmRlZiBVVjEKdlVWPXZlYzIoZGlmZnVzZU1hdHJpeCp2ZWM0KHV2VXBkYXRlZCwxLjAsMC4wKSk7CiNlbmRpZgojaWZkZWYgVVYyCnZVVj12ZWMyKGRpZmZ1c2VNYXRyaXgqdmVjNCh1djIsMS4wLDAuMCkpOwojZW5kaWYKI2VuZGlmCiNpbmNsdWRlPGNsaXBQbGFuZVZlcnRleD4KfWA7VS5TaGFkZXJzU3RvcmVbRW9dPXZvO2NvbnN0IFRvPSJkZXB0aEJveEJsdXJQaXhlbFNoYWRlciIsYm89YHZhcnlpbmcgdmVjMiB2VVY7CnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmVTYW1wbGVyOwp1bmlmb3JtIHZlYzIgc2NyZWVuU2l6ZTsKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpCnsKdmVjNCBjb2xvckRlcHRoPXZlYzQoMC4wKTsKZm9yIChpbnQgeD0tT0ZGU0VUOyB4PD1PRkZTRVQ7IHgrKykKZm9yIChpbnQgeT0tT0ZGU0VUOyB5PD1PRkZTRVQ7IHkrKykKY29sb3JEZXB0aCs9dGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHZVVit2ZWMyKHgseSkvc2NyZWVuU2l6ZSk7CmdsX0ZyYWdDb2xvcj0oY29sb3JEZXB0aC9mbG9hdCgoT0ZGU0VUKjIrMSkqKE9GRlNFVCoyKzEpKSk7Cn1gO1UuU2hhZGVyc1N0b3JlW1RvXT1ibztjb25zdCBTbz0ic2hhZG93TWFwRnJhZ21lbnRTb2Z0VHJhbnNwYXJlbnRTaGFkb3ciLHhvPWAjaWYgU01fU09GVFRSQU5TUEFSRU5UU0hBRE9XPT0xCmlmICgoYmF5ZXJEaXRoZXI4KGZsb29yKG1vZChnbF9GcmFnQ29vcmQueHksOC4wKSkpKS82NC4wPj1zb2Z0VHJhbnNwYXJlbnRTaGFkb3dTTSphbHBoYSkgZGlzY2FyZDsKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtTb109eG87Y2xhc3MgR3tjb25zdHJ1Y3RvcihlLHQsaSxzKXt0aGlzLm9uQmVmb3JlU2hhZG93TWFwUmVuZGVyT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQWZ0ZXJTaGFkb3dNYXBSZW5kZXJPYnNlcnZhYmxlPW5ldyBGLHRoaXMub25CZWZvcmVTaGFkb3dNYXBSZW5kZXJNZXNoT2JzZXJ2YWJsZT1uZXcgRix0aGlzLm9uQWZ0ZXJTaGFkb3dNYXBSZW5kZXJNZXNoT2JzZXJ2YWJsZT1uZXcgRix0aGlzLl9iaWFzPTVlLTUsdGhpcy5fbm9ybWFsQmlhcz0wLHRoaXMuX2JsdXJCb3hPZmZzZXQ9MSx0aGlzLl9ibHVyU2NhbGU9Mix0aGlzLl9ibHVyS2VybmVsPTEsdGhpcy5fdXNlS2VybmVsQmx1cj0hMSx0aGlzLl9maWx0ZXI9Ry5GSUxURVJfTk9ORSx0aGlzLl9maWx0ZXJpbmdRdWFsaXR5PUcuUVVBTElUWV9ISUdILHRoaXMuX2NvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvPS4xLHRoaXMuX2RhcmtuZXNzPTAsdGhpcy5fdHJhbnNwYXJlbmN5U2hhZG93PSExLHRoaXMuZW5hYmxlU29mdFRyYW5zcGFyZW50U2hhZG93PSExLHRoaXMudXNlT3BhY2l0eVRleHR1cmVGb3JUcmFuc3BhcmVudFNoYWRvdz0hMSx0aGlzLmZydXN0dW1FZGdlRmFsbG9mZj0wLHRoaXMuZm9yY2VCYWNrRmFjZXNPbmx5PSExLHRoaXMuX2xpZ2h0RGlyZWN0aW9uPXAuWmVybygpLHRoaXMuX3ZpZXdNYXRyaXg9eC5aZXJvKCksdGhpcy5fcHJvamVjdGlvbk1hdHJpeD14Llplcm8oKSx0aGlzLl90cmFuc2Zvcm1NYXRyaXg9eC5aZXJvKCksdGhpcy5fY2FjaGVkUG9zaXRpb249bmV3IHAoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX2NhY2hlZERpcmVjdGlvbj1uZXcgcChOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5fY3VycmVudEZhY2VJbmRleD0wLHRoaXMuX2N1cnJlbnRGYWNlSW5kZXhDYWNoZT0wLHRoaXMuX2RlZmF1bHRUZXh0dXJlTWF0cml4PXguSWRlbnRpdHkoKSx0aGlzLl9tYXBTaXplPWUsdGhpcy5fbGlnaHQ9dCx0aGlzLl9zY2VuZT10LmdldFNjZW5lKCksdGhpcy5fY2FtZXJhPXM/P251bGw7bGV0IHI9dC5fc2hhZG93R2VuZXJhdG9ycztyfHwocj10Ll9zaGFkb3dHZW5lcmF0b3JzPW5ldyBNYXApLHIuc2V0KHRoaXMuX2NhbWVyYSx0aGlzKSx0aGlzLmlkPXQuaWQsdGhpcy5fdXNlVUJPPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnMsdGhpcy5fdXNlVUJPJiYodGhpcy5fc2NlbmVVQk9zPVtdLHRoaXMuX3NjZW5lVUJPcy5wdXNoKHRoaXMuX3NjZW5lLmNyZWF0ZVNjZW5lVW5pZm9ybUJ1ZmZlcihgU2NlbmUgZm9yIFNoYWRvdyBHZW5lcmF0b3IgKGxpZ2h0ICIke3RoaXMuX2xpZ2h0Lm5hbWV9IilgKSkpLEcuX1NjZW5lQ29tcG9uZW50SW5pdGlhbGl6YXRpb24odGhpcy5fc2NlbmUpO2NvbnN0IG49dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpO2k/bi50ZXh0dXJlRmxvYXRSZW5kZXImJm4udGV4dHVyZUZsb2F0TGluZWFyRmlsdGVyaW5nP3RoaXMuX3RleHR1cmVUeXBlPTE6bi50ZXh0dXJlSGFsZkZsb2F0UmVuZGVyJiZuLnRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmc/dGhpcy5fdGV4dHVyZVR5cGU9Mjp0aGlzLl90ZXh0dXJlVHlwZT0wOm4udGV4dHVyZUhhbGZGbG9hdFJlbmRlciYmbi50ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nP3RoaXMuX3RleHR1cmVUeXBlPTI6bi50ZXh0dXJlRmxvYXRSZW5kZXImJm4udGV4dHVyZUZsb2F0TGluZWFyRmlsdGVyaW5nP3RoaXMuX3RleHR1cmVUeXBlPTE6dGhpcy5fdGV4dHVyZVR5cGU9MCx0aGlzLl9pbml0aWFsaXplR2VuZXJhdG9yKCksdGhpcy5fYXBwbHlGaWx0ZXJWYWx1ZXMoKX1nZXQgYmlhcygpe3JldHVybiB0aGlzLl9iaWFzfXNldCBiaWFzKGUpe3RoaXMuX2JpYXM9ZX1nZXQgbm9ybWFsQmlhcygpe3JldHVybiB0aGlzLl9ub3JtYWxCaWFzfXNldCBub3JtYWxCaWFzKGUpe3RoaXMuX25vcm1hbEJpYXM9ZX1nZXQgYmx1ckJveE9mZnNldCgpe3JldHVybiB0aGlzLl9ibHVyQm94T2Zmc2V0fXNldCBibHVyQm94T2Zmc2V0KGUpe3RoaXMuX2JsdXJCb3hPZmZzZXQhPT1lJiYodGhpcy5fYmx1ckJveE9mZnNldD1lLHRoaXMuX2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3NlcygpKX1nZXQgYmx1clNjYWxlKCl7cmV0dXJuIHRoaXMuX2JsdXJTY2FsZX1zZXQgYmx1clNjYWxlKGUpe3RoaXMuX2JsdXJTY2FsZSE9PWUmJih0aGlzLl9ibHVyU2NhbGU9ZSx0aGlzLl9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKSl9Z2V0IGJsdXJLZXJuZWwoKXtyZXR1cm4gdGhpcy5fYmx1cktlcm5lbH1zZXQgYmx1cktlcm5lbChlKXt0aGlzLl9ibHVyS2VybmVsIT09ZSYmKHRoaXMuX2JsdXJLZXJuZWw9ZSx0aGlzLl9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKSl9Z2V0IHVzZUtlcm5lbEJsdXIoKXtyZXR1cm4gdGhpcy5fdXNlS2VybmVsQmx1cn1zZXQgdXNlS2VybmVsQmx1cihlKXt0aGlzLl91c2VLZXJuZWxCbHVyIT09ZSYmKHRoaXMuX3VzZUtlcm5lbEJsdXI9ZSx0aGlzLl9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKSl9Z2V0IGRlcHRoU2NhbGUoKXtyZXR1cm4gdGhpcy5fZGVwdGhTY2FsZSE9PXZvaWQgMD90aGlzLl9kZXB0aFNjYWxlOnRoaXMuX2xpZ2h0LmdldERlcHRoU2NhbGUoKX1zZXQgZGVwdGhTY2FsZShlKXt0aGlzLl9kZXB0aFNjYWxlPWV9X3ZhbGlkYXRlRmlsdGVyKGUpe3JldHVybiBlfWdldCBmaWx0ZXIoKXtyZXR1cm4gdGhpcy5fZmlsdGVyfXNldCBmaWx0ZXIoZSl7aWYoZT10aGlzLl92YWxpZGF0ZUZpbHRlcihlKSx0aGlzLl9saWdodC5uZWVkQ3ViZSgpKXtpZihlPT09Ry5GSUxURVJfQkxVUkVYUE9ORU5USUFMU0hBRE9XTUFQKXt0aGlzLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwPSEwO3JldHVybn1lbHNlIGlmKGU9PT1HLkZJTFRFUl9CTFVSQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUCl7dGhpcy51c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwPSEwO3JldHVybn1lbHNlIGlmKGU9PT1HLkZJTFRFUl9QQ0Z8fGU9PT1HLkZJTFRFUl9QQ1NTKXt0aGlzLnVzZVBvaXNzb25TYW1wbGluZz0hMDtyZXR1cm59fWlmKChlPT09Ry5GSUxURVJfUENGfHxlPT09Ry5GSUxURVJfUENTUykmJiF0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5fZmVhdHVyZXMuc3VwcG9ydFNoYWRvd1NhbXBsZXJzKXt0aGlzLnVzZVBvaXNzb25TYW1wbGluZz0hMDtyZXR1cm59dGhpcy5fZmlsdGVyIT09ZSYmKHRoaXMuX2ZpbHRlcj1lLHRoaXMuX2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3NlcygpLHRoaXMuX2FwcGx5RmlsdGVyVmFsdWVzKCksdGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSl9Z2V0IHVzZVBvaXNzb25TYW1wbGluZygpe3JldHVybiB0aGlzLmZpbHRlcj09PUcuRklMVEVSX1BPSVNTT05TQU1QTElOR31zZXQgdXNlUG9pc3NvblNhbXBsaW5nKGUpe2NvbnN0IHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoRy5GSUxURVJfUE9JU1NPTlNBTVBMSU5HKTshZSYmdGhpcy5maWx0ZXIhPT1HLkZJTFRFUl9QT0lTU09OU0FNUExJTkd8fCh0aGlzLmZpbHRlcj1lP3Q6Ry5GSUxURVJfTk9ORSl9Z2V0IHVzZUV4cG9uZW50aWFsU2hhZG93TWFwKCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09Ry5GSUxURVJfRVhQT05FTlRJQUxTSEFET1dNQVB9c2V0IHVzZUV4cG9uZW50aWFsU2hhZG93TWFwKGUpe2NvbnN0IHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoRy5GSUxURVJfRVhQT05FTlRJQUxTSEFET1dNQVApOyFlJiZ0aGlzLmZpbHRlciE9PUcuRklMVEVSX0VYUE9ORU5USUFMU0hBRE9XTUFQfHwodGhpcy5maWx0ZXI9ZT90OkcuRklMVEVSX05PTkUpfWdldCB1c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXAoKXtyZXR1cm4gdGhpcy5maWx0ZXI9PT1HLkZJTFRFUl9CTFVSRVhQT05FTlRJQUxTSEFET1dNQVB9c2V0IHVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcChlKXtjb25zdCB0PXRoaXMuX3ZhbGlkYXRlRmlsdGVyKEcuRklMVEVSX0JMVVJFWFBPTkVOVElBTFNIQURPV01BUCk7IWUmJnRoaXMuZmlsdGVyIT09Ry5GSUxURVJfQkxVUkVYUE9ORU5USUFMU0hBRE9XTUFQfHwodGhpcy5maWx0ZXI9ZT90OkcuRklMVEVSX05PTkUpfWdldCB1c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwKCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09Ry5GSUxURVJfQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUH1zZXQgdXNlQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcChlKXtjb25zdCB0PXRoaXMuX3ZhbGlkYXRlRmlsdGVyKEcuRklMVEVSX0NMT1NFRVhQT05FTlRJQUxTSEFET1dNQVApOyFlJiZ0aGlzLmZpbHRlciE9PUcuRklMVEVSX0NMT1NFRVhQT05FTlRJQUxTSEFET1dNQVB8fCh0aGlzLmZpbHRlcj1lP3Q6Ry5GSUxURVJfTk9ORSl9Z2V0IHVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwKCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09Ry5GSUxURVJfQkxVUkNMT1NFRVhQT05FTlRJQUxTSEFET1dNQVB9c2V0IHVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwKGUpe2NvbnN0IHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoRy5GSUxURVJfQkxVUkNMT1NFRVhQT05FTlRJQUxTSEFET1dNQVApOyFlJiZ0aGlzLmZpbHRlciE9PUcuRklMVEVSX0JMVVJDTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQfHwodGhpcy5maWx0ZXI9ZT90OkcuRklMVEVSX05PTkUpfWdldCB1c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nKCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09Ry5GSUxURVJfUENGfXNldCB1c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nKGUpe2NvbnN0IHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoRy5GSUxURVJfUENGKTshZSYmdGhpcy5maWx0ZXIhPT1HLkZJTFRFUl9QQ0Z8fCh0aGlzLmZpbHRlcj1lP3Q6Ry5GSUxURVJfTk9ORSl9Z2V0IGZpbHRlcmluZ1F1YWxpdHkoKXtyZXR1cm4gdGhpcy5fZmlsdGVyaW5nUXVhbGl0eX1zZXQgZmlsdGVyaW5nUXVhbGl0eShlKXt0aGlzLl9maWx0ZXJpbmdRdWFsaXR5IT09ZSYmKHRoaXMuX2ZpbHRlcmluZ1F1YWxpdHk9ZSx0aGlzLl9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKSx0aGlzLl9hcHBseUZpbHRlclZhbHVlcygpLHRoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCkpfWdldCB1c2VDb250YWN0SGFyZGVuaW5nU2hhZG93KCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09Ry5GSUxURVJfUENTU31zZXQgdXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdyhlKXtjb25zdCB0PXRoaXMuX3ZhbGlkYXRlRmlsdGVyKEcuRklMVEVSX1BDU1MpOyFlJiZ0aGlzLmZpbHRlciE9PUcuRklMVEVSX1BDU1N8fCh0aGlzLmZpbHRlcj1lP3Q6Ry5GSUxURVJfTk9ORSl9Z2V0IGNvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvKCl7cmV0dXJuIHRoaXMuX2NvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvfXNldCBjb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbyhlKXt0aGlzLl9jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbz1lfWdldCBkYXJrbmVzcygpe3JldHVybiB0aGlzLl9kYXJrbmVzc31zZXQgZGFya25lc3MoZSl7dGhpcy5zZXREYXJrbmVzcyhlKX1nZXREYXJrbmVzcygpe3JldHVybiB0aGlzLl9kYXJrbmVzc31zZXREYXJrbmVzcyhlKXtyZXR1cm4gZT49MT90aGlzLl9kYXJrbmVzcz0xOmU8PTA/dGhpcy5fZGFya25lc3M9MDp0aGlzLl9kYXJrbmVzcz1lLHRoaXN9Z2V0IHRyYW5zcGFyZW5jeVNoYWRvdygpe3JldHVybiB0aGlzLl90cmFuc3BhcmVuY3lTaGFkb3d9c2V0IHRyYW5zcGFyZW5jeVNoYWRvdyhlKXt0aGlzLnNldFRyYW5zcGFyZW5jeVNoYWRvdyhlKX1zZXRUcmFuc3BhcmVuY3lTaGFkb3coZSl7cmV0dXJuIHRoaXMuX3RyYW5zcGFyZW5jeVNoYWRvdz1lLHRoaXN9Z2V0U2hhZG93TWFwKCl7cmV0dXJuIHRoaXMuX3NoYWRvd01hcH1nZXRTaGFkb3dNYXBGb3JSZW5kZXJpbmcoKXtyZXR1cm4gdGhpcy5fc2hhZG93TWFwMj90aGlzLl9zaGFkb3dNYXAyOnRoaXMuX3NoYWRvd01hcH1nZXRDbGFzc05hbWUoKXtyZXR1cm4gRy5DTEFTU05BTUV9YWRkU2hhZG93Q2FzdGVyKGUsdD0hMCl7aWYoIXRoaXMuX3NoYWRvd01hcClyZXR1cm4gdGhpcztpZih0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdHx8KHRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0PVtdKSx0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdC5pbmRleE9mKGUpPT09LTEmJnRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0LnB1c2goZSksdClmb3IoY29uc3QgaSBvZiBlLmdldENoaWxkTWVzaGVzKCkpdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3QuaW5kZXhPZihpKT09PS0xJiZ0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdC5wdXNoKGkpO3JldHVybiB0aGlzfXJlbW92ZVNoYWRvd0Nhc3RlcihlLHQ9ITApe2lmKCF0aGlzLl9zaGFkb3dNYXB8fCF0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdClyZXR1cm4gdGhpcztjb25zdCBpPXRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0LmluZGV4T2YoZSk7aWYoaSE9PS0xJiZ0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdC5zcGxpY2UoaSwxKSx0KWZvcihjb25zdCBzIG9mIGUuZ2V0Q2hpbGRyZW4oKSl0aGlzLnJlbW92ZVNoYWRvd0Nhc3RlcihzKTtyZXR1cm4gdGhpc31nZXRMaWdodCgpe3JldHVybiB0aGlzLl9saWdodH1fZ2V0Q2FtZXJhKCl7dmFyIGU7cmV0dXJuKGU9dGhpcy5fY2FtZXJhKSE9PW51bGwmJmUhPT12b2lkIDA/ZTp0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmF9Z2V0IG1hcFNpemUoKXtyZXR1cm4gdGhpcy5fbWFwU2l6ZX1zZXQgbWFwU2l6ZShlKXt0aGlzLl9tYXBTaXplPWUsdGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSx0aGlzLnJlY3JlYXRlU2hhZG93TWFwKCl9X2luaXRpYWxpemVHZW5lcmF0b3IoKXt0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpLHRoaXMuX2luaXRpYWxpemVTaGFkb3dNYXAoKX1fY3JlYXRlVGFyZ2V0UmVuZGVyVGV4dHVyZSgpe2NvbnN0IGU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7ZS5fZmVhdHVyZXMuc3VwcG9ydERlcHRoU3RlbmNpbFRleHR1cmU/KHRoaXMuX3NoYWRvd01hcD1uZXcgX3QodGhpcy5fbGlnaHQubmFtZSsiX3NoYWRvd01hcCIsdGhpcy5fbWFwU2l6ZSx0aGlzLl9zY2VuZSwhMSwhMCx0aGlzLl90ZXh0dXJlVHlwZSx0aGlzLl9saWdodC5uZWVkQ3ViZSgpLHZvaWQgMCwhMSwhMSksdGhpcy5fc2hhZG93TWFwLmNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmUoZS51c2VSZXZlcnNlRGVwdGhCdWZmZXI/NTE2OjUxMywhMCkpOnRoaXMuX3NoYWRvd01hcD1uZXcgX3QodGhpcy5fbGlnaHQubmFtZSsiX3NoYWRvd01hcCIsdGhpcy5fbWFwU2l6ZSx0aGlzLl9zY2VuZSwhMSwhMCx0aGlzLl90ZXh0dXJlVHlwZSx0aGlzLl9saWdodC5uZWVkQ3ViZSgpKX1faW5pdGlhbGl6ZVNoYWRvd01hcCgpe2lmKHRoaXMuX2NyZWF0ZVRhcmdldFJlbmRlclRleHR1cmUoKSx0aGlzLl9zaGFkb3dNYXA9PT1udWxsKXJldHVybjt0aGlzLl9zaGFkb3dNYXAud3JhcFU9Ti5DTEFNUF9BRERSRVNTTU9ERSx0aGlzLl9zaGFkb3dNYXAud3JhcFY9Ti5DTEFNUF9BRERSRVNTTU9ERSx0aGlzLl9zaGFkb3dNYXAuYW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD0xLHRoaXMuX3NoYWRvd01hcC51cGRhdGVTYW1wbGluZ01vZGUoTi5CSUxJTkVBUl9TQU1QTElOR01PREUpLHRoaXMuX3NoYWRvd01hcC5yZW5kZXJQYXJ0aWNsZXM9ITEsdGhpcy5fc2hhZG93TWFwLmlnbm9yZUNhbWVyYVZpZXdwb3J0PSEwLHRoaXMuX3N0b3JlZFVuaXF1ZUlkJiYodGhpcy5fc2hhZG93TWFwLnVuaXF1ZUlkPXRoaXMuX3N0b3JlZFVuaXF1ZUlkKSx0aGlzLl9zaGFkb3dNYXAuY3VzdG9tUmVuZGVyRnVuY3Rpb249dGhpcy5fcmVuZGVyRm9yU2hhZG93TWFwLmJpbmQodGhpcyksdGhpcy5fc2hhZG93TWFwLmN1c3RvbUlzUmVhZHlGdW5jdGlvbj0oKT0+ITA7Y29uc3QgZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTt0aGlzLl9zaGFkb3dNYXAub25CZWZvcmVCaW5kT2JzZXJ2YWJsZS5hZGQoKCk9Pnt2YXIgczt0aGlzLl9jdXJyZW50U2NlbmVVQk89dGhpcy5fc2NlbmUuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCksKHM9ZS5fZGVidWdQdXNoR3JvdXApPT09bnVsbHx8cz09PXZvaWQgMHx8cy5jYWxsKGUsYHNoYWRvdyBtYXAgZ2VuZXJhdGlvbiBmb3IgcGFzcyBpZCAke2UuY3VycmVudFJlbmRlclBhc3NJZH1gLDEpfSksdGhpcy5fc2hhZG93TWFwLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQocz0+e3RoaXMuX3NjZW5lVUJPcyYmdGhpcy5fc2NlbmUuc2V0U2NlbmVVbmlmb3JtQnVmZmVyKHRoaXMuX3NjZW5lVUJPc1swXSksdGhpcy5fY3VycmVudEZhY2VJbmRleD1zLHRoaXMuX2ZpbHRlcj09PUcuRklMVEVSX1BDRiYmZS5zZXRDb2xvcldyaXRlKCExKSx0aGlzLmdldFRyYW5zZm9ybU1hdHJpeCgpLHRoaXMuX3NjZW5lLnNldFRyYW5zZm9ybU1hdHJpeCh0aGlzLl92aWV3TWF0cml4LHRoaXMuX3Byb2plY3Rpb25NYXRyaXgpLHRoaXMuX3VzZVVCTyYmKHRoaXMuX3NjZW5lLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpLnVuYmluZEVmZmVjdCgpLHRoaXMuX3NjZW5lLmZpbmFsaXplU2NlbmVVYm8oKSl9KSx0aGlzLl9zaGFkb3dNYXAub25BZnRlclVuYmluZE9ic2VydmFibGUuYWRkKCgpPT57dmFyIHMscjtpZih0aGlzLl9zY2VuZVVCT3MmJnRoaXMuX3NjZW5lLnNldFNjZW5lVW5pZm9ybUJ1ZmZlcih0aGlzLl9jdXJyZW50U2NlbmVVQk8pLHRoaXMuX3NjZW5lLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCgpLHRoaXMuX2ZpbHRlcj09PUcuRklMVEVSX1BDRiYmZS5zZXRDb2xvcldyaXRlKCEwKSwhdGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXAmJiF0aGlzLnVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwKXsocz1lLl9kZWJ1Z1BvcEdyb3VwKT09PW51bGx8fHM9PT12b2lkIDB8fHMuY2FsbChlLDEpO3JldHVybn1jb25zdCBuPXRoaXMuZ2V0U2hhZG93TWFwRm9yUmVuZGVyaW5nKCk7biYmKHRoaXMuX3NjZW5lLnBvc3RQcm9jZXNzTWFuYWdlci5kaXJlY3RSZW5kZXIodGhpcy5fYmx1clBvc3RQcm9jZXNzZXMsbi5yZW5kZXJUYXJnZXQsITApLGUudW5CaW5kRnJhbWVidWZmZXIobi5yZW5kZXJUYXJnZXQsITApLChyPWUuX2RlYnVnUG9wR3JvdXApPT09bnVsbHx8cj09PXZvaWQgMHx8ci5jYWxsKGUsMSkpfSk7Y29uc3QgdD1uZXcgbWUoMCwwLDAsMCksaT1uZXcgbWUoMSwxLDEsMSk7dGhpcy5fc2hhZG93TWFwLm9uQ2xlYXJPYnNlcnZhYmxlLmFkZChzPT57dGhpcy5fZmlsdGVyPT09Ry5GSUxURVJfUENGP3MuY2xlYXIoaSwhMSwhMCwhMSk6dGhpcy51c2VFeHBvbmVudGlhbFNoYWRvd01hcHx8dGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXA/cy5jbGVhcih0LCEwLCEwLCExKTpzLmNsZWFyKGksITAsITAsITEpfSksdGhpcy5fc2hhZG93TWFwLm9uUmVzaXplT2JzZXJ2YWJsZS5hZGQocz0+e3RoaXMuX3N0b3JlZFVuaXF1ZUlkPXRoaXMuX3NoYWRvd01hcC51bmlxdWVJZCx0aGlzLl9tYXBTaXplPXMuZ2V0UmVuZGVyU2l6ZSgpLHRoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCksdGhpcy5yZWNyZWF0ZVNoYWRvd01hcCgpfSk7Zm9yKGxldCBzPVdlLk1JTl9SRU5ERVJJTkdHUk9VUFM7czxXZS5NQVhfUkVOREVSSU5HR1JPVVBTO3MrKyl0aGlzLl9zaGFkb3dNYXAuc2V0UmVuZGVyaW5nQXV0b0NsZWFyRGVwdGhTdGVuY2lsKHMsITEpfV9pbml0aWFsaXplQmx1clJUVEFuZFBvc3RQcm9jZXNzZXMoKXtjb25zdCBlPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLHQ9dGhpcy5fbWFwU2l6ZS90aGlzLmJsdXJTY2FsZTsoIXRoaXMudXNlS2VybmVsQmx1cnx8dGhpcy5ibHVyU2NhbGUhPT0xKSYmKHRoaXMuX3NoYWRvd01hcDI9bmV3IF90KHRoaXMuX2xpZ2h0Lm5hbWUrIl9zaGFkb3dNYXAyIix0LHRoaXMuX3NjZW5lLCExLCEwLHRoaXMuX3RleHR1cmVUeXBlLHZvaWQgMCx2b2lkIDAsITEpLHRoaXMuX3NoYWRvd01hcDIud3JhcFU9Ti5DTEFNUF9BRERSRVNTTU9ERSx0aGlzLl9zaGFkb3dNYXAyLndyYXBWPU4uQ0xBTVBfQUREUkVTU01PREUsdGhpcy5fc2hhZG93TWFwMi51cGRhdGVTYW1wbGluZ01vZGUoTi5CSUxJTkVBUl9TQU1QTElOR01PREUpKSx0aGlzLnVzZUtlcm5lbEJsdXI/KHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3M9bmV3IEp0KHRoaXMuX2xpZ2h0Lm5hbWUrIktlcm5lbEJsdXJYIixuZXcgdmUoMSwwKSx0aGlzLmJsdXJLZXJuZWwsMSxudWxsLE4uQklMSU5FQVJfU0FNUExJTkdNT0RFLGUsITEsdGhpcy5fdGV4dHVyZVR5cGUpLHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3Mud2lkdGg9dCx0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLmhlaWdodD10LHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3MuZXh0ZXJuYWxUZXh0dXJlU2FtcGxlckJpbmRpbmc9ITAsdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5vbkFwcGx5T2JzZXJ2YWJsZS5hZGQoaT0+e2kuc2V0VGV4dHVyZSgidGV4dHVyZVNhbXBsZXIiLHRoaXMuX3NoYWRvd01hcCl9KSx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzPW5ldyBKdCh0aGlzLl9saWdodC5uYW1lKyJLZXJuZWxCbHVyWSIsbmV3IHZlKDAsMSksdGhpcy5ibHVyS2VybmVsLDEsbnVsbCxOLkJJTElORUFSX1NBTVBMSU5HTU9ERSxlLCExLHRoaXMuX3RleHR1cmVUeXBlKSx0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLmF1dG9DbGVhcj0hMSx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzLmF1dG9DbGVhcj0hMSx0aGlzLl90ZXh0dXJlVHlwZT09PTAmJih0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLnBhY2tlZEZsb2F0PSEwLHRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3MucGFja2VkRmxvYXQ9ITApLHRoaXMuX2JsdXJQb3N0UHJvY2Vzc2VzPVt0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLHRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3NdKToodGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzPW5ldyBNZSh0aGlzLl9saWdodC5uYW1lKyJEZXB0aEJveEJsdXIiLCJkZXB0aEJveEJsdXIiLFsic2NyZWVuU2l6ZSIsImJveE9mZnNldCJdLFtdLDEsbnVsbCxOLkJJTElORUFSX1NBTVBMSU5HTU9ERSxlLCExLCIjZGVmaW5lIE9GRlNFVCAiK3RoaXMuX2JsdXJCb3hPZmZzZXQsdGhpcy5fdGV4dHVyZVR5cGUpLHRoaXMuX2JveEJsdXJQb3N0cHJvY2Vzcy5leHRlcm5hbFRleHR1cmVTYW1wbGVyQmluZGluZz0hMCx0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3Mub25BcHBseU9ic2VydmFibGUuYWRkKGk9PntpLnNldEZsb2F0Migic2NyZWVuU2l6ZSIsdCx0KSxpLnNldFRleHR1cmUoInRleHR1cmVTYW1wbGVyIix0aGlzLl9zaGFkb3dNYXApfSksdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzLmF1dG9DbGVhcj0hMSx0aGlzLl9ibHVyUG9zdFByb2Nlc3Nlcz1bdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzXSl9X3JlbmRlckZvclNoYWRvd01hcChlLHQsaSxzKXtsZXQgcjtpZihzLmxlbmd0aClmb3Iocj0wO3I8cy5sZW5ndGg7cisrKXRoaXMuX3JlbmRlclN1Yk1lc2hGb3JTaGFkb3dNYXAocy5kYXRhW3JdKTtmb3Iocj0wO3I8ZS5sZW5ndGg7cisrKXRoaXMuX3JlbmRlclN1Yk1lc2hGb3JTaGFkb3dNYXAoZS5kYXRhW3JdKTtmb3Iocj0wO3I8dC5sZW5ndGg7cisrKXRoaXMuX3JlbmRlclN1Yk1lc2hGb3JTaGFkb3dNYXAodC5kYXRhW3JdKTtpZih0aGlzLl90cmFuc3BhcmVuY3lTaGFkb3cpZm9yKHI9MDtyPGkubGVuZ3RoO3IrKyl0aGlzLl9yZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwKGkuZGF0YVtyXSwhMCk7ZWxzZSBmb3Iocj0wO3I8aS5sZW5ndGg7cisrKWkuZGF0YVtyXS5nZXRFZmZlY3RpdmVNZXNoKCkuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlSW50ZXJtZWRpYXRlPSExfV9iaW5kQ3VzdG9tRWZmZWN0Rm9yUmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcChlLHQsaSl7dC5zZXRNYXRyaXgoInZpZXdQcm9qZWN0aW9uIix0aGlzLmdldFRyYW5zZm9ybU1hdHJpeCgpKX1fcmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcChlLHQ9ITEpe3ZhciBpLHM7Y29uc3Qgcj1lLmdldFJlbmRlcmluZ01lc2goKSxuPWUuZ2V0RWZmZWN0aXZlTWVzaCgpLGE9dGhpcy5fc2NlbmUsbz1hLmdldEVuZ2luZSgpLGg9ZS5nZXRNYXRlcmlhbCgpO2lmKG4uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlSW50ZXJtZWRpYXRlPSExLCFofHxlLnZlcnRpY2VzQ291bnQ9PT0wfHxlLl9yZW5kZXJJZD09PWEuZ2V0UmVuZGVySWQoKSlyZXR1cm47Y29uc3QgbD1uLl9nZXRXb3JsZE1hdHJpeERldGVybWluYW50KCk8MDtsZXQgdT0oaT1yLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24pIT09bnVsbCYmaSE9PXZvaWQgMD9pOmguc2lkZU9yaWVudGF0aW9uO2wmJih1PXU9PT0wPzE6MCk7Y29uc3QgZD11PT09MDtvLnNldFN0YXRlKGguYmFja0ZhY2VDdWxsaW5nLHZvaWQgMCx2b2lkIDAsZCxoLmN1bGxCYWNrRmFjZXMpO2NvbnN0IGY9ci5fZ2V0SW5zdGFuY2VzUmVuZGVyTGlzdChlLl9pZCwhIWUuZ2V0UmVwbGFjZW1lbnRNZXNoKCkpO2lmKGYubXVzdFJldHVybilyZXR1cm47Y29uc3QgXz1vLmdldENhcHMoKS5pbnN0YW5jZWRBcnJheXMmJihmLnZpc2libGVJbnN0YW5jZXNbZS5faWRdIT09bnVsbCYmZi52aXNpYmxlSW5zdGFuY2VzW2UuX2lkXSE9PXZvaWQgMHx8ci5oYXNUaGluSW5zdGFuY2VzKTtpZighKHRoaXMuY3VzdG9tQWxsb3dSZW5kZXJpbmcmJiF0aGlzLmN1c3RvbUFsbG93UmVuZGVyaW5nKGUpKSlpZih0aGlzLmlzUmVhZHkoZSxfLHQpKXtlLl9yZW5kZXJJZD1hLmdldFJlbmRlcklkKCk7Y29uc3QgRT1oLnNoYWRvd0RlcHRoV3JhcHBlcixtPShzPUU9PW51bGw/dm9pZCAwOkUuZ2V0RWZmZWN0KGUsdGhpcyxvLmN1cnJlbnRSZW5kZXJQYXNzSWQpKSE9PW51bGwmJnMhPT12b2lkIDA/czplLl9nZXREcmF3V3JhcHBlcigpLHY9bWkuR2V0RWZmZWN0KG0pO28uZW5hYmxlRWZmZWN0KG0pLF98fHIuX2JpbmQoZSx2LGguZmlsbE1vZGUpLHRoaXMuZ2V0VHJhbnNmb3JtTWF0cml4KCksdi5zZXRGbG9hdDMoImJpYXNBbmRTY2FsZVNNIix0aGlzLmJpYXMsdGhpcy5ub3JtYWxCaWFzLHRoaXMuZGVwdGhTY2FsZSksdGhpcy5nZXRMaWdodCgpLmdldFR5cGVJRCgpPT09aGUuTElHSFRUWVBFSURfRElSRUNUSU9OQUxMSUdIVD92LnNldFZlY3RvcjMoImxpZ2h0RGF0YVNNIix0aGlzLl9jYWNoZWREaXJlY3Rpb24pOnYuc2V0VmVjdG9yMygibGlnaHREYXRhU00iLHRoaXMuX2NhY2hlZFBvc2l0aW9uKTtjb25zdCBTPXRoaXMuX2dldENhbWVyYSgpO2lmKFMmJnYuc2V0RmxvYXQyKCJkZXB0aFZhbHVlc1NNIix0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNaW5aKFMpLHRoaXMuZ2V0TGlnaHQoKS5nZXREZXB0aE1pblooUykrdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWF4WihTKSksdCYmdGhpcy5lbmFibGVTb2Z0VHJhbnNwYXJlbnRTaGFkb3cmJnYuc2V0RmxvYXQoInNvZnRUcmFuc3BhcmVudFNoYWRvd1NNIixuLnZpc2liaWxpdHkqaC5hbHBoYSksRSllLl9zZXRNYWluRHJhd1dyYXBwZXJPdmVycmlkZShtKSxFLnN0YW5kYWxvbmU/RS5iYXNlTWF0ZXJpYWwuYmluZEZvclN1Yk1lc2gobi5nZXRXb3JsZE1hdHJpeCgpLHIsZSk6aC5iaW5kRm9yU3ViTWVzaChuLmdldFdvcmxkTWF0cml4KCkscixlKSxlLl9zZXRNYWluRHJhd1dyYXBwZXJPdmVycmlkZShudWxsKTtlbHNle2lmKHRoaXMudXNlT3BhY2l0eVRleHR1cmVGb3JUcmFuc3BhcmVudFNoYWRvdyl7Y29uc3QgQT1oLm9wYWNpdHlUZXh0dXJlO0EmJih2LnNldFRleHR1cmUoImRpZmZ1c2VTYW1wbGVyIixBKSx2LnNldE1hdHJpeCgiZGlmZnVzZU1hdHJpeCIsQS5nZXRUZXh0dXJlTWF0cml4KCl8fHRoaXMuX2RlZmF1bHRUZXh0dXJlTWF0cml4KSl9ZWxzZSBpZihoLm5lZWRBbHBoYVRlc3RpbmcoKXx8aC5uZWVkQWxwaGFCbGVuZGluZygpKXtjb25zdCBBPWguZ2V0QWxwaGFUZXN0VGV4dHVyZSgpO0EmJih2LnNldFRleHR1cmUoImRpZmZ1c2VTYW1wbGVyIixBKSx2LnNldE1hdHJpeCgiZGlmZnVzZU1hdHJpeCIsQS5nZXRUZXh0dXJlTWF0cml4KCl8fHRoaXMuX2RlZmF1bHRUZXh0dXJlTWF0cml4KSl9aWYoci51c2VCb25lcyYmci5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJnIuc2tlbGV0b24pe2NvbnN0IEE9ci5za2VsZXRvbjtpZihBLmlzVXNpbmdUZXh0dXJlRm9yTWF0cmljZXMpe2NvbnN0IEM9QS5nZXRUcmFuc2Zvcm1NYXRyaXhUZXh0dXJlKHIpO2lmKCFDKXJldHVybjt2LnNldFRleHR1cmUoImJvbmVTYW1wbGVyIixDKSx2LnNldEZsb2F0KCJib25lVGV4dHVyZVdpZHRoIiw0KihBLmJvbmVzLmxlbmd0aCsxKSl9ZWxzZSB2LnNldE1hdHJpY2VzKCJtQm9uZXMiLEEuZ2V0VHJhbnNmb3JtTWF0cmljZXMocikpfWllLkJpbmRNb3JwaFRhcmdldFBhcmFtZXRlcnMocix2KSxyLm1vcnBoVGFyZ2V0TWFuYWdlciYmci5tb3JwaFRhcmdldE1hbmFnZXIuaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzJiZyLm1vcnBoVGFyZ2V0TWFuYWdlci5fYmluZCh2KSxycyh2LGgsYSl9IXRoaXMuX3VzZVVCTyYmIUUmJnRoaXMuX2JpbmRDdXN0b21FZmZlY3RGb3JSZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwKGUsdixuKSxpZS5CaW5kU2NlbmVVbmlmb3JtQnVmZmVyKHYsdGhpcy5fc2NlbmUuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCkpLHRoaXMuX3NjZW5lLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpLmJpbmRVbmlmb3JtQnVmZmVyKCk7Y29uc3QgeT1uLmdldFdvcmxkTWF0cml4KCk7XyYmKG4uZ2V0TWVzaFVuaWZvcm1CdWZmZXIoKS5iaW5kVG9FZmZlY3QodiwiTWVzaCIpLG4udHJhbnNmZXJUb0VmZmVjdCh5KSksdGhpcy5mb3JjZUJhY2tGYWNlc09ubHkmJm8uc2V0U3RhdGUoITAsMCwhMSwhMCxoLmN1bGxCYWNrRmFjZXMpLHRoaXMub25CZWZvcmVTaGFkb3dNYXBSZW5kZXJNZXNoT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMociksdGhpcy5vbkJlZm9yZVNoYWRvd01hcFJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHYpLHIuX3Byb2Nlc3NSZW5kZXJpbmcobixlLHYsaC5maWxsTW9kZSxmLF8sKEEsQyk9PntuIT09ciYmIUE/KHIuZ2V0TWVzaFVuaWZvcm1CdWZmZXIoKS5iaW5kVG9FZmZlY3QodiwiTWVzaCIpLHIudHJhbnNmZXJUb0VmZmVjdChDKSk6KG4uZ2V0TWVzaFVuaWZvcm1CdWZmZXIoKS5iaW5kVG9FZmZlY3QodiwiTWVzaCIpLG4udHJhbnNmZXJUb0VmZmVjdChBP0M6eSkpfSksdGhpcy5mb3JjZUJhY2tGYWNlc09ubHkmJm8uc2V0U3RhdGUoITAsMCwhMSwhMSxoLmN1bGxCYWNrRmFjZXMpLHRoaXMub25BZnRlclNoYWRvd01hcFJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHYpLHRoaXMub25BZnRlclNoYWRvd01hcFJlbmRlck1lc2hPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhyKX1lbHNlIHRoaXMuX3NoYWRvd01hcCYmdGhpcy5fc2hhZG93TWFwLnJlc2V0UmVmcmVzaENvdW50ZXIoKX1fYXBwbHlGaWx0ZXJWYWx1ZXMoKXt0aGlzLl9zaGFkb3dNYXAmJih0aGlzLmZpbHRlcj09PUcuRklMVEVSX05PTkV8fHRoaXMuZmlsdGVyPT09Ry5GSUxURVJfUENTUz90aGlzLl9zaGFkb3dNYXAudXBkYXRlU2FtcGxpbmdNb2RlKE4uTkVBUkVTVF9TQU1QTElOR01PREUpOnRoaXMuX3NoYWRvd01hcC51cGRhdGVTYW1wbGluZ01vZGUoTi5CSUxJTkVBUl9TQU1QTElOR01PREUpKX1mb3JjZUNvbXBpbGF0aW9uKGUsdCl7Y29uc3QgaT17dXNlSW5zdGFuY2VzOiExLC4uLnR9LHM9dGhpcy5nZXRTaGFkb3dNYXAoKTtpZighcyl7ZSYmZSh0aGlzKTtyZXR1cm59Y29uc3Qgcj1zLnJlbmRlckxpc3Q7aWYoIXIpe2UmJmUodGhpcyk7cmV0dXJufWNvbnN0IG49bmV3IEFycmF5O2Zvcihjb25zdCBoIG9mIHIpbi5wdXNoKC4uLmguc3ViTWVzaGVzKTtpZihuLmxlbmd0aD09PTApe2UmJmUodGhpcyk7cmV0dXJufWxldCBhPTA7Y29uc3Qgbz0oKT0+e3ZhciBoLGw7aWYoISghdGhpcy5fc2NlbmV8fCF0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSkpe2Zvcig7dGhpcy5pc1JlYWR5KG5bYV0saS51c2VJbnN0YW5jZXMsKGw9KGg9blthXS5nZXRNYXRlcmlhbCgpKT09PW51bGx8fGg9PT12b2lkIDA/dm9pZCAwOmgubmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoKG5bYV0uZ2V0TWVzaCgpKSkhPT1udWxsJiZsIT09dm9pZCAwP2w6ITEpOylpZihhKyssYT49bi5sZW5ndGgpe2UmJmUodGhpcyk7cmV0dXJufXNldFRpbWVvdXQobywxNil9fTtvKCl9Zm9yY2VDb21waWxhdGlvbkFzeW5jKGUpe3JldHVybiBuZXcgUHJvbWlzZSh0PT57dGhpcy5mb3JjZUNvbXBpbGF0aW9uKCgpPT57dCgpfSxlKX0pfV9pc1JlYWR5Q3VzdG9tRGVmaW5lcyhlLHQsaSl7fV9wcmVwYXJlU2hhZG93RGVmaW5lcyhlLHQsaSxzKXtpLnB1c2goIiNkZWZpbmUgU01fTElHSFRUWVBFXyIrdGhpcy5fbGlnaHQuZ2V0Q2xhc3NOYW1lKCkudG9VcHBlckNhc2UoKSksaS5wdXNoKCIjZGVmaW5lIFNNX0ZMT0FUICIrKHRoaXMuX3RleHR1cmVUeXBlIT09MD8iMSI6IjAiKSksaS5wdXNoKCIjZGVmaW5lIFNNX0VTTSAiKyh0aGlzLnVzZUV4cG9uZW50aWFsU2hhZG93TWFwfHx0aGlzLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcD8iMSI6IjAiKSksaS5wdXNoKCIjZGVmaW5lIFNNX0RFUFRIVEVYVFVSRSAiKyh0aGlzLnVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmd8fHRoaXMudXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdz8iMSI6IjAiKSk7Y29uc3Qgcj1lLmdldE1lc2goKTtyZXR1cm4gaS5wdXNoKCIjZGVmaW5lIFNNX05PUk1BTEJJQVMgIisodGhpcy5ub3JtYWxCaWFzJiZyLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQpPyIxIjoiMCIpKSxpLnB1c2goIiNkZWZpbmUgU01fRElSRUNUSU9OSU5MSUdIVERBVEEgIisodGhpcy5nZXRMaWdodCgpLmdldFR5cGVJRCgpPT09aGUuTElHSFRUWVBFSURfRElSRUNUSU9OQUxMSUdIVD8iMSI6IjAiKSksaS5wdXNoKCIjZGVmaW5lIFNNX1VTRURJU1RBTkNFICIrKHRoaXMuX2xpZ2h0Lm5lZWRDdWJlKCk/IjEiOiIwIikpLGkucHVzaCgiI2RlZmluZSBTTV9TT0ZUVFJBTlNQQVJFTlRTSEFET1cgIisodGhpcy5lbmFibGVTb2Z0VHJhbnNwYXJlbnRTaGFkb3cmJnM/IjEiOiIwIikpLHRoaXMuX2lzUmVhZHlDdXN0b21EZWZpbmVzKGksZSx0KSxpfWlzUmVhZHkoZSx0LGkpe3ZhciBzO2NvbnN0IHI9ZS5nZXRNYXRlcmlhbCgpLG49cj09bnVsbD92b2lkIDA6ci5zaGFkb3dEZXB0aFdyYXBwZXI7aWYoIXIpcmV0dXJuITE7Y29uc3QgYT1bXTtpZih0aGlzLl9wcmVwYXJlU2hhZG93RGVmaW5lcyhlLHQsYSxpKSxuKXtpZighbi5pc1JlYWR5Rm9yU3ViTWVzaChlLGEsdGhpcyx0LHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLmN1cnJlbnRSZW5kZXJQYXNzSWQpKXJldHVybiExfWVsc2V7Y29uc3Qgbz1lLl9nZXREcmF3V3JhcHBlcih2b2lkIDAsITApO2xldCBoPW8uZWZmZWN0LGw9by5kZWZpbmVzO2NvbnN0IHU9W2cuUG9zaXRpb25LaW5kXSxkPWUuZ2V0TWVzaCgpO3RoaXMubm9ybWFsQmlhcyYmZC5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Ob3JtYWxLaW5kKSYmKHUucHVzaChnLk5vcm1hbEtpbmQpLGEucHVzaCgiI2RlZmluZSBOT1JNQUwiKSxkLm5vblVuaWZvcm1TY2FsaW5nJiZhLnB1c2goIiNkZWZpbmUgTk9OVU5JRk9STVNDQUxJTkciKSk7Y29uc3QgZj1yPT1udWxsP3ZvaWQgMDpyLm5lZWRBbHBoYVRlc3RpbmcoKSxfPXI9PW51bGw/dm9pZCAwOnIubmVlZEFscGhhQmxlbmRpbmcoKTtpZihyJiYoZnx8Xykpe2xldCB5PW51bGw7aWYodGhpcy51c2VPcGFjaXR5VGV4dHVyZUZvclRyYW5zcGFyZW50U2hhZG93P3k9ci5vcGFjaXR5VGV4dHVyZTp5PXIuZ2V0QWxwaGFUZXN0VGV4dHVyZSgpLHkpe2lmKCF5LmlzUmVhZHkoKSlyZXR1cm4hMTtjb25zdCBBPShzPXIuYWxwaGFDdXRPZmYpIT09bnVsbCYmcyE9PXZvaWQgMD9zOkcuREVGQVVMVF9BTFBIQV9DVVRPRkY7YS5wdXNoKCIjZGVmaW5lIEFMUEhBVEVYVFVSRSIpLGYmJmEucHVzaChgI2RlZmluZSBBTFBIQVRFU1RWQUxVRSAke0F9JHtBJTE9PT0wPyIuIjoiIn1gKSxkLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWS2luZCkmJih1LnB1c2goZy5VVktpbmQpLGEucHVzaCgiI2RlZmluZSBVVjEiKSksZC5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjJLaW5kKSYmeS5jb29yZGluYXRlc0luZGV4PT09MSYmKHUucHVzaChnLlVWMktpbmQpLGEucHVzaCgiI2RlZmluZSBVVjIiKSl9fWNvbnN0IEU9bmV3IHpzO2lmKGQudXNlQm9uZXMmJmQuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZkLnNrZWxldG9uKXt1LnB1c2goZy5NYXRyaWNlc0luZGljZXNLaW5kKSx1LnB1c2goZy5NYXRyaWNlc1dlaWdodHNLaW5kKSxkLm51bUJvbmVJbmZsdWVuY2Vycz40JiYodS5wdXNoKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKSx1LnB1c2goZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpKTtjb25zdCB5PWQuc2tlbGV0b247YS5wdXNoKCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTICIrZC5udW1Cb25lSW5mbHVlbmNlcnMpLGQubnVtQm9uZUluZmx1ZW5jZXJzPjAmJkUuYWRkQ1BVU2tpbm5pbmdGYWxsYmFjaygwLGQpLHkuaXNVc2luZ1RleHR1cmVGb3JNYXRyaWNlcz9hLnB1c2goIiNkZWZpbmUgQk9ORVRFWFRVUkUiKTphLnB1c2goIiNkZWZpbmUgQm9uZXNQZXJNZXNoICIrKHkuYm9uZXMubGVuZ3RoKzEpKX1lbHNlIGEucHVzaCgiI2RlZmluZSBOVU1fQk9ORV9JTkZMVUVOQ0VSUyAwIik7Y29uc3QgbT1kLm1vcnBoVGFyZ2V0TWFuYWdlcjtsZXQgdj0wO2lmKG0mJm0ubnVtSW5mbHVlbmNlcnM+MCYmKGEucHVzaCgiI2RlZmluZSBNT1JQSFRBUkdFVFMiKSx2PW0ubnVtSW5mbHVlbmNlcnMsYS5wdXNoKCIjZGVmaW5lIE5VTV9NT1JQSF9JTkZMVUVOQ0VSUyAiK3YpLG0uaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzJiZhLnB1c2goIiNkZWZpbmUgTU9SUEhUQVJHRVRTX1RFWFRVUkUiKSxpZS5QcmVwYXJlQXR0cmlidXRlc0Zvck1vcnBoVGFyZ2V0c0luZmx1ZW5jZXJzKHUsZCx2KSksT3Mocix0aGlzLl9zY2VuZSxhKSx0JiYoYS5wdXNoKCIjZGVmaW5lIElOU1RBTkNFUyIpLGllLlB1c2hBdHRyaWJ1dGVzRm9ySW5zdGFuY2VzKHUpLGUuZ2V0UmVuZGVyaW5nTWVzaCgpLmhhc1RoaW5JbnN0YW5jZXMmJmEucHVzaCgiI2RlZmluZSBUSElOX0lOU1RBTkNFUyIpKSx0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMmJnRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy5kZWZpbmVzKWZvcihjb25zdCB5IG9mIHRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy5kZWZpbmVzKWEuaW5kZXhPZih5KT09PS0xJiZhLnB1c2goeSk7Y29uc3QgUz1hLmpvaW4oYApgKTtpZihsIT09Uyl7bD1TO2xldCB5PSJzaGFkb3dNYXAiO2NvbnN0IEE9WyJ3b3JsZCIsIm1Cb25lcyIsInZpZXdQcm9qZWN0aW9uIiwiZGlmZnVzZU1hdHJpeCIsImxpZ2h0RGF0YVNNIiwiZGVwdGhWYWx1ZXNTTSIsImJpYXNBbmRTY2FsZVNNIiwibW9ycGhUYXJnZXRJbmZsdWVuY2VzIiwiYm9uZVRleHR1cmVXaWR0aCIsInNvZnRUcmFuc3BhcmVudFNoYWRvd1NNIiwibW9ycGhUYXJnZXRUZXh0dXJlSW5mbyIsIm1vcnBoVGFyZ2V0VGV4dHVyZUluZGljZXMiXSxDPVsiZGlmZnVzZVNhbXBsZXIiLCJib25lU2FtcGxlciIsIm1vcnBoVGFyZ2V0cyJdLGI9WyJTY2VuZSIsIk1lc2giXTtpZihzcyhBKSx0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMpe2lmKHk9dGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLnNoYWRlck5hbWUsdGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLmF0dHJpYnV0ZXMpZm9yKGNvbnN0IEwgb2YgdGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLmF0dHJpYnV0ZXMpdS5pbmRleE9mKEwpPT09LTEmJnUucHVzaChMKTtpZih0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMudW5pZm9ybXMpZm9yKGNvbnN0IEwgb2YgdGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLnVuaWZvcm1zKUEuaW5kZXhPZihMKT09PS0xJiZBLnB1c2goTCk7aWYodGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLnNhbXBsZXJzKWZvcihjb25zdCBMIG9mIHRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy5zYW1wbGVycylDLmluZGV4T2YoTCk9PT0tMSYmQy5wdXNoKEwpfWNvbnN0IE09dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7aD1NLmNyZWF0ZUVmZmVjdCh5LHthdHRyaWJ1dGVzOnUsdW5pZm9ybXNOYW1lczpBLHVuaWZvcm1CdWZmZXJzTmFtZXM6YixzYW1wbGVyczpDLGRlZmluZXM6UyxmYWxsYmFja3M6RSxvbkNvbXBpbGVkOm51bGwsb25FcnJvcjpudWxsLGluZGV4UGFyYW1ldGVyczp7bWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzOnZ9fSxNKSxvLnNldEVmZmVjdChoLGwpfWlmKCFoLmlzUmVhZHkoKSlyZXR1cm4hMX1yZXR1cm4odGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXB8fHRoaXMudXNlQmx1ckNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXApJiYoIXRoaXMuX2JsdXJQb3N0UHJvY2Vzc2VzfHwhdGhpcy5fYmx1clBvc3RQcm9jZXNzZXMubGVuZ3RoKSYmdGhpcy5faW5pdGlhbGl6ZUJsdXJSVFRBbmRQb3N0UHJvY2Vzc2VzKCksISh0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzJiYhdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5pc1JlYWR5KCl8fHRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3MmJiF0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzLmlzUmVhZHkoKXx8dGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzJiYhdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzLmlzUmVhZHkoKSl9cHJlcGFyZURlZmluZXMoZSx0KXtjb25zdCBpPXRoaXMuX3NjZW5lLHM9dGhpcy5fbGlnaHQ7IWkuc2hhZG93c0VuYWJsZWR8fCFzLnNoYWRvd0VuYWJsZWR8fChlWyJTSEFET1ciK3RdPSEwLHRoaXMudXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdz8oZVsiU0hBRE9XUENTUyIrdF09ITAsdGhpcy5fZmlsdGVyaW5nUXVhbGl0eT09PUcuUVVBTElUWV9MT1c/ZVsiU0hBRE9XTE9XUVVBTElUWSIrdF09ITA6dGhpcy5fZmlsdGVyaW5nUXVhbGl0eT09PUcuUVVBTElUWV9NRURJVU0mJihlWyJTSEFET1dNRURJVU1RVUFMSVRZIit0XT0hMCkpOnRoaXMudXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZz8oZVsiU0hBRE9XUENGIit0XT0hMCx0aGlzLl9maWx0ZXJpbmdRdWFsaXR5PT09Ry5RVUFMSVRZX0xPVz9lWyJTSEFET1dMT1dRVUFMSVRZIit0XT0hMDp0aGlzLl9maWx0ZXJpbmdRdWFsaXR5PT09Ry5RVUFMSVRZX01FRElVTSYmKGVbIlNIQURPV01FRElVTVFVQUxJVFkiK3RdPSEwKSk6dGhpcy51c2VQb2lzc29uU2FtcGxpbmc/ZVsiU0hBRE9XUE9JU1NPTiIrdF09ITA6dGhpcy51c2VFeHBvbmVudGlhbFNoYWRvd01hcHx8dGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXA/ZVsiU0hBRE9XRVNNIit0XT0hMDoodGhpcy51c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwfHx0aGlzLnVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwKSYmKGVbIlNIQURPV0NMT1NFRVNNIit0XT0hMCkscy5uZWVkQ3ViZSgpJiYoZVsiU0hBRE9XQ1VCRSIrdF09ITApKX1iaW5kU2hhZG93TGlnaHQoZSx0KXtjb25zdCBpPXRoaXMuX2xpZ2h0O2lmKCF0aGlzLl9zY2VuZS5zaGFkb3dzRW5hYmxlZHx8IWkuc2hhZG93RW5hYmxlZClyZXR1cm47Y29uc3Qgcj10aGlzLl9nZXRDYW1lcmEoKTtpZighcilyZXR1cm47Y29uc3Qgbj10aGlzLmdldFNoYWRvd01hcCgpO24mJihpLm5lZWRDdWJlKCl8fHQuc2V0TWF0cml4KCJsaWdodE1hdHJpeCIrZSx0aGlzLmdldFRyYW5zZm9ybU1hdHJpeCgpKSx0aGlzLl9maWx0ZXI9PT1HLkZJTFRFUl9QQ0Y/KHQuc2V0RGVwdGhTdGVuY2lsVGV4dHVyZSgic2hhZG93U2FtcGxlciIrZSx0aGlzLmdldFNoYWRvd01hcEZvclJlbmRlcmluZygpKSxpLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0NCgic2hhZG93c0luZm8iLHRoaXMuZ2V0RGFya25lc3MoKSxuLmdldFNpemUoKS53aWR0aCwxL24uZ2V0U2l6ZSgpLndpZHRoLHRoaXMuZnJ1c3R1bUVkZ2VGYWxsb2ZmLGUpKTp0aGlzLl9maWx0ZXI9PT1HLkZJTFRFUl9QQ1NTPyh0LnNldERlcHRoU3RlbmNpbFRleHR1cmUoInNoYWRvd1NhbXBsZXIiK2UsdGhpcy5nZXRTaGFkb3dNYXBGb3JSZW5kZXJpbmcoKSksdC5zZXRUZXh0dXJlKCJkZXB0aFNhbXBsZXIiK2UsdGhpcy5nZXRTaGFkb3dNYXBGb3JSZW5kZXJpbmcoKSksaS5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCksMS9uLmdldFNpemUoKS53aWR0aCx0aGlzLl9jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbypuLmdldFNpemUoKS53aWR0aCx0aGlzLmZydXN0dW1FZGdlRmFsbG9mZixlKSk6KHQuc2V0VGV4dHVyZSgic2hhZG93U2FtcGxlciIrZSx0aGlzLmdldFNoYWRvd01hcEZvclJlbmRlcmluZygpKSxpLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0NCgic2hhZG93c0luZm8iLHRoaXMuZ2V0RGFya25lc3MoKSx0aGlzLmJsdXJTY2FsZS9uLmdldFNpemUoKS53aWR0aCx0aGlzLmRlcHRoU2NhbGUsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsZSkpLGkuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQyKCJkZXB0aFZhbHVlcyIsdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWluWihyKSx0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNaW5aKHIpK3RoaXMuZ2V0TGlnaHQoKS5nZXREZXB0aE1heFoociksZSkpfWdldFRyYW5zZm9ybU1hdHJpeCgpe2NvbnN0IGU9dGhpcy5fc2NlbmU7aWYodGhpcy5fY3VycmVudFJlbmRlcklkPT09ZS5nZXRSZW5kZXJJZCgpJiZ0aGlzLl9jdXJyZW50RmFjZUluZGV4Q2FjaGU9PT10aGlzLl9jdXJyZW50RmFjZUluZGV4KXJldHVybiB0aGlzLl90cmFuc2Zvcm1NYXRyaXg7dGhpcy5fY3VycmVudFJlbmRlcklkPWUuZ2V0UmVuZGVySWQoKSx0aGlzLl9jdXJyZW50RmFjZUluZGV4Q2FjaGU9dGhpcy5fY3VycmVudEZhY2VJbmRleDtsZXQgdD10aGlzLl9saWdodC5wb3NpdGlvbjtpZih0aGlzLl9saWdodC5jb21wdXRlVHJhbnNmb3JtZWRJbmZvcm1hdGlvbigpJiYodD10aGlzLl9saWdodC50cmFuc2Zvcm1lZFBvc2l0aW9uKSxwLk5vcm1hbGl6ZVRvUmVmKHRoaXMuX2xpZ2h0LmdldFNoYWRvd0RpcmVjdGlvbih0aGlzLl9jdXJyZW50RmFjZUluZGV4KSx0aGlzLl9saWdodERpcmVjdGlvbiksTWF0aC5hYnMocC5Eb3QodGhpcy5fbGlnaHREaXJlY3Rpb24scC5VcCgpKSk9PT0xJiYodGhpcy5fbGlnaHREaXJlY3Rpb24uej0xZS0xMyksdGhpcy5fbGlnaHQubmVlZFByb2plY3Rpb25NYXRyaXhDb21wdXRlKCl8fCF0aGlzLl9jYWNoZWRQb3NpdGlvbnx8IXRoaXMuX2NhY2hlZERpcmVjdGlvbnx8IXQuZXF1YWxzKHRoaXMuX2NhY2hlZFBvc2l0aW9uKXx8IXRoaXMuX2xpZ2h0RGlyZWN0aW9uLmVxdWFscyh0aGlzLl9jYWNoZWREaXJlY3Rpb24pKXt0aGlzLl9jYWNoZWRQb3NpdGlvbi5jb3B5RnJvbSh0KSx0aGlzLl9jYWNoZWREaXJlY3Rpb24uY29weUZyb20odGhpcy5fbGlnaHREaXJlY3Rpb24pLHguTG9va0F0TEhUb1JlZih0LHQuYWRkKHRoaXMuX2xpZ2h0RGlyZWN0aW9uKSxwLlVwKCksdGhpcy5fdmlld01hdHJpeCk7Y29uc3QgaT10aGlzLmdldFNoYWRvd01hcCgpO2lmKGkpe2NvbnN0IHM9aS5yZW5kZXJMaXN0O3MmJnRoaXMuX2xpZ2h0LnNldFNoYWRvd1Byb2plY3Rpb25NYXRyaXgodGhpcy5fcHJvamVjdGlvbk1hdHJpeCx0aGlzLl92aWV3TWF0cml4LHMpfXRoaXMuX3ZpZXdNYXRyaXgubXVsdGlwbHlUb1JlZih0aGlzLl9wcm9qZWN0aW9uTWF0cml4LHRoaXMuX3RyYW5zZm9ybU1hdHJpeCl9cmV0dXJuIHRoaXMuX3RyYW5zZm9ybU1hdHJpeH1yZWNyZWF0ZVNoYWRvd01hcCgpe2NvbnN0IGU9dGhpcy5fc2hhZG93TWFwO2lmKCFlKXJldHVybjtjb25zdCB0PWUucmVuZGVyTGlzdDtpZih0aGlzLl9kaXNwb3NlUlRUYW5kUG9zdFByb2Nlc3NlcygpLHRoaXMuX2luaXRpYWxpemVHZW5lcmF0b3IoKSx0aGlzLmZpbHRlcj10aGlzLl9maWx0ZXIsdGhpcy5fYXBwbHlGaWx0ZXJWYWx1ZXMoKSx0KXt0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdHx8KHRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0PVtdKTtmb3IoY29uc3QgaSBvZiB0KXRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0LnB1c2goaSl9ZWxzZSB0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdD1udWxsfV9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKXt0aGlzLl9zaGFkb3dNYXAyJiYodGhpcy5fc2hhZG93TWFwMi5kaXNwb3NlKCksdGhpcy5fc2hhZG93TWFwMj1udWxsKSx0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3MmJih0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3MuZGlzcG9zZSgpLHRoaXMuX2JveEJsdXJQb3N0cHJvY2Vzcz1udWxsKSx0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzJiYodGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5kaXNwb3NlKCksdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcz1udWxsKSx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzJiYodGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2Vzcy5kaXNwb3NlKCksdGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2Vzcz1udWxsKSx0aGlzLl9ibHVyUG9zdFByb2Nlc3Nlcz1bXX1fZGlzcG9zZVJUVGFuZFBvc3RQcm9jZXNzZXMoKXt0aGlzLl9zaGFkb3dNYXAmJih0aGlzLl9zaGFkb3dNYXAuZGlzcG9zZSgpLHRoaXMuX3NoYWRvd01hcD1udWxsKSx0aGlzLl9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKX1fZGlzcG9zZVNjZW5lVUJPcygpe2lmKHRoaXMuX3NjZW5lVUJPcyl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fc2NlbmVVQk9zKWUuZGlzcG9zZSgpO3RoaXMuX3NjZW5lVUJPcz1bXX19ZGlzcG9zZSgpe2lmKHRoaXMuX2Rpc3Bvc2VSVFRhbmRQb3N0UHJvY2Vzc2VzKCksdGhpcy5fZGlzcG9zZVNjZW5lVUJPcygpLHRoaXMuX2xpZ2h0KXtpZih0aGlzLl9saWdodC5fc2hhZG93R2VuZXJhdG9ycyl7Y29uc3QgZT10aGlzLl9saWdodC5fc2hhZG93R2VuZXJhdG9ycy5lbnRyaWVzKCk7Zm9yKGxldCB0PWUubmV4dCgpO3QuZG9uZSE9PSEwO3Q9ZS5uZXh0KCkpe2NvbnN0W2ksc109dC52YWx1ZTtzPT09dGhpcyYmdGhpcy5fbGlnaHQuX3NoYWRvd0dlbmVyYXRvcnMuZGVsZXRlKGkpfXRoaXMuX2xpZ2h0Ll9zaGFkb3dHZW5lcmF0b3JzLnNpemU9PT0wJiYodGhpcy5fbGlnaHQuX3NoYWRvd0dlbmVyYXRvcnM9bnVsbCl9dGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKX10aGlzLm9uQmVmb3JlU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlU2hhZG93TWFwUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclNoYWRvd01hcFJlbmRlck1lc2hPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyU2hhZG93TWFwUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpfXNlcmlhbGl6ZSgpe3ZhciBlO2NvbnN0IHQ9e30saT10aGlzLmdldFNoYWRvd01hcCgpO2lmKCFpKXJldHVybiB0O2lmKHQuY2xhc3NOYW1lPXRoaXMuZ2V0Q2xhc3NOYW1lKCksdC5saWdodElkPXRoaXMuX2xpZ2h0LmlkLHQuY2FtZXJhSWQ9KGU9dGhpcy5fY2FtZXJhKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuaWQsdC5pZD10aGlzLmlkLHQubWFwU2l6ZT1pLmdldFJlbmRlclNpemUoKSx0LmZvcmNlQmFja0ZhY2VzT25seT10aGlzLmZvcmNlQmFja0ZhY2VzT25seSx0LmRhcmtuZXNzPXRoaXMuZ2V0RGFya25lc3MoKSx0LnRyYW5zcGFyZW5jeVNoYWRvdz10aGlzLl90cmFuc3BhcmVuY3lTaGFkb3csdC5mcnVzdHVtRWRnZUZhbGxvZmY9dGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsdC5iaWFzPXRoaXMuYmlhcyx0Lm5vcm1hbEJpYXM9dGhpcy5ub3JtYWxCaWFzLHQudXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZz10aGlzLnVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmcsdC51c2VDb250YWN0SGFyZGVuaW5nU2hhZG93PXRoaXMudXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdyx0LmNvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvPXRoaXMuY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW8sdC5maWx0ZXJpbmdRdWFsaXR5PXRoaXMuZmlsdGVyaW5nUXVhbGl0eSx0LnVzZUV4cG9uZW50aWFsU2hhZG93TWFwPXRoaXMudXNlRXhwb25lbnRpYWxTaGFkb3dNYXAsdC51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXA9dGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXAsdC51c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwPXRoaXMudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwLHQudXNlQmx1ckNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA9dGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXAsdC51c2VQb2lzc29uU2FtcGxpbmc9dGhpcy51c2VQb2lzc29uU2FtcGxpbmcsdC5kZXB0aFNjYWxlPXRoaXMuZGVwdGhTY2FsZSx0LmJsdXJCb3hPZmZzZXQ9dGhpcy5ibHVyQm94T2Zmc2V0LHQuYmx1cktlcm5lbD10aGlzLmJsdXJLZXJuZWwsdC5ibHVyU2NhbGU9dGhpcy5ibHVyU2NhbGUsdC51c2VLZXJuZWxCbHVyPXRoaXMudXNlS2VybmVsQmx1cix0LnJlbmRlckxpc3Q9W10saS5yZW5kZXJMaXN0KWZvcihsZXQgcz0wO3M8aS5yZW5kZXJMaXN0Lmxlbmd0aDtzKyspe2NvbnN0IHI9aS5yZW5kZXJMaXN0W3NdO3QucmVuZGVyTGlzdC5wdXNoKHIuaWQpfXJldHVybiB0fXN0YXRpYyBQYXJzZShlLHQsaSl7Y29uc3Qgcz10LmdldExpZ2h0QnlJZChlLmxpZ2h0SWQpLHI9ZS5jYW1lcmFJZCE9PXZvaWQgMD90LmdldENhbWVyYUJ5SWQoZS5jYW1lcmFJZCk6bnVsbCxuPWk/aShlLm1hcFNpemUscyxyKTpuZXcgRyhlLm1hcFNpemUscyx2b2lkIDAsciksYT1uLmdldFNoYWRvd01hcCgpO2ZvcihsZXQgbz0wO288ZS5yZW5kZXJMaXN0Lmxlbmd0aDtvKyspdC5nZXRNZXNoZXNCeUlkKGUucmVuZGVyTGlzdFtvXSkuZm9yRWFjaChmdW5jdGlvbihsKXthJiYoYS5yZW5kZXJMaXN0fHwoYS5yZW5kZXJMaXN0PVtdKSxhLnJlbmRlckxpc3QucHVzaChsKSl9KTtyZXR1cm4gZS5pZCE9PXZvaWQgMCYmKG4uaWQ9ZS5pZCksbi5mb3JjZUJhY2tGYWNlc09ubHk9ISFlLmZvcmNlQmFja0ZhY2VzT25seSxlLmRhcmtuZXNzIT09dm9pZCAwJiZuLnNldERhcmtuZXNzKGUuZGFya25lc3MpLGUudHJhbnNwYXJlbmN5U2hhZG93JiZuLnNldFRyYW5zcGFyZW5jeVNoYWRvdyghMCksZS5mcnVzdHVtRWRnZUZhbGxvZmYhPT12b2lkIDAmJihuLmZydXN0dW1FZGdlRmFsbG9mZj1lLmZydXN0dW1FZGdlRmFsbG9mZiksZS5iaWFzIT09dm9pZCAwJiYobi5iaWFzPWUuYmlhcyksZS5ub3JtYWxCaWFzIT09dm9pZCAwJiYobi5ub3JtYWxCaWFzPWUubm9ybWFsQmlhcyksZS51c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nP24udXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZz0hMDplLnVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3c/bi51c2VDb250YWN0SGFyZGVuaW5nU2hhZG93PSEwOmUudXNlUG9pc3NvblNhbXBsaW5nP24udXNlUG9pc3NvblNhbXBsaW5nPSEwOmUudXNlRXhwb25lbnRpYWxTaGFkb3dNYXA/bi51c2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMDplLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcD9uLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcD0hMDplLnVzZUNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA/bi51c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwPSEwOmUudXNlQmx1ckNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA/bi51c2VCbHVyQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMDplLnVzZVZhcmlhbmNlU2hhZG93TWFwP24udXNlRXhwb25lbnRpYWxTaGFkb3dNYXA9ITA6ZS51c2VCbHVyVmFyaWFuY2VTaGFkb3dNYXAmJihuLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcD0hMCksZS5jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbyE9PXZvaWQgMCYmKG4uY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW89ZS5jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbyksZS5maWx0ZXJpbmdRdWFsaXR5IT09dm9pZCAwJiYobi5maWx0ZXJpbmdRdWFsaXR5PWUuZmlsdGVyaW5nUXVhbGl0eSksZS5kZXB0aFNjYWxlJiYobi5kZXB0aFNjYWxlPWUuZGVwdGhTY2FsZSksZS5ibHVyU2NhbGUmJihuLmJsdXJTY2FsZT1lLmJsdXJTY2FsZSksZS5ibHVyQm94T2Zmc2V0JiYobi5ibHVyQm94T2Zmc2V0PWUuYmx1ckJveE9mZnNldCksZS51c2VLZXJuZWxCbHVyJiYobi51c2VLZXJuZWxCbHVyPWUudXNlS2VybmVsQmx1ciksZS5ibHVyS2VybmVsJiYobi5ibHVyS2VybmVsPWUuYmx1cktlcm5lbCksbn19Ry5DTEFTU05BTUU9IlNoYWRvd0dlbmVyYXRvciIsRy5GSUxURVJfTk9ORT0wLEcuRklMVEVSX0VYUE9ORU5USUFMU0hBRE9XTUFQPTEsRy5GSUxURVJfUE9JU1NPTlNBTVBMSU5HPTIsRy5GSUxURVJfQkxVUkVYUE9ORU5USUFMU0hBRE9XTUFQPTMsRy5GSUxURVJfQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUD00LEcuRklMVEVSX0JMVVJDTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQPTUsRy5GSUxURVJfUENGPTYsRy5GSUxURVJfUENTUz03LEcuUVVBTElUWV9ISUdIPTAsRy5RVUFMSVRZX01FRElVTT0xLEcuUVVBTElUWV9MT1c9MixHLkRFRkFVTFRfQUxQSEFfQ1VUT0ZGPS41LEcuX1NjZW5lQ29tcG9uZW50SW5pdGlhbGl6YXRpb249Yz0+e3Rocm93ICQoIlNoYWRvd0dlbmVyYXRvclNjZW5lQ29tcG9uZW50Iil9O2NvbnN0IE1vPSJkZXB0aFBpeGVsU2hhZGVyIixBbz1gI2lmZGVmIEFMUEhBVEVTVAp2YXJ5aW5nIHZlYzIgdlVWOwp1bmlmb3JtIHNhbXBsZXIyRCBkaWZmdXNlU2FtcGxlcjsKI2VuZGlmCiNpbmNsdWRlPGNsaXBQbGFuZUZyYWdtZW50RGVjbGFyYXRpb24+CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmljOwojaWZkZWYgUEFDS0VECiNpbmNsdWRlPHBhY2tpbmdGdW5jdGlvbnM+CiNlbmRpZgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkKewojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudD4KI2lmZGVmIEFMUEhBVEVTVAppZiAodGV4dHVyZTJEKGRpZmZ1c2VTYW1wbGVyLHZVVikuYTwwLjQpCmRpc2NhcmQ7CiNlbmRpZgojaWZkZWYgTk9OTElORUFSREVQVEgKI2lmZGVmIFBBQ0tFRApnbF9GcmFnQ29sb3I9cGFjayhnbF9GcmFnQ29vcmQueik7CiNlbHNlCmdsX0ZyYWdDb2xvcj12ZWM0KGdsX0ZyYWdDb29yZC56LDAuMCwwLjAsMC4wKTsKI2VuZGlmCiNlbHNlCiNpZmRlZiBQQUNLRUQKZ2xfRnJhZ0NvbG9yPXBhY2sodkRlcHRoTWV0cmljKTsKI2Vsc2UKZ2xfRnJhZ0NvbG9yPXZlYzQodkRlcHRoTWV0cmljLDAuMCwwLjAsMS4wKTsKI2VuZGlmCiNlbmRpZgp9YDtVLlNoYWRlcnNTdG9yZVtNb109QW87Y29uc3QgUm89Imluc3RhbmNlc0RlY2xhcmF0aW9uIix5bz1gI2lmZGVmIElOU1RBTkNFUwphdHRyaWJ1dGUgdmVjNCB3b3JsZDA7CmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMTsKYXR0cmlidXRlIHZlYzQgd29ybGQyOwphdHRyaWJ1dGUgdmVjNCB3b3JsZDM7CiNpZmRlZiBJTlNUQU5DRVNDT0xPUgphdHRyaWJ1dGUgdmVjNCBpbnN0YW5jZUNvbG9yOwojZW5kaWYKI2lmIGRlZmluZWQoVEhJTl9JTlNUQU5DRVMpICYmICFkZWZpbmVkKFdPUkxEX1VCTykKdW5pZm9ybSBtYXQ0IHdvcmxkOwojZW5kaWYKI2lmIGRlZmluZWQoVkVMT0NJVFkpIHx8IGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkKYXR0cmlidXRlIHZlYzQgcHJldmlvdXNXb3JsZDA7CmF0dHJpYnV0ZSB2ZWM0IHByZXZpb3VzV29ybGQxOwphdHRyaWJ1dGUgdmVjNCBwcmV2aW91c1dvcmxkMjsKYXR0cmlidXRlIHZlYzQgcHJldmlvdXNXb3JsZDM7CiNpZmRlZiBUSElOX0lOU1RBTkNFUwp1bmlmb3JtIG1hdDQgcHJldmlvdXNXb3JsZDsKI2VuZGlmCiNlbmRpZgojZWxzZQojaWYgIWRlZmluZWQoV09STERfVUJPKQp1bmlmb3JtIG1hdDQgd29ybGQ7CiNlbmRpZgojaWYgZGVmaW5lZChWRUxPQ0lUWSkgfHwgZGVmaW5lZChQUkVQQVNTX1ZFTE9DSVRZKQp1bmlmb3JtIG1hdDQgcHJldmlvdXNXb3JsZDsKI2VuZGlmCiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbUm9dPXlvO2NvbnN0IENvPSJkZXB0aFZlcnRleFNoYWRlciIsSW89YGF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uOwojaW5jbHVkZTxib25lc0RlY2xhcmF0aW9uPgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbkRlY2xhcmF0aW9uPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWxEZWNsYXJhdGlvbj4KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4RGVjbGFyYXRpb24+WzAuLm1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0c10KI2luY2x1ZGU8Y2xpcFBsYW5lVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPGluc3RhbmNlc0RlY2xhcmF0aW9uPgp1bmlmb3JtIG1hdDQgdmlld1Byb2plY3Rpb247CnVuaWZvcm0gdmVjMiBkZXB0aFZhbHVlczsKI2lmIGRlZmluZWQoQUxQSEFURVNUKSB8fCBkZWZpbmVkKE5FRURfVVYpCnZhcnlpbmcgdmVjMiB2VVY7CnVuaWZvcm0gbWF0NCBkaWZmdXNlTWF0cml4OwojaWZkZWYgVVYxCmF0dHJpYnV0ZSB2ZWMyIHV2OwojZW5kaWYKI2lmZGVmIFVWMgphdHRyaWJ1dGUgdmVjMiB1djI7CiNlbmRpZgojZW5kaWYKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWM7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkKewp2ZWMzIHBvc2l0aW9uVXBkYXRlZD1wb3NpdGlvbjsKI2lmZGVmIFVWMQp2ZWMyIHV2VXBkYXRlZD11djsKI2VuZGlmCiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbD4KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4PlswLi5tYXhTaW11bHRhbmVvdXNNb3JwaFRhcmdldHNdCiNpbmNsdWRlPGluc3RhbmNlc1ZlcnRleD4KI2luY2x1ZGU8Ym9uZXNWZXJ0ZXg+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uPgp2ZWM0IHdvcmxkUG9zPWZpbmFsV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKI2luY2x1ZGU8Y2xpcFBsYW5lVmVydGV4PgpnbF9Qb3NpdGlvbj12aWV3UHJvamVjdGlvbip3b3JsZFBvczsKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCnZEZXB0aE1ldHJpYz0oKC1nbF9Qb3NpdGlvbi56K2RlcHRoVmFsdWVzLngpLyhkZXB0aFZhbHVlcy55KSk7CiNlbHNlCnZEZXB0aE1ldHJpYz0oKGdsX1Bvc2l0aW9uLnorZGVwdGhWYWx1ZXMueCkvKGRlcHRoVmFsdWVzLnkpKTsKI2VuZGlmCiNpZiBkZWZpbmVkKEFMUEhBVEVTVCkgfHwgZGVmaW5lZChCQVNJQ19SRU5ERVIpCiNpZmRlZiBVVjEKdlVWPXZlYzIoZGlmZnVzZU1hdHJpeCp2ZWM0KHV2VXBkYXRlZCwxLjAsMC4wKSk7CiNlbmRpZgojaWZkZWYgVVYyCnZVVj12ZWMyKGRpZmZ1c2VNYXRyaXgqdmVjNCh1djIsMS4wLDAuMCkpOwojZW5kaWYKI2VuZGlmCn0KYDtVLlNoYWRlcnNTdG9yZVtDb109SW87Y2xhc3MgYXN7Y29uc3RydWN0b3IoZSx0PTEsaT1udWxsLHM9ITEscj1OLlRSSUxJTkVBUl9TQU1QTElOR01PREUpe3RoaXMuZW5hYmxlZD0hMCx0aGlzLmZvcmNlRGVwdGhXcml0ZVRyYW5zcGFyZW50TWVzaGVzPSExLHRoaXMudXNlT25seUluQWN0aXZlQ2FtZXJhPSExLHRoaXMuX3NjZW5lPWUsdGhpcy5fc3RvcmVOb25MaW5lYXJEZXB0aD1zLHRoaXMuaXNQYWNrZWQ9dD09PTAsdGhpcy5pc1BhY2tlZD90aGlzLl9jbGVhckNvbG9yPW5ldyBtZSgxLDEsMSwxKTp0aGlzLl9jbGVhckNvbG9yPW5ldyBtZSgxLDAsMCwxKSxhcy5fU2NlbmVDb21wb25lbnRJbml0aWFsaXphdGlvbih0aGlzLl9zY2VuZSk7Y29uc3Qgbj1lLmdldEVuZ2luZSgpO3RoaXMuX2NhbWVyYT1pLHIhPT1OLk5FQVJFU1RfU0FNUExJTkdNT0RFJiYodD09PTEmJiFuLl9jYXBzLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZyYmKHI9Ti5ORUFSRVNUX1NBTVBMSU5HTU9ERSksdD09PTImJiFuLl9jYXBzLnRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmcmJihyPU4uTkVBUkVTVF9TQU1QTElOR01PREUpKTtjb25zdCBhPXRoaXMuaXNQYWNrZWR8fCFuLl9mZWF0dXJlcy5zdXBwb3J0RXh0ZW5kZWRUZXh0dXJlRm9ybWF0cz81OjY7dGhpcy5fZGVwdGhNYXA9bmV3IF90KCJEZXB0aFJlbmRlcmVyIix7d2lkdGg6bi5nZXRSZW5kZXJXaWR0aCgpLGhlaWdodDpuLmdldFJlbmRlckhlaWdodCgpfSx0aGlzLl9zY2VuZSwhMSwhMCx0LCExLHIsdm9pZCAwLHZvaWQgMCx2b2lkIDAsYSksdGhpcy5fZGVwdGhNYXAud3JhcFU9Ti5DTEFNUF9BRERSRVNTTU9ERSx0aGlzLl9kZXB0aE1hcC53cmFwVj1OLkNMQU1QX0FERFJFU1NNT0RFLHRoaXMuX2RlcHRoTWFwLnJlZnJlc2hSYXRlPTEsdGhpcy5fZGVwdGhNYXAucmVuZGVyUGFydGljbGVzPSExLHRoaXMuX2RlcHRoTWFwLnJlbmRlckxpc3Q9bnVsbCx0aGlzLl9kZXB0aE1hcC5hY3RpdmVDYW1lcmE9dGhpcy5fY2FtZXJhLHRoaXMuX2RlcHRoTWFwLmlnbm9yZUNhbWVyYVZpZXdwb3J0PSEwLHRoaXMuX2RlcHRoTWFwLnVzZUNhbWVyYVBvc3RQcm9jZXNzZXM9ITEsdGhpcy5fZGVwdGhNYXAub25DbGVhck9ic2VydmFibGUuYWRkKGg9PntoLmNsZWFyKHRoaXMuX2NsZWFyQ29sb3IsITAsITAsITApfSksdGhpcy5fZGVwdGhNYXAub25CZWZvcmVCaW5kT2JzZXJ2YWJsZS5hZGQoKCk9Pnt2YXIgaDsoaD1uLl9kZWJ1Z1B1c2hHcm91cCk9PT1udWxsfHxoPT09dm9pZCAwfHxoLmNhbGwobiwiZGVwdGggcmVuZGVyZXIiLDEpfSksdGhpcy5fZGVwdGhNYXAub25BZnRlclVuYmluZE9ic2VydmFibGUuYWRkKCgpPT57dmFyIGg7KGg9bi5fZGVidWdQb3BHcm91cCk9PT1udWxsfHxoPT09dm9pZCAwfHxoLmNhbGwobiwxKX0pLHRoaXMuX2RlcHRoTWFwLmN1c3RvbUlzUmVhZHlGdW5jdGlvbj0oaCxsLHUpPT57aWYoKHV8fGw9PT0wKSYmaC5zdWJNZXNoZXMpZm9yKGxldCBkPTA7ZDxoLnN1Yk1lc2hlcy5sZW5ndGg7KytkKXtjb25zdCBmPWguc3ViTWVzaGVzW2RdLF89Zi5nZXRSZW5kZXJpbmdNZXNoKCksRT1fLl9nZXRJbnN0YW5jZXNSZW5kZXJMaXN0KGYuX2lkLCEhZi5nZXRSZXBsYWNlbWVudE1lc2goKSksbT1uLmdldENhcHMoKS5pbnN0YW5jZWRBcnJheXMmJihFLnZpc2libGVJbnN0YW5jZXNbZi5faWRdIT09bnVsbCYmRS52aXNpYmxlSW5zdGFuY2VzW2YuX2lkXSE9PXZvaWQgMHx8Xy5oYXNUaGluSW5zdGFuY2VzKTtpZighdGhpcy5pc1JlYWR5KGYsbSkpcmV0dXJuITF9cmV0dXJuITB9O2NvbnN0IG89aD0+e3ZhciBsLHU7Y29uc3QgZD1oLmdldFJlbmRlcmluZ01lc2goKSxmPWguZ2V0RWZmZWN0aXZlTWVzaCgpLF89dGhpcy5fc2NlbmUsRT1fLmdldEVuZ2luZSgpLG09aC5nZXRNYXRlcmlhbCgpO2lmKGYuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlSW50ZXJtZWRpYXRlPSExLCFtfHxmLmluZmluaXRlRGlzdGFuY2V8fG0uZGlzYWJsZURlcHRoV3JpdGV8fGgudmVydGljZXNDb3VudD09PTB8fGguX3JlbmRlcklkPT09Xy5nZXRSZW5kZXJJZCgpKXJldHVybjtjb25zdCB2PWYuX2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKTwwO2xldCBTPShsPWQub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbikhPT1udWxsJiZsIT09dm9pZCAwP2w6bS5zaWRlT3JpZW50YXRpb247diYmKFM9Uz09PTA/MTowKTtjb25zdCB5PVM9PT0wO0Uuc2V0U3RhdGUobS5iYWNrRmFjZUN1bGxpbmcsMCwhMSx5LG0uY3VsbEJhY2tGYWNlcyk7Y29uc3QgQT1kLl9nZXRJbnN0YW5jZXNSZW5kZXJMaXN0KGguX2lkLCEhaC5nZXRSZXBsYWNlbWVudE1lc2goKSk7aWYoQS5tdXN0UmV0dXJuKXJldHVybjtjb25zdCBDPUUuZ2V0Q2FwcygpLmluc3RhbmNlZEFycmF5cyYmKEEudmlzaWJsZUluc3RhbmNlc1toLl9pZF0hPT1udWxsJiZBLnZpc2libGVJbnN0YW5jZXNbaC5faWRdIT09dm9pZCAwfHxkLmhhc1RoaW5JbnN0YW5jZXMpLGI9dGhpcy5fY2FtZXJhfHxfLmFjdGl2ZUNhbWVyYTtpZih0aGlzLmlzUmVhZHkoaCxDKSYmYil7aC5fcmVuZGVySWQ9Xy5nZXRSZW5kZXJJZCgpO2NvbnN0IE09KHU9Zi5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWxGb3JSZW5kZXJQYXNzKT09PW51bGx8fHU9PT12b2lkIDA/dm9pZCAwOnVbRS5jdXJyZW50UmVuZGVyUGFzc0lkXTtsZXQgTD1oLl9nZXREcmF3V3JhcHBlcigpOyFMJiZNJiYoTD1NLl9nZXREcmF3V3JhcHBlcigpKTtjb25zdCBrPWIubW9kZT09PWouT1JUSE9HUkFQSElDX0NBTUVSQTtpZighTClyZXR1cm47Y29uc3Qgdz1MLmVmZmVjdDtFLmVuYWJsZUVmZmVjdChMKSxDfHxkLl9iaW5kKGgsdyxtLmZpbGxNb2RlKSxNP00uYmluZEZvclN1Yk1lc2goZi5nZXRXb3JsZE1hdHJpeCgpLGYsaCk6KHcuc2V0TWF0cml4KCJ2aWV3UHJvamVjdGlvbiIsXy5nZXRUcmFuc2Zvcm1NYXRyaXgoKSksdy5zZXRNYXRyaXgoIndvcmxkIixmLmdldFdvcmxkTWF0cml4KCkpKTtsZXQgZGUsY2U7aWYoaz8oZGU9IUUudXNlUmV2ZXJzZURlcHRoQnVmZmVyJiZFLmlzTkRDSGFsZlpSYW5nZT8wOjEsY2U9RS51c2VSZXZlcnNlRGVwdGhCdWZmZXImJkUuaXNORENIYWxmWlJhbmdlPzA6MSk6KGRlPUUudXNlUmV2ZXJzZURlcHRoQnVmZmVyJiZFLmlzTkRDSGFsZlpSYW5nZT9iLm1pblo6RS5pc05EQ0hhbGZaUmFuZ2U/MDpiLm1pblosY2U9RS51c2VSZXZlcnNlRGVwdGhCdWZmZXImJkUuaXNORENIYWxmWlJhbmdlPzA6Yi5tYXhaKSx3LnNldEZsb2F0MigiZGVwdGhWYWx1ZXMiLGRlLGRlK2NlKSwhTSl7aWYobS5uZWVkQWxwaGFUZXN0aW5nKCkpe2NvbnN0IHNlPW0uZ2V0QWxwaGFUZXN0VGV4dHVyZSgpO3NlJiYody5zZXRUZXh0dXJlKCJkaWZmdXNlU2FtcGxlciIsc2UpLHcuc2V0TWF0cml4KCJkaWZmdXNlTWF0cml4IixzZS5nZXRUZXh0dXJlTWF0cml4KCkpKX1pZihkLnVzZUJvbmVzJiZkLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyYmZC5za2VsZXRvbil7Y29uc3Qgc2U9ZC5za2VsZXRvbjtpZihzZS5pc1VzaW5nVGV4dHVyZUZvck1hdHJpY2VzKXtjb25zdCB0ZT1zZS5nZXRUcmFuc2Zvcm1NYXRyaXhUZXh0dXJlKGQpO2lmKCF0ZSlyZXR1cm47dy5zZXRUZXh0dXJlKCJib25lU2FtcGxlciIsdGUpLHcuc2V0RmxvYXQoImJvbmVUZXh0dXJlV2lkdGgiLDQqKHNlLmJvbmVzLmxlbmd0aCsxKSl9ZWxzZSB3LnNldE1hdHJpY2VzKCJtQm9uZXMiLHNlLmdldFRyYW5zZm9ybU1hdHJpY2VzKGQpKX1ycyh3LG0sXyksaWUuQmluZE1vcnBoVGFyZ2V0UGFyYW1ldGVycyhkLHcpLGQubW9ycGhUYXJnZXRNYW5hZ2VyJiZkLm1vcnBoVGFyZ2V0TWFuYWdlci5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMmJmQubW9ycGhUYXJnZXRNYW5hZ2VyLl9iaW5kKHcpfWQuX3Byb2Nlc3NSZW5kZXJpbmcoZixoLHcsbS5maWxsTW9kZSxBLEMsKHNlLHRlKT0+dy5zZXRNYXRyaXgoIndvcmxkIix0ZSkpfX07dGhpcy5fZGVwdGhNYXAuY3VzdG9tUmVuZGVyRnVuY3Rpb249KGgsbCx1LGQpPT57bGV0IGY7aWYoZC5sZW5ndGgpZm9yKGY9MDtmPGQubGVuZ3RoO2YrKylvKGQuZGF0YVtmXSk7Zm9yKGY9MDtmPGgubGVuZ3RoO2YrKylvKGguZGF0YVtmXSk7Zm9yKGY9MDtmPGwubGVuZ3RoO2YrKylvKGwuZGF0YVtmXSk7aWYodGhpcy5mb3JjZURlcHRoV3JpdGVUcmFuc3BhcmVudE1lc2hlcylmb3IoZj0wO2Y8dS5sZW5ndGg7ZisrKW8odS5kYXRhW2ZdKTtlbHNlIGZvcihmPTA7Zjx1Lmxlbmd0aDtmKyspdS5kYXRhW2ZdLmdldEVmZmVjdGl2ZU1lc2goKS5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITF9fXNldE1hdGVyaWFsRm9yUmVuZGVyaW5nKGUsdCl7dGhpcy5fZGVwdGhNYXAuc2V0TWF0ZXJpYWxGb3JSZW5kZXJpbmcoZSx0KX1pc1JlYWR5KGUsdCl7dmFyIGk7Y29uc3Qgcz10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSxyPWUuZ2V0TWVzaCgpLG49ci5nZXRTY2VuZSgpLGE9KGk9ci5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWxGb3JSZW5kZXJQYXNzKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmlbcy5jdXJyZW50UmVuZGVyUGFzc0lkXTtpZihhKXJldHVybiBhLmlzUmVhZHlGb3JTdWJNZXNoKHIsZSx0KTtjb25zdCBvPWUuZ2V0TWF0ZXJpYWwoKTtpZighb3x8by5kaXNhYmxlRGVwdGhXcml0ZSlyZXR1cm4hMTtjb25zdCBoPVtdLGw9W2cuUG9zaXRpb25LaW5kXTtpZihvJiZvLm5lZWRBbHBoYVRlc3RpbmcoKSYmby5nZXRBbHBoYVRlc3RUZXh0dXJlKCkmJihoLnB1c2goIiNkZWZpbmUgQUxQSEFURVNUIiksci5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVktpbmQpJiYobC5wdXNoKGcuVVZLaW5kKSxoLnB1c2goIiNkZWZpbmUgVVYxIikpLHIuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVYyS2luZCkmJihsLnB1c2goZy5VVjJLaW5kKSxoLnB1c2goIiNkZWZpbmUgVVYyIikpKSxyLnVzZUJvbmVzJiZyLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyl7bC5wdXNoKGcuTWF0cmljZXNJbmRpY2VzS2luZCksbC5wdXNoKGcuTWF0cmljZXNXZWlnaHRzS2luZCksci5udW1Cb25lSW5mbHVlbmNlcnM+NCYmKGwucHVzaChnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCksbC5wdXNoKGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKSksaC5wdXNoKCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTICIrci5udW1Cb25lSW5mbHVlbmNlcnMpLGgucHVzaCgiI2RlZmluZSBCb25lc1Blck1lc2ggIisoci5za2VsZXRvbj9yLnNrZWxldG9uLmJvbmVzLmxlbmd0aCsxOjApKTtjb25zdCBtPWUuZ2V0UmVuZGVyaW5nTWVzaCgpLnNrZWxldG9uO20hPW51bGwmJm0uaXNVc2luZ1RleHR1cmVGb3JNYXRyaWNlcyYmaC5wdXNoKCIjZGVmaW5lIEJPTkVURVhUVVJFIil9ZWxzZSBoLnB1c2goIiNkZWZpbmUgTlVNX0JPTkVfSU5GTFVFTkNFUlMgMCIpO2NvbnN0IHU9ci5tb3JwaFRhcmdldE1hbmFnZXI7bGV0IGQ9MDt1JiZ1Lm51bUluZmx1ZW5jZXJzPjAmJihkPXUubnVtSW5mbHVlbmNlcnMsaC5wdXNoKCIjZGVmaW5lIE1PUlBIVEFSR0VUUyIpLGgucHVzaCgiI2RlZmluZSBOVU1fTU9SUEhfSU5GTFVFTkNFUlMgIitkKSx1LmlzVXNpbmdUZXh0dXJlRm9yVGFyZ2V0cyYmaC5wdXNoKCIjZGVmaW5lIE1PUlBIVEFSR0VUU19URVhUVVJFIiksaWUuUHJlcGFyZUF0dHJpYnV0ZXNGb3JNb3JwaFRhcmdldHNJbmZsdWVuY2VycyhsLHIsZCkpLHQmJihoLnB1c2goIiNkZWZpbmUgSU5TVEFOQ0VTIiksaWUuUHVzaEF0dHJpYnV0ZXNGb3JJbnN0YW5jZXMobCksZS5nZXRSZW5kZXJpbmdNZXNoKCkuaGFzVGhpbkluc3RhbmNlcyYmaC5wdXNoKCIjZGVmaW5lIFRISU5fSU5TVEFOQ0VTIikpLHRoaXMuX3N0b3JlTm9uTGluZWFyRGVwdGgmJmgucHVzaCgiI2RlZmluZSBOT05MSU5FQVJERVBUSCIpLHRoaXMuaXNQYWNrZWQmJmgucHVzaCgiI2RlZmluZSBQQUNLRUQiKSxPcyhvLG4saCk7Y29uc3QgZj1lLl9nZXREcmF3V3JhcHBlcih2b2lkIDAsITApLF89Zi5kZWZpbmVzLEU9aC5qb2luKGAKYCk7aWYoXyE9PUUpe2NvbnN0IG09WyJ3b3JsZCIsIm1Cb25lcyIsImJvbmVUZXh0dXJlV2lkdGgiLCJ2aWV3UHJvamVjdGlvbiIsImRpZmZ1c2VNYXRyaXgiLCJkZXB0aFZhbHVlcyIsIm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyIsIm1vcnBoVGFyZ2V0VGV4dHVyZUluZm8iLCJtb3JwaFRhcmdldFRleHR1cmVJbmRpY2VzIl07c3MobSksZi5zZXRFZmZlY3Qocy5jcmVhdGVFZmZlY3QoImRlcHRoIixsLG0sWyJkaWZmdXNlU2FtcGxlciIsIm1vcnBoVGFyZ2V0cyIsImJvbmVTYW1wbGVyIl0sRSx2b2lkIDAsdm9pZCAwLHZvaWQgMCx7bWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzOmR9KSxFKX1yZXR1cm4gZi5lZmZlY3QuaXNSZWFkeSgpfWdldERlcHRoTWFwKCl7cmV0dXJuIHRoaXMuX2RlcHRoTWFwfWRpc3Bvc2UoKXtjb25zdCBlPVtdO2Zvcihjb25zdCB0IGluIHRoaXMuX3NjZW5lLl9kZXB0aFJlbmRlcmVyKXRoaXMuX3NjZW5lLl9kZXB0aFJlbmRlcmVyW3RdPT09dGhpcyYmZS5wdXNoKHQpO2lmKGUubGVuZ3RoPjApe3RoaXMuX2RlcHRoTWFwLmRpc3Bvc2UoKTtmb3IoY29uc3QgdCBvZiBlKWRlbGV0ZSB0aGlzLl9zY2VuZS5fZGVwdGhSZW5kZXJlclt0XX19fWFzLl9TY2VuZUNvbXBvbmVudEluaXRpYWxpemF0aW9uPWM9Pnt0aHJvdyAkKCJEZXB0aFJlbmRlcmVyU2NlbmVDb21wb25lbnQiKX07Y29uc3QgUG89Im1pbm1heFJlZHV4UGl4ZWxTaGFkZXIiLERvPWB2YXJ5aW5nIHZlYzIgdlVWOwp1bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlU2FtcGxlcjsKI2lmIGRlZmluZWQoSU5JVElBTCkKdW5pZm9ybSBzYW1wbGVyMkQgc291cmNlVGV4dHVyZTsKdW5pZm9ybSB2ZWMyIHRleFNpemU7CnZvaWQgbWFpbih2b2lkKQp7Cml2ZWMyIGNvb3JkPWl2ZWMyKHZVVioodGV4U2l6ZS0xLjApKTsKZmxvYXQgZjE9dGV4ZWxGZXRjaChzb3VyY2VUZXh0dXJlLGNvb3JkLDApLnI7CmZsb2F0IGYyPXRleGVsRmV0Y2goc291cmNlVGV4dHVyZSxjb29yZCtpdmVjMigxLDApLDApLnI7CmZsb2F0IGYzPXRleGVsRmV0Y2goc291cmNlVGV4dHVyZSxjb29yZCtpdmVjMigxLDEpLDApLnI7CmZsb2F0IGY0PXRleGVsRmV0Y2goc291cmNlVGV4dHVyZSxjb29yZCtpdmVjMigwLDEpLDApLnI7CmZsb2F0IG1pbno9bWluKG1pbihtaW4oZjEsZjIpLGYzKSxmNCk7CiNpZmRlZiBERVBUSF9SRURVWApmbG9hdCBtYXh6PW1heChtYXgobWF4KHNpZ24oMS4wLWYxKSpmMSxzaWduKDEuMC1mMikqZjIpLHNpZ24oMS4wLWYzKSpmMyksc2lnbigxLjAtZjQpKmY0KTsKI2Vsc2UKZmxvYXQgbWF4ej1tYXgobWF4KG1heChmMSxmMiksZjMpLGY0KTsKI2VuZGlmCmdsRnJhZ0NvbG9yPXZlYzQobWlueixtYXh6LDAuLDAuKTsKfQojZWxpZiBkZWZpbmVkKE1BSU4pCnVuaWZvcm0gdmVjMiB0ZXhTaXplOwp2b2lkIG1haW4odm9pZCkKewppdmVjMiBjb29yZD1pdmVjMih2VVYqKHRleFNpemUtMS4wKSk7CnZlYzIgZjE9dGV4ZWxGZXRjaCh0ZXh0dXJlU2FtcGxlcixjb29yZCwwKS5yZzsKdmVjMiBmMj10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLGNvb3JkK2l2ZWMyKDEsMCksMCkucmc7CnZlYzIgZjM9dGV4ZWxGZXRjaCh0ZXh0dXJlU2FtcGxlcixjb29yZCtpdmVjMigxLDEpLDApLnJnOwp2ZWMyIGY0PXRleGVsRmV0Y2godGV4dHVyZVNhbXBsZXIsY29vcmQraXZlYzIoMCwxKSwwKS5yZzsKZmxvYXQgbWluej1taW4obWluKG1pbihmMS54LGYyLngpLGYzLngpLGY0LngpOwpmbG9hdCBtYXh6PW1heChtYXgobWF4KGYxLnksZjIueSksZjMueSksZjQueSk7CmdsRnJhZ0NvbG9yPXZlYzQobWlueixtYXh6LDAuLDAuKTsKfQojZWxpZiBkZWZpbmVkKE9ORUJFRk9SRUxBU1QpCnVuaWZvcm0gaXZlYzIgdGV4U2l6ZTsKdm9pZCBtYWluKHZvaWQpCnsKaXZlYzIgY29vcmQ9aXZlYzIodlVWKnZlYzIodGV4U2l6ZS0xKSk7CnZlYzIgZjE9dGV4ZWxGZXRjaCh0ZXh0dXJlU2FtcGxlcixjb29yZCAlIHRleFNpemUsMCkucmc7CnZlYzIgZjI9dGV4ZWxGZXRjaCh0ZXh0dXJlU2FtcGxlciwoY29vcmQraXZlYzIoMSwwKSkgJSB0ZXhTaXplLDApLnJnOwp2ZWMyIGYzPXRleGVsRmV0Y2godGV4dHVyZVNhbXBsZXIsKGNvb3JkK2l2ZWMyKDEsMSkpICUgdGV4U2l6ZSwwKS5yZzsKdmVjMiBmND10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLChjb29yZCtpdmVjMigwLDEpKSAlIHRleFNpemUsMCkucmc7CmZsb2F0IG1pbno9bWluKGYxLngsZjIueCk7CmZsb2F0IG1heHo9bWF4KGYxLnksZjIueSk7CmdsRnJhZ0NvbG9yPXZlYzQobWlueixtYXh6LDAuLDAuKTsKfQojZWxpZiBkZWZpbmVkKExBU1QpCnZvaWQgbWFpbih2b2lkKQp7CmdsRnJhZ0NvbG9yPXZlYzQoMC4pOwppZiAodHJ1ZSkgeyAKZGlzY2FyZDsKfQp9CiNlbmRpZgpgO1UuU2hhZGVyc1N0b3JlW1BvXT1EbztjbGFzcyBGb3tjb25zdHJ1Y3RvcihlKXt0aGlzLm9uQWZ0ZXJSZWR1Y3Rpb25QZXJmb3JtZWQ9bmV3IEYsdGhpcy5fZm9yY2VGdWxsc2NyZWVuVmlld3BvcnQ9ITAsdGhpcy5fYWN0aXZhdGVkPSExLHRoaXMuX2NhbWVyYT1lLHRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlcj1uZXcgUWkoZS5nZXRTY2VuZSgpKSx0aGlzLl9vbkNvbnRleHRSZXN0b3JlZE9ic2VydmVyPWUuZ2V0RW5naW5lKCkub25Db250ZXh0UmVzdG9yZWRPYnNlcnZhYmxlLmFkZCgoKT0+e3RoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlci5fcmVidWlsZCgpfSl9Z2V0IHNvdXJjZVRleHR1cmUoKXtyZXR1cm4gdGhpcy5fc291cmNlVGV4dHVyZX1zZXRTb3VyY2VUZXh0dXJlKGUsdCxpPTIscz0hMCl7aWYoZT09PXRoaXMuX3NvdXJjZVRleHR1cmUpcmV0dXJuO3RoaXMuZGlzcG9zZSghMSksdGhpcy5fc291cmNlVGV4dHVyZT1lLHRoaXMuX3JlZHVjdGlvblN0ZXBzPVtdLHRoaXMuX2ZvcmNlRnVsbHNjcmVlblZpZXdwb3J0PXM7Y29uc3Qgcj10aGlzLl9jYW1lcmEuZ2V0U2NlbmUoKSxuPW5ldyBNZSgiSW5pdGlhbCByZWR1Y3Rpb24gcGhhc2UiLCJtaW5tYXhSZWR1eCIsWyJ0ZXhTaXplIl0sWyJzb3VyY2VUZXh0dXJlIl0sMSxudWxsLDEsci5nZXRFbmdpbmUoKSwhMSwiI2RlZmluZSBJTklUSUFMIisodD9gCiNkZWZpbmUgREVQVEhfUkVEVVhgOiIiKSxpLHZvaWQgMCx2b2lkIDAsdm9pZCAwLDcpO24uYXV0b0NsZWFyPSExLG4uZm9yY2VGdWxsc2NyZWVuVmlld3BvcnQ9cztsZXQgYT10aGlzLl9zb3VyY2VUZXh0dXJlLmdldFJlbmRlcldpZHRoKCksbz10aGlzLl9zb3VyY2VUZXh0dXJlLmdldFJlbmRlckhlaWdodCgpO24ub25BcHBseT0oKGwsdSk9PmQ9PntkLnNldFRleHR1cmUoInNvdXJjZVRleHR1cmUiLHRoaXMuX3NvdXJjZVRleHR1cmUpLGQuc2V0RmxvYXQyKCJ0ZXhTaXplIixsLHUpfSkoYSxvKSx0aGlzLl9yZWR1Y3Rpb25TdGVwcy5wdXNoKG4pO2xldCBoPTE7Zm9yKDthPjF8fG8+MTspe2E9TWF0aC5tYXgoTWF0aC5yb3VuZChhLzIpLDEpLG89TWF0aC5tYXgoTWF0aC5yb3VuZChvLzIpLDEpO2NvbnN0IGw9bmV3IE1lKCJSZWR1Y3Rpb24gcGhhc2UgIitoLCJtaW5tYXhSZWR1eCIsWyJ0ZXhTaXplIl0sbnVsbCx7d2lkdGg6YSxoZWlnaHQ6b30sbnVsbCwxLHIuZ2V0RW5naW5lKCksITEsIiNkZWZpbmUgIisoYT09MSYmbz09MT8iTEFTVCI6YT09MXx8bz09MT8iT05FQkVGT1JFTEFTVCI6Ik1BSU4iKSxpLHZvaWQgMCx2b2lkIDAsdm9pZCAwLDcpO2lmKGwuYXV0b0NsZWFyPSExLGwuZm9yY2VGdWxsc2NyZWVuVmlld3BvcnQ9cyxsLm9uQXBwbHk9KCh1LGQpPT5mPT57dT09MXx8ZD09MT9mLnNldEludDIoInRleFNpemUiLHUsZCk6Zi5zZXRGbG9hdDIoInRleFNpemUiLHUsZCl9KShhLG8pLHRoaXMuX3JlZHVjdGlvblN0ZXBzLnB1c2gobCksaCsrLGE9PTEmJm89PTEpe2NvbnN0IHU9KGQsZixfKT0+e2NvbnN0IEU9bmV3IEZsb2F0MzJBcnJheSg0KmQqZiksbT17bWluOjAsbWF4OjB9O3JldHVybigpPT57ci5nZXRFbmdpbmUoKS5fcmVhZFRleHR1cmVQaXhlbHMoXy5pbnB1dFRleHR1cmUudGV4dHVyZSxkLGYsLTEsMCxFLCExKSxtLm1pbj1FWzBdLG0ubWF4PUVbMV0sdGhpcy5vbkFmdGVyUmVkdWN0aW9uUGVyZm9ybWVkLm5vdGlmeU9ic2VydmVycyhtKX19O2wub25BZnRlclJlbmRlck9ic2VydmFibGUuYWRkKHUoYSxvLGwpKX19fWdldCByZWZyZXNoUmF0ZSgpe3JldHVybiB0aGlzLl9zb3VyY2VUZXh0dXJlP3RoaXMuX3NvdXJjZVRleHR1cmUucmVmcmVzaFJhdGU6LTF9c2V0IHJlZnJlc2hSYXRlKGUpe3RoaXMuX3NvdXJjZVRleHR1cmUmJih0aGlzLl9zb3VyY2VUZXh0dXJlLnJlZnJlc2hSYXRlPWUpfWdldCBhY3RpdmF0ZWQoKXtyZXR1cm4gdGhpcy5fYWN0aXZhdGVkfWFjdGl2YXRlKCl7dGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyfHwhdGhpcy5fc291cmNlVGV4dHVyZXx8KHRoaXMuX29uQWZ0ZXJVbmJpbmRPYnNlcnZlcj10aGlzLl9zb3VyY2VUZXh0dXJlLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLmFkZCgoKT0+e3ZhciBlLHQ7Y29uc3QgaT10aGlzLl9jYW1lcmEuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKTsoZT1pLl9kZWJ1Z1B1c2hHcm91cCk9PT1udWxsfHxlPT09dm9pZCAwfHxlLmNhbGwoaSwibWluIG1heCByZWR1Y3Rpb24iLDEpLHRoaXMuX3JlZHVjdGlvblN0ZXBzWzBdLmFjdGl2YXRlKHRoaXMuX2NhbWVyYSksdGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyLmRpcmVjdFJlbmRlcih0aGlzLl9yZWR1Y3Rpb25TdGVwcyx0aGlzLl9yZWR1Y3Rpb25TdGVwc1swXS5pbnB1dFRleHR1cmUsdGhpcy5fZm9yY2VGdWxsc2NyZWVuVmlld3BvcnQpLGkudW5CaW5kRnJhbWVidWZmZXIodGhpcy5fcmVkdWN0aW9uU3RlcHNbMF0uaW5wdXRUZXh0dXJlLCExKSwodD1pLl9kZWJ1Z1BvcEdyb3VwKT09PW51bGx8fHQ9PT12b2lkIDB8fHQuY2FsbChpLDEpfSksdGhpcy5fYWN0aXZhdGVkPSEwKX1kZWFjdGl2YXRlKCl7IXRoaXMuX29uQWZ0ZXJVbmJpbmRPYnNlcnZlcnx8IXRoaXMuX3NvdXJjZVRleHR1cmV8fCh0aGlzLl9zb3VyY2VUZXh0dXJlLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXIpLHRoaXMuX29uQWZ0ZXJVbmJpbmRPYnNlcnZlcj1udWxsLHRoaXMuX2FjdGl2YXRlZD0hMSl9ZGlzcG9zZShlPSEwKXtpZihlJiYodGhpcy5vbkFmdGVyUmVkdWN0aW9uUGVyZm9ybWVkLmNsZWFyKCksdGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlciYmKHRoaXMuX2NhbWVyYS5nZXRFbmdpbmUoKS5vbkNvbnRleHRSZXN0b3JlZE9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXIpLHRoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXI9bnVsbCkpLHRoaXMuZGVhY3RpdmF0ZSgpLHRoaXMuX3JlZHVjdGlvblN0ZXBzKXtmb3IobGV0IHQ9MDt0PHRoaXMuX3JlZHVjdGlvblN0ZXBzLmxlbmd0aDsrK3QpdGhpcy5fcmVkdWN0aW9uU3RlcHNbdF0uZGlzcG9zZSgpO3RoaXMuX3JlZHVjdGlvblN0ZXBzPW51bGx9dGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyJiZlJiZ0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuZGlzcG9zZSgpLHRoaXMuX3NvdXJjZVRleHR1cmU9bnVsbH19Y2xhc3Mgd28gZXh0ZW5kcyBGb3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKX1nZXQgZGVwdGhSZW5kZXJlcigpe3JldHVybiB0aGlzLl9kZXB0aFJlbmRlcmVyfXNldERlcHRoUmVuZGVyZXIoZT1udWxsLHQ9MixpPSEwKXtjb25zdCBzPXRoaXMuX2NhbWVyYS5nZXRTY2VuZSgpO3RoaXMuX2RlcHRoUmVuZGVyZXImJihkZWxldGUgcy5fZGVwdGhSZW5kZXJlclt0aGlzLl9kZXB0aFJlbmRlcmVySWRdLHRoaXMuX2RlcHRoUmVuZGVyZXIuZGlzcG9zZSgpLHRoaXMuX2RlcHRoUmVuZGVyZXI9bnVsbCksZT09PW51bGwmJihzLl9kZXB0aFJlbmRlcmVyfHwocy5fZGVwdGhSZW5kZXJlcj17fSksZT10aGlzLl9kZXB0aFJlbmRlcmVyPW5ldyBhcyhzLHQsdGhpcy5fY2FtZXJhLCExLDEpLGUuZW5hYmxlZD0hMSx0aGlzLl9kZXB0aFJlbmRlcmVySWQ9Im1pbm1heCIrdGhpcy5fY2FtZXJhLmlkLHMuX2RlcHRoUmVuZGVyZXJbdGhpcy5fZGVwdGhSZW5kZXJlcklkXT1lKSxzdXBlci5zZXRTb3VyY2VUZXh0dXJlKGUuZ2V0RGVwdGhNYXAoKSwhMCx0LGkpfXNldFNvdXJjZVRleHR1cmUoZSx0LGk9MixzPSEwKXtzdXBlci5zZXRTb3VyY2VUZXh0dXJlKGUsdCxpLHMpfWFjdGl2YXRlKCl7dGhpcy5fZGVwdGhSZW5kZXJlciYmKHRoaXMuX2RlcHRoUmVuZGVyZXIuZW5hYmxlZD0hMCksc3VwZXIuYWN0aXZhdGUoKX1kZWFjdGl2YXRlKCl7c3VwZXIuZGVhY3RpdmF0ZSgpLHRoaXMuX2RlcHRoUmVuZGVyZXImJih0aGlzLl9kZXB0aFJlbmRlcmVyLmVuYWJsZWQ9ITEpfWRpc3Bvc2UoZT0hMCl7aWYoc3VwZXIuZGlzcG9zZShlKSx0aGlzLl9kZXB0aFJlbmRlcmVyJiZlKXtjb25zdCB0PXRoaXMuX2RlcHRoUmVuZGVyZXIuZ2V0RGVwdGhNYXAoKS5nZXRTY2VuZSgpO3QmJmRlbGV0ZSB0Ll9kZXB0aFJlbmRlcmVyW3RoaXMuX2RlcHRoUmVuZGVyZXJJZF0sdGhpcy5fZGVwdGhSZW5kZXJlci5kaXNwb3NlKCksdGhpcy5fZGVwdGhSZW5kZXJlcj1udWxsfX19Y29uc3QgTnI9cC5VcCgpLE9vPXAuWmVybygpLExlPW5ldyBwLHhpPW5ldyBwLG9zPW5ldyB4O2NsYXNzIGtlIGV4dGVuZHMgR3tjb25zdHJ1Y3RvcihlLHQsaSxzKXtpZigha2UuSXNTdXBwb3J0ZWQpe08uRXJyb3IoIkNhc2NhZGVkU2hhZG93TWFwIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGN1cnJlbnQgZW5naW5lLiIpO3JldHVybn1zdXBlcihlLHQsaSxzKSx0aGlzLnVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmc9ITB9X3ZhbGlkYXRlRmlsdGVyKGUpe3JldHVybiBlPT09Ry5GSUxURVJfTk9ORXx8ZT09PUcuRklMVEVSX1BDRnx8ZT09PUcuRklMVEVSX1BDU1M/ZTooY29uc29sZS5lcnJvcignVW5zdXBwb3J0ZWQgZmlsdGVyICInK2UrJyIhJyksRy5GSUxURVJfTk9ORSl9Z2V0IG51bUNhc2NhZGVzKCl7cmV0dXJuIHRoaXMuX251bUNhc2NhZGVzfXNldCBudW1DYXNjYWRlcyhlKXtlPU1hdGgubWluKE1hdGgubWF4KGUsa2UuTUlOX0NBU0NBREVTX0NPVU5UKSxrZS5NQVhfQ0FTQ0FERVNfQ09VTlQpLGUhPT10aGlzLl9udW1DYXNjYWRlcyYmKHRoaXMuX251bUNhc2NhZGVzPWUsdGhpcy5yZWNyZWF0ZVNoYWRvd01hcCgpLHRoaXMuX3JlY3JlYXRlU2NlbmVVQk9zKCkpfWdldCBmcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvKCl7cmV0dXJuIHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm99c2V0IGZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8oZSl7dGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGUmJmUmJih0aGlzLl9zY2VuZS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlKSx0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZT1udWxsKSwhdGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGUmJiFlJiYodGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGU9dGhpcy5fc2NlbmUub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZCh0aGlzLl9jb21wdXRlU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mby5iaW5kKHRoaXMpKSksdGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbz1lLGUmJnRoaXMuX2NvbXB1dGVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvKCl9X2NvbXB1dGVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvKCl7aWYodGhpcy5fc2NiaU1pbi5jb3B5RnJvbUZsb2F0cyhOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5fc2NiaU1heC5jb3B5RnJvbUZsb2F0cyhOdW1iZXIuTUlOX1ZBTFVFLE51bWJlci5NSU5fVkFMVUUsTnVtYmVyLk1JTl9WQUxVRSksdGhpcy5fc2hhZG93TWFwJiZ0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdCl7Y29uc3QgZT10aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdDtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgcz1lW2ldO2lmKCFzKWNvbnRpbnVlO2NvbnN0IHI9cy5nZXRCb3VuZGluZ0luZm8oKSxuPXIuYm91bmRpbmdCb3g7dGhpcy5fc2NiaU1pbi5taW5pbWl6ZUluUGxhY2Uobi5taW5pbXVtV29ybGQpLHRoaXMuX3NjYmlNYXgubWF4aW1pemVJblBsYWNlKG4ubWF4aW11bVdvcmxkKX1jb25zdCB0PXRoaXMuX3NjZW5lLm1lc2hlcztmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl7Y29uc3Qgcz10W2ldO2lmKCFzfHwhcy5pc1Zpc2libGV8fCFzLmlzRW5hYmxlZHx8IXMucmVjZWl2ZVNoYWRvd3MpY29udGludWU7Y29uc3Qgcj1zLmdldEJvdW5kaW5nSW5mbygpLG49ci5ib3VuZGluZ0JveDt0aGlzLl9zY2JpTWluLm1pbmltaXplSW5QbGFjZShuLm1pbmltdW1Xb3JsZCksdGhpcy5fc2NiaU1heC5tYXhpbWl6ZUluUGxhY2Uobi5tYXhpbXVtV29ybGQpfX10aGlzLl9zaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvLnJlQ29uc3RydWN0KHRoaXMuX3NjYmlNaW4sdGhpcy5fc2NiaU1heCl9Z2V0IHNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8oKXtyZXR1cm4gdGhpcy5fc2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb31zZXQgc2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbyhlKXt0aGlzLl9zaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvPWV9c2V0TWluTWF4RGlzdGFuY2UoZSx0KXt0aGlzLl9taW5EaXN0YW5jZT09PWUmJnRoaXMuX21heERpc3RhbmNlPT09dHx8KGU+dCYmKGU9MCx0PTEpLGU8MCYmKGU9MCksdD4xJiYodD0xKSx0aGlzLl9taW5EaXN0YW5jZT1lLHRoaXMuX21heERpc3RhbmNlPXQsdGhpcy5fYnJlYWtzQXJlRGlydHk9ITApfWdldCBtaW5EaXN0YW5jZSgpe3JldHVybiB0aGlzLl9taW5EaXN0YW5jZX1nZXQgbWF4RGlzdGFuY2UoKXtyZXR1cm4gdGhpcy5fbWF4RGlzdGFuY2V9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIGtlLkNMQVNTTkFNRX1nZXRDYXNjYWRlTWluRXh0ZW50cyhlKXtyZXR1cm4gZT49MCYmZTx0aGlzLl9udW1DYXNjYWRlcz90aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tlXTpudWxsfWdldENhc2NhZGVNYXhFeHRlbnRzKGUpe3JldHVybiBlPj0wJiZlPHRoaXMuX251bUNhc2NhZGVzP3RoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW2VdOm51bGx9Z2V0IHNoYWRvd01heFooKXtyZXR1cm4gdGhpcy5fZ2V0Q2FtZXJhKCk/dGhpcy5fc2hhZG93TWF4WjowfXNldCBzaGFkb3dNYXhaKGUpe2NvbnN0IHQ9dGhpcy5fZ2V0Q2FtZXJhKCk7aWYoIXQpe3RoaXMuX3NoYWRvd01heFo9ZTtyZXR1cm59dGhpcy5fc2hhZG93TWF4Wj09PWV8fGU8dC5taW5afHxlPnQubWF4Wnx8KHRoaXMuX3NoYWRvd01heFo9ZSx0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpLHRoaXMuX2JyZWFrc0FyZURpcnR5PSEwKX1nZXQgZGVidWcoKXtyZXR1cm4gdGhpcy5fZGVidWd9c2V0IGRlYnVnKGUpe3RoaXMuX2RlYnVnPWUsdGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKX1nZXQgZGVwdGhDbGFtcCgpe3JldHVybiB0aGlzLl9kZXB0aENsYW1wfXNldCBkZXB0aENsYW1wKGUpe3RoaXMuX2RlcHRoQ2xhbXA9ZX1nZXQgY2FzY2FkZUJsZW5kUGVyY2VudGFnZSgpe3JldHVybiB0aGlzLl9jYXNjYWRlQmxlbmRQZXJjZW50YWdlfXNldCBjYXNjYWRlQmxlbmRQZXJjZW50YWdlKGUpe3RoaXMuX2Nhc2NhZGVCbGVuZFBlcmNlbnRhZ2U9ZSx0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpfWdldCBsYW1iZGEoKXtyZXR1cm4gdGhpcy5fbGFtYmRhfXNldCBsYW1iZGEoZSl7Y29uc3QgdD1NYXRoLm1pbihNYXRoLm1heChlLDApLDEpO3RoaXMuX2xhbWJkYSE9dCYmKHRoaXMuX2xhbWJkYT10LHRoaXMuX2JyZWFrc0FyZURpcnR5PSEwKX1nZXRDYXNjYWRlVmlld01hdHJpeChlKXtyZXR1cm4gZT49MCYmZTx0aGlzLl9udW1DYXNjYWRlcz90aGlzLl92aWV3TWF0cmljZXNbZV06bnVsbH1nZXRDYXNjYWRlUHJvamVjdGlvbk1hdHJpeChlKXtyZXR1cm4gZT49MCYmZTx0aGlzLl9udW1DYXNjYWRlcz90aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbZV06bnVsbH1nZXRDYXNjYWRlVHJhbnNmb3JtTWF0cml4KGUpe3JldHVybiBlPj0wJiZlPHRoaXMuX251bUNhc2NhZGVzP3RoaXMuX3RyYW5zZm9ybU1hdHJpY2VzW2VdOm51bGx9c2V0RGVwdGhSZW5kZXJlcihlKXt0aGlzLl9kZXB0aFJlbmRlcmVyPWUsdGhpcy5fZGVwdGhSZWR1Y2VyJiZ0aGlzLl9kZXB0aFJlZHVjZXIuc2V0RGVwdGhSZW5kZXJlcih0aGlzLl9kZXB0aFJlbmRlcmVyKX1nZXQgYXV0b0NhbGNEZXB0aEJvdW5kcygpe3JldHVybiB0aGlzLl9hdXRvQ2FsY0RlcHRoQm91bmRzfXNldCBhdXRvQ2FsY0RlcHRoQm91bmRzKGUpe2NvbnN0IHQ9dGhpcy5fZ2V0Q2FtZXJhKCk7aWYodCl7aWYodGhpcy5fYXV0b0NhbGNEZXB0aEJvdW5kcz1lLCFlKXt0aGlzLl9kZXB0aFJlZHVjZXImJnRoaXMuX2RlcHRoUmVkdWNlci5kZWFjdGl2YXRlKCksdGhpcy5zZXRNaW5NYXhEaXN0YW5jZSgwLDEpO3JldHVybn10aGlzLl9kZXB0aFJlZHVjZXJ8fCh0aGlzLl9kZXB0aFJlZHVjZXI9bmV3IHdvKHQpLHRoaXMuX2RlcHRoUmVkdWNlci5vbkFmdGVyUmVkdWN0aW9uUGVyZm9ybWVkLmFkZChpPT57bGV0IHM9aS5taW4scj1pLm1heDtzPj1yJiYocz0wLHI9MSksKHMhPXRoaXMuX21pbkRpc3RhbmNlfHxyIT10aGlzLl9tYXhEaXN0YW5jZSkmJnRoaXMuc2V0TWluTWF4RGlzdGFuY2UocyxyKX0pLHRoaXMuX2RlcHRoUmVkdWNlci5zZXREZXB0aFJlbmRlcmVyKHRoaXMuX2RlcHRoUmVuZGVyZXIpKSx0aGlzLl9kZXB0aFJlZHVjZXIuYWN0aXZhdGUoKX19Z2V0IGF1dG9DYWxjRGVwdGhCb3VuZHNSZWZyZXNoUmF0ZSgpe3ZhciBlLHQsaTtyZXR1cm4oaT0odD0oZT10aGlzLl9kZXB0aFJlZHVjZXIpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5kZXB0aFJlbmRlcmVyKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnQuZ2V0RGVwdGhNYXAoKS5yZWZyZXNoUmF0ZSkhPT1udWxsJiZpIT09dm9pZCAwP2k6LTF9c2V0IGF1dG9DYWxjRGVwdGhCb3VuZHNSZWZyZXNoUmF0ZShlKXt2YXIgdDshKCh0PXRoaXMuX2RlcHRoUmVkdWNlcik9PT1udWxsfHx0PT09dm9pZCAwKSYmdC5kZXB0aFJlbmRlcmVyJiYodGhpcy5fZGVwdGhSZWR1Y2VyLmRlcHRoUmVuZGVyZXIuZ2V0RGVwdGhNYXAoKS5yZWZyZXNoUmF0ZT1lKX1zcGxpdEZydXN0dW0oKXt0aGlzLl9icmVha3NBcmVEaXJ0eT0hMH1fc3BsaXRGcnVzdHVtKCl7Y29uc3QgZT10aGlzLl9nZXRDYW1lcmEoKTtpZighZSlyZXR1cm47Y29uc3QgdD1lLm1pblosaT1lLm1heFoscz1pLXQscj10aGlzLl9taW5EaXN0YW5jZSxuPXRoaXMuX3NoYWRvd01heFo8aSYmdGhpcy5fc2hhZG93TWF4Wj49dD9NYXRoLm1pbigodGhpcy5fc2hhZG93TWF4Wi10KS8oaS10KSx0aGlzLl9tYXhEaXN0YW5jZSk6dGhpcy5fbWF4RGlzdGFuY2UsYT10K3IqcyxvPXQrbipzLGg9by1hLGw9by9hO2ZvcihsZXQgdT0wO3U8dGhpcy5fY2FzY2FkZXMubGVuZ3RoOysrdSl7Y29uc3QgZD0odSsxKS90aGlzLl9udW1DYXNjYWRlcyxmPWEqbCoqZCxfPWEraCpkLEU9dGhpcy5fbGFtYmRhKihmLV8pK187dGhpcy5fY2FzY2FkZXNbdV0ucHJldkJyZWFrRGlzdGFuY2U9dT09PTA/cjp0aGlzLl9jYXNjYWRlc1t1LTFdLmJyZWFrRGlzdGFuY2UsdGhpcy5fY2FzY2FkZXNbdV0uYnJlYWtEaXN0YW5jZT0oRS10KS9zLHRoaXMuX3ZpZXdTcGFjZUZydXN0dW1zWlt1XT1FLHRoaXMuX2ZydXN0dW1MZW5ndGhzW3VdPSh0aGlzLl9jYXNjYWRlc1t1XS5icmVha0Rpc3RhbmNlLXRoaXMuX2Nhc2NhZGVzW3VdLnByZXZCcmVha0Rpc3RhbmNlKSpzfXRoaXMuX2JyZWFrc0FyZURpcnR5PSExfV9jb21wdXRlTWF0cmljZXMoKXtjb25zdCBlPXRoaXMuX3NjZW5lO2lmKCF0aGlzLl9nZXRDYW1lcmEoKSlyZXR1cm47cC5Ob3JtYWxpemVUb1JlZih0aGlzLl9saWdodC5nZXRTaGFkb3dEaXJlY3Rpb24oMCksdGhpcy5fbGlnaHREaXJlY3Rpb24pLE1hdGguYWJzKHAuRG90KHRoaXMuX2xpZ2h0RGlyZWN0aW9uLHAuVXAoKSkpPT09MSYmKHRoaXMuX2xpZ2h0RGlyZWN0aW9uLno9MWUtMTMpLHRoaXMuX2NhY2hlZERpcmVjdGlvbi5jb3B5RnJvbSh0aGlzLl9saWdodERpcmVjdGlvbik7Y29uc3QgaT1lLmdldEVuZ2luZSgpLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcjtmb3IobGV0IHM9MDtzPHRoaXMuX251bUNhc2NhZGVzOysrcyl7dGhpcy5fY29tcHV0ZUZydXN0dW1JbldvcmxkU3BhY2UocyksdGhpcy5fY29tcHV0ZUNhc2NhZGVGcnVzdHVtKHMpLHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW3NdLnN1YnRyYWN0VG9SZWYodGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbc10sTGUpLHRoaXMuX2ZydXN0dW1DZW50ZXJbc10uYWRkVG9SZWYodGhpcy5fbGlnaHREaXJlY3Rpb24uc2NhbGUodGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbc10ueiksdGhpcy5fc2hhZG93Q2FtZXJhUG9zW3NdKSx4Lkxvb2tBdExIVG9SZWYodGhpcy5fc2hhZG93Q2FtZXJhUG9zW3NdLHRoaXMuX2ZydXN0dW1DZW50ZXJbc10sTnIsdGhpcy5fdmlld01hdHJpY2VzW3NdKTtsZXQgcj0wLG49TGUuejtjb25zdCBhPXRoaXMuX3NoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm87YS51cGRhdGUodGhpcy5fdmlld01hdHJpY2VzW3NdKSxuPU1hdGgubWluKG4sYS5ib3VuZGluZ0JveC5tYXhpbXVtV29ybGQueiksIXRoaXMuX2RlcHRoQ2xhbXB8fHRoaXMuZmlsdGVyPT09Ry5GSUxURVJfUENTUz9yPU1hdGgubWluKHIsYS5ib3VuZGluZ0JveC5taW5pbXVtV29ybGQueik6cj1NYXRoLm1heChyLGEuYm91bmRpbmdCb3gubWluaW11bVdvcmxkLnopLHguT3J0aG9PZmZDZW50ZXJMSFRvUmVmKHRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW3NdLngsdGhpcy5fY2FzY2FkZU1heEV4dGVudHNbc10ueCx0aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tzXS55LHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW3NdLnksaT9uOnIsaT9yOm4sdGhpcy5fcHJvamVjdGlvbk1hdHJpY2VzW3NdLGUuZ2V0RW5naW5lKCkuaXNORENIYWxmWlJhbmdlKSx0aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tzXS56PXIsdGhpcy5fY2FzY2FkZU1heEV4dGVudHNbc10uej1uLHRoaXMuX3ZpZXdNYXRyaWNlc1tzXS5tdWx0aXBseVRvUmVmKHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1tzXSx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1tzXSkscC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKE9vLHRoaXMuX3RyYW5zZm9ybU1hdHJpY2VzW3NdLExlKSxMZS5zY2FsZUluUGxhY2UodGhpcy5fbWFwU2l6ZS8yKSx4aS5jb3B5RnJvbUZsb2F0cyhNYXRoLnJvdW5kKExlLngpLE1hdGgucm91bmQoTGUueSksTWF0aC5yb3VuZChMZS56KSkseGkuc3VidHJhY3RJblBsYWNlKExlKS5zY2FsZUluUGxhY2UoMi90aGlzLl9tYXBTaXplKSx4LlRyYW5zbGF0aW9uVG9SZWYoeGkueCx4aS55LDAsb3MpLHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1tzXS5tdWx0aXBseVRvUmVmKG9zLHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1tzXSksdGhpcy5fdmlld01hdHJpY2VzW3NdLm11bHRpcGx5VG9SZWYodGhpcy5fcHJvamVjdGlvbk1hdHJpY2VzW3NdLHRoaXMuX3RyYW5zZm9ybU1hdHJpY2VzW3NdKSx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1tzXS5jb3B5VG9BcnJheSh0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc0FzQXJyYXkscyoxNil9fV9jb21wdXRlRnJ1c3R1bUluV29ybGRTcGFjZShlKXtjb25zdCB0PXRoaXMuX2dldENhbWVyYSgpO2lmKCF0KXJldHVybjtjb25zdCBpPXRoaXMuX2Nhc2NhZGVzW2VdLnByZXZCcmVha0Rpc3RhbmNlLHM9dGhpcy5fY2FzY2FkZXNbZV0uYnJlYWtEaXN0YW5jZSxyPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLmlzTkRDSGFsZlpSYW5nZTt0LmdldFZpZXdNYXRyaXgoKTtjb25zdCBuPXguSW52ZXJ0KHQuZ2V0VHJhbnNmb3JtYXRpb25NYXRyaXgoKSksYT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS51c2VSZXZlcnNlRGVwdGhCdWZmZXI/NDowO2ZvcihsZXQgbz0wO288a2UuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2UubGVuZ3RoOysrbylMZS5jb3B5RnJvbShrZS5fRnJ1c3R1bUNvcm5lcnNORENTcGFjZVsobythKSVrZS5fRnJ1c3R1bUNvcm5lcnNORENTcGFjZS5sZW5ndGhdKSxyJiZMZS56PT09LTEmJihMZS56PTApLHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihMZSxuLHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXVtvXSk7Zm9yKGxldCBvPTA7bzxrZS5fRnJ1c3R1bUNvcm5lcnNORENTcGFjZS5sZW5ndGgvMjsrK28pTGUuY29weUZyb20odGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdW28rNF0pLnN1YnRyYWN0SW5QbGFjZSh0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV1bb10pLHhpLmNvcHlGcm9tKExlKS5zY2FsZUluUGxhY2UoaSksTGUuc2NhbGVJblBsYWNlKHMpLExlLmFkZEluUGxhY2UodGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdW29dKSx0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV1bbys0XS5jb3B5RnJvbShMZSksdGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdW29dLmFkZEluUGxhY2UoeGkpfV9jb21wdXRlQ2FzY2FkZUZydXN0dW0oZSl7aWYodGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbZV0uY29weUZyb21GbG9hdHMoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW2VdLmNvcHlGcm9tRmxvYXRzKE51bWJlci5NSU5fVkFMVUUsTnVtYmVyLk1JTl9WQUxVRSxOdW1iZXIuTUlOX1ZBTFVFKSx0aGlzLl9mcnVzdHVtQ2VudGVyW2VdLmNvcHlGcm9tRmxvYXRzKDAsMCwwKSwhIXRoaXMuX2dldENhbWVyYSgpKXtmb3IobGV0IGk9MDtpPHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXS5sZW5ndGg7KytpKXRoaXMuX2ZydXN0dW1DZW50ZXJbZV0uYWRkSW5QbGFjZSh0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV1baV0pO2lmKHRoaXMuX2ZydXN0dW1DZW50ZXJbZV0uc2NhbGVJblBsYWNlKDEvdGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdLmxlbmd0aCksdGhpcy5zdGFiaWxpemVDYXNjYWRlcyl7bGV0IGk9MDtmb3IobGV0IHM9MDtzPHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXS5sZW5ndGg7KytzKXtjb25zdCByPXRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXVtzXS5zdWJ0cmFjdFRvUmVmKHRoaXMuX2ZydXN0dW1DZW50ZXJbZV0sTGUpLmxlbmd0aCgpO2k9TWF0aC5tYXgoaSxyKX1pPU1hdGguY2VpbChpKjE2KS8xNix0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tlXS5jb3B5RnJvbUZsb2F0cyhpLGksaSksdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbZV0uY29weUZyb21GbG9hdHMoLWksLWksLWkpfWVsc2V7Y29uc3QgaT10aGlzLl9mcnVzdHVtQ2VudGVyW2VdO3RoaXMuX2ZydXN0dW1DZW50ZXJbZV0uYWRkVG9SZWYodGhpcy5fbGlnaHREaXJlY3Rpb24sTGUpLHguTG9va0F0TEhUb1JlZihpLExlLE5yLG9zKTtmb3IobGV0IHM9MDtzPHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXS5sZW5ndGg7KytzKXAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV1bc10sb3MsTGUpLHRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW2VdLm1pbmltaXplSW5QbGFjZShMZSksdGhpcy5fY2FzY2FkZU1heEV4dGVudHNbZV0ubWF4aW1pemVJblBsYWNlKExlKX19fV9yZWNyZWF0ZVNjZW5lVUJPcygpe2lmKHRoaXMuX2Rpc3Bvc2VTY2VuZVVCT3MoKSx0aGlzLl9zY2VuZVVCT3MpZm9yKGxldCBlPTA7ZTx0aGlzLl9udW1DYXNjYWRlczsrK2UpdGhpcy5fc2NlbmVVQk9zLnB1c2godGhpcy5fc2NlbmUuY3JlYXRlU2NlbmVVbmlmb3JtQnVmZmVyKGBTY2VuZSBmb3IgQ1NNIFNoYWRvdyBHZW5lcmF0b3IgKGxpZ2h0ICIke3RoaXMuX2xpZ2h0Lm5hbWV9IiBjYXNjYWRlICMke2V9KWApKX1zdGF0aWMgZ2V0IElzU3VwcG9ydGVkKCl7Y29uc3QgZT1mZS5MYXN0Q3JlYXRlZEVuZ2luZTtyZXR1cm4gZT9lLl9mZWF0dXJlcy5zdXBwb3J0Q1NNOiExfV9pbml0aWFsaXplR2VuZXJhdG9yKCl7dmFyIGUsdCxpLHMscixuLGEsbyxoLGwsdSxkLGYsXyxFLG0sdixTLHksQTt0aGlzLnBlbnVtYnJhRGFya25lc3M9KGU9dGhpcy5wZW51bWJyYURhcmtuZXNzKSE9PW51bGwmJmUhPT12b2lkIDA/ZToxLHRoaXMuX251bUNhc2NhZGVzPSh0PXRoaXMuX251bUNhc2NhZGVzKSE9PW51bGwmJnQhPT12b2lkIDA/dDprZS5ERUZBVUxUX0NBU0NBREVTX0NPVU5ULHRoaXMuc3RhYmlsaXplQ2FzY2FkZXM9KGk9dGhpcy5zdGFiaWxpemVDYXNjYWRlcykhPT1udWxsJiZpIT09dm9pZCAwP2k6ITEsdGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGU9KHM9dGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGUpIT09bnVsbCYmcyE9PXZvaWQgMD9zOm51bGwsdGhpcy5mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvPShyPXRoaXMuZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbykhPT1udWxsJiZyIT09dm9pZCAwP3I6ITEsdGhpcy5fc2NiaU1pbj0obj10aGlzLl9zY2JpTWluKSE9PW51bGwmJm4hPT12b2lkIDA/bjpuZXcgcCgwLDAsMCksdGhpcy5fc2NiaU1heD0oYT10aGlzLl9zY2JpTWF4KSE9PW51bGwmJmEhPT12b2lkIDA/YTpuZXcgcCgwLDAsMCksdGhpcy5fc2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbz0obz10aGlzLl9zaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvKSE9PW51bGwmJm8hPT12b2lkIDA/bzpuZXcgZHQobmV3IHAoMCwwLDApLG5ldyBwKDAsMCwwKSksdGhpcy5fYnJlYWtzQXJlRGlydHk9KGg9dGhpcy5fYnJlYWtzQXJlRGlydHkpIT09bnVsbCYmaCE9PXZvaWQgMD9oOiEwLHRoaXMuX21pbkRpc3RhbmNlPShsPXRoaXMuX21pbkRpc3RhbmNlKSE9PW51bGwmJmwhPT12b2lkIDA/bDowLHRoaXMuX21heERpc3RhbmNlPSh1PXRoaXMuX21heERpc3RhbmNlKSE9PW51bGwmJnUhPT12b2lkIDA/dToxLHRoaXMuX2N1cnJlbnRMYXllcj0oZD10aGlzLl9jdXJyZW50TGF5ZXIpIT09bnVsbCYmZCE9PXZvaWQgMD9kOjAsdGhpcy5fc2hhZG93TWF4Wj0oRT0oZj10aGlzLl9zaGFkb3dNYXhaKSE9PW51bGwmJmYhPT12b2lkIDA/ZjooXz10aGlzLl9nZXRDYW1lcmEoKSk9PT1udWxsfHxfPT09dm9pZCAwP3ZvaWQgMDpfLm1heFopIT09bnVsbCYmRSE9PXZvaWQgMD9FOjFlNCx0aGlzLl9kZWJ1Zz0obT10aGlzLl9kZWJ1ZykhPT1udWxsJiZtIT09dm9pZCAwP206ITEsdGhpcy5fZGVwdGhDbGFtcD0odj10aGlzLl9kZXB0aENsYW1wKSE9PW51bGwmJnYhPT12b2lkIDA/djohMCx0aGlzLl9jYXNjYWRlQmxlbmRQZXJjZW50YWdlPShTPXRoaXMuX2Nhc2NhZGVCbGVuZFBlcmNlbnRhZ2UpIT09bnVsbCYmUyE9PXZvaWQgMD9TOi4xLHRoaXMuX2xhbWJkYT0oeT10aGlzLl9sYW1iZGEpIT09bnVsbCYmeSE9PXZvaWQgMD95Oi41LHRoaXMuX2F1dG9DYWxjRGVwdGhCb3VuZHM9KEE9dGhpcy5fYXV0b0NhbGNEZXB0aEJvdW5kcykhPT1udWxsJiZBIT09dm9pZCAwP0E6ITEsdGhpcy5fcmVjcmVhdGVTY2VuZVVCT3MoKSxzdXBlci5faW5pdGlhbGl6ZUdlbmVyYXRvcigpfV9jcmVhdGVUYXJnZXRSZW5kZXJUZXh0dXJlKCl7Y29uc3QgZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSx0PXt3aWR0aDp0aGlzLl9tYXBTaXplLGhlaWdodDp0aGlzLl9tYXBTaXplLGxheWVyczp0aGlzLm51bUNhc2NhZGVzfTt0aGlzLl9zaGFkb3dNYXA9bmV3IF90KHRoaXMuX2xpZ2h0Lm5hbWUrIl9DU01TaGFkb3dNYXAiLHQsdGhpcy5fc2NlbmUsITEsITAsdGhpcy5fdGV4dHVyZVR5cGUsITEsdm9pZCAwLCExLCExLHZvaWQgMCksdGhpcy5fc2hhZG93TWFwLmNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmUoZS51c2VSZXZlcnNlRGVwdGhCdWZmZXI/NTE2OjUxMywhMCl9X2luaXRpYWxpemVTaGFkb3dNYXAoKXtpZihzdXBlci5faW5pdGlhbGl6ZVNoYWRvd01hcCgpLHRoaXMuX3NoYWRvd01hcD09PW51bGwpcmV0dXJuO3RoaXMuX3RyYW5zZm9ybU1hdHJpY2VzQXNBcnJheT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuX251bUNhc2NhZGVzKjE2KSx0aGlzLl92aWV3U3BhY2VGcnVzdHVtc1o9bmV3IEFycmF5KHRoaXMuX251bUNhc2NhZGVzKSx0aGlzLl9mcnVzdHVtTGVuZ3Rocz1uZXcgQXJyYXkodGhpcy5fbnVtQ2FzY2FkZXMpLHRoaXMuX2xpZ2h0U2l6ZVVWQ29ycmVjdGlvbj1uZXcgQXJyYXkodGhpcy5fbnVtQ2FzY2FkZXMqMiksdGhpcy5fZGVwdGhDb3JyZWN0aW9uPW5ldyBBcnJheSh0aGlzLl9udW1DYXNjYWRlcyksdGhpcy5fY2FzY2FkZXM9W10sdGhpcy5fdmlld01hdHJpY2VzPVtdLHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlcz1bXSx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlcz1bXSx0aGlzLl9jYXNjYWRlTWluRXh0ZW50cz1bXSx0aGlzLl9jYXNjYWRlTWF4RXh0ZW50cz1bXSx0aGlzLl9mcnVzdHVtQ2VudGVyPVtdLHRoaXMuX3NoYWRvd0NhbWVyYVBvcz1bXSx0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2U9W107Zm9yKGxldCB0PTA7dDx0aGlzLl9udW1DYXNjYWRlczsrK3Qpe3RoaXMuX2Nhc2NhZGVzW3RdPXtwcmV2QnJlYWtEaXN0YW5jZTowLGJyZWFrRGlzdGFuY2U6MH0sdGhpcy5fdmlld01hdHJpY2VzW3RdPXguWmVybygpLHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1t0XT14Llplcm8oKSx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1t0XT14Llplcm8oKSx0aGlzLl9jYXNjYWRlTWluRXh0ZW50c1t0XT1uZXcgcCx0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1t0XT1uZXcgcCx0aGlzLl9mcnVzdHVtQ2VudGVyW3RdPW5ldyBwLHRoaXMuX3NoYWRvd0NhbWVyYVBvc1t0XT1uZXcgcCx0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbdF09bmV3IEFycmF5KGtlLl9GcnVzdHVtQ29ybmVyc05EQ1NwYWNlLmxlbmd0aCk7Zm9yKGxldCBpPTA7aTxrZS5fRnJ1c3R1bUNvcm5lcnNORENTcGFjZS5sZW5ndGg7KytpKXRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVt0XVtpXT1uZXcgcH1jb25zdCBlPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO3RoaXMuX3NoYWRvd01hcC5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fc2hhZG93TWFwLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX3NoYWRvd01hcC5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKHQ9Pnt0aGlzLl9zY2VuZVVCT3MmJnRoaXMuX3NjZW5lLnNldFNjZW5lVW5pZm9ybUJ1ZmZlcih0aGlzLl9zY2VuZVVCT3NbdF0pLHRoaXMuX2N1cnJlbnRMYXllcj10LHRoaXMuX2ZpbHRlcj09PUcuRklMVEVSX1BDRiYmZS5zZXRDb2xvcldyaXRlKCExKSx0aGlzLl9zY2VuZS5zZXRUcmFuc2Zvcm1NYXRyaXgodGhpcy5nZXRDYXNjYWRlVmlld01hdHJpeCh0KSx0aGlzLmdldENhc2NhZGVQcm9qZWN0aW9uTWF0cml4KHQpKSx0aGlzLl91c2VVQk8mJih0aGlzLl9zY2VuZS5nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKS51bmJpbmRFZmZlY3QoKSx0aGlzLl9zY2VuZS5maW5hbGl6ZVNjZW5lVWJvKCkpfSksdGhpcy5fc2hhZG93TWFwLm9uQmVmb3JlQmluZE9ic2VydmFibGUuYWRkKCgpPT57dmFyIHQ7dGhpcy5fY3VycmVudFNjZW5lVUJPPXRoaXMuX3NjZW5lLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpLCh0PWUuX2RlYnVnUHVzaEdyb3VwKT09PW51bGx8fHQ9PT12b2lkIDB8fHQuY2FsbChlLGBjYXNjYWRlZCBzaGFkb3cgbWFwIGdlbmVyYXRpb24gZm9yIHBhc3MgaWQgJHtlLmN1cnJlbnRSZW5kZXJQYXNzSWR9YCwxKSx0aGlzLl9icmVha3NBcmVEaXJ0eSYmdGhpcy5fc3BsaXRGcnVzdHVtKCksdGhpcy5fY29tcHV0ZU1hdHJpY2VzKCl9KSx0aGlzLl9zcGxpdEZydXN0dW0oKX1fYmluZEN1c3RvbUVmZmVjdEZvclJlbmRlclN1Yk1lc2hGb3JTaGFkb3dNYXAoZSx0KXt0LnNldE1hdHJpeCgidmlld1Byb2plY3Rpb24iLHRoaXMuZ2V0Q2FzY2FkZVRyYW5zZm9ybU1hdHJpeCh0aGlzLl9jdXJyZW50TGF5ZXIpKX1faXNSZWFkeUN1c3RvbURlZmluZXMoZSl7ZS5wdXNoKCIjZGVmaW5lIFNNX0RFUFRIQ0xBTVAgIisodGhpcy5fZGVwdGhDbGFtcCYmdGhpcy5fZmlsdGVyIT09Ry5GSUxURVJfUENTUz8iMSI6IjAiKSl9cHJlcGFyZURlZmluZXMoZSx0KXtzdXBlci5wcmVwYXJlRGVmaW5lcyhlLHQpO2NvbnN0IGk9dGhpcy5fc2NlbmUscz10aGlzLl9saWdodDtpZighaS5zaGFkb3dzRW5hYmxlZHx8IXMuc2hhZG93RW5hYmxlZClyZXR1cm47ZVsiU0hBRE9XQ1NNIit0XT0hMCxlWyJTSEFET1dDU01ERUJVRyIrdF09dGhpcy5kZWJ1ZyxlWyJTSEFET1dDU01OVU1fQ0FTQ0FERVMiK3RdPXRoaXMubnVtQ2FzY2FkZXMsZVsiU0hBRE9XQ1NNX1JJR0hUSEFOREVEIit0XT1pLnVzZVJpZ2h0SGFuZGVkU3lzdGVtO2NvbnN0IHI9dGhpcy5fZ2V0Q2FtZXJhKCk7ciYmdGhpcy5fc2hhZG93TWF4WjxyLm1heFomJihlWyJTSEFET1dDU01VU0VTSEFET1dNQVhaIit0XT0hMCksdGhpcy5jYXNjYWRlQmxlbmRQZXJjZW50YWdlPT09MCYmKGVbIlNIQURPV0NTTU5PQkxFTkQiK3RdPSEwKX1iaW5kU2hhZG93TGlnaHQoZSx0KXtjb25zdCBpPXRoaXMuX2xpZ2h0O2lmKCF0aGlzLl9zY2VuZS5zaGFkb3dzRW5hYmxlZHx8IWkuc2hhZG93RW5hYmxlZClyZXR1cm47Y29uc3Qgcj10aGlzLl9nZXRDYW1lcmEoKTtpZighcilyZXR1cm47Y29uc3Qgbj10aGlzLmdldFNoYWRvd01hcCgpO2lmKCFuKXJldHVybjtjb25zdCBhPW4uZ2V0U2l6ZSgpLndpZHRoO2lmKHQuc2V0TWF0cmljZXMoImxpZ2h0TWF0cml4IitlLHRoaXMuX3RyYW5zZm9ybU1hdHJpY2VzQXNBcnJheSksdC5zZXRBcnJheSgidmlld0ZydXN0dW1aIitlLHRoaXMuX3ZpZXdTcGFjZUZydXN0dW1zWiksdC5zZXRGbG9hdCgiY2FzY2FkZUJsZW5kRmFjdG9yIitlLHRoaXMuY2FzY2FkZUJsZW5kUGVyY2VudGFnZT09PTA/MWU0OjEvdGhpcy5jYXNjYWRlQmxlbmRQZXJjZW50YWdlKSx0LnNldEFycmF5KCJmcnVzdHVtTGVuZ3RocyIrZSx0aGlzLl9mcnVzdHVtTGVuZ3RocyksdGhpcy5fZmlsdGVyPT09Ry5GSUxURVJfUENGKXQuc2V0RGVwdGhTdGVuY2lsVGV4dHVyZSgic2hhZG93U2FtcGxlciIrZSxuKSxpLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0NCgic2hhZG93c0luZm8iLHRoaXMuZ2V0RGFya25lc3MoKSxhLDEvYSx0aGlzLmZydXN0dW1FZGdlRmFsbG9mZixlKTtlbHNlIGlmKHRoaXMuX2ZpbHRlcj09PUcuRklMVEVSX1BDU1Mpe2ZvcihsZXQgbz0wO288dGhpcy5fbnVtQ2FzY2FkZXM7KytvKXRoaXMuX2xpZ2h0U2l6ZVVWQ29ycmVjdGlvbltvKjIrMF09bz09PTA/MToodGhpcy5fY2FzY2FkZU1heEV4dGVudHNbMF0ueC10aGlzLl9jYXNjYWRlTWluRXh0ZW50c1swXS54KS8odGhpcy5fY2FzY2FkZU1heEV4dGVudHNbb10ueC10aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tvXS54KSx0aGlzLl9saWdodFNpemVVVkNvcnJlY3Rpb25bbyoyKzFdPW89PT0wPzE6KHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzWzBdLnktdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbMF0ueSkvKHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW29dLnktdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbb10ueSksdGhpcy5fZGVwdGhDb3JyZWN0aW9uW29dPW89PT0wPzE6KHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW29dLnotdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbb10ueikvKHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzWzBdLnotdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbMF0ueik7dC5zZXREZXB0aFN0ZW5jaWxUZXh0dXJlKCJzaGFkb3dTYW1wbGVyIitlLG4pLHQuc2V0VGV4dHVyZSgiZGVwdGhTYW1wbGVyIitlLG4pLHQuc2V0QXJyYXkyKCJsaWdodFNpemVVVkNvcnJlY3Rpb24iK2UsdGhpcy5fbGlnaHRTaXplVVZDb3JyZWN0aW9uKSx0LnNldEFycmF5KCJkZXB0aENvcnJlY3Rpb24iK2UsdGhpcy5fZGVwdGhDb3JyZWN0aW9uKSx0LnNldEZsb2F0KCJwZW51bWJyYURhcmtuZXNzIitlLHRoaXMucGVudW1icmFEYXJrbmVzcyksaS5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCksMS9hLHRoaXMuX2NvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvKmEsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsZSl9ZWxzZSB0LnNldFRleHR1cmUoInNoYWRvd1NhbXBsZXIiK2UsbiksaS5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCksYSwxL2EsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsZSk7aS5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDIoImRlcHRoVmFsdWVzIix0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNaW5aKHIpLHRoaXMuZ2V0TGlnaHQoKS5nZXREZXB0aE1pbloocikrdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWF4WihyKSxlKX1nZXRUcmFuc2Zvcm1NYXRyaXgoKXtyZXR1cm4gdGhpcy5nZXRDYXNjYWRlVHJhbnNmb3JtTWF0cml4KDApfWRpc3Bvc2UoKXtzdXBlci5kaXNwb3NlKCksdGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGUmJih0aGlzLl9zY2VuZS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlKSx0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZT1udWxsKSx0aGlzLl9kZXB0aFJlZHVjZXImJih0aGlzLl9kZXB0aFJlZHVjZXIuZGlzcG9zZSgpLHRoaXMuX2RlcHRoUmVkdWNlcj1udWxsKX1zZXJpYWxpemUoKXtjb25zdCBlPXN1cGVyLnNlcmlhbGl6ZSgpLHQ9dGhpcy5nZXRTaGFkb3dNYXAoKTtpZighdClyZXR1cm4gZTtpZihlLm51bUNhc2NhZGVzPXRoaXMuX251bUNhc2NhZGVzLGUuZGVidWc9dGhpcy5fZGVidWcsZS5zdGFiaWxpemVDYXNjYWRlcz10aGlzLnN0YWJpbGl6ZUNhc2NhZGVzLGUubGFtYmRhPXRoaXMuX2xhbWJkYSxlLmNhc2NhZGVCbGVuZFBlcmNlbnRhZ2U9dGhpcy5jYXNjYWRlQmxlbmRQZXJjZW50YWdlLGUuZGVwdGhDbGFtcD10aGlzLl9kZXB0aENsYW1wLGUuYXV0b0NhbGNEZXB0aEJvdW5kcz10aGlzLmF1dG9DYWxjRGVwdGhCb3VuZHMsZS5zaGFkb3dNYXhaPXRoaXMuX3NoYWRvd01heFosZS5wZW51bWJyYURhcmtuZXNzPXRoaXMucGVudW1icmFEYXJrbmVzcyxlLmZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm89dGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbyxlLm1pbkRpc3RhbmNlPXRoaXMubWluRGlzdGFuY2UsZS5tYXhEaXN0YW5jZT10aGlzLm1heERpc3RhbmNlLGUucmVuZGVyTGlzdD1bXSx0LnJlbmRlckxpc3QpZm9yKGxldCBpPTA7aTx0LnJlbmRlckxpc3QubGVuZ3RoO2krKyl7Y29uc3Qgcz10LnJlbmRlckxpc3RbaV07ZS5yZW5kZXJMaXN0LnB1c2gocy5pZCl9cmV0dXJuIGV9c3RhdGljIFBhcnNlKGUsdCl7Y29uc3QgaT1HLlBhcnNlKGUsdCwocyxyLG4pPT5uZXcga2UocyxyLHZvaWQgMCxuKSk7cmV0dXJuIGUubnVtQ2FzY2FkZXMhPT12b2lkIDAmJihpLm51bUNhc2NhZGVzPWUubnVtQ2FzY2FkZXMpLGUuZGVidWchPT12b2lkIDAmJihpLmRlYnVnPWUuZGVidWcpLGUuc3RhYmlsaXplQ2FzY2FkZXMhPT12b2lkIDAmJihpLnN0YWJpbGl6ZUNhc2NhZGVzPWUuc3RhYmlsaXplQ2FzY2FkZXMpLGUubGFtYmRhIT09dm9pZCAwJiYoaS5sYW1iZGE9ZS5sYW1iZGEpLGUuY2FzY2FkZUJsZW5kUGVyY2VudGFnZSE9PXZvaWQgMCYmKGkuY2FzY2FkZUJsZW5kUGVyY2VudGFnZT1lLmNhc2NhZGVCbGVuZFBlcmNlbnRhZ2UpLGUuZGVwdGhDbGFtcCE9PXZvaWQgMCYmKGkuZGVwdGhDbGFtcD1lLmRlcHRoQ2xhbXApLGUuYXV0b0NhbGNEZXB0aEJvdW5kcyE9PXZvaWQgMCYmKGkuYXV0b0NhbGNEZXB0aEJvdW5kcz1lLmF1dG9DYWxjRGVwdGhCb3VuZHMpLGUuc2hhZG93TWF4WiE9PXZvaWQgMCYmKGkuc2hhZG93TWF4Wj1lLnNoYWRvd01heFopLGUucGVudW1icmFEYXJrbmVzcyE9PXZvaWQgMCYmKGkucGVudW1icmFEYXJrbmVzcz1lLnBlbnVtYnJhRGFya25lc3MpLGUuZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbyE9PXZvaWQgMCYmKGkuZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbz1lLmZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8pLGUubWluRGlzdGFuY2UhPT12b2lkIDAmJmUubWF4RGlzdGFuY2UhPT12b2lkIDAmJmkuc2V0TWluTWF4RGlzdGFuY2UoZS5taW5EaXN0YW5jZSxlLm1heERpc3RhbmNlKSxpfX1rZS5fRnJ1c3R1bUNvcm5lcnNORENTcGFjZT1bbmV3IHAoLTEsMSwtMSksbmV3IHAoMSwxLC0xKSxuZXcgcCgxLC0xLC0xKSxuZXcgcCgtMSwtMSwtMSksbmV3IHAoLTEsMSwxKSxuZXcgcCgxLDEsMSksbmV3IHAoMSwtMSwxKSxuZXcgcCgtMSwtMSwxKV0sa2UuQ0xBU1NOQU1FPSJDYXNjYWRlZFNoYWRvd0dlbmVyYXRvciIsa2UuREVGQVVMVF9DQVNDQURFU19DT1VOVD00LGtlLk1JTl9DQVNDQURFU19DT1VOVD0yLGtlLk1BWF9DQVNDQURFU19DT1VOVD00LGtlLl9TY2VuZUNvbXBvbmVudEluaXRpYWxpemF0aW9uPWM9Pnt0aHJvdyAkKCJTaGFkb3dHZW5lcmF0b3JTY2VuZUNvbXBvbmVudCIpfSxaaS5BZGRQYXJzZXIocS5OQU1FX1NIQURPV0dFTkVSQVRPUiwoYyxlKT0+e2lmKGMuc2hhZG93R2VuZXJhdG9ycyE9PXZvaWQgMCYmYy5zaGFkb3dHZW5lcmF0b3JzIT09bnVsbClmb3IobGV0IHQ9MCxpPWMuc2hhZG93R2VuZXJhdG9ycy5sZW5ndGg7dDxpO3QrKyl7Y29uc3Qgcz1jLnNoYWRvd0dlbmVyYXRvcnNbdF07cy5jbGFzc05hbWU9PT1rZS5DTEFTU05BTUU/a2UuUGFyc2UocyxlKTpHLlBhcnNlKHMsZSl9fSk7Y2xhc3MgTG97Y29uc3RydWN0b3IoZSl7dGhpcy5uYW1lPXEuTkFNRV9TSEFET1dHRU5FUkFUT1IsdGhpcy5zY2VuZT1lfXJlZ2lzdGVyKCl7dGhpcy5zY2VuZS5fZ2F0aGVyUmVuZGVyVGFyZ2V0c1N0YWdlLnJlZ2lzdGVyU3RlcChxLlNURVBfR0FUSEVSUkVOREVSVEFSR0VUU19TSEFET1dHRU5FUkFUT1IsdGhpcyx0aGlzLl9nYXRoZXJSZW5kZXJUYXJnZXRzKX1yZWJ1aWxkKCl7fXNlcmlhbGl6ZShlKXtlLnNoYWRvd0dlbmVyYXRvcnM9W107Y29uc3QgdD10aGlzLnNjZW5lLmxpZ2h0cztmb3IoY29uc3QgaSBvZiB0KXtjb25zdCBzPWkuZ2V0U2hhZG93R2VuZXJhdG9ycygpO2lmKHMpe2NvbnN0IHI9cy52YWx1ZXMoKTtmb3IobGV0IG49ci5uZXh0KCk7bi5kb25lIT09ITA7bj1yLm5leHQoKSl7Y29uc3QgYT1uLnZhbHVlO2Uuc2hhZG93R2VuZXJhdG9ycy5wdXNoKGEuc2VyaWFsaXplKCkpfX19fWFkZEZyb21Db250YWluZXIoZSl7fXJlbW92ZUZyb21Db250YWluZXIoZSx0KXt9ZGlzcG9zZSgpe31fZ2F0aGVyUmVuZGVyVGFyZ2V0cyhlKXtjb25zdCB0PXRoaXMuc2NlbmU7aWYodGhpcy5zY2VuZS5zaGFkb3dzRW5hYmxlZClmb3IobGV0IGk9MDtpPHQubGlnaHRzLmxlbmd0aDtpKyspe2NvbnN0IHM9dC5saWdodHNbaV0scj1zLmdldFNoYWRvd0dlbmVyYXRvcnMoKTtpZihzLmlzRW5hYmxlZCgpJiZzLnNoYWRvd0VuYWJsZWQmJnIpe2NvbnN0IG49ci52YWx1ZXMoKTtmb3IobGV0IGE9bi5uZXh0KCk7YS5kb25lIT09ITA7YT1uLm5leHQoKSl7Y29uc3QgaD1hLnZhbHVlLmdldFNoYWRvd01hcCgpO3QudGV4dHVyZXMuaW5kZXhPZihoKSE9PS0xJiZlLnB1c2goaCl9fX19fUcuX1NjZW5lQ29tcG9uZW50SW5pdGlhbGl6YXRpb249Yz0+e2xldCBlPWMuX2dldENvbXBvbmVudChxLk5BTUVfU0hBRE9XR0VORVJBVE9SKTtlfHwoZT1uZXcgTG8oYyksYy5fYWRkQ29tcG9uZW50KGUpKX07Y29uc3QgTm89e2VuYWJsZVNoYWRvd3M6ITB9O2Z1bmN0aW9uIEJyKGM9Tm8pe2NvbnN0e2VuYWJsZVNoYWRvd3M6ZSxzaGFkb3dUcmFuc3BhcmVuY3k6dCxpbnRlbnNpdHk6aSxzY2VuZTpzfT1jLHI9bmV3IEl0KCJEaXJlY3Rpb25hbExpZ2h0IixuZXcgcCgtLjMsLTEsLjQpLHMpO3IucG9zaXRpb249bmV3IHAoLTUwLDY1LC01MCksci5pbnRlbnNpdHk9LjY1Kmk7Y29uc3Qgbj1uZXcgbnMoIkhlbWlzcGhlcmljTGlnaHQiLG5ldyBwKDEsMSwwKSxzKTtyZXR1cm4gbi5pbnRlbnNpdHk9LjQqaSxlJiYoci5zaGFkb3dNaW5aPTEsci5zaGFkb3dNYXhaPTcwLHIuc2hhZG93R2VuZXJhdG9yPW5ldyBHKDIwNDgsciksci5zaGFkb3dHZW5lcmF0b3IudXNlQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMCxyLnNoYWRvd0dlbmVyYXRvci5kYXJrbmVzcz10KSx7ZGlyZWN0aW9uYWw6cixoZW1pc3BoZXJpYzpufX1mdW5jdGlvbiBVcihjKXtsZXQgdD1bMCwxLDIsMCwyLDMsNCw1LDYsNCw2LDcsOCw5LDEwLDgsMTAsMTEsMTIsMTMsMTQsMTIsMTQsMTUsMTYsMTcsMTgsMTYsMTgsMTksMjAsMjEsMjIsMjAsMjIsMjNdO2NvbnN0IGk9WzAsMCwxLDAsMCwxLDAsMCwxLDAsMCwxLDAsMCwtMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwxLDAsMCwxLDAsMCwxLDAsMCwxLDAsMCwtMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDAsMCwxLDAsMCwxLDAsMCwxLDAsMCwxLDAsMCwtMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwXSxzPVtdO2xldCByPVtdO2NvbnN0IG49Yy53aWR0aHx8Yy5zaXplfHwxLGE9Yy5oZWlnaHR8fGMuc2l6ZXx8MSxvPWMuZGVwdGh8fGMuc2l6ZXx8MSxoPWMud3JhcHx8ITE7bGV0IGw9Yy50b3BCYXNlQXQ9PT12b2lkIDA/MTpjLnRvcEJhc2VBdCx1PWMuYm90dG9tQmFzZUF0PT09dm9pZCAwPzA6Yy5ib3R0b21CYXNlQXQ7bD0obCs0KSU0LHU9KHUrNCklNDtjb25zdCBkPVsyLDAsMywxXSxmPVsyLDAsMSwzXTtsZXQgXz1kW2xdLEU9Zlt1XSxtPVsxLC0xLDEsLTEsLTEsMSwtMSwxLDEsMSwxLDEsMSwxLC0xLC0xLDEsLTEsLTEsLTEsLTEsMSwtMSwtMSwxLDEsLTEsMSwtMSwtMSwxLC0xLDEsMSwxLDEsLTEsMSwxLC0xLC0xLDEsLTEsLTEsLTEsLTEsMSwtMSwtMSwxLDEsLTEsMSwtMSwxLDEsLTEsMSwxLDEsMSwtMSwxLDEsLTEsLTEsLTEsLTEsLTEsLTEsLTEsMV07aWYoaCl7dD1bMiwzLDAsMiwwLDEsNCw1LDYsNCw2LDcsOSwxMCwxMSw5LDExLDgsMTIsMTQsMTUsMTIsMTMsMTRdLG09Wy0xLDEsMSwxLDEsMSwxLC0xLDEsLTEsLTEsMSwxLDEsLTEsLTEsMSwtMSwtMSwtMSwtMSwxLC0xLC0xLDEsMSwxLDEsMSwtMSwxLC0xLC0xLDEsLTEsMSwtMSwxLC0xLC0xLDEsMSwtMSwtMSwxLC0xLC0xLC0xXTtsZXQgTT1bWzEsMSwxXSxbLTEsMSwxXSxbLTEsMSwtMV0sWzEsMSwtMV1dLEw9W1stMSwtMSwxXSxbMSwtMSwxXSxbMSwtMSwtMV0sWy0xLC0xLC0xXV07Y29uc3Qgaz1bMTcsMTgsMTksMTZdLHc9WzIyLDIzLDIwLDIxXTtmb3IoO18+MDspTS51bnNoaWZ0KE0ucG9wKCkpLGsudW5zaGlmdChrLnBvcCgpKSxfLS07Zm9yKDtFPjA7KUwudW5zaGlmdChMLnBvcCgpKSx3LnVuc2hpZnQody5wb3AoKSksRS0tO009TS5mbGF0KCksTD1MLmZsYXQoKSxtPW0uY29uY2F0KE0pLmNvbmNhdChMKSx0LnB1c2goa1swXSxrWzJdLGtbM10sa1swXSxrWzFdLGtbMl0pLHQucHVzaCh3WzBdLHdbMl0sd1szXSx3WzBdLHdbMV0sd1syXSl9Y29uc3Qgdj1bbi8yLGEvMixvLzJdO3I9bS5yZWR1Y2UoKE0sTCxrKT0+TS5jb25jYXQoTCp2W2slM10pLFtdKTtjb25zdCBTPWMuc2lkZU9yaWVudGF0aW9uPT09MD8wOmMuc2lkZU9yaWVudGF0aW9ufHxlZS5ERUZBVUxUU0lERSx5PWMuZmFjZVVWfHxuZXcgQXJyYXkoNiksQT1jLmZhY2VDb2xvcnMsQz1bXTtmb3IobGV0IE09MDtNPDY7TSsrKXlbTV09PT12b2lkIDAmJih5W01dPW5ldyBDZSgwLDAsMSwxKSksQSYmQVtNXT09PXZvaWQgMCYmKEFbTV09bmV3IG1lKDEsMSwxLDEpKTtmb3IobGV0IE09MDtNPDY7TSsrKWlmKHMucHVzaCh5W01dLnosZnQuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVj8xLXlbTV0udzp5W01dLncpLHMucHVzaCh5W01dLngsZnQuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVj8xLXlbTV0udzp5W01dLncpLHMucHVzaCh5W01dLngsZnQuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVj8xLXlbTV0ueTp5W01dLnkpLHMucHVzaCh5W01dLnosZnQuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVj8xLXlbTV0ueTp5W01dLnkpLEEpZm9yKGxldCBMPTA7TDw0O0wrKylDLnB1c2goQVtNXS5yLEFbTV0uZyxBW01dLmIsQVtNXS5hKTtlZS5fQ29tcHV0ZVNpZGVzKFMscix0LGkscyxjLmZyb250VVZzLGMuYmFja1VWcyk7Y29uc3QgYj1uZXcgZWU7aWYoYi5pbmRpY2VzPXQsYi5wb3NpdGlvbnM9cixiLm5vcm1hbHM9aSxiLnV2cz1zLEEpe2NvbnN0IE09Uz09PWVlLkRPVUJMRVNJREU/Qy5jb25jYXQoQyk6QztiLmNvbG9ycz1NfXJldHVybiBifWZ1bmN0aW9uIE1pKGMsZT17fSx0PW51bGwpe2NvbnN0IGk9bmV3IFcoYyx0KTtyZXR1cm4gZS5zaWRlT3JpZW50YXRpb249Vy5fR2V0RGVmYXVsdFNpZGVPcmllbnRhdGlvbihlLnNpZGVPcmllbnRhdGlvbiksaS5fb3JpZ2luYWxCdWlsZGVyU2lkZU9yaWVudGF0aW9uPWUuc2lkZU9yaWVudGF0aW9uLFVyKGUpLmFwcGx5VG9NZXNoKGksZS51cGRhdGFibGUpLGl9ZWUuQ3JlYXRlQm94PVVyLFcuQ3JlYXRlQm94PShjLGUsdD1udWxsLGkscyk9Pk1pKGMse3NpemU6ZSxzaWRlT3JpZW50YXRpb246cyx1cGRhdGFibGU6aX0sdCk7Y2xhc3Mga3J7Y29uc3RydWN0b3IoKXt0aGlzLnByZXZpb3VzV29ybGRNYXRyaWNlcz17fSx0aGlzLnByZXZpb3VzQm9uZXM9e319c3RhdGljIEFkZFVuaWZvcm1zKGUpe2UucHVzaCgicHJldmlvdXNXb3JsZCIsInByZXZpb3VzVmlld1Byb2plY3Rpb24iLCJtUHJldmlvdXNCb25lcyIpfXN0YXRpYyBBZGRTYW1wbGVycyhlKXt9YmluZEZvclN1Yk1lc2goZSx0LGkscyxyKXtpZih0LnByZVBhc3NSZW5kZXJlciYmdC5wcmVQYXNzUmVuZGVyZXIuZW5hYmxlZCYmdC5wcmVQYXNzUmVuZGVyZXIuY3VycmVudFJUaXNTY2VuZVJUJiZ0LnByZVBhc3NSZW5kZXJlci5nZXRJbmRleCgyKSE9PS0xKXt0aGlzLnByZXZpb3VzV29ybGRNYXRyaWNlc1tpLnVuaXF1ZUlkXXx8KHRoaXMucHJldmlvdXNXb3JsZE1hdHJpY2VzW2kudW5pcXVlSWRdPXMuY2xvbmUoKSksdGhpcy5wcmV2aW91c1ZpZXdQcm9qZWN0aW9ufHwodGhpcy5wcmV2aW91c1ZpZXdQcm9qZWN0aW9uPXQuZ2V0VHJhbnNmb3JtTWF0cml4KCkuY2xvbmUoKSx0aGlzLmN1cnJlbnRWaWV3UHJvamVjdGlvbj10LmdldFRyYW5zZm9ybU1hdHJpeCgpLmNsb25lKCkpO2NvbnN0IG49dC5nZXRFbmdpbmUoKTt0aGlzLmN1cnJlbnRWaWV3UHJvamVjdGlvbi51cGRhdGVGbGFnIT09dC5nZXRUcmFuc2Zvcm1NYXRyaXgoKS51cGRhdGVGbGFnPyh0aGlzLl9sYXN0VXBkYXRlRnJhbWVJZD1uLmZyYW1lSWQsdGhpcy5wcmV2aW91c1ZpZXdQcm9qZWN0aW9uLmNvcHlGcm9tKHRoaXMuY3VycmVudFZpZXdQcm9qZWN0aW9uKSx0aGlzLmN1cnJlbnRWaWV3UHJvamVjdGlvbi5jb3B5RnJvbSh0LmdldFRyYW5zZm9ybU1hdHJpeCgpKSk6dGhpcy5fbGFzdFVwZGF0ZUZyYW1lSWQhPT1uLmZyYW1lSWQmJih0aGlzLl9sYXN0VXBkYXRlRnJhbWVJZD1uLmZyYW1lSWQsdGhpcy5wcmV2aW91c1ZpZXdQcm9qZWN0aW9uLmNvcHlGcm9tKHRoaXMuY3VycmVudFZpZXdQcm9qZWN0aW9uKSksZS5zZXRNYXRyaXgoInByZXZpb3VzV29ybGQiLHRoaXMucHJldmlvdXNXb3JsZE1hdHJpY2VzW2kudW5pcXVlSWRdKSxlLnNldE1hdHJpeCgicHJldmlvdXNWaWV3UHJvamVjdGlvbiIsdGhpcy5wcmV2aW91c1ZpZXdQcm9qZWN0aW9uKSx0aGlzLnByZXZpb3VzV29ybGRNYXRyaWNlc1tpLnVuaXF1ZUlkXT1zLmNsb25lKCl9fX1jbGFzcyBWciBleHRlbmRzIFB7Y29uc3RydWN0b3IoZSx0LGk9ITApe3N1cGVyKGUsdCksdGhpcy5fbm9ybWFsTWF0cml4PW5ldyB4LHRoaXMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXM9aX1nZXRFZmZlY3QoKXtyZXR1cm4gdGhpcy5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcz90aGlzLl9hY3RpdmVFZmZlY3Q6c3VwZXIuZ2V0RWZmZWN0KCl9aXNSZWFkeShlLHQpe3JldHVybiBlPyF0aGlzLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzfHwhZS5zdWJNZXNoZXN8fGUuc3ViTWVzaGVzLmxlbmd0aD09PTA/ITA6dGhpcy5pc1JlYWR5Rm9yU3ViTWVzaChlLGUuc3ViTWVzaGVzWzBdLHQpOiExfV9pc1JlYWR5Rm9yU3ViTWVzaChlKXtjb25zdCB0PWUubWF0ZXJpYWxEZWZpbmVzO3JldHVybiEhKCF0aGlzLmNoZWNrUmVhZHlPbkV2ZXJ5Q2FsbCYmZS5lZmZlY3QmJnQmJnQuX3JlbmRlcklkPT09dGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCkpfWJpbmRPbmx5V29ybGRNYXRyaXgoZSl7dGhpcy5fYWN0aXZlRWZmZWN0LnNldE1hdHJpeCgid29ybGQiLGUpfWJpbmRPbmx5Tm9ybWFsTWF0cml4KGUpe3RoaXMuX2FjdGl2ZUVmZmVjdC5zZXRNYXRyaXgoIm5vcm1hbE1hdHJpeCIsZSl9YmluZChlLHQpe3QmJnRoaXMuYmluZEZvclN1Yk1lc2goZSx0LHQuc3ViTWVzaGVzWzBdKX1fYWZ0ZXJCaW5kKGUsdD1udWxsKXtzdXBlci5fYWZ0ZXJCaW5kKGUsdCksdGhpcy5nZXRTY2VuZSgpLl9jYWNoZWRFZmZlY3Q9dCx0JiYodC5fZm9yY2VSZWJpbmRPbk5leHRDYWxsPSExKX1fbXVzdFJlYmluZChlLHQsaT0xKXtyZXR1cm4gZS5pc0NhY2hlZE1hdGVyaWFsSW52YWxpZCh0aGlzLHQsaSl9fWNsYXNzIHVle3N0YXRpYyBnZXQgRGlmZnVzZVRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0RpZmZ1c2VUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IERpZmZ1c2VUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9EaWZmdXNlVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fRGlmZnVzZVRleHR1cmVFbmFibGVkPWUsSS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBEZXRhaWxUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9EZXRhaWxUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IERldGFpbFRleHR1cmVFbmFibGVkKGUpe3RoaXMuX0RldGFpbFRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0RldGFpbFRleHR1cmVFbmFibGVkPWUsSS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBBbWJpZW50VGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fQW1iaWVudFRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgQW1iaWVudFRleHR1cmVFbmFibGVkKGUpe3RoaXMuX0FtYmllbnRUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9BbWJpZW50VGV4dHVyZUVuYWJsZWQ9ZSxJLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IE9wYWNpdHlUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9PcGFjaXR5VGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBPcGFjaXR5VGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fT3BhY2l0eVRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX09wYWNpdHlUZXh0dXJlRW5hYmxlZD1lLEkuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgUmVmbGVjdGlvblRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX1JlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IFJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fUmVmbGVjdGlvblRleHR1cmVFbmFibGVkPWUsSS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBFbWlzc2l2ZVRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0VtaXNzaXZlVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBFbWlzc2l2ZVRleHR1cmVFbmFibGVkKGUpe3RoaXMuX0VtaXNzaXZlVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fRW1pc3NpdmVUZXh0dXJlRW5hYmxlZD1lLEkuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgU3BlY3VsYXJUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9TcGVjdWxhclRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgU3BlY3VsYXJUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9TcGVjdWxhclRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX1NwZWN1bGFyVGV4dHVyZUVuYWJsZWQ9ZSxJLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IEJ1bXBUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9CdW1wVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBCdW1wVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fQnVtcFRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0J1bXBUZXh0dXJlRW5hYmxlZD1lLEkuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgTGlnaHRtYXBUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9MaWdodG1hcFRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgTGlnaHRtYXBUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9MaWdodG1hcFRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0xpZ2h0bWFwVGV4dHVyZUVuYWJsZWQ9ZSxJLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IFJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBSZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fUmVmcmFjdGlvblRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX1JlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZD1lLEkuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBDb2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9Db2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9Db2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZD1lLEkuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgRnJlc25lbEVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fRnJlc25lbEVuYWJsZWR9c3RhdGljIHNldCBGcmVzbmVsRW5hYmxlZChlKXt0aGlzLl9GcmVzbmVsRW5hYmxlZCE9PWUmJih0aGlzLl9GcmVzbmVsRW5hYmxlZD1lLEkuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoNCkpfXN0YXRpYyBnZXQgQ2xlYXJDb2F0VGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fQ2xlYXJDb2F0VGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBDbGVhckNvYXRUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9DbGVhckNvYXRUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9DbGVhckNvYXRUZXh0dXJlRW5hYmxlZD1lLEkuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgQ2xlYXJDb2F0QnVtcFRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0NsZWFyQ29hdEJ1bXBUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IENsZWFyQ29hdEJ1bXBUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9DbGVhckNvYXRCdW1wVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fQ2xlYXJDb2F0QnVtcFRleHR1cmVFbmFibGVkPWUsSS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBDbGVhckNvYXRUaW50VGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fQ2xlYXJDb2F0VGludFRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgQ2xlYXJDb2F0VGludFRleHR1cmVFbmFibGVkKGUpe3RoaXMuX0NsZWFyQ29hdFRpbnRUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9DbGVhckNvYXRUaW50VGV4dHVyZUVuYWJsZWQ9ZSxJLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IFNoZWVuVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fU2hlZW5UZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IFNoZWVuVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fU2hlZW5UZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9TaGVlblRleHR1cmVFbmFibGVkPWUsSS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBBbmlzb3Ryb3BpY1RleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0FuaXNvdHJvcGljVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBBbmlzb3Ryb3BpY1RleHR1cmVFbmFibGVkKGUpe3RoaXMuX0FuaXNvdHJvcGljVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fQW5pc290cm9waWNUZXh0dXJlRW5hYmxlZD1lLEkuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBUaGlja25lc3NUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9UaGlja25lc3NUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9UaGlja25lc3NUZXh0dXJlRW5hYmxlZD1lLEkuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgUmVmcmFjdGlvbkludGVuc2l0eVRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX1RoaWNrbmVzc1RleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgUmVmcmFjdGlvbkludGVuc2l0eVRleHR1cmVFbmFibGVkKGUpe3RoaXMuX1JlZnJhY3Rpb25JbnRlbnNpdHlUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9SZWZyYWN0aW9uSW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQ9ZSxJLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IFRyYW5zbHVjZW5jeUludGVuc2l0eVRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX1RoaWNrbmVzc1RleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgVHJhbnNsdWNlbmN5SW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fVHJhbnNsdWNlbmN5SW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fVHJhbnNsdWNlbmN5SW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQ9ZSxJLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IElyaWRlc2NlbmNlVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fSXJpZGVzY2VuY2VUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IElyaWRlc2NlbmNlVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fSXJpZGVzY2VuY2VUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9JcmlkZXNjZW5jZVRleHR1cmVFbmFibGVkPWUsSS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9fXVlLl9EaWZmdXNlVGV4dHVyZUVuYWJsZWQ9ITAsdWUuX0RldGFpbFRleHR1cmVFbmFibGVkPSEwLHVlLl9BbWJpZW50VGV4dHVyZUVuYWJsZWQ9ITAsdWUuX09wYWNpdHlUZXh0dXJlRW5hYmxlZD0hMCx1ZS5fUmVmbGVjdGlvblRleHR1cmVFbmFibGVkPSEwLHVlLl9FbWlzc2l2ZVRleHR1cmVFbmFibGVkPSEwLHVlLl9TcGVjdWxhclRleHR1cmVFbmFibGVkPSEwLHVlLl9CdW1wVGV4dHVyZUVuYWJsZWQ9ITAsdWUuX0xpZ2h0bWFwVGV4dHVyZUVuYWJsZWQ9ITAsdWUuX1JlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZD0hMCx1ZS5fQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWQ9ITAsdWUuX0ZyZXNuZWxFbmFibGVkPSEwLHVlLl9DbGVhckNvYXRUZXh0dXJlRW5hYmxlZD0hMCx1ZS5fQ2xlYXJDb2F0QnVtcFRleHR1cmVFbmFibGVkPSEwLHVlLl9DbGVhckNvYXRUaW50VGV4dHVyZUVuYWJsZWQ9ITAsdWUuX1NoZWVuVGV4dHVyZUVuYWJsZWQ9ITAsdWUuX0FuaXNvdHJvcGljVGV4dHVyZUVuYWJsZWQ9ITAsdWUuX1RoaWNrbmVzc1RleHR1cmVFbmFibGVkPSEwLHVlLl9SZWZyYWN0aW9uSW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQ9ITAsdWUuX1RyYW5zbHVjZW5jeUludGVuc2l0eVRleHR1cmVFbmFibGVkPSEwLHVlLl9JcmlkZXNjZW5jZVRleHR1cmVFbmFibGVkPSEwO2NvbnN0IEJvPSJkZWZhdWx0RnJhZ21lbnREZWNsYXJhdGlvbiIsVW89YHVuaWZvcm0gdmVjNCB2RXllUG9zaXRpb247CnVuaWZvcm0gdmVjNCB2RGlmZnVzZUNvbG9yOwojaWZkZWYgU1BFQ1VMQVJURVJNCnVuaWZvcm0gdmVjNCB2U3BlY3VsYXJDb2xvcjsKI2VuZGlmCnVuaWZvcm0gdmVjMyB2RW1pc3NpdmVDb2xvcjsKdW5pZm9ybSB2ZWMzIHZBbWJpZW50Q29sb3I7CnVuaWZvcm0gZmxvYXQgdmlzaWJpbGl0eTsKI2lmZGVmIERJRkZVU0UKdW5pZm9ybSB2ZWMyIHZEaWZmdXNlSW5mb3M7CiNlbmRpZgojaWZkZWYgQU1CSUVOVAp1bmlmb3JtIHZlYzIgdkFtYmllbnRJbmZvczsKI2VuZGlmCiNpZmRlZiBPUEFDSVRZIAp1bmlmb3JtIHZlYzIgdk9wYWNpdHlJbmZvczsKI2VuZGlmCiNpZmRlZiBFTUlTU0lWRQp1bmlmb3JtIHZlYzIgdkVtaXNzaXZlSW5mb3M7CiNlbmRpZgojaWZkZWYgTElHSFRNQVAKdW5pZm9ybSB2ZWMyIHZMaWdodG1hcEluZm9zOwojZW5kaWYKI2lmZGVmIEJVTVAKdW5pZm9ybSB2ZWMzIHZCdW1wSW5mb3M7CnVuaWZvcm0gdmVjMiB2VGFuZ2VudFNwYWNlUGFyYW1zOwojZW5kaWYKI2lmZGVmIEFMUEhBVEVTVAp1bmlmb3JtIGZsb2F0IGFscGhhQ3V0T2ZmOwojZW5kaWYKI2lmIGRlZmluZWQoUkVGTEVDVElPTk1BUF9TUEhFUklDQUwpIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9QUk9KRUNUSU9OKSB8fCBkZWZpbmVkKFJFRlJBQ1RJT04pIHx8IGRlZmluZWQoUFJFUEFTUykKdW5pZm9ybSBtYXQ0IHZpZXc7CiNlbmRpZgojaWZkZWYgUkVGUkFDVElPTgp1bmlmb3JtIHZlYzQgdlJlZnJhY3Rpb25JbmZvczsKI2lmbmRlZiBSRUZSQUNUSU9OTUFQXzNECnVuaWZvcm0gbWF0NCByZWZyYWN0aW9uTWF0cml4OwojZW5kaWYKI2lmZGVmIFJFRlJBQ1RJT05GUkVTTkVMCnVuaWZvcm0gdmVjNCByZWZyYWN0aW9uTGVmdENvbG9yOwp1bmlmb3JtIHZlYzQgcmVmcmFjdGlvblJpZ2h0Q29sb3I7CiNlbmRpZgojaWYgZGVmaW5lZChVU0VfTE9DQUxfUkVGUkFDVElPTk1BUF9DVUJJQykgJiYgZGVmaW5lZChSRUZSQUNUSU9OTUFQXzNEKQp1bmlmb3JtIHZlYzMgdlJlZnJhY3Rpb25Qb3NpdGlvbjsKdW5pZm9ybSB2ZWMzIHZSZWZyYWN0aW9uU2l6ZTsgCiNlbmRpZgojZW5kaWYKI2lmIGRlZmluZWQoU1BFQ1VMQVIpICYmIGRlZmluZWQoU1BFQ1VMQVJURVJNKQp1bmlmb3JtIHZlYzIgdlNwZWN1bGFySW5mb3M7CiNlbmRpZgojaWZkZWYgRElGRlVTRUZSRVNORUwKdW5pZm9ybSB2ZWM0IGRpZmZ1c2VMZWZ0Q29sb3I7CnVuaWZvcm0gdmVjNCBkaWZmdXNlUmlnaHRDb2xvcjsKI2VuZGlmCiNpZmRlZiBPUEFDSVRZRlJFU05FTAp1bmlmb3JtIHZlYzQgb3BhY2l0eVBhcnRzOwojZW5kaWYKI2lmZGVmIEVNSVNTSVZFRlJFU05FTAp1bmlmb3JtIHZlYzQgZW1pc3NpdmVMZWZ0Q29sb3I7CnVuaWZvcm0gdmVjNCBlbWlzc2l2ZVJpZ2h0Q29sb3I7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTgp1bmlmb3JtIHZlYzIgdlJlZmxlY3Rpb25JbmZvczsKI2lmIGRlZmluZWQoUkVGTEVDVElPTk1BUF9QTEFOQVIpIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9DVUJJQykgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04pIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVIpIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9TUEhFUklDQUwpIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9TS1lCT1gpCnVuaWZvcm0gbWF0NCByZWZsZWN0aW9uTWF0cml4OwojZW5kaWYKI2lmbmRlZiBSRUZMRUNUSU9OTUFQX1NLWUJPWAojaWYgZGVmaW5lZChVU0VfTE9DQUxfUkVGTEVDVElPTk1BUF9DVUJJQykgJiYgZGVmaW5lZChSRUZMRUNUSU9OTUFQX0NVQklDKQp1bmlmb3JtIHZlYzMgdlJlZmxlY3Rpb25Qb3NpdGlvbjsKdW5pZm9ybSB2ZWMzIHZSZWZsZWN0aW9uU2l6ZTsgCiNlbmRpZgojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05GUkVTTkVMCnVuaWZvcm0gdmVjNCByZWZsZWN0aW9uTGVmdENvbG9yOwp1bmlmb3JtIHZlYzQgcmVmbGVjdGlvblJpZ2h0Q29sb3I7CiNlbmRpZgojZW5kaWYKI2lmZGVmIERFVEFJTAp1bmlmb3JtIHZlYzQgdkRldGFpbEluZm9zOwojZW5kaWYKI2RlZmluZSBBRERJVElPTkFMX0ZSQUdNRU5UX0RFQ0xBUkFUSU9OCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtCb109VW87Y29uc3Qga289ImRlZmF1bHRVYm9EZWNsYXJhdGlvbiIsVm89YGxheW91dChzdGQxNDAsY29sdW1uX21ham9yKSB1bmlmb3JtOwp1bmlmb3JtIE1hdGVyaWFsCnsKdmVjNCBkaWZmdXNlTGVmdENvbG9yOwp2ZWM0IGRpZmZ1c2VSaWdodENvbG9yOwp2ZWM0IG9wYWNpdHlQYXJ0czsKdmVjNCByZWZsZWN0aW9uTGVmdENvbG9yOwp2ZWM0IHJlZmxlY3Rpb25SaWdodENvbG9yOwp2ZWM0IHJlZnJhY3Rpb25MZWZ0Q29sb3I7CnZlYzQgcmVmcmFjdGlvblJpZ2h0Q29sb3I7CnZlYzQgZW1pc3NpdmVMZWZ0Q29sb3I7CnZlYzQgZW1pc3NpdmVSaWdodENvbG9yOwp2ZWMyIHZEaWZmdXNlSW5mb3M7CnZlYzIgdkFtYmllbnRJbmZvczsKdmVjMiB2T3BhY2l0eUluZm9zOwp2ZWMyIHZSZWZsZWN0aW9uSW5mb3M7CnZlYzMgdlJlZmxlY3Rpb25Qb3NpdGlvbjsKdmVjMyB2UmVmbGVjdGlvblNpemU7CnZlYzIgdkVtaXNzaXZlSW5mb3M7CnZlYzIgdkxpZ2h0bWFwSW5mb3M7CnZlYzIgdlNwZWN1bGFySW5mb3M7CnZlYzMgdkJ1bXBJbmZvczsKbWF0NCBkaWZmdXNlTWF0cml4OwptYXQ0IGFtYmllbnRNYXRyaXg7Cm1hdDQgb3BhY2l0eU1hdHJpeDsKbWF0NCByZWZsZWN0aW9uTWF0cml4OwptYXQ0IGVtaXNzaXZlTWF0cml4OwptYXQ0IGxpZ2h0bWFwTWF0cml4OwptYXQ0IHNwZWN1bGFyTWF0cml4OwptYXQ0IGJ1bXBNYXRyaXg7CnZlYzIgdlRhbmdlbnRTcGFjZVBhcmFtczsKZmxvYXQgcG9pbnRTaXplOwpmbG9hdCBhbHBoYUN1dE9mZjsKbWF0NCByZWZyYWN0aW9uTWF0cml4Owp2ZWM0IHZSZWZyYWN0aW9uSW5mb3M7CnZlYzMgdlJlZnJhY3Rpb25Qb3NpdGlvbjsKdmVjMyB2UmVmcmFjdGlvblNpemU7CnZlYzQgdlNwZWN1bGFyQ29sb3I7CnZlYzMgdkVtaXNzaXZlQ29sb3I7CnZlYzQgdkRpZmZ1c2VDb2xvcjsKdmVjMyB2QW1iaWVudENvbG9yOwojZGVmaW5lIEFERElUSU9OQUxfVUJPX0RFQ0xBUkFUSU9OCn07CiNpbmNsdWRlPHNjZW5lVWJvRGVjbGFyYXRpb24+CiNpbmNsdWRlPG1lc2hVYm9EZWNsYXJhdGlvbj4KYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2tvXT1Wbztjb25zdCBXbz0icHJlUGFzc0RlY2xhcmF0aW9uIix6bz1gI2lmZGVmIFBSRVBBU1MKI2V4dGVuc2lvbiBHTF9FWFRfZHJhd19idWZmZXJzIDogcmVxdWlyZQpsYXlvdXQobG9jYXRpb249MCkgb3V0IGhpZ2hwIHZlYzQgZ2xGcmFnRGF0YVt7WH1dO2hpZ2hwIHZlYzQgZ2xfRnJhZ0NvbG9yOwojaWZkZWYgUFJFUEFTU19ERVBUSAp2YXJ5aW5nIGhpZ2hwIHZlYzMgdlZpZXdQb3M7CiNlbmRpZgojaWZkZWYgUFJFUEFTU19WRUxPQ0lUWQp2YXJ5aW5nIGhpZ2hwIHZlYzQgdkN1cnJlbnRQb3NpdGlvbjt2YXJ5aW5nIGhpZ2hwIHZlYzQgdlByZXZpb3VzUG9zaXRpb247CiNlbmRpZgojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1dvXT16bztjb25zdCBHbz0ib2l0RGVjbGFyYXRpb24iLFhvPWAjaWZkZWYgT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZCiNleHRlbnNpb24gR0xfRVhUX2RyYXdfYnVmZmVycyA6IHJlcXVpcmUKbGF5b3V0KGxvY2F0aW9uPTApIG91dCB2ZWMyIGRlcHRoOyAKbGF5b3V0KGxvY2F0aW9uPTEpIG91dCB2ZWM0IGZyb250Q29sb3I7CmxheW91dChsb2NhdGlvbj0yKSBvdXQgdmVjNCBiYWNrQ29sb3I7CiNkZWZpbmUgTUFYX0RFUFRIIDk5OTk5LjAKaGlnaHAgdmVjNCBnbF9GcmFnQ29sb3I7CnVuaWZvcm0gc2FtcGxlcjJEIG9pdERlcHRoU2FtcGxlcjsKdW5pZm9ybSBzYW1wbGVyMkQgb2l0RnJvbnRDb2xvclNhbXBsZXI7CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbR29dPVhvO2NvbnN0IEhvPSJtYWluVVZWYXJ5aW5nRGVjbGFyYXRpb24iLEtvPWAjaWZkZWYgTUFJTlVWe1h9CnZhcnlpbmcgdmVjMiB2TWFpblVWe1h9OwojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0hvXT1Lbztjb25zdCBZbz0ibGlnaHRGcmFnbWVudERlY2xhcmF0aW9uIixabz1gI2lmZGVmIExJR0hUe1h9CnVuaWZvcm0gdmVjNCB2TGlnaHREYXRhe1h9Owp1bmlmb3JtIHZlYzQgdkxpZ2h0RGlmZnVzZXtYfTsKI2lmZGVmIFNQRUNVTEFSVEVSTQp1bmlmb3JtIHZlYzQgdkxpZ2h0U3BlY3VsYXJ7WH07CiNlbHNlCnZlYzQgdkxpZ2h0U3BlY3VsYXJ7WH09dmVjNCgwLik7CiNlbmRpZgojaWZkZWYgU0hBRE9Xe1h9CiNpZmRlZiBTSEFET1dDU017WH0KdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgdmlld0ZydXN0dW1ae1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgZnJ1c3R1bUxlbmd0aHN7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCBjYXNjYWRlQmxlbmRGYWN0b3J7WH07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21DYW1lcmF7WH07CiNpZiBkZWZpbmVkKFNIQURPV1BDU1N7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheSBkZXB0aFNhbXBsZXJ7WH07CnVuaWZvcm0gdmVjMiBsaWdodFNpemVVVkNvcnJlY3Rpb257WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCBkZXB0aENvcnJlY3Rpb257WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCBwZW51bWJyYURhcmtuZXNze1h9OwojZWxpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVye1h9OwojZWxzZQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyREFycmF5IHNoYWRvd1NhbXBsZXJ7WH07CiNlbmRpZgojaWZkZWYgU0hBRE9XQ1NNREVCVUd7WH0KY29uc3QgdmVjMyB2Q2FzY2FkZUNvbG9yc011bHRpcGxpZXJ7WH1bOF09dmVjM1s4XQooCnZlYzMgKCAxLjUsMC4wLDAuMCApLAp2ZWMzICggMC4wLDEuNSwwLjAgKSwKdmVjMyAoIDAuMCwwLjAsNS41ICksCnZlYzMgKCAxLjUsMC4wLDUuNSApLAp2ZWMzICggMS41LDEuNSwwLjAgKSwKdmVjMyAoIDEuMCwxLjAsMS4wICksCnZlYzMgKCAwLjAsMS4wLDUuNSApLAp2ZWMzICggMC41LDMuNSwwLjc1ICkKKTsKdmVjMyBzaGFkb3dEZWJ1Z3tYfTsKI2VuZGlmCiNpZmRlZiBTSEFET1dDU01VU0VTSEFET1dNQVhae1h9CmludCBpbmRleHtYfT0tMTsKI2Vsc2UKaW50IGluZGV4e1h9PVNIQURPV0NTTU5VTV9DQVNDQURFU3tYfS0xOwojZW5kaWYKZmxvYXQgZGlmZntYfT0wLjsKI2VsaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQp1bmlmb3JtIHNhbXBsZXJDdWJlIHNoYWRvd1NhbXBsZXJ7WH07CiNlbHNlCnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9OwojaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVye1h9Owp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBkZXB0aFNhbXBsZXJ7WH07CiNlbGlmIGRlZmluZWQoU0hBRE9XUENGe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVye1h9OwojZWxzZQp1bmlmb3JtIHNhbXBsZXIyRCBzaGFkb3dTYW1wbGVye1h9OwojZW5kaWYKdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9OwojZW5kaWYKdW5pZm9ybSB2ZWM0IHNoYWRvd3NJbmZve1h9Owp1bmlmb3JtIHZlYzIgZGVwdGhWYWx1ZXN7WH07CiNlbmRpZgojaWZkZWYgU1BPVExJR0hUe1h9CnVuaWZvcm0gdmVjNCB2TGlnaHREaXJlY3Rpb257WH07CnVuaWZvcm0gdmVjNCB2TGlnaHRGYWxsb2Zme1h9OwojZWxpZiBkZWZpbmVkKFBPSU5UTElHSFR7WH0pCnVuaWZvcm0gdmVjNCB2TGlnaHRGYWxsb2Zme1h9OwojZWxpZiBkZWZpbmVkKEhFTUlMSUdIVHtYfSkKdW5pZm9ybSB2ZWMzIHZMaWdodEdyb3VuZHtYfTsKI2VuZGlmCiNpZmRlZiBQUk9KRUNURURMSUdIVFRFWFRVUkV7WH0KdW5pZm9ybSBtYXQ0IHRleHR1cmVQcm9qZWN0aW9uTWF0cml4e1h9Owp1bmlmb3JtIHNhbXBsZXIyRCBwcm9qZWN0aW9uTGlnaHRTYW1wbGVye1h9OwojZW5kaWYKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtZb109Wm87Y29uc3QgcW89ImxpZ2h0VWJvRGVjbGFyYXRpb24iLGpvPWAjaWZkZWYgTElHSFR7WH0KdW5pZm9ybSBMaWdodHtYfQp7CnZlYzQgdkxpZ2h0RGF0YTsKdmVjNCB2TGlnaHREaWZmdXNlOwp2ZWM0IHZMaWdodFNwZWN1bGFyOwojaWZkZWYgU1BPVExJR0hUe1h9CnZlYzQgdkxpZ2h0RGlyZWN0aW9uOwp2ZWM0IHZMaWdodEZhbGxvZmY7CiNlbGlmIGRlZmluZWQoUE9JTlRMSUdIVHtYfSkKdmVjNCB2TGlnaHRGYWxsb2ZmOwojZWxpZiBkZWZpbmVkKEhFTUlMSUdIVHtYfSkKdmVjMyB2TGlnaHRHcm91bmQ7CiNlbmRpZgp2ZWM0IHNoYWRvd3NJbmZvOwp2ZWMyIGRlcHRoVmFsdWVzOwp9IGxpZ2h0e1h9OwojaWZkZWYgUFJPSkVDVEVETElHSFRURVhUVVJFe1h9CnVuaWZvcm0gbWF0NCB0ZXh0dXJlUHJvamVjdGlvbk1hdHJpeHtYfTsKdW5pZm9ybSBzYW1wbGVyMkQgcHJvamVjdGlvbkxpZ2h0U2FtcGxlcntYfTsKI2VuZGlmCiNpZmRlZiBTSEFET1d7WH0KI2lmZGVmIFNIQURPV0NTTXtYfQp1bmlmb3JtIG1hdDQgbGlnaHRNYXRyaXh7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCB2aWV3RnJ1c3R1bVp7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCBmcnVzdHVtTGVuZ3Roc3tYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IGNhc2NhZGVCbGVuZEZhY3RvcntYfTsKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21MaWdodHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY3tYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUNhbWVyYXtYfTsKI2lmIGRlZmluZWQoU0hBRE9XUENTU3tYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVye1h9Owp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyREFycmF5IGRlcHRoU2FtcGxlcntYfTsKdW5pZm9ybSB2ZWMyIGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbntYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IGRlcHRoQ29ycmVjdGlvbntYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IHBlbnVtYnJhRGFya25lc3N7WH07CiNlbGlmIGRlZmluZWQoU0hBRE9XUENGe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CiNlbHNlCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXkgc2hhZG93U2FtcGxlcntYfTsKI2VuZGlmCiNpZmRlZiBTSEFET1dDU01ERUJVR3tYfQpjb25zdCB2ZWMzIHZDYXNjYWRlQ29sb3JzTXVsdGlwbGllcntYfVs4XT12ZWMzWzhdCigKdmVjMyAoIDEuNSwwLjAsMC4wICksCnZlYzMgKCAwLjAsMS41LDAuMCApLAp2ZWMzICggMC4wLDAuMCw1LjUgKSwKdmVjMyAoIDEuNSwwLjAsNS41ICksCnZlYzMgKCAxLjUsMS41LDAuMCApLAp2ZWMzICggMS4wLDEuMCwxLjAgKSwKdmVjMyAoIDAuMCwxLjAsNS41ICksCnZlYzMgKCAwLjUsMy41LDAuNzUgKQopOwp2ZWMzIHNoYWRvd0RlYnVne1h9OwojZW5kaWYKI2lmZGVmIFNIQURPV0NTTVVTRVNIQURPV01BWFp7WH0KaW50IGluZGV4e1h9PS0xOwojZWxzZQppbnQgaW5kZXh7WH09U0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9LTE7CiNlbmRpZgpmbG9hdCBkaWZme1h9PTAuOwojZWxpZiBkZWZpbmVkKFNIQURPV0NVQkV7WH0pCnVuaWZvcm0gc2FtcGxlckN1YmUgc2hhZG93U2FtcGxlcntYfTsgCiNlbHNlCnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9OwojaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVye1h9Owp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCBkZXB0aFNhbXBsZXJ7WH07CiNlbGlmIGRlZmluZWQoU0hBRE9XUENGe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVye1h9OwojZWxzZQp1bmlmb3JtIHNhbXBsZXIyRCBzaGFkb3dTYW1wbGVye1h9OwojZW5kaWYKdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9OwojZW5kaWYKI2VuZGlmCiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbcW9dPWpvO2NvbnN0ICRvPSJsaWdodHNGcmFnbWVudEZ1bmN0aW9ucyIsUW89YHN0cnVjdCBsaWdodGluZ0luZm8Kewp2ZWMzIGRpZmZ1c2U7CiNpZmRlZiBTUEVDVUxBUlRFUk0KdmVjMyBzcGVjdWxhcjsKI2VuZGlmCiNpZmRlZiBORE9UTApmbG9hdCBuZGw7CiNlbmRpZgp9OwpsaWdodGluZ0luZm8gY29tcHV0ZUxpZ2h0aW5nKHZlYzMgdmlld0RpcmVjdGlvblcsdmVjMyB2Tm9ybWFsLHZlYzQgbGlnaHREYXRhLHZlYzMgZGlmZnVzZUNvbG9yLHZlYzMgc3BlY3VsYXJDb2xvcixmbG9hdCByYW5nZSxmbG9hdCBnbG9zc2luZXNzKSB7CmxpZ2h0aW5nSW5mbyByZXN1bHQ7CnZlYzMgbGlnaHRWZWN0b3JXOwpmbG9hdCBhdHRlbnVhdGlvbj0xLjA7CmlmIChsaWdodERhdGEudz09MC4pCnsKdmVjMyBkaXJlY3Rpb249bGlnaHREYXRhLnh5ei12UG9zaXRpb25XOwphdHRlbnVhdGlvbj1tYXgoMC4sMS4wLWxlbmd0aChkaXJlY3Rpb24pL3JhbmdlKTsKbGlnaHRWZWN0b3JXPW5vcm1hbGl6ZShkaXJlY3Rpb24pOwp9CmVsc2UKewpsaWdodFZlY3Rvclc9bm9ybWFsaXplKC1saWdodERhdGEueHl6KTsKfQpmbG9hdCBuZGw9bWF4KDAuLGRvdCh2Tm9ybWFsLGxpZ2h0VmVjdG9yVykpOwojaWZkZWYgTkRPVEwKcmVzdWx0Lm5kbD1uZGw7CiNlbmRpZgpyZXN1bHQuZGlmZnVzZT1uZGwqZGlmZnVzZUNvbG9yKmF0dGVudWF0aW9uOwojaWZkZWYgU1BFQ1VMQVJURVJNCnZlYzMgYW5nbGVXPW5vcm1hbGl6ZSh2aWV3RGlyZWN0aW9uVytsaWdodFZlY3RvclcpOwpmbG9hdCBzcGVjQ29tcD1tYXgoMC4sZG90KHZOb3JtYWwsYW5nbGVXKSk7CnNwZWNDb21wPXBvdyhzcGVjQ29tcCxtYXgoMS4sZ2xvc3NpbmVzcykpOwpyZXN1bHQuc3BlY3VsYXI9c3BlY0NvbXAqc3BlY3VsYXJDb2xvciphdHRlbnVhdGlvbjsKI2VuZGlmCnJldHVybiByZXN1bHQ7Cn0KbGlnaHRpbmdJbmZvIGNvbXB1dGVTcG90TGlnaHRpbmcodmVjMyB2aWV3RGlyZWN0aW9uVyx2ZWMzIHZOb3JtYWwsdmVjNCBsaWdodERhdGEsdmVjNCBsaWdodERpcmVjdGlvbix2ZWMzIGRpZmZ1c2VDb2xvcix2ZWMzIHNwZWN1bGFyQ29sb3IsZmxvYXQgcmFuZ2UsZmxvYXQgZ2xvc3NpbmVzcykgewpsaWdodGluZ0luZm8gcmVzdWx0Owp2ZWMzIGRpcmVjdGlvbj1saWdodERhdGEueHl6LXZQb3NpdGlvblc7CnZlYzMgbGlnaHRWZWN0b3JXPW5vcm1hbGl6ZShkaXJlY3Rpb24pOwpmbG9hdCBhdHRlbnVhdGlvbj1tYXgoMC4sMS4wLWxlbmd0aChkaXJlY3Rpb24pL3JhbmdlKTsKZmxvYXQgY29zQW5nbGU9bWF4KDAuLGRvdChsaWdodERpcmVjdGlvbi54eXosLWxpZ2h0VmVjdG9yVykpOwppZiAoY29zQW5nbGU+PWxpZ2h0RGlyZWN0aW9uLncpCnsKY29zQW5nbGU9bWF4KDAuLHBvdyhjb3NBbmdsZSxsaWdodERhdGEudykpOwphdHRlbnVhdGlvbio9Y29zQW5nbGU7CmZsb2F0IG5kbD1tYXgoMC4sZG90KHZOb3JtYWwsbGlnaHRWZWN0b3JXKSk7CiNpZmRlZiBORE9UTApyZXN1bHQubmRsPW5kbDsKI2VuZGlmCnJlc3VsdC5kaWZmdXNlPW5kbCpkaWZmdXNlQ29sb3IqYXR0ZW51YXRpb247CiNpZmRlZiBTUEVDVUxBUlRFUk0KdmVjMyBhbmdsZVc9bm9ybWFsaXplKHZpZXdEaXJlY3Rpb25XK2xpZ2h0VmVjdG9yVyk7CmZsb2F0IHNwZWNDb21wPW1heCgwLixkb3Qodk5vcm1hbCxhbmdsZVcpKTsKc3BlY0NvbXA9cG93KHNwZWNDb21wLG1heCgxLixnbG9zc2luZXNzKSk7CnJlc3VsdC5zcGVjdWxhcj1zcGVjQ29tcCpzcGVjdWxhckNvbG9yKmF0dGVudWF0aW9uOwojZW5kaWYKcmV0dXJuIHJlc3VsdDsKfQpyZXN1bHQuZGlmZnVzZT12ZWMzKDAuKTsKI2lmZGVmIFNQRUNVTEFSVEVSTQpyZXN1bHQuc3BlY3VsYXI9dmVjMygwLik7CiNlbmRpZgojaWZkZWYgTkRPVEwKcmVzdWx0Lm5kbD0wLjsKI2VuZGlmCnJldHVybiByZXN1bHQ7Cn0KbGlnaHRpbmdJbmZvIGNvbXB1dGVIZW1pc3BoZXJpY0xpZ2h0aW5nKHZlYzMgdmlld0RpcmVjdGlvblcsdmVjMyB2Tm9ybWFsLHZlYzQgbGlnaHREYXRhLHZlYzMgZGlmZnVzZUNvbG9yLHZlYzMgc3BlY3VsYXJDb2xvcix2ZWMzIGdyb3VuZENvbG9yLGZsb2F0IGdsb3NzaW5lc3MpIHsKbGlnaHRpbmdJbmZvIHJlc3VsdDsKZmxvYXQgbmRsPWRvdCh2Tm9ybWFsLGxpZ2h0RGF0YS54eXopKjAuNSswLjU7CiNpZmRlZiBORE9UTApyZXN1bHQubmRsPW5kbDsKI2VuZGlmCnJlc3VsdC5kaWZmdXNlPW1peChncm91bmRDb2xvcixkaWZmdXNlQ29sb3IsbmRsKTsKI2lmZGVmIFNQRUNVTEFSVEVSTQp2ZWMzIGFuZ2xlVz1ub3JtYWxpemUodmlld0RpcmVjdGlvblcrbGlnaHREYXRhLnh5eik7CmZsb2F0IHNwZWNDb21wPW1heCgwLixkb3Qodk5vcm1hbCxhbmdsZVcpKTsKc3BlY0NvbXA9cG93KHNwZWNDb21wLG1heCgxLixnbG9zc2luZXNzKSk7CnJlc3VsdC5zcGVjdWxhcj1zcGVjQ29tcCpzcGVjdWxhckNvbG9yOwojZW5kaWYKcmV0dXJuIHJlc3VsdDsKfQojZGVmaW5lIGlubGluZQp2ZWMzIGNvbXB1dGVQcm9qZWN0aW9uVGV4dHVyZURpZmZ1c2VMaWdodGluZyhzYW1wbGVyMkQgcHJvamVjdGlvbkxpZ2h0U2FtcGxlcixtYXQ0IHRleHR1cmVQcm9qZWN0aW9uTWF0cml4KXsKdmVjNCBzdHJxPXRleHR1cmVQcm9qZWN0aW9uTWF0cml4KnZlYzQodlBvc2l0aW9uVywxLjApOwpzdHJxLz1zdHJxLnc7CnZlYzMgdGV4dHVyZUNvbG9yPXRleHR1cmUyRChwcm9qZWN0aW9uTGlnaHRTYW1wbGVyLHN0cnEueHkpLnJnYjsKcmV0dXJuIHRleHR1cmVDb2xvcjsKfWA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVskb109UW87Y29uc3QgSm89InNoYWRvd3NGcmFnbWVudEZ1bmN0aW9ucyIsZWg9YCNpZmRlZiBTSEFET1dTCiNpZiBkZWZpbmVkKFdFQkdMMikgfHwgZGVmaW5lZChXRUJHUFUpIHx8IGRlZmluZWQoTkFUSVZFKQojZGVmaW5lIFRFWFRVUkVGVU5DKHMsYyxsKSB0ZXh0dXJlMkRMb2RFWFQocyxjLGwpCiNlbHNlCiNkZWZpbmUgVEVYVFVSRUZVTkMocyxjLGIpIHRleHR1cmUyRChzLGMsYikKI2VuZGlmCiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgdW5wYWNrKHZlYzQgY29sb3IpCnsKY29uc3QgdmVjNCBiaXRfc2hpZnQ9dmVjNCgxLjAvKDI1NS4wKjI1NS4wKjI1NS4wKSwxLjAvKDI1NS4wKjI1NS4wKSwxLjAvMjU1LjAsMS4wKTsKcmV0dXJuIGRvdChjb2xvcixiaXRfc2hpZnQpOwp9CiNlbmRpZgpmbG9hdCBjb21wdXRlRmFsbE9mZihmbG9hdCB2YWx1ZSx2ZWMyIGNsaXBTcGFjZSxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKZmxvYXQgbWFzaz1zbW9vdGhzdGVwKDEuMC1mcnVzdHVtRWRnZUZhbGxvZmYsMS4wMDAwMDAxMixjbGFtcChkb3QoY2xpcFNwYWNlLGNsaXBTcGFjZSksMC4sMS4pKTsKcmV0dXJuIG1peCh2YWx1ZSwxLjAsbWFzayk7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd0N1YmUodmVjMyBsaWdodFBvc2l0aW9uLHNhbXBsZXJDdWJlIHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsdmVjMiBkZXB0aFZhbHVlcykKewp2ZWMzIGRpcmVjdGlvblRvTGlnaHQ9dlBvc2l0aW9uVy1saWdodFBvc2l0aW9uOwpmbG9hdCBkZXB0aD1sZW5ndGgoZGlyZWN0aW9uVG9MaWdodCk7CmRlcHRoPShkZXB0aCtkZXB0aFZhbHVlcy54KS8oZGVwdGhWYWx1ZXMueSk7CmRlcHRoPWNsYW1wKGRlcHRoLDAuLDEuMCk7CmRpcmVjdGlvblRvTGlnaHQ9bm9ybWFsaXplKGRpcmVjdGlvblRvTGlnaHQpOwpkaXJlY3Rpb25Ub0xpZ2h0Lnk9LWRpcmVjdGlvblRvTGlnaHQueTsKI2lmbmRlZiBTSEFET1dGTE9BVApmbG9hdCBzaGFkb3c9dW5wYWNrKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCkpOwojZWxzZQpmbG9hdCBzaGFkb3c9dGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0KS54OwojZW5kaWYKcmV0dXJuIGRlcHRoPnNoYWRvdyA/IGRhcmtuZXNzIDogMS4wOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUG9pc3NvblNhbXBsaW5nQ3ViZSh2ZWMzIGxpZ2h0UG9zaXRpb24sc2FtcGxlckN1YmUgc2hhZG93U2FtcGxlcixmbG9hdCBtYXBTaXplLGZsb2F0IGRhcmtuZXNzLHZlYzIgZGVwdGhWYWx1ZXMpCnsKdmVjMyBkaXJlY3Rpb25Ub0xpZ2h0PXZQb3NpdGlvblctbGlnaHRQb3NpdGlvbjsKZmxvYXQgZGVwdGg9bGVuZ3RoKGRpcmVjdGlvblRvTGlnaHQpOwpkZXB0aD0oZGVwdGgrZGVwdGhWYWx1ZXMueCkvKGRlcHRoVmFsdWVzLnkpOwpkZXB0aD1jbGFtcChkZXB0aCwwLiwxLjApOwpkaXJlY3Rpb25Ub0xpZ2h0PW5vcm1hbGl6ZShkaXJlY3Rpb25Ub0xpZ2h0KTsKZGlyZWN0aW9uVG9MaWdodC55PS1kaXJlY3Rpb25Ub0xpZ2h0Lnk7CmZsb2F0IHZpc2liaWxpdHk9MS47CnZlYzMgcG9pc3NvbkRpc2tbNF07CnBvaXNzb25EaXNrWzBdPXZlYzMoLTEuMCwxLjAsLTEuMCk7CnBvaXNzb25EaXNrWzFdPXZlYzMoMS4wLC0xLjAsLTEuMCk7CnBvaXNzb25EaXNrWzJdPXZlYzMoLTEuMCwtMS4wLC0xLjApOwpwb2lzc29uRGlza1szXT12ZWMzKDEuMCwtMS4wLDEuMCk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKaWYgKHVucGFjayh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbMF0qbWFwU2l6ZSkpPGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodW5wYWNrKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1sxXSptYXBTaXplKSk8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh1bnBhY2sodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzJdKm1hcFNpemUpKTxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHVucGFjayh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbM10qbWFwU2l6ZSkpPGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwojZWxzZQppZiAodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzBdKm1hcFNpemUpLng8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbMV0qbWFwU2l6ZSkueDxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1syXSptYXBTaXplKS54PGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzNdKm1hcFNpemUpLng8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CiNlbmRpZgpyZXR1cm4gbWluKDEuMCx2aXNpYmlsaXR5K2RhcmtuZXNzKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aEVTTUN1YmUodmVjMyBsaWdodFBvc2l0aW9uLHNhbXBsZXJDdWJlIHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZGVwdGhTY2FsZSx2ZWMyIGRlcHRoVmFsdWVzKQp7CnZlYzMgZGlyZWN0aW9uVG9MaWdodD12UG9zaXRpb25XLWxpZ2h0UG9zaXRpb247CmZsb2F0IGRlcHRoPWxlbmd0aChkaXJlY3Rpb25Ub0xpZ2h0KTsKZGVwdGg9KGRlcHRoK2RlcHRoVmFsdWVzLngpLyhkZXB0aFZhbHVlcy55KTsKZmxvYXQgc2hhZG93UGl4ZWxEZXB0aD1jbGFtcChkZXB0aCwwLiwxLjApOwpkaXJlY3Rpb25Ub0xpZ2h0PW5vcm1hbGl6ZShkaXJlY3Rpb25Ub0xpZ2h0KTsKZGlyZWN0aW9uVG9MaWdodC55PS1kaXJlY3Rpb25Ub0xpZ2h0Lnk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgc2hhZG93TWFwU2FtcGxlPXVucGFjayh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQpKTsKI2Vsc2UKZmxvYXQgc2hhZG93TWFwU2FtcGxlPXRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCkueDsKI2VuZGlmCmZsb2F0IGVzbT0xLjAtY2xhbXAoZXhwKG1pbig4Ny4sZGVwdGhTY2FsZSpzaGFkb3dQaXhlbERlcHRoKSkqc2hhZG93TWFwU2FtcGxlLDAuLDEuLWRhcmtuZXNzKTsgCnJldHVybiBlc207Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDbG9zZUVTTUN1YmUodmVjMyBsaWdodFBvc2l0aW9uLHNhbXBsZXJDdWJlIHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZGVwdGhTY2FsZSx2ZWMyIGRlcHRoVmFsdWVzKQp7CnZlYzMgZGlyZWN0aW9uVG9MaWdodD12UG9zaXRpb25XLWxpZ2h0UG9zaXRpb247CmZsb2F0IGRlcHRoPWxlbmd0aChkaXJlY3Rpb25Ub0xpZ2h0KTsKZGVwdGg9KGRlcHRoK2RlcHRoVmFsdWVzLngpLyhkZXB0aFZhbHVlcy55KTsKZmxvYXQgc2hhZG93UGl4ZWxEZXB0aD1jbGFtcChkZXB0aCwwLiwxLjApOwpkaXJlY3Rpb25Ub0xpZ2h0PW5vcm1hbGl6ZShkaXJlY3Rpb25Ub0xpZ2h0KTsKZGlyZWN0aW9uVG9MaWdodC55PS1kaXJlY3Rpb25Ub0xpZ2h0Lnk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgc2hhZG93TWFwU2FtcGxlPXVucGFjayh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQpKTsKI2Vsc2UKZmxvYXQgc2hhZG93TWFwU2FtcGxlPXRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCkueDsKI2VuZGlmCmZsb2F0IGVzbT1jbGFtcChleHAobWluKDg3LiwtZGVwdGhTY2FsZSooc2hhZG93UGl4ZWxEZXB0aC1zaGFkb3dNYXBTYW1wbGUpKSksZGFya25lc3MsMS4pOwpyZXR1cm4gZXNtOwp9CiNpZiBkZWZpbmVkKFdFQkdMMikgfHwgZGVmaW5lZChXRUJHUFUpIHx8IGRlZmluZWQoTkFUSVZFKQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93Q1NNKGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5IHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzIgdXY9MC41KmNsaXBTcGFjZS54eSt2ZWMyKDAuNSk7CnZlYzMgdXZMYXllcj12ZWMzKHV2LngsdXYueSxsYXllcik7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGhNZXRyaWMsMC4sMS4wKTsKI2lmbmRlZiBTSEFET1dGTE9BVApmbG9hdCBzaGFkb3c9dW5wYWNrKHRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2TGF5ZXIpKTsKI2Vsc2UKZmxvYXQgc2hhZG93PXRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2TGF5ZXIpLng7CiNlbmRpZgpyZXR1cm4gc2hhZG93UGl4ZWxEZXB0aD5zaGFkb3cgPyBjb21wdXRlRmFsbE9mZihkYXJrbmVzcyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKSA6IDEuOwp9CiNlbmRpZgojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93KHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMyIHV2PTAuNSpjbGlwU3BhY2UueHkrdmVjMigwLjUpOwppZiAodXYueDwwLiB8fCB1di54PjEuMCB8fCB1di55PDAuIHx8IHV2Lnk+MS4wKQp7CnJldHVybiAxLjA7Cn0KZWxzZQp7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGhNZXRyaWMsMC4sMS4wKTsKI2lmbmRlZiBTSEFET1dGTE9BVApmbG9hdCBzaGFkb3c9dW5wYWNrKFRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXYsMC4pKTsKI2Vsc2UKZmxvYXQgc2hhZG93PVRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXYsMC4pLng7CiNlbmRpZgpyZXR1cm4gc2hhZG93UGl4ZWxEZXB0aD5zaGFkb3cgPyBjb21wdXRlRmFsbE9mZihkYXJrbmVzcyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKSA6IDEuOwp9Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhQb2lzc29uU2FtcGxpbmcodmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIHNoYWRvd1NhbXBsZXIsZmxvYXQgbWFwU2l6ZSxmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMiB1dj0wLjUqY2xpcFNwYWNlLnh5K3ZlYzIoMC41KTsKaWYgKHV2Lng8MC4gfHwgdXYueD4xLjAgfHwgdXYueTwwLiB8fCB1di55PjEuMCkKewpyZXR1cm4gMS4wOwp9CmVsc2UKewpmbG9hdCBzaGFkb3dQaXhlbERlcHRoPWNsYW1wKGRlcHRoTWV0cmljLDAuLDEuMCk7CmZsb2F0IHZpc2liaWxpdHk9MS47CnZlYzIgcG9pc3NvbkRpc2tbNF07CnBvaXNzb25EaXNrWzBdPXZlYzIoLTAuOTQyMDE2MjQsLTAuMzk5MDYyMTYpOwpwb2lzc29uRGlza1sxXT12ZWMyKDAuOTQ1NTg2MDksLTAuNzY4OTA3MjUpOwpwb2lzc29uRGlza1syXT12ZWMyKC0wLjA5NDE4NDEwMSwtMC45MjkzODg3MCk7CnBvaXNzb25EaXNrWzNdPXZlYzIoMC4zNDQ5NTkzOCwwLjI5Mzg3NzYwKTsKI2lmbmRlZiBTSEFET1dGTE9BVAppZiAodW5wYWNrKFRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXYrcG9pc3NvbkRpc2tbMF0qbWFwU2l6ZSwwLikpPHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh1bnBhY2soVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1sxXSptYXBTaXplLDAuKSk8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHVucGFjayhURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2K3BvaXNzb25EaXNrWzJdKm1hcFNpemUsMC4pKTxzaGFkb3dQaXhlbERlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodW5wYWNrKFRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXYrcG9pc3NvbkRpc2tbM10qbWFwU2l6ZSwwLikpPHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CiNlbHNlCmlmIChURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2K3BvaXNzb25EaXNrWzBdKm1hcFNpemUsMC4pLng8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKFRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXYrcG9pc3NvbkRpc2tbMV0qbWFwU2l6ZSwwLikueDxzaGFkb3dQaXhlbERlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAoVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1syXSptYXBTaXplLDAuKS54PHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmIChURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2K3BvaXNzb25EaXNrWzNdKm1hcFNpemUsMC4pLng8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKI2VuZGlmCnJldHVybiBjb21wdXRlRmFsbE9mZihtaW4oMS4wLHZpc2liaWxpdHkrZGFya25lc3MpLGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhFU00odmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZGVwdGhTY2FsZSxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMiB1dj0wLjUqY2xpcFNwYWNlLnh5K3ZlYzIoMC41KTsKaWYgKHV2Lng8MC4gfHwgdXYueD4xLjAgfHwgdXYueTwwLiB8fCB1di55PjEuMCkKewpyZXR1cm4gMS4wOwp9CmVsc2UKewpmbG9hdCBzaGFkb3dQaXhlbERlcHRoPWNsYW1wKGRlcHRoTWV0cmljLDAuLDEuMCk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgc2hhZG93TWFwU2FtcGxlPXVucGFjayhURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2LDAuKSk7CiNlbHNlCmZsb2F0IHNoYWRvd01hcFNhbXBsZT1URVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2LDAuKS54OwojZW5kaWYKZmxvYXQgZXNtPTEuMC1jbGFtcChleHAobWluKDg3LixkZXB0aFNjYWxlKnNoYWRvd1BpeGVsRGVwdGgpKSpzaGFkb3dNYXBTYW1wbGUsMC4sMS4tZGFya25lc3MpOwpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoZXNtLGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDbG9zZUVTTSh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxzYW1wbGVyMkQgc2hhZG93U2FtcGxlcixmbG9hdCBkYXJrbmVzcyxmbG9hdCBkZXB0aFNjYWxlLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMyIHV2PTAuNSpjbGlwU3BhY2UueHkrdmVjMigwLjUpOwppZiAodXYueDwwLiB8fCB1di54PjEuMCB8fCB1di55PDAuIHx8IHV2Lnk+MS4wKQp7CnJldHVybiAxLjA7Cn0KZWxzZQp7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGhNZXRyaWMsMC4sMS4wKTsgCiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgc2hhZG93TWFwU2FtcGxlPXVucGFjayhURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2LDAuKSk7CiNlbHNlCmZsb2F0IHNoYWRvd01hcFNhbXBsZT1URVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2LDAuKS54OwojZW5kaWYKZmxvYXQgZXNtPWNsYW1wKGV4cChtaW4oODcuLC1kZXB0aFNjYWxlKihzaGFkb3dQaXhlbERlcHRoLXNoYWRvd01hcFNhbXBsZSkpKSxkYXJrbmVzcywxLik7CnJldHVybiBjb21wdXRlRmFsbE9mZihlc20sY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQojaWZkZWYgSVNfTkRDX0hBTEZfWlJBTkdFCiNkZWZpbmUgWklOQ0xJUCBjbGlwU3BhY2UuegojZWxzZQojZGVmaW5lIFpJTkNMSVAgdXZEZXB0aC56CiNlbmRpZgojaWYgZGVmaW5lZChXRUJHTDIpIHx8IGRlZmluZWQoV0VCR1BVKSB8fCBkZWZpbmVkKE5BVElWRSkKI2RlZmluZSBHUkVBVEVTVF9MRVNTX1RIQU5fT05FIDAuOTk5OTk5OTQKI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ0YxKGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzMgdXZEZXB0aD12ZWMzKDAuNSpjbGlwU3BhY2UueHl6K3ZlYzMoMC41KSk7CnV2RGVwdGguej1jbGFtcChaSU5DTElQLDAuLEdSRUFURVNUX0xFU1NfVEhBTl9PTkUpOwp2ZWM0IHV2RGVwdGhMYXllcj12ZWM0KHV2RGVwdGgueCx1dkRlcHRoLnksbGF5ZXIsdXZEZXB0aC56KTsKZmxvYXQgc2hhZG93PXRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2RGVwdGhMYXllcik7CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENTTVBDRjMoZmxvYXQgbGF5ZXIsdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcix2ZWMyIHNoYWRvd01hcFNpemVBbmRJbnZlcnNlLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9Y2xhbXAoWklOQ0xJUCwwLixHUkVBVEVTVF9MRVNTX1RIQU5fT05FKTsKdmVjMiB1dj11dkRlcHRoLnh5KnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLng7IAp1dis9MC41OyAKdmVjMiBzdD1mcmFjdCh1dik7IAp2ZWMyIGJhc2VfdXY9Zmxvb3IodXYpLTAuNTsgCmJhc2VfdXYqPXNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7IAp2ZWMyIHV2dzA9My4tMi4qc3Q7CnZlYzIgdXZ3MT0xLisyLipzdDsKdmVjMiB1PXZlYzIoKDIuLXN0LngpL3V2dzAueC0xLixzdC54L3V2dzEueCsxLikqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsKdmVjMiB2PXZlYzIoKDIuLXN0LnkpL3V2dzAueS0xLixzdC55L3V2dzEueSsxLikqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsKZmxvYXQgc2hhZG93PTAuOwpzaGFkb3crPXV2dzAueCp1dncwLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzBdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMV0sdlswXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MC54KnV2dzEueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzBdLHZbMV0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzEueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVsxXSx2WzFdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93PXNoYWRvdy8xNi47CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENTTVBDRjUoZmxvYXQgbGF5ZXIsdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcix2ZWMyIHNoYWRvd01hcFNpemVBbmRJbnZlcnNlLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9Y2xhbXAoWklOQ0xJUCwwLixHUkVBVEVTVF9MRVNTX1RIQU5fT05FKTsKdmVjMiB1dj11dkRlcHRoLnh5KnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLng7IAp1dis9MC41OyAKdmVjMiBzdD1mcmFjdCh1dik7IAp2ZWMyIGJhc2VfdXY9Zmxvb3IodXYpLTAuNTsgCmJhc2VfdXYqPXNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7IAp2ZWMyIHV2dzA9NC4tMy4qc3Q7CnZlYzIgdXZ3MT12ZWMyKDcuKTsKdmVjMiB1dncyPTEuKzMuKnN0Owp2ZWMzIHU9dmVjMygoMy4tMi4qc3QueCkvdXZ3MC54LTIuLCgzLitzdC54KS91dncxLngsc3QueC91dncyLngrMi4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CnZlYzMgdj12ZWMzKCgzLi0yLipzdC55KS91dncwLnktMi4sKDMuK3N0LnkpL3V2dzEueSxzdC55L3V2dzIueSsyLikqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsKZmxvYXQgc2hhZG93PTAuOwpzaGFkb3crPXV2dzAueCp1dncwLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzBdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMV0sdlswXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3Mi54KnV2dzAueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzJdLHZbMF0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzAueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzFdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3MS55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMV0sdlsxXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3Mi54KnV2dzEueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzJdLHZbMV0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzAueCp1dncyLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzJdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3Mi55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMV0sdlsyXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3Mi54KnV2dzIueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzJdLHZbMl0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3c9c2hhZG93LzE0NC47CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDRjEodmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CmlmIChkZXB0aE1ldHJpYz4xLjAgfHwgZGVwdGhNZXRyaWM8MC4wKSB7CnJldHVybiAxLjA7Cn0KZWxzZQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzMgdXZEZXB0aD12ZWMzKDAuNSpjbGlwU3BhY2UueHl6K3ZlYzMoMC41KSk7CnV2RGVwdGguej1aSU5DTElQOwpmbG9hdCBzaGFkb3c9VEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1dkRlcHRoLDAuKTsKc2hhZG93PW1peChkYXJrbmVzcywxLixzaGFkb3cpOwpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoc2hhZG93LGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhQQ0YzKHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVyLHZlYzIgc2hhZG93TWFwU2l6ZUFuZEludmVyc2UsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CmlmIChkZXB0aE1ldHJpYz4xLjAgfHwgZGVwdGhNZXRyaWM8MC4wKSB7CnJldHVybiAxLjA7Cn0KZWxzZQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzMgdXZEZXB0aD12ZWMzKDAuNSpjbGlwU3BhY2UueHl6K3ZlYzMoMC41KSk7CnV2RGVwdGguej1aSU5DTElQOwp2ZWMyIHV2PXV2RGVwdGgueHkqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueDsgCnV2Kz0wLjU7IAp2ZWMyIHN0PWZyYWN0KHV2KTsgCnZlYzIgYmFzZV91dj1mbG9vcih1diktMC41OyAKYmFzZV91dio9c2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsgCnZlYzIgdXZ3MD0zLi0yLipzdDsKdmVjMiB1dncxPTEuKzIuKnN0Owp2ZWMyIHU9dmVjMigoMi4tc3QueCkvdXZ3MC54LTEuLHN0LngvdXZ3MS54KzEuKSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55Owp2ZWMyIHY9dmVjMigoMi4tc3QueSkvdXZ3MC55LTEuLHN0LnkvdXZ3MS55KzEuKSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55OwpmbG9hdCBzaGFkb3c9MC47CnNoYWRvdys9dXZ3MC54KnV2dzAueSpURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMF0sdlswXSksdXZEZXB0aC56KSwwLik7CnNoYWRvdys9dXZ3MS54KnV2dzAueSpURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMV0sdlswXSksdXZEZXB0aC56KSwwLik7CnNoYWRvdys9dXZ3MC54KnV2dzEueSpURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMF0sdlsxXSksdXZEZXB0aC56KSwwLik7CnNoYWRvdys9dXZ3MS54KnV2dzEueSpURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMV0sdlsxXSksdXZEZXB0aC56KSwwLik7CnNoYWRvdz1zaGFkb3cvMTYuOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDRjUodmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXIsdmVjMiBzaGFkb3dNYXBTaXplQW5kSW52ZXJzZSxmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKaWYgKGRlcHRoTWV0cmljPjEuMCB8fCBkZXB0aE1ldHJpYzwwLjApIHsKcmV0dXJuIDEuMDsKfQplbHNlCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PVpJTkNMSVA7CnZlYzIgdXY9dXZEZXB0aC54eSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS54OyAKdXYrPTAuNTsgCnZlYzIgc3Q9ZnJhY3QodXYpOyAKdmVjMiBiYXNlX3V2PWZsb29yKHV2KS0wLjU7IApiYXNlX3V2Kj1zaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55OyAKdmVjMiB1dncwPTQuLTMuKnN0Owp2ZWMyIHV2dzE9dmVjMig3Lik7CnZlYzIgdXZ3Mj0xLiszLipzdDsKdmVjMyB1PXZlYzMoKDMuLTIuKnN0LngpL3V2dzAueC0yLiwoMy4rc3QueCkvdXZ3MS54LHN0LngvdXZ3Mi54KzIuKSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55Owp2ZWMzIHY9dmVjMygoMy4tMi4qc3QueSkvdXZ3MC55LTIuLCgzLitzdC55KS91dncxLnksc3QueS91dncyLnkrMi4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CmZsb2F0IHNoYWRvdz0wLjsKc2hhZG93Kz11dncwLngqdXZ3MC55KlRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzBdKSx1dkRlcHRoLnopLDAuKTsKc2hhZG93Kz11dncxLngqdXZ3MC55KlRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVsxXSx2WzBdKSx1dkRlcHRoLnopLDAuKTsKc2hhZG93Kz11dncyLngqdXZ3MC55KlRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzBdKSx1dkRlcHRoLnopLDAuKTsKc2hhZG93Kz11dncwLngqdXZ3MS55KlRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzFdKSx1dkRlcHRoLnopLDAuKTsKc2hhZG93Kz11dncxLngqdXZ3MS55KlRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVsxXSx2WzFdKSx1dkRlcHRoLnopLDAuKTsKc2hhZG93Kz11dncyLngqdXZ3MS55KlRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzFdKSx1dkRlcHRoLnopLDAuKTsKc2hhZG93Kz11dncwLngqdXZ3Mi55KlRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzJdKSx1dkRlcHRoLnopLDAuKTsKc2hhZG93Kz11dncxLngqdXZ3Mi55KlRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVsxXSx2WzJdKSx1dkRlcHRoLnopLDAuKTsKc2hhZG93Kz11dncyLngqdXZ3Mi55KlRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzJdKSx1dkRlcHRoLnopLDAuKTsKc2hhZG93PXNoYWRvdy8xNDQuOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQpjb25zdCB2ZWMzIFBvaXNzb25TYW1wbGVyczMyWzY0XT12ZWMzWzY0XSgKdmVjMygwLjA2NDA3MDEzLDAuMDU0MDk5MjcsMC4pLAp2ZWMzKDAuNzM2NjU3NywwLjU3ODkzOTQsMC4pLAp2ZWMzKC0wLjYyNzA1NDIsLTAuNTMyMDI3OCwwLiksCnZlYzMoLTAuNDA5NjEwNywwLjg0MTEwOTUsMC4pLAp2ZWMzKDAuNjg0OTU2NCwtMC40OTkwODE4LDAuKSwKdmVjMygtMC44NzQxODEsLTAuMDQ1Nzk3MzUsMC4pLAp2ZWMzKDAuOTk4OTk5OCwwLjAwMDk4ODAwNjYsMC4pLAp2ZWMzKC0wLjAwNDkyMDU3OCwtMC45MTUxNjQ5LDAuKSwKdmVjMygwLjE4MDU3NjMsMC45NzQ3NDgzLDAuKSwKdmVjMygtMC4yMTM4NDUxLDAuMjYzNTgxOCwwLiksCnZlYzMoMC4xMDk4NDUsMC4zODg0Nzg1LDAuKSwKdmVjMygwLjA2ODc2NzU1LC0wLjM1ODEwNzQsMC4pLAp2ZWMzKDAuMzc0MDczLC0wLjc2NjEyNjYsMC4pLAp2ZWMzKDAuMzA3OTEzMiwtMC4xMjE2NzYzLDAuKSwKdmVjMygtMC4zNzk0MzM1LC0wLjgyNzE1ODMsMC4pLAp2ZWMzKC0wLjIwMzg3OCwtMC4wNzcxNTAzNCwwLiksCnZlYzMoMC41OTEyNjk3LDAuMTQ2OTc5OSwwLiksCnZlYzMoLTAuODgwNjksMC4zMDMxNzg0LDAuKSwKdmVjMygwLjUwNDAxMDgsMC44MjgzNzIyLDAuKSwKdmVjMygtMC41ODQ0MTI0LDAuNTQ5NDg3NywwLiksCnZlYzMoMC42MDE3Nzk5LC0wLjE3MjY2NTQsMC4pLAp2ZWMzKC0wLjU1NTQ5ODEsMC4xNTU5OTk3LDAuKSwKdmVjMygtMC4zMDE2MzY5LC0wLjM5MDA5MjgsMC4pLAp2ZWMzKC0wLjU1NTA2MzIsLTAuMTcyMzc2MiwwLiksCnZlYzMoMC45MjUwMjksMC4yOTk1MDQxLDAuKSwKdmVjMygtMC4yNDczMTM3LDAuNTUzODUwNSwwLiksCnZlYzMoMC45MTgzMDM3LC0wLjI4NjIzOTIsMC4pLAp2ZWMzKDAuMjQ2OTQyMSwwLjY3MTg3MTIsMC4pLAp2ZWMzKDAuMzkxNjM5NywtMC40MzI4MjA5LDAuKSwKdmVjMygtMC4wMzU3NjkyNywtMC42MjIwMDMyLDAuKSwKdmVjMygtMC4wNDY2MTI1NSwwLjc5OTUyMDEsMC4pLAp2ZWMzKDAuNDQwMjkyNCwwLjM2NDAzMTIsMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLikKKTsKY29uc3QgdmVjMyBQb2lzc29uU2FtcGxlcnM2NFs2NF09dmVjM1s2NF0oCnZlYzMoLTAuNjEzMzkyLDAuNjE3NDgxLDAuKSwKdmVjMygwLjE3MDAxOSwtMC4wNDAyNTQsMC4pLAp2ZWMzKC0wLjI5OTQxNywwLjc5MTkyNSwwLiksCnZlYzMoMC42NDU2ODAsMC40OTMyMTAsMC4pLAp2ZWMzKC0wLjY1MTc4NCwwLjcxNzg4NywwLiksCnZlYzMoMC40MjEwMDMsMC4wMjcwNzAsMC4pLAp2ZWMzKC0wLjgxNzE5NCwtMC4yNzEwOTYsMC4pLAp2ZWMzKC0wLjcwNTM3NCwtMC42NjgyMDMsMC4pLAp2ZWMzKDAuOTc3MDUwLC0wLjEwODYxNSwwLiksCnZlYzMoMC4wNjMzMjYsMC4xNDIzNjksMC4pLAp2ZWMzKDAuMjAzNTI4LDAuMjE0MzMxLDAuKSwKdmVjMygtMC42Njc1MzEsMC4zMjYwOTAsMC4pLAp2ZWMzKC0wLjA5ODQyMiwtMC4yOTU3NTUsMC4pLAp2ZWMzKC0wLjg4NTkyMiwwLjIxNTM2OSwwLiksCnZlYzMoMC41NjY2MzcsMC42MDUyMTMsMC4pLAp2ZWMzKDAuMDM5NzY2LC0wLjM5NjEwMCwwLiksCnZlYzMoMC43NTE5NDYsMC40NTMzNTIsMC4pLAp2ZWMzKDAuMDc4NzA3LC0wLjcxNTMyMywwLiksCnZlYzMoLTAuMDc1ODM4LC0wLjUyOTM0NCwwLiksCnZlYzMoMC43MjQ0NzksLTAuNTgwNzk4LDAuKSwKdmVjMygwLjIyMjk5OSwtMC4yMTUxMjUsMC4pLAp2ZWMzKC0wLjQ2NzU3NCwtMC40MDU0MzgsMC4pLAp2ZWMzKC0wLjI0ODI2OCwtMC44MTQ3NTMsMC4pLAp2ZWMzKDAuMzU0NDExLC0wLjg4NzU3MCwwLiksCnZlYzMoMC4xNzU4MTcsMC4zODIzNjYsMC4pLAp2ZWMzKDAuNDg3NDcyLC0wLjA2MzA4MiwwLiksCnZlYzMoLTAuMDg0MDc4LDAuODk4MzEyLDAuKSwKdmVjMygwLjQ4ODg3NiwtMC43ODM0NDEsMC4pLAp2ZWMzKDAuNDcwMDE2LDAuMjE3OTMzLDAuKSwKdmVjMygtMC42OTY4OTAsLTAuNTQ5NzkxLDAuKSwKdmVjMygtMC4xNDk2OTMsMC42MDU3NjIsMC4pLAp2ZWMzKDAuMDM0MjExLDAuOTc5OTgwLDAuKSwKdmVjMygwLjUwMzA5OCwtMC4zMDg4NzgsMC4pLAp2ZWMzKC0wLjAxNjIwNSwtMC44NzI5MjEsMC4pLAp2ZWMzKDAuMzg1Nzg0LC0wLjM5MzkwMiwwLiksCnZlYzMoLTAuMTQ2ODg2LC0wLjg1OTI0OSwwLiksCnZlYzMoMC42NDMzNjEsMC4xNjQwOTgsMC4pLAp2ZWMzKDAuNjM0Mzg4LC0wLjA0OTQ3MSwwLiksCnZlYzMoLTAuNjg4ODk0LDAuMDA3ODQzLDAuKSwKdmVjMygwLjQ2NDAzNCwtMC4xODg4MTgsMC4pLAp2ZWMzKC0wLjQ0MDg0MCwwLjEzNzQ4NiwwLiksCnZlYzMoMC4zNjQ0ODMsMC41MTE3MDQsMC4pLAp2ZWMzKDAuMDM0MDI4LDAuMzI1OTY4LDAuKSwKdmVjMygwLjA5OTA5NCwtMC4zMDgwMjMsMC4pLAp2ZWMzKDAuNjkzOTYwLC0wLjM2NjI1MywwLiksCnZlYzMoMC42Nzg4ODQsLTAuMjA0Njg4LDAuKSwKdmVjMygwLjAwMTgwMSwwLjc4MDMyOCwwLiksCnZlYzMoMC4xNDUxNzcsLTAuODk4OTg0LDAuKSwKdmVjMygwLjA2MjY1NSwtMC42MTE4NjYsMC4pLAp2ZWMzKDAuMzE1MjI2LC0wLjYwNDI5NywwLiksCnZlYzMoLTAuNzgwMTQ1LDAuNDg2MjUxLDAuKSwKdmVjMygtMC4zNzE4NjgsMC44ODIxMzgsMC4pLAp2ZWMzKDAuMjAwNDc2LDAuNDk0NDMwLDAuKSwKdmVjMygtMC40OTQ1NTIsLTAuNzExMDUxLDAuKSwKdmVjMygwLjYxMjQ3NiwwLjcwNTI1MiwwLiksCnZlYzMoLTAuNTc4ODQ1LC0wLjc2ODc5MiwwLiksCnZlYzMoLTAuNzcyNDU0LC0wLjA5MDk3NiwwLiksCnZlYzMoMC41MDQ0NDAsMC4zNzIyOTUsMC4pLAp2ZWMzKDAuMTU1NzM2LDAuMDY1MTU3LDAuKSwKdmVjMygwLjM5MTUyMiwwLjg0OTYwNSwwLiksCnZlYzMoLTAuNjIwMTA2LC0wLjMyODEwNCwwLiksCnZlYzMoMC43ODkyMzksLTAuNDE5OTY1LDAuKSwKdmVjMygtMC41NDUzOTYsMC41MzgxMzMsMC4pLAp2ZWMzKC0wLjE3ODU2NCwtMC41OTYwNTcsMC4pCik7CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUyhmbG9hdCBsYXllcix2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRBcnJheSBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYsaW50IHNlYXJjaFRhcENvdW50LGludCBwY2ZUYXBDb3VudCx2ZWMzWzY0XSBwb2lzc29uU2FtcGxlcnMsdmVjMiBsaWdodFNpemVVVkNvcnJlY3Rpb24sZmxvYXQgZGVwdGhDb3JyZWN0aW9uLGZsb2F0IHBlbnVtYnJhRGFya25lc3MpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PWNsYW1wKFpJTkNMSVAsMC4sR1JFQVRFU1RfTEVTU19USEFOX09ORSk7CnZlYzQgdXZEZXB0aExheWVyPXZlYzQodXZEZXB0aC54LHV2RGVwdGgueSxsYXllcix1dkRlcHRoLnopOwpmbG9hdCBibG9ja2VyRGVwdGg9MC4wOwpmbG9hdCBzdW1CbG9ja2VyRGVwdGg9MC4wOwpmbG9hdCBudW1CbG9ja2VyPTAuMDsKZm9yIChpbnQgaT0wOyBpPHNlYXJjaFRhcENvdW50OyBpICsrKSB7CmJsb2NrZXJEZXB0aD10ZXh0dXJlMkQoZGVwdGhTYW1wbGVyLHZlYzModXZEZXB0aC54eSsobGlnaHRTaXplVVYqbGlnaHRTaXplVVZDb3JyZWN0aW9uKnNoYWRvd01hcFNpemVJbnZlcnNlKlBvaXNzb25TYW1wbGVyczMyW2ldLnh5KSxsYXllcikpLnI7CmlmIChibG9ja2VyRGVwdGg8ZGVwdGhNZXRyaWMpIHsKc3VtQmxvY2tlckRlcHRoKz1ibG9ja2VyRGVwdGg7Cm51bUJsb2NrZXIrKzsKfQp9CmZsb2F0IGF2Z0Jsb2NrZXJEZXB0aD1zdW1CbG9ja2VyRGVwdGgvbnVtQmxvY2tlcjsKZmxvYXQgQUFPZmZzZXQ9c2hhZG93TWFwU2l6ZUludmVyc2UqMTAuOwpmbG9hdCBwZW51bWJyYVJhdGlvPSgoZGVwdGhNZXRyaWMtYXZnQmxvY2tlckRlcHRoKSpkZXB0aENvcnJlY3Rpb24rQUFPZmZzZXQpOwp2ZWM0IGZpbHRlclJhZGl1cz12ZWM0KHBlbnVtYnJhUmF0aW8qbGlnaHRTaXplVVYqbGlnaHRTaXplVVZDb3JyZWN0aW9uKnNoYWRvd01hcFNpemVJbnZlcnNlLDAuLDAuKTsKZmxvYXQgcmFuZG9tPWdldFJhbmQodlBvc2l0aW9uRnJvbUxpZ2h0Lnh5KTsKZmxvYXQgcm90YXRpb25BbmdsZT1yYW5kb20qMy4xNDE1OTI2Owp2ZWMyIHJvdGF0aW9uVmVjdG9yPXZlYzIoY29zKHJvdGF0aW9uQW5nbGUpLHNpbihyb3RhdGlvbkFuZ2xlKSk7CmZsb2F0IHNoYWRvdz0wLjsKZm9yIChpbnQgaT0wOyBpPHBjZlRhcENvdW50OyBpKyspIHsKdmVjNCBvZmZzZXQ9dmVjNChwb2lzc29uU2FtcGxlcnNbaV0sMC4pOwpvZmZzZXQ9dmVjNChvZmZzZXQueCpyb3RhdGlvblZlY3Rvci54LW9mZnNldC55KnJvdGF0aW9uVmVjdG9yLnksb2Zmc2V0Lnkqcm90YXRpb25WZWN0b3IueCtvZmZzZXQueCpyb3RhdGlvblZlY3Rvci55LDAuLDAuKTsKc2hhZG93Kz10ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1dkRlcHRoTGF5ZXIrb2Zmc2V0KmZpbHRlclJhZGl1cyk7Cn0Kc2hhZG93Lz1mbG9hdChwY2ZUYXBDb3VudCk7CnNoYWRvdz1taXgoc2hhZG93LDEuLG1pbigoZGVwdGhNZXRyaWMtYXZnQmxvY2tlckRlcHRoKSpkZXB0aENvcnJlY3Rpb24qcGVudW1icmFEYXJrbmVzcywxLikpOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CmlmIChudW1CbG9ja2VyPDEuMCkgewpyZXR1cm4gMS4wOwp9CmVsc2UKewpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoc2hhZG93LGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhQQ1NTKHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgc2hhZG93TWFwU2l6ZUludmVyc2UsZmxvYXQgbGlnaHRTaXplVVYsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmLGludCBzZWFyY2hUYXBDb3VudCxpbnQgcGNmVGFwQ291bnQsdmVjM1s2NF0gcG9pc3NvblNhbXBsZXJzKQp7CmlmIChkZXB0aE1ldHJpYz4xLjAgfHwgZGVwdGhNZXRyaWM8MC4wKSB7CnJldHVybiAxLjA7Cn0KZWxzZQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzMgdXZEZXB0aD12ZWMzKDAuNSpjbGlwU3BhY2UueHl6K3ZlYzMoMC41KSk7CnV2RGVwdGguej1aSU5DTElQOwpmbG9hdCBibG9ja2VyRGVwdGg9MC4wOwpmbG9hdCBzdW1CbG9ja2VyRGVwdGg9MC4wOwpmbG9hdCBudW1CbG9ja2VyPTAuMDsKZm9yIChpbnQgaT0wOyBpPHNlYXJjaFRhcENvdW50OyBpICsrKSB7CmJsb2NrZXJEZXB0aD1URVhUVVJFRlVOQyhkZXB0aFNhbXBsZXIsdXZEZXB0aC54eSsobGlnaHRTaXplVVYqc2hhZG93TWFwU2l6ZUludmVyc2UqUG9pc3NvblNhbXBsZXJzMzJbaV0ueHkpLDAuKS5yOwppZiAoYmxvY2tlckRlcHRoPGRlcHRoTWV0cmljKSB7CnN1bUJsb2NrZXJEZXB0aCs9YmxvY2tlckRlcHRoOwpudW1CbG9ja2VyKys7Cn0KfQppZiAobnVtQmxvY2tlcjwxLjApIHsKcmV0dXJuIDEuMDsKfQplbHNlCnsKZmxvYXQgYXZnQmxvY2tlckRlcHRoPXN1bUJsb2NrZXJEZXB0aC9udW1CbG9ja2VyOwpmbG9hdCBBQU9mZnNldD1zaGFkb3dNYXBTaXplSW52ZXJzZSoxMC47CmZsb2F0IHBlbnVtYnJhUmF0aW89KChkZXB0aE1ldHJpYy1hdmdCbG9ja2VyRGVwdGgpK0FBT2Zmc2V0KTsKZmxvYXQgZmlsdGVyUmFkaXVzPXBlbnVtYnJhUmF0aW8qbGlnaHRTaXplVVYqc2hhZG93TWFwU2l6ZUludmVyc2U7CmZsb2F0IHJhbmRvbT1nZXRSYW5kKHZQb3NpdGlvbkZyb21MaWdodC54eSk7CmZsb2F0IHJvdGF0aW9uQW5nbGU9cmFuZG9tKjMuMTQxNTkyNjsKdmVjMiByb3RhdGlvblZlY3Rvcj12ZWMyKGNvcyhyb3RhdGlvbkFuZ2xlKSxzaW4ocm90YXRpb25BbmdsZSkpOwpmbG9hdCBzaGFkb3c9MC47CmZvciAoaW50IGk9MDsgaTxwY2ZUYXBDb3VudDsgaSsrKSB7CnZlYzMgb2Zmc2V0PXBvaXNzb25TYW1wbGVyc1tpXTsKb2Zmc2V0PXZlYzMob2Zmc2V0Lngqcm90YXRpb25WZWN0b3IueC1vZmZzZXQueSpyb3RhdGlvblZlY3Rvci55LG9mZnNldC55KnJvdGF0aW9uVmVjdG9yLngrb2Zmc2V0Lngqcm90YXRpb25WZWN0b3IueSwwLik7CnNoYWRvdys9VEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1dkRlcHRoK29mZnNldCpmaWx0ZXJSYWRpdXMsMC4pOwp9CnNoYWRvdy89ZmxvYXQocGNmVGFwQ291bnQpOwpzaGFkb3c9bWl4KHNoYWRvdywxLixkZXB0aE1ldHJpYy1hdmdCbG9ja2VyRGVwdGgpOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUENTUzE2KHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgc2hhZG93TWFwU2l6ZUludmVyc2UsZmxvYXQgbGlnaHRTaXplVVYsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnJldHVybiBjb21wdXRlU2hhZG93V2l0aFBDU1ModlBvc2l0aW9uRnJvbUxpZ2h0LGRlcHRoTWV0cmljLGRlcHRoU2FtcGxlcixzaGFkb3dTYW1wbGVyLHNoYWRvd01hcFNpemVJbnZlcnNlLGxpZ2h0U2l6ZVVWLGRhcmtuZXNzLGZydXN0dW1FZGdlRmFsbG9mZiwxNiwxNixQb2lzc29uU2FtcGxlcnMzMik7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhQQ1NTMzIodmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKcmV0dXJuIGNvbXB1dGVTaGFkb3dXaXRoUENTUyh2UG9zaXRpb25Gcm9tTGlnaHQsZGVwdGhNZXRyaWMsZGVwdGhTYW1wbGVyLHNoYWRvd1NhbXBsZXIsc2hhZG93TWFwU2l6ZUludmVyc2UsbGlnaHRTaXplVVYsZGFya25lc3MsZnJ1c3R1bUVkZ2VGYWxsb2ZmLDE2LDMyLFBvaXNzb25TYW1wbGVyczMyKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDU1M2NCh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxzYW1wbGVyMkQgZGVwdGhTYW1wbGVyLGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewpyZXR1cm4gY29tcHV0ZVNoYWRvd1dpdGhQQ1NTKHZQb3NpdGlvbkZyb21MaWdodCxkZXB0aE1ldHJpYyxkZXB0aFNhbXBsZXIsc2hhZG93U2FtcGxlcixzaGFkb3dNYXBTaXplSW52ZXJzZSxsaWdodFNpemVVVixkYXJrbmVzcyxmcnVzdHVtRWRnZUZhbGxvZmYsMzIsNjQsUG9pc3NvblNhbXBsZXJzNjQpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzE2KGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5IGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZix2ZWMyIGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbixmbG9hdCBkZXB0aENvcnJlY3Rpb24sZmxvYXQgcGVudW1icmFEYXJrbmVzcykKewpyZXR1cm4gY29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTKGxheWVyLHZQb3NpdGlvbkZyb21MaWdodCxkZXB0aE1ldHJpYyxkZXB0aFNhbXBsZXIsc2hhZG93U2FtcGxlcixzaGFkb3dNYXBTaXplSW52ZXJzZSxsaWdodFNpemVVVixkYXJrbmVzcyxmcnVzdHVtRWRnZUZhbGxvZmYsMTYsMTYsUG9pc3NvblNhbXBsZXJzMzIsbGlnaHRTaXplVVZDb3JyZWN0aW9uLGRlcHRoQ29ycmVjdGlvbixwZW51bWJyYURhcmtuZXNzKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENTTVBDU1MzMihmbG9hdCBsYXllcix2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRBcnJheSBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYsdmVjMiBsaWdodFNpemVVVkNvcnJlY3Rpb24sZmxvYXQgZGVwdGhDb3JyZWN0aW9uLGZsb2F0IHBlbnVtYnJhRGFya25lc3MpCnsKcmV0dXJuIGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUyhsYXllcix2UG9zaXRpb25Gcm9tTGlnaHQsZGVwdGhNZXRyaWMsZGVwdGhTYW1wbGVyLHNoYWRvd1NhbXBsZXIsc2hhZG93TWFwU2l6ZUludmVyc2UsbGlnaHRTaXplVVYsZGFya25lc3MsZnJ1c3R1bUVkZ2VGYWxsb2ZmLDE2LDMyLFBvaXNzb25TYW1wbGVyczMyLGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbixkZXB0aENvcnJlY3Rpb24scGVudW1icmFEYXJrbmVzcyk7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTNjQoZmxvYXQgbGF5ZXIsdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEQXJyYXkgZGVwdGhTYW1wbGVyLGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgc2hhZG93TWFwU2l6ZUludmVyc2UsZmxvYXQgbGlnaHRTaXplVVYsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmLHZlYzIgbGlnaHRTaXplVVZDb3JyZWN0aW9uLGZsb2F0IGRlcHRoQ29ycmVjdGlvbixmbG9hdCBwZW51bWJyYURhcmtuZXNzKQp7CnJldHVybiBjb21wdXRlU2hhZG93V2l0aENTTVBDU1MobGF5ZXIsdlBvc2l0aW9uRnJvbUxpZ2h0LGRlcHRoTWV0cmljLGRlcHRoU2FtcGxlcixzaGFkb3dTYW1wbGVyLHNoYWRvd01hcFNpemVJbnZlcnNlLGxpZ2h0U2l6ZVVWLGRhcmtuZXNzLGZydXN0dW1FZGdlRmFsbG9mZiwzMiw2NCxQb2lzc29uU2FtcGxlcnM2NCxsaWdodFNpemVVVkNvcnJlY3Rpb24sZGVwdGhDb3JyZWN0aW9uLHBlbnVtYnJhRGFya25lc3MpOwp9CiNlbmRpZgojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0pvXT1laDtjb25zdCB0aD0ic2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24iLGloPWAjaWZkZWYgX0RFRklORU5BTUVfCiNpZiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09MQojZGVmaW5lIHZfVkFSWUlOR05BTUVfVVYgdk1haW5VVjEKI2VsaWYgX0RFRklORU5BTUVfRElSRUNUVVY9PTIKI2RlZmluZSB2X1ZBUllJTkdOQU1FX1VWIHZNYWluVVYyCiNlbGlmIF9ERUZJTkVOQU1FX0RJUkVDVFVWPT0zCiNkZWZpbmUgdl9WQVJZSU5HTkFNRV9VViB2TWFpblVWMwojZWxpZiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09NAojZGVmaW5lIHZfVkFSWUlOR05BTUVfVVYgdk1haW5VVjQKI2VsaWYgX0RFRklORU5BTUVfRElSRUNUVVY9PTUKI2RlZmluZSB2X1ZBUllJTkdOQU1FX1VWIHZNYWluVVY1CiNlbGlmIF9ERUZJTkVOQU1FX0RJUkVDVFVWPT02CiNkZWZpbmUgdl9WQVJZSU5HTkFNRV9VViB2TWFpblVWNgojZWxzZQp2YXJ5aW5nIHZlYzIgdl9WQVJZSU5HTkFNRV9VVjsKI2VuZGlmCnVuaWZvcm0gc2FtcGxlcjJEIF9TQU1QTEVSTkFNRV9TYW1wbGVyOwojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3RoXT1paDtjb25zdCBzaD0iZnJlc25lbEZ1bmN0aW9uIixyaD1gI2lmZGVmIEZSRVNORUwKZmxvYXQgY29tcHV0ZUZyZXNuZWxUZXJtKHZlYzMgdmlld0RpcmVjdGlvbix2ZWMzIHdvcmxkTm9ybWFsLGZsb2F0IGJpYXMsZmxvYXQgcG93ZXIpCnsKZmxvYXQgZnJlc25lbFRlcm09cG93KGJpYXMrYWJzKGRvdCh2aWV3RGlyZWN0aW9uLHdvcmxkTm9ybWFsKSkscG93ZXIpOwpyZXR1cm4gY2xhbXAoZnJlc25lbFRlcm0sMC4sMS4pOwp9CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbc2hdPXJoO2NvbnN0IG5oPSJyZWZsZWN0aW9uRnVuY3Rpb24iLGFoPWB2ZWMzIGNvbXB1dGVGaXhlZEVxdWlyZWN0YW5ndWxhckNvb3Jkcyh2ZWM0IHdvcmxkUG9zLHZlYzMgd29ybGROb3JtYWwsdmVjMyBkaXJlY3Rpb24pCnsKZmxvYXQgbG9uPWF0YW4oZGlyZWN0aW9uLnosZGlyZWN0aW9uLngpOwpmbG9hdCBsYXQ9YWNvcyhkaXJlY3Rpb24ueSk7CnZlYzIgc3BoZXJlQ29vcmRzPXZlYzIobG9uLGxhdCkqUkVDSVBST0NBTF9QSTIqMi4wOwpmbG9hdCBzPXNwaGVyZUNvb3Jkcy54KjAuNSswLjU7CmZsb2F0IHQ9c3BoZXJlQ29vcmRzLnk7CnJldHVybiB2ZWMzKHMsdCwwKTsgCn0KdmVjMyBjb21wdXRlTWlycm9yZWRGaXhlZEVxdWlyZWN0YW5ndWxhckNvb3Jkcyh2ZWM0IHdvcmxkUG9zLHZlYzMgd29ybGROb3JtYWwsdmVjMyBkaXJlY3Rpb24pCnsKZmxvYXQgbG9uPWF0YW4oZGlyZWN0aW9uLnosZGlyZWN0aW9uLngpOwpmbG9hdCBsYXQ9YWNvcyhkaXJlY3Rpb24ueSk7CnZlYzIgc3BoZXJlQ29vcmRzPXZlYzIobG9uLGxhdCkqUkVDSVBST0NBTF9QSTIqMi4wOwpmbG9hdCBzPXNwaGVyZUNvb3Jkcy54KjAuNSswLjU7CmZsb2F0IHQ9c3BoZXJlQ29vcmRzLnk7CnJldHVybiB2ZWMzKDEuMC1zLHQsMCk7IAp9CnZlYzMgY29tcHV0ZUVxdWlyZWN0YW5ndWxhckNvb3Jkcyh2ZWM0IHdvcmxkUG9zLHZlYzMgd29ybGROb3JtYWwsdmVjMyBleWVQb3NpdGlvbixtYXQ0IHJlZmxlY3Rpb25NYXRyaXgpCnsKdmVjMyBjYW1lcmFUb1ZlcnRleD1ub3JtYWxpemUod29ybGRQb3MueHl6LWV5ZVBvc2l0aW9uKTsKdmVjMyByPW5vcm1hbGl6ZShyZWZsZWN0KGNhbWVyYVRvVmVydGV4LHdvcmxkTm9ybWFsKSk7CnI9dmVjMyhyZWZsZWN0aW9uTWF0cml4KnZlYzQociwwKSk7CmZsb2F0IGxvbj1hdGFuKHIueixyLngpOwpmbG9hdCBsYXQ9YWNvcyhyLnkpOwp2ZWMyIHNwaGVyZUNvb3Jkcz12ZWMyKGxvbixsYXQpKlJFQ0lQUk9DQUxfUEkyKjIuMDsKZmxvYXQgcz1zcGhlcmVDb29yZHMueCowLjUrMC41OwpmbG9hdCB0PXNwaGVyZUNvb3Jkcy55OwpyZXR1cm4gdmVjMyhzLHQsMCk7Cn0KdmVjMyBjb21wdXRlU3BoZXJpY2FsQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCxtYXQ0IHZpZXcsbWF0NCByZWZsZWN0aW9uTWF0cml4KQp7CnZlYzMgdmlld0Rpcj1ub3JtYWxpemUodmVjMyh2aWV3KndvcmxkUG9zKSk7CnZlYzMgdmlld05vcm1hbD1ub3JtYWxpemUodmVjMyh2aWV3KnZlYzQod29ybGROb3JtYWwsMC4wKSkpOwp2ZWMzIHI9cmVmbGVjdCh2aWV3RGlyLHZpZXdOb3JtYWwpOwpyPXZlYzMocmVmbGVjdGlvbk1hdHJpeCp2ZWM0KHIsMCkpOwpyLno9ci56LTEuMDsKZmxvYXQgbT0yLjAqbGVuZ3RoKHIpOwpyZXR1cm4gdmVjMyhyLngvbSswLjUsMS4wLXIueS9tLTAuNSwwKTsKfQp2ZWMzIGNvbXB1dGVQbGFuYXJDb29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsLHZlYzMgZXllUG9zaXRpb24sbWF0NCByZWZsZWN0aW9uTWF0cml4KQp7CnZlYzMgdmlld0Rpcj13b3JsZFBvcy54eXotZXllUG9zaXRpb247CnZlYzMgY29vcmRzPW5vcm1hbGl6ZShyZWZsZWN0KHZpZXdEaXIsd29ybGROb3JtYWwpKTsKcmV0dXJuIHZlYzMocmVmbGVjdGlvbk1hdHJpeCp2ZWM0KGNvb3JkcywxKSk7Cn0KdmVjMyBjb21wdXRlQ3ViaWNDb29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsLHZlYzMgZXllUG9zaXRpb24sbWF0NCByZWZsZWN0aW9uTWF0cml4KQp7CnZlYzMgdmlld0Rpcj1ub3JtYWxpemUod29ybGRQb3MueHl6LWV5ZVBvc2l0aW9uKTsKdmVjMyBjb29yZHM9cmVmbGVjdCh2aWV3RGlyLHdvcmxkTm9ybWFsKTsKY29vcmRzPXZlYzMocmVmbGVjdGlvbk1hdHJpeCp2ZWM0KGNvb3JkcywwKSk7CiNpZmRlZiBJTlZFUlRDVUJJQ01BUApjb29yZHMueSo9LTEuMDsKI2VuZGlmCnJldHVybiBjb29yZHM7Cn0KdmVjMyBjb21wdXRlQ3ViaWNMb2NhbENvb3Jkcyh2ZWM0IHdvcmxkUG9zLHZlYzMgd29ybGROb3JtYWwsdmVjMyBleWVQb3NpdGlvbixtYXQ0IHJlZmxlY3Rpb25NYXRyaXgsdmVjMyByZWZsZWN0aW9uU2l6ZSx2ZWMzIHJlZmxlY3Rpb25Qb3NpdGlvbikKewp2ZWMzIHZpZXdEaXI9bm9ybWFsaXplKHdvcmxkUG9zLnh5ei1leWVQb3NpdGlvbik7CnZlYzMgY29vcmRzPXJlZmxlY3Qodmlld0Rpcix3b3JsZE5vcm1hbCk7CmNvb3Jkcz1wYXJhbGxheENvcnJlY3ROb3JtYWwod29ybGRQb3MueHl6LGNvb3JkcyxyZWZsZWN0aW9uU2l6ZSxyZWZsZWN0aW9uUG9zaXRpb24pOwpjb29yZHM9dmVjMyhyZWZsZWN0aW9uTWF0cml4KnZlYzQoY29vcmRzLDApKTsKI2lmZGVmIElOVkVSVENVQklDTUFQCmNvb3Jkcy55Kj0tMS4wOwojZW5kaWYKcmV0dXJuIGNvb3JkczsKfQp2ZWMzIGNvbXB1dGVQcm9qZWN0aW9uQ29vcmRzKHZlYzQgd29ybGRQb3MsbWF0NCB2aWV3LG1hdDQgcmVmbGVjdGlvbk1hdHJpeCkKewpyZXR1cm4gdmVjMyhyZWZsZWN0aW9uTWF0cml4Kih2aWV3KndvcmxkUG9zKSk7Cn0KdmVjMyBjb21wdXRlU2t5Qm94Q29vcmRzKHZlYzMgcG9zaXRpb25XLG1hdDQgcmVmbGVjdGlvbk1hdHJpeCkKewpyZXR1cm4gdmVjMyhyZWZsZWN0aW9uTWF0cml4KnZlYzQocG9zaXRpb25XLDEuKSk7Cn0KI2lmZGVmIFJFRkxFQ1RJT04KdmVjMyBjb21wdXRlUmVmbGVjdGlvbkNvb3Jkcyh2ZWM0IHdvcmxkUG9zLHZlYzMgd29ybGROb3JtYWwpCnsKI2lmZGVmIFJFRkxFQ1RJT05NQVBfTUlSUk9SRURFUVVJUkVDVEFOR1VMQVJfRklYRUQKdmVjMyBkaXJlY3Rpb249bm9ybWFsaXplKHZEaXJlY3Rpb25XKTsKcmV0dXJuIGNvbXB1dGVNaXJyb3JlZEZpeGVkRXF1aXJlY3Rhbmd1bGFyQ29vcmRzKHdvcmxkUG9zLHdvcmxkTm9ybWFsLGRpcmVjdGlvbik7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVJfRklYRUQKdmVjMyBkaXJlY3Rpb249bm9ybWFsaXplKHZEaXJlY3Rpb25XKTsKcmV0dXJuIGNvbXB1dGVGaXhlZEVxdWlyZWN0YW5ndWxhckNvb3Jkcyh3b3JsZFBvcyx3b3JsZE5vcm1hbCxkaXJlY3Rpb24pOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSCnJldHVybiBjb21wdXRlRXF1aXJlY3Rhbmd1bGFyQ29vcmRzKHdvcmxkUG9zLHdvcmxkTm9ybWFsLHZFeWVQb3NpdGlvbi54eXoscmVmbGVjdGlvbk1hdHJpeCk7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9TUEhFUklDQUwKcmV0dXJuIGNvbXB1dGVTcGhlcmljYWxDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsdmlldyxyZWZsZWN0aW9uTWF0cml4KTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX1BMQU5BUgpyZXR1cm4gY29tcHV0ZVBsYW5hckNvb3Jkcyh3b3JsZFBvcyx3b3JsZE5vcm1hbCx2RXllUG9zaXRpb24ueHl6LHJlZmxlY3Rpb25NYXRyaXgpOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfQ1VCSUMKI2lmZGVmIFVTRV9MT0NBTF9SRUZMRUNUSU9OTUFQX0NVQklDCnJldHVybiBjb21wdXRlQ3ViaWNMb2NhbENvb3Jkcyh3b3JsZFBvcyx3b3JsZE5vcm1hbCx2RXllUG9zaXRpb24ueHl6LHJlZmxlY3Rpb25NYXRyaXgsdlJlZmxlY3Rpb25TaXplLHZSZWZsZWN0aW9uUG9zaXRpb24pOwojZWxzZQpyZXR1cm4gY29tcHV0ZUN1YmljQ29vcmRzKHdvcmxkUG9zLHdvcmxkTm9ybWFsLHZFeWVQb3NpdGlvbi54eXoscmVmbGVjdGlvbk1hdHJpeCk7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTgpyZXR1cm4gY29tcHV0ZVByb2plY3Rpb25Db29yZHMod29ybGRQb3MsdmlldyxyZWZsZWN0aW9uTWF0cml4KTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX1NLWUJPWApyZXR1cm4gY29tcHV0ZVNreUJveENvb3Jkcyh2UG9zaXRpb25VVlcscmVmbGVjdGlvbk1hdHJpeCk7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9FWFBMSUNJVApyZXR1cm4gdmVjMygwLDAsMCk7CiNlbmRpZgp9CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbbmhdPWFoO2NvbnN0IG9oPSJpbWFnZVByb2Nlc3NpbmdEZWNsYXJhdGlvbiIsaGg9YCNpZmRlZiBFWFBPU1VSRQp1bmlmb3JtIGZsb2F0IGV4cG9zdXJlTGluZWFyOwojZW5kaWYKI2lmZGVmIENPTlRSQVNUCnVuaWZvcm0gZmxvYXQgY29udHJhc3Q7CiNlbmRpZgojaWYgZGVmaW5lZChWSUdORVRURSkgfHwgZGVmaW5lZChESVRIRVIpCnVuaWZvcm0gdmVjMiB2SW52ZXJzZVNjcmVlblNpemU7CiNlbmRpZgojaWZkZWYgVklHTkVUVEUKdW5pZm9ybSB2ZWM0IHZpZ25ldHRlU2V0dGluZ3MxOwp1bmlmb3JtIHZlYzQgdmlnbmV0dGVTZXR0aW5nczI7CiNlbmRpZgojaWZkZWYgQ09MT1JDVVJWRVMKdW5pZm9ybSB2ZWM0IHZDYW1lcmFDb2xvckN1cnZlTmVnYXRpdmU7CnVuaWZvcm0gdmVjNCB2Q2FtZXJhQ29sb3JDdXJ2ZU5ldXRyYWw7CnVuaWZvcm0gdmVjNCB2Q2FtZXJhQ29sb3JDdXJ2ZVBvc2l0aXZlOwojZW5kaWYKI2lmZGVmIENPTE9SR1JBRElORwojaWZkZWYgQ09MT1JHUkFESU5HM0QKdW5pZm9ybSBoaWdocCBzYW1wbGVyM0QgdHhDb2xvclRyYW5zZm9ybTsKI2Vsc2UKdW5pZm9ybSBzYW1wbGVyMkQgdHhDb2xvclRyYW5zZm9ybTsKI2VuZGlmCnVuaWZvcm0gdmVjNCBjb2xvclRyYW5zZm9ybVNldHRpbmdzOwojZW5kaWYKI2lmZGVmIERJVEhFUgp1bmlmb3JtIGZsb2F0IGRpdGhlckludGVuc2l0eTsKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtvaF09aGg7Y29uc3QgbGg9ImltYWdlUHJvY2Vzc2luZ0Z1bmN0aW9ucyIsY2g9YCNpZiBkZWZpbmVkKENPTE9SR1JBRElORykgJiYgIWRlZmluZWQoQ09MT1JHUkFESU5HM0QpCi8qKiAKKiBQb2x5ZmlsbCBmb3IgU0FNUExFX1RFWFRVUkVfM0Qsd2hpY2ggaXMgdW5zdXBwb3J0ZWQgaW4gV2ViR0wuCiogc2FtcGxlcjNkU2V0dGluZy54PXRleHR1cmVPZmZzZXQgKDAuNS90ZXh0dXJlU2l6ZSkuCiogc2FtcGxlcjNkU2V0dGluZy55PXRleHR1cmVTaXplLgoqLwojZGVmaW5lIGlubGluZQp2ZWMzIHNhbXBsZVRleHR1cmUzRChzYW1wbGVyMkQgY29sb3JUcmFuc2Zvcm0sdmVjMyBjb2xvcix2ZWMyIHNhbXBsZXIzZFNldHRpbmcpCnsKZmxvYXQgc2xpY2VTaXplPTIuMCpzYW1wbGVyM2RTZXR0aW5nLng7IAojaWZkZWYgU0FNUExFUjNER1JFRU5ERVBUSApmbG9hdCBzbGljZUNvbnRpbnVvdXM9KGNvbG9yLmctc2FtcGxlcjNkU2V0dGluZy54KSpzYW1wbGVyM2RTZXR0aW5nLnk7CiNlbHNlCmZsb2F0IHNsaWNlQ29udGludW91cz0oY29sb3IuYi1zYW1wbGVyM2RTZXR0aW5nLngpKnNhbXBsZXIzZFNldHRpbmcueTsKI2VuZGlmCmZsb2F0IHNsaWNlSW50ZWdlcj1mbG9vcihzbGljZUNvbnRpbnVvdXMpOwpmbG9hdCBzbGljZUZyYWN0aW9uPXNsaWNlQ29udGludW91cy1zbGljZUludGVnZXI7CiNpZmRlZiBTQU1QTEVSM0RHUkVFTkRFUFRICnZlYzIgc2xpY2VVVj1jb2xvci5yYjsKI2Vsc2UKdmVjMiBzbGljZVVWPWNvbG9yLnJnOwojZW5kaWYKc2xpY2VVVi54Kj1zbGljZVNpemU7CnNsaWNlVVYueCs9c2xpY2VJbnRlZ2VyKnNsaWNlU2l6ZTsKc2xpY2VVVj1zYXR1cmF0ZShzbGljZVVWKTsKdmVjNCBzbGljZTBDb2xvcj10ZXh0dXJlMkQoY29sb3JUcmFuc2Zvcm0sc2xpY2VVVik7CnNsaWNlVVYueCs9c2xpY2VTaXplOwpzbGljZVVWPXNhdHVyYXRlKHNsaWNlVVYpOwp2ZWM0IHNsaWNlMUNvbG9yPXRleHR1cmUyRChjb2xvclRyYW5zZm9ybSxzbGljZVVWKTsKdmVjMyByZXN1bHQ9bWl4KHNsaWNlMENvbG9yLnJnYixzbGljZTFDb2xvci5yZ2Isc2xpY2VGcmFjdGlvbik7CiNpZmRlZiBTQU1QTEVSM0RCR1JNQVAKY29sb3IucmdiPXJlc3VsdC5yZ2I7CiNlbHNlCmNvbG9yLnJnYj1yZXN1bHQuYmdyOwojZW5kaWYKcmV0dXJuIGNvbG9yOwp9CiNlbmRpZgojaWZkZWYgVE9ORU1BUFBJTkdfQUNFUwpjb25zdCBtYXQzIEFDRVNJbnB1dE1hdD1tYXQzKAp2ZWMzKDAuNTk3MTksMC4wNzYwMCwwLjAyODQwKSwKdmVjMygwLjM1NDU4LDAuOTA4MzQsMC4xMzM4MyksCnZlYzMoMC4wNDgyMywwLjAxNTY2LDAuODM3NzcpCik7CmNvbnN0IG1hdDMgQUNFU091dHB1dE1hdD1tYXQzKAp2ZWMzKCAxLjYwNDc1LC0wLjEwMjA4LC0wLjAwMzI3KSwKdmVjMygtMC41MzEwOCwgMS4xMDgxMywtMC4wNzI3NiksCnZlYzMoLTAuMDczNjcsLTAuMDA2MDUsIDEuMDc2MDIpCik7CnZlYzMgUlJUQW5kT0RURml0KHZlYzMgdikKewp2ZWMzIGE9dioodiswLjAyNDU3ODYpLTAuMDAwMDkwNTM3Owp2ZWMzIGI9diooMC45ODM3MjkqdiswLjQzMjk1MTApKzAuMjM4MDgxOwpyZXR1cm4gYS9iOwp9CnZlYzMgQUNFU0ZpdHRlZCh2ZWMzIGNvbG9yKQp7CmNvbG9yPUFDRVNJbnB1dE1hdCpjb2xvcjsKY29sb3I9UlJUQW5kT0RURml0KGNvbG9yKTsKY29sb3I9QUNFU091dHB1dE1hdCpjb2xvcjsKY29sb3I9c2F0dXJhdGUoY29sb3IpOwpyZXR1cm4gY29sb3I7Cn0KI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0lNQUdFUFJPQ0VTU0lOR0ZVTkNUSU9OU19ERUZJTklUSU9OUwp2ZWM0IGFwcGx5SW1hZ2VQcm9jZXNzaW5nKHZlYzQgcmVzdWx0KSB7CiNkZWZpbmUgQ1VTVE9NX0lNQUdFUFJPQ0VTU0lOR0ZVTkNUSU9OU19VUERBVEVSRVNVTFRfQVRTVEFSVAojaWZkZWYgRVhQT1NVUkUKcmVzdWx0LnJnYio9ZXhwb3N1cmVMaW5lYXI7CiNlbmRpZgojaWZkZWYgVklHTkVUVEUKdmVjMiB2aWV3cG9ydFhZPWdsX0ZyYWdDb29yZC54eSp2SW52ZXJzZVNjcmVlblNpemU7CnZpZXdwb3J0WFk9dmlld3BvcnRYWSoyLjAtMS4wOwp2ZWMzIHZpZ25ldHRlWFkxPXZlYzModmlld3BvcnRYWSp2aWduZXR0ZVNldHRpbmdzMS54eSt2aWduZXR0ZVNldHRpbmdzMS56dywxLjApOwpmbG9hdCB2aWduZXR0ZVRlcm09ZG90KHZpZ25ldHRlWFkxLHZpZ25ldHRlWFkxKTsKZmxvYXQgdmlnbmV0dGU9cG93KHZpZ25ldHRlVGVybSx2aWduZXR0ZVNldHRpbmdzMi53KTsKdmVjMyB2aWduZXR0ZUNvbG9yPXZpZ25ldHRlU2V0dGluZ3MyLnJnYjsKI2lmZGVmIFZJR05FVFRFQkxFTkRNT0RFTVVMVElQTFkKdmVjMyB2aWduZXR0ZUNvbG9yTXVsdGlwbGllcj1taXgodmlnbmV0dGVDb2xvcix2ZWMzKDEsMSwxKSx2aWduZXR0ZSk7CnJlc3VsdC5yZ2IqPXZpZ25ldHRlQ29sb3JNdWx0aXBsaWVyOwojZW5kaWYKI2lmZGVmIFZJR05FVFRFQkxFTkRNT0RFT1BBUVVFCnJlc3VsdC5yZ2I9bWl4KHZpZ25ldHRlQ29sb3IscmVzdWx0LnJnYix2aWduZXR0ZSk7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFRPTkVNQVBQSU5HCiNpZmRlZiBUT05FTUFQUElOR19BQ0VTCnJlc3VsdC5yZ2I9QUNFU0ZpdHRlZChyZXN1bHQucmdiKTsKI2Vsc2UKY29uc3QgZmxvYXQgdG9uZW1hcHBpbmdDYWxpYnJhdGlvbj0xLjU5MDU3OTsKcmVzdWx0LnJnYj0xLjAtZXhwMigtdG9uZW1hcHBpbmdDYWxpYnJhdGlvbipyZXN1bHQucmdiKTsKI2VuZGlmCiNlbmRpZgpyZXN1bHQucmdiPXRvR2FtbWFTcGFjZShyZXN1bHQucmdiKTsKcmVzdWx0LnJnYj1zYXR1cmF0ZShyZXN1bHQucmdiKTsKI2lmZGVmIENPTlRSQVNUCnZlYzMgcmVzdWx0SGlnaENvbnRyYXN0PXJlc3VsdC5yZ2IqcmVzdWx0LnJnYiooMy4wLTIuMCpyZXN1bHQucmdiKTsKaWYgKGNvbnRyYXN0PDEuMCkgewpyZXN1bHQucmdiPW1peCh2ZWMzKDAuNSwwLjUsMC41KSxyZXN1bHQucmdiLGNvbnRyYXN0KTsKfSBlbHNlIHsKcmVzdWx0LnJnYj1taXgocmVzdWx0LnJnYixyZXN1bHRIaWdoQ29udHJhc3QsY29udHJhc3QtMS4wKTsKfQojZW5kaWYKI2lmZGVmIENPTE9SR1JBRElORwp2ZWMzIGNvbG9yVHJhbnNmb3JtSW5wdXQ9cmVzdWx0LnJnYipjb2xvclRyYW5zZm9ybVNldHRpbmdzLnh4eCtjb2xvclRyYW5zZm9ybVNldHRpbmdzLnl5eTsKI2lmZGVmIENPTE9SR1JBRElORzNECnZlYzMgY29sb3JUcmFuc2Zvcm1PdXRwdXQ9dGV4dHVyZSh0eENvbG9yVHJhbnNmb3JtLGNvbG9yVHJhbnNmb3JtSW5wdXQpLnJnYjsKI2Vsc2UKdmVjMyBjb2xvclRyYW5zZm9ybU91dHB1dD1zYW1wbGVUZXh0dXJlM0QodHhDb2xvclRyYW5zZm9ybSxjb2xvclRyYW5zZm9ybUlucHV0LGNvbG9yVHJhbnNmb3JtU2V0dGluZ3MueXopLnJnYjsKI2VuZGlmCnJlc3VsdC5yZ2I9bWl4KHJlc3VsdC5yZ2IsY29sb3JUcmFuc2Zvcm1PdXRwdXQsY29sb3JUcmFuc2Zvcm1TZXR0aW5ncy53d3cpOwojZW5kaWYKI2lmZGVmIENPTE9SQ1VSVkVTCmZsb2F0IGx1bWE9Z2V0THVtaW5hbmNlKHJlc3VsdC5yZ2IpOwp2ZWMyIGN1cnZlTWl4PWNsYW1wKHZlYzIobHVtYSozLjAtMS41LGx1bWEqLTMuMCsxLjUpLHZlYzIoMC4wKSx2ZWMyKDEuMCkpOwp2ZWM0IGNvbG9yQ3VydmU9dkNhbWVyYUNvbG9yQ3VydmVOZXV0cmFsK2N1cnZlTWl4LngqdkNhbWVyYUNvbG9yQ3VydmVQb3NpdGl2ZS1jdXJ2ZU1peC55KnZDYW1lcmFDb2xvckN1cnZlTmVnYXRpdmU7CnJlc3VsdC5yZ2IqPWNvbG9yQ3VydmUucmdiOwpyZXN1bHQucmdiPW1peCh2ZWMzKGx1bWEpLHJlc3VsdC5yZ2IsY29sb3JDdXJ2ZS5hKTsKI2VuZGlmCiNpZmRlZiBESVRIRVIKZmxvYXQgcmFuZD1nZXRSYW5kKGdsX0ZyYWdDb29yZC54eSp2SW52ZXJzZVNjcmVlblNpemUpOwpmbG9hdCBkaXRoZXI9bWl4KC1kaXRoZXJJbnRlbnNpdHksZGl0aGVySW50ZW5zaXR5LHJhbmQpOwpyZXN1bHQucmdiPXNhdHVyYXRlKHJlc3VsdC5yZ2IrdmVjMyhkaXRoZXIpKTsKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0lNQUdFUFJPQ0VTU0lOR0ZVTkNUSU9OU19VUERBVEVSRVNVTFRfQVRFTkQKcmV0dXJuIHJlc3VsdDsKfWA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtsaF09Y2g7Y29uc3QgdWg9ImJ1bXBGcmFnbWVudE1haW5GdW5jdGlvbnMiLGRoPWAjaWYgZGVmaW5lZChCVU1QKSB8fCBkZWZpbmVkKENMRUFSQ09BVF9CVU1QKSB8fCBkZWZpbmVkKEFOSVNPVFJPUElDKSB8fCBkZWZpbmVkKERFVEFJTCkKI2lmIGRlZmluZWQoVEFOR0VOVCkgJiYgZGVmaW5lZChOT1JNQUwpIAp2YXJ5aW5nIG1hdDMgdlRCTjsKI2VuZGlmCiNpZmRlZiBPQkpFQ1RTUEFDRV9OT1JNQUxNQVAKdW5pZm9ybSBtYXQ0IG5vcm1hbE1hdHJpeDsKI2VuZGlmCnZlYzMgcGVydHVyYk5vcm1hbEJhc2UobWF0MyBjb3RhbmdlbnRGcmFtZSx2ZWMzIG5vcm1hbCxmbG9hdCBzY2FsZSkKewojaWZkZWYgTk9STUFMWFlTQ0FMRQpub3JtYWw9bm9ybWFsaXplKG5vcm1hbCp2ZWMzKHNjYWxlLHNjYWxlLDEuMCkpOwojZW5kaWYKcmV0dXJuIG5vcm1hbGl6ZShjb3RhbmdlbnRGcmFtZSpub3JtYWwpOwp9CnZlYzMgcGVydHVyYk5vcm1hbChtYXQzIGNvdGFuZ2VudEZyYW1lLHZlYzMgdGV4dHVyZVNhbXBsZSxmbG9hdCBzY2FsZSkKewpyZXR1cm4gcGVydHVyYk5vcm1hbEJhc2UoY290YW5nZW50RnJhbWUsdGV4dHVyZVNhbXBsZSoyLjAtMS4wLHNjYWxlKTsKfQptYXQzIGNvdGFuZ2VudF9mcmFtZSh2ZWMzIG5vcm1hbCx2ZWMzIHAsdmVjMiB1dix2ZWMyIHRhbmdlbnRTcGFjZVBhcmFtcykKewp2ZWMzIGRwMT1kRmR4KHApOwp2ZWMzIGRwMj1kRmR5KHApOwp2ZWMyIGR1djE9ZEZkeCh1dik7CnZlYzIgZHV2Mj1kRmR5KHV2KTsKdmVjMyBkcDJwZXJwPWNyb3NzKGRwMixub3JtYWwpOwp2ZWMzIGRwMXBlcnA9Y3Jvc3Mobm9ybWFsLGRwMSk7CnZlYzMgdGFuZ2VudD1kcDJwZXJwKmR1djEueCtkcDFwZXJwKmR1djIueDsKdmVjMyBiaXRhbmdlbnQ9ZHAycGVycCpkdXYxLnkrZHAxcGVycCpkdXYyLnk7CnRhbmdlbnQqPXRhbmdlbnRTcGFjZVBhcmFtcy54OwpiaXRhbmdlbnQqPXRhbmdlbnRTcGFjZVBhcmFtcy55OwpmbG9hdCBkZXQ9bWF4KGRvdCh0YW5nZW50LHRhbmdlbnQpLGRvdChiaXRhbmdlbnQsYml0YW5nZW50KSk7CmZsb2F0IGludm1heD1kZXQ9PTAuMCA/IDAuMCA6IGludmVyc2VzcXJ0KGRldCk7CnJldHVybiBtYXQzKHRhbmdlbnQqaW52bWF4LGJpdGFuZ2VudCppbnZtYXgsbm9ybWFsKTsKfQojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3VoXT1kaDtjb25zdCBmaD0iYnVtcEZyYWdtZW50RnVuY3Rpb25zIixfaD1gI2lmIGRlZmluZWQoQlVNUCkKI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxCVU1QLF9WQVJZSU5HTkFNRV8sQnVtcCxfU0FNUExFUk5BTUVfLGJ1bXApCiNlbmRpZgojaWYgZGVmaW5lZChERVRBSUwpCiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sREVUQUlMLF9WQVJZSU5HTkFNRV8sRGV0YWlsLF9TQU1QTEVSTkFNRV8sZGV0YWlsKQojZW5kaWYKI2lmIGRlZmluZWQoQlVNUCkgJiYgZGVmaW5lZChQQVJBTExBWCkKY29uc3QgZmxvYXQgbWluU2FtcGxlcz00LjsKY29uc3QgZmxvYXQgbWF4U2FtcGxlcz0xNS47CmNvbnN0IGludCBpTWF4U2FtcGxlcz0xNTsKdmVjMiBwYXJhbGxheE9jY2x1c2lvbih2ZWMzIHZWaWV3RGlyQ29ULHZlYzMgdk5vcm1hbENvVCx2ZWMyIHRleENvb3JkLGZsb2F0IHBhcmFsbGF4U2NhbGUpIHsKZmxvYXQgcGFyYWxsYXhMaW1pdD1sZW5ndGgodlZpZXdEaXJDb1QueHkpL3ZWaWV3RGlyQ29ULno7CnBhcmFsbGF4TGltaXQqPXBhcmFsbGF4U2NhbGU7CnZlYzIgdk9mZnNldERpcj1ub3JtYWxpemUodlZpZXdEaXJDb1QueHkpOwp2ZWMyIHZNYXhPZmZzZXQ9dk9mZnNldERpcipwYXJhbGxheExpbWl0OwpmbG9hdCBudW1TYW1wbGVzPW1heFNhbXBsZXMrKGRvdCh2Vmlld0RpckNvVCx2Tm9ybWFsQ29UKSoobWluU2FtcGxlcy1tYXhTYW1wbGVzKSk7CmZsb2F0IHN0ZXBTaXplPTEuMC9udW1TYW1wbGVzOwpmbG9hdCBjdXJyUmF5SGVpZ2h0PTEuMDsKdmVjMiB2Q3Vyck9mZnNldD12ZWMyKDAsMCk7CnZlYzIgdkxhc3RPZmZzZXQ9dmVjMigwLDApOwpmbG9hdCBsYXN0U2FtcGxlZEhlaWdodD0xLjA7CmZsb2F0IGN1cnJTYW1wbGVkSGVpZ2h0PTEuMDsKYm9vbCBrZWVwV29ya2luZz10cnVlOwpmb3IgKGludCBpPTA7IGk8aU1heFNhbXBsZXM7IGkrKykKewpjdXJyU2FtcGxlZEhlaWdodD10ZXh0dXJlMkQoYnVtcFNhbXBsZXIsdGV4Q29vcmQrdkN1cnJPZmZzZXQpLnc7CmlmICgha2VlcFdvcmtpbmcpCnsKfQplbHNlIGlmIChjdXJyU2FtcGxlZEhlaWdodD5jdXJyUmF5SGVpZ2h0KQp7CmZsb2F0IGRlbHRhMT1jdXJyU2FtcGxlZEhlaWdodC1jdXJyUmF5SGVpZ2h0OwpmbG9hdCBkZWx0YTI9KGN1cnJSYXlIZWlnaHQrc3RlcFNpemUpLWxhc3RTYW1wbGVkSGVpZ2h0OwpmbG9hdCByYXRpbz1kZWx0YTEvKGRlbHRhMStkZWx0YTIpOwp2Q3Vyck9mZnNldD0ocmF0aW8pKiB2TGFzdE9mZnNldCsoMS4wLXJhdGlvKSp2Q3Vyck9mZnNldDsKa2VlcFdvcmtpbmc9ZmFsc2U7Cn0KZWxzZQp7CmN1cnJSYXlIZWlnaHQtPXN0ZXBTaXplOwp2TGFzdE9mZnNldD12Q3Vyck9mZnNldDsKdkN1cnJPZmZzZXQrPXN0ZXBTaXplKnZNYXhPZmZzZXQ7Cmxhc3RTYW1wbGVkSGVpZ2h0PWN1cnJTYW1wbGVkSGVpZ2h0Owp9Cn0KcmV0dXJuIHZDdXJyT2Zmc2V0Owp9CnZlYzIgcGFyYWxsYXhPZmZzZXQodmVjMyB2aWV3RGlyLGZsb2F0IGhlaWdodFNjYWxlKQp7CmZsb2F0IGhlaWdodD10ZXh0dXJlMkQoYnVtcFNhbXBsZXIsdkJ1bXBVVikudzsKdmVjMiB0ZXhDb29yZE9mZnNldD1oZWlnaHRTY2FsZSp2aWV3RGlyLnh5KmhlaWdodDsKcmV0dXJuIC10ZXhDb29yZE9mZnNldDsKfQojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2ZoXT1faDtjb25zdCBnaD0ibG9nRGVwdGhEZWNsYXJhdGlvbiIscGg9YCNpZmRlZiBMT0dBUklUSE1JQ0RFUFRICnVuaWZvcm0gZmxvYXQgbG9nYXJpdGhtaWNEZXB0aENvbnN0YW50Owp2YXJ5aW5nIGZsb2F0IHZGcmFnbWVudERlcHRoOwojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2doXT1waDtjb25zdCBtaD0iZm9nRnJhZ21lbnREZWNsYXJhdGlvbiIsRWg9YCNpZmRlZiBGT0cKI2RlZmluZSBGT0dNT0RFX05PTkUgMC4KI2RlZmluZSBGT0dNT0RFX0VYUCAxLgojZGVmaW5lIEZPR01PREVfRVhQMiAyLgojZGVmaW5lIEZPR01PREVfTElORUFSIDMuCiNkZWZpbmUgRSAyLjcxODI4CnVuaWZvcm0gdmVjNCB2Rm9nSW5mb3M7CnVuaWZvcm0gdmVjMyB2Rm9nQ29sb3I7CnZhcnlpbmcgdmVjMyB2Rm9nRGlzdGFuY2U7CmZsb2F0IENhbGNGb2dGYWN0b3IoKQp7CmZsb2F0IGZvZ0NvZWZmPTEuMDsKZmxvYXQgZm9nU3RhcnQ9dkZvZ0luZm9zLnk7CmZsb2F0IGZvZ0VuZD12Rm9nSW5mb3MuejsKZmxvYXQgZm9nRGVuc2l0eT12Rm9nSW5mb3MudzsKZmxvYXQgZm9nRGlzdGFuY2U9bGVuZ3RoKHZGb2dEaXN0YW5jZSk7CmlmIChGT0dNT0RFX0xJTkVBUj09dkZvZ0luZm9zLngpCnsKZm9nQ29lZmY9KGZvZ0VuZC1mb2dEaXN0YW5jZSkvKGZvZ0VuZC1mb2dTdGFydCk7Cn0KZWxzZSBpZiAoRk9HTU9ERV9FWFA9PXZGb2dJbmZvcy54KQp7CmZvZ0NvZWZmPTEuMC9wb3coRSxmb2dEaXN0YW5jZSpmb2dEZW5zaXR5KTsKfQplbHNlIGlmIChGT0dNT0RFX0VYUDI9PXZGb2dJbmZvcy54KQp7CmZvZ0NvZWZmPTEuMC9wb3coRSxmb2dEaXN0YW5jZSpmb2dEaXN0YW5jZSpmb2dEZW5zaXR5KmZvZ0RlbnNpdHkpOwp9CnJldHVybiBjbGFtcChmb2dDb2VmZiwwLjAsMS4wKTsKfQojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW21oXT1FaDtjb25zdCB2aD0iYnVtcEZyYWdtZW50IixUaD1gdmVjMiB1dk9mZnNldD12ZWMyKDAuMCwwLjApOwojaWYgZGVmaW5lZChCVU1QKSB8fCBkZWZpbmVkKFBBUkFMTEFYKSB8fCBkZWZpbmVkKERFVEFJTCkKI2lmZGVmIE5PUk1BTFhZU0NBTEUKZmxvYXQgbm9ybWFsU2NhbGU9MS4wOwojZWxpZiBkZWZpbmVkKEJVTVApCmZsb2F0IG5vcm1hbFNjYWxlPXZCdW1wSW5mb3MueTsKI2Vsc2UKZmxvYXQgbm9ybWFsU2NhbGU9MS4wOwojZW5kaWYKI2lmIGRlZmluZWQoVEFOR0VOVCkgJiYgZGVmaW5lZChOT1JNQUwpCm1hdDMgVEJOPXZUQk47CiNlbGlmIGRlZmluZWQoQlVNUCkKdmVjMiBUQk5VVj1nbF9Gcm9udEZhY2luZyA/IHZCdW1wVVYgOiAtdkJ1bXBVVjsKbWF0MyBUQk49Y290YW5nZW50X2ZyYW1lKG5vcm1hbFcqbm9ybWFsU2NhbGUsdlBvc2l0aW9uVyxUQk5VVix2VGFuZ2VudFNwYWNlUGFyYW1zKTsKI2Vsc2UKdmVjMiBUQk5VVj1nbF9Gcm9udEZhY2luZyA/IHZEZXRhaWxVViA6IC12RGV0YWlsVVY7Cm1hdDMgVEJOPWNvdGFuZ2VudF9mcmFtZShub3JtYWxXKm5vcm1hbFNjYWxlLHZQb3NpdGlvblcsVEJOVVYsdmVjMigxLiwxLikpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChBTklTT1RST1BJQykKI2lmIGRlZmluZWQoVEFOR0VOVCkgJiYgZGVmaW5lZChOT1JNQUwpCm1hdDMgVEJOPXZUQk47CiNlbHNlCnZlYzIgVEJOVVY9Z2xfRnJvbnRGYWNpbmcgPyB2TWFpblVWMSA6IC12TWFpblVWMTsKbWF0MyBUQk49Y290YW5nZW50X2ZyYW1lKG5vcm1hbFcsdlBvc2l0aW9uVyxUQk5VVix2ZWMyKDEuLDEuKSk7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFBBUkFMTEFYCm1hdDMgaW52VEJOPXRyYW5zcG9zZU1hdDMoVEJOKTsKI2lmZGVmIFBBUkFMTEFYT0NDTFVTSU9OCnV2T2Zmc2V0PXBhcmFsbGF4T2NjbHVzaW9uKGludlRCTiotdmlld0RpcmVjdGlvblcsaW52VEJOKm5vcm1hbFcsdkJ1bXBVVix2QnVtcEluZm9zLnopOwojZWxzZQp1dk9mZnNldD1wYXJhbGxheE9mZnNldChpbnZUQk4qdmlld0RpcmVjdGlvblcsdkJ1bXBJbmZvcy56KTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgREVUQUlMCnZlYzQgZGV0YWlsQ29sb3I9dGV4dHVyZTJEKGRldGFpbFNhbXBsZXIsdkRldGFpbFVWK3V2T2Zmc2V0KTsKdmVjMiBkZXRhaWxOb3JtYWxSRz1kZXRhaWxDb2xvci53eSoyLjAtMS4wOwpmbG9hdCBkZXRhaWxOb3JtYWxCPXNxcnQoMS4tc2F0dXJhdGUoZG90KGRldGFpbE5vcm1hbFJHLGRldGFpbE5vcm1hbFJHKSkpOwp2ZWMzIGRldGFpbE5vcm1hbD12ZWMzKGRldGFpbE5vcm1hbFJHLGRldGFpbE5vcm1hbEIpOwojZW5kaWYKI2lmZGVmIEJVTVAKI2lmZGVmIE9CSkVDVFNQQUNFX05PUk1BTE1BUApub3JtYWxXPW5vcm1hbGl6ZSh0ZXh0dXJlMkQoYnVtcFNhbXBsZXIsdkJ1bXBVVikueHl6ICoyLjAtMS4wKTsKbm9ybWFsVz1ub3JtYWxpemUobWF0Myhub3JtYWxNYXRyaXgpKm5vcm1hbFcpOwojZWxpZiAhZGVmaW5lZChERVRBSUwpCm5vcm1hbFc9cGVydHVyYk5vcm1hbChUQk4sdGV4dHVyZTJEKGJ1bXBTYW1wbGVyLHZCdW1wVVYrdXZPZmZzZXQpLnh5eix2QnVtcEluZm9zLnkpOwojZWxzZQp2ZWMzIGJ1bXBOb3JtYWw9dGV4dHVyZTJEKGJ1bXBTYW1wbGVyLHZCdW1wVVYrdXZPZmZzZXQpLnh5eioyLjAtMS4wOwojaWYgREVUQUlMX05PUk1BTEJMRU5ETUVUSE9EPT0wIApkZXRhaWxOb3JtYWwueHkqPXZEZXRhaWxJbmZvcy56Owp2ZWMzIGJsZW5kZWROb3JtYWw9bm9ybWFsaXplKHZlYzMoYnVtcE5vcm1hbC54eStkZXRhaWxOb3JtYWwueHksYnVtcE5vcm1hbC56KmRldGFpbE5vcm1hbC56KSk7CiNlbGlmIERFVEFJTF9OT1JNQUxCTEVORE1FVEhPRD09MSAKZGV0YWlsTm9ybWFsLnh5Kj12RGV0YWlsSW5mb3MuejsKYnVtcE5vcm1hbCs9dmVjMygwLjAsMC4wLDEuMCk7CmRldGFpbE5vcm1hbCo9dmVjMygtMS4wLC0xLjAsMS4wKTsKdmVjMyBibGVuZGVkTm9ybWFsPWJ1bXBOb3JtYWwqZG90KGJ1bXBOb3JtYWwsZGV0YWlsTm9ybWFsKS9idW1wTm9ybWFsLnotZGV0YWlsTm9ybWFsOwojZW5kaWYKbm9ybWFsVz1wZXJ0dXJiTm9ybWFsQmFzZShUQk4sYmxlbmRlZE5vcm1hbCx2QnVtcEluZm9zLnkpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChERVRBSUwpCmRldGFpbE5vcm1hbC54eSo9dkRldGFpbEluZm9zLno7Cm5vcm1hbFc9cGVydHVyYk5vcm1hbEJhc2UoVEJOLGRldGFpbE5vcm1hbCx2RGV0YWlsSW5mb3Mueik7CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbdmhdPVRoO2NvbnN0IGJoPSJkZXB0aFByZVBhc3MiLFNoPWAjaWZkZWYgREVQVEhQUkVQQVNTCmdsX0ZyYWdDb2xvcj12ZWM0KDAuLDAuLDAuLDEuMCk7CnJldHVybjsKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtiaF09U2g7Y29uc3QgeGg9ImxpZ2h0RnJhZ21lbnQiLE1oPWAjaWZkZWYgTElHSFR7WH0KI2lmIGRlZmluZWQoU0hBRE9XT05MWSkgfHwgZGVmaW5lZChMSUdIVE1BUCkgJiYgZGVmaW5lZChMSUdIVE1BUEVYQ0xVREVEe1h9KSAmJiBkZWZpbmVkKExJR0hUTUFQTk9TUEVDVUxBUntYfSkKI2Vsc2UKI2lmZGVmIFBCUgojaWZkZWYgU1BPVExJR0hUe1h9CnByZUluZm89Y29tcHV0ZVBvaW50QW5kU3BvdFByZUxpZ2h0aW5nSW5mbyhsaWdodHtYfS52TGlnaHREYXRhLHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcpOwojZWxpZiBkZWZpbmVkKFBPSU5UTElHSFR7WH0pCnByZUluZm89Y29tcHV0ZVBvaW50QW5kU3BvdFByZUxpZ2h0aW5nSW5mbyhsaWdodHtYfS52TGlnaHREYXRhLHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcpOwojZWxpZiBkZWZpbmVkKEhFTUlMSUdIVHtYfSkKcHJlSW5mbz1jb21wdXRlSGVtaXNwaGVyaWNQcmVMaWdodGluZ0luZm8obGlnaHR7WH0udkxpZ2h0RGF0YSx2aWV3RGlyZWN0aW9uVyxub3JtYWxXKTsKI2VsaWYgZGVmaW5lZChESVJMSUdIVHtYfSkKcHJlSW5mbz1jb21wdXRlRGlyZWN0aW9uYWxQcmVMaWdodGluZ0luZm8obGlnaHR7WH0udkxpZ2h0RGF0YSx2aWV3RGlyZWN0aW9uVyxub3JtYWxXKTsKI2VuZGlmCnByZUluZm8uTmRvdFY9TmRvdFY7CiNpZmRlZiBTUE9UTElHSFR7WH0KI2lmZGVmIExJR0hUX0ZBTExPRkZfR0xURntYfQpwcmVJbmZvLmF0dGVudWF0aW9uPWNvbXB1dGVEaXN0YW5jZUxpZ2h0RmFsbG9mZl9HTFRGKHByZUluZm8ubGlnaHREaXN0YW5jZVNxdWFyZWQsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi55KTsKcHJlSW5mby5hdHRlbnVhdGlvbio9Y29tcHV0ZURpcmVjdGlvbmFsTGlnaHRGYWxsb2ZmX0dMVEYobGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLnh5eixwcmVJbmZvLkwsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi56LGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYudyk7CiNlbGlmIGRlZmluZWQoTElHSFRfRkFMTE9GRl9QSFlTSUNBTHtYfSkKcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmZfUGh5c2ljYWwocHJlSW5mby5saWdodERpc3RhbmNlU3F1YXJlZCk7CnByZUluZm8uYXR0ZW51YXRpb24qPWNvbXB1dGVEaXJlY3Rpb25hbExpZ2h0RmFsbG9mZl9QaHlzaWNhbChsaWdodHtYfS52TGlnaHREaXJlY3Rpb24ueHl6LHByZUluZm8uTCxsaWdodHtYfS52TGlnaHREaXJlY3Rpb24udyk7CiNlbGlmIGRlZmluZWQoTElHSFRfRkFMTE9GRl9TVEFOREFSRHtYfSkKcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmZfU3RhbmRhcmQocHJlSW5mby5saWdodE9mZnNldCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLngpOwpwcmVJbmZvLmF0dGVudWF0aW9uKj1jb21wdXRlRGlyZWN0aW9uYWxMaWdodEZhbGxvZmZfU3RhbmRhcmQobGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLnh5eixwcmVJbmZvLkwsbGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLncsbGlnaHR7WH0udkxpZ2h0RGF0YS53KTsKI2Vsc2UKcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmYocHJlSW5mby5saWdodE9mZnNldCxwcmVJbmZvLmxpZ2h0RGlzdGFuY2VTcXVhcmVkLGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLnkpOwpwcmVJbmZvLmF0dGVudWF0aW9uKj1jb21wdXRlRGlyZWN0aW9uYWxMaWdodEZhbGxvZmYobGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLnh5eixwcmVJbmZvLkwsbGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLncsbGlnaHR7WH0udkxpZ2h0RGF0YS53LGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueixsaWdodHtYfS52TGlnaHRGYWxsb2ZmLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChQT0lOVExJR0hUe1h9KQojaWZkZWYgTElHSFRfRkFMTE9GRl9HTFRGe1h9CnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmX0dMVEYocHJlSW5mby5saWdodERpc3RhbmNlU3F1YXJlZCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLnkpOwojZWxpZiBkZWZpbmVkKExJR0hUX0ZBTExPRkZfUEhZU0lDQUx7WH0pCnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmX1BoeXNpY2FsKHByZUluZm8ubGlnaHREaXN0YW5jZVNxdWFyZWQpOwojZWxpZiBkZWZpbmVkKExJR0hUX0ZBTExPRkZfU1RBTkRBUkR7WH0pCnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmX1N0YW5kYXJkKHByZUluZm8ubGlnaHRPZmZzZXQsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi54KTsKI2Vsc2UKcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmYocHJlSW5mby5saWdodE9mZnNldCxwcmVJbmZvLmxpZ2h0RGlzdGFuY2VTcXVhcmVkLGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLnkpOwojZW5kaWYKI2Vsc2UKcHJlSW5mby5hdHRlbnVhdGlvbj0xLjA7CiNlbmRpZgojaWZkZWYgSEVNSUxJR0hUe1h9CnByZUluZm8ucm91Z2huZXNzPXJvdWdobmVzczsKI2Vsc2UKcHJlSW5mby5yb3VnaG5lc3M9YWRqdXN0Um91Z2huZXNzRnJvbUxpZ2h0UHJvcGVydGllcyhyb3VnaG5lc3MsbGlnaHR7WH0udkxpZ2h0U3BlY3VsYXIuYSxwcmVJbmZvLmxpZ2h0RGlzdGFuY2UpOwojZW5kaWYKI2lmZGVmIElSSURFU0NFTkNFCnByZUluZm8uaXJpZGVzY2VuY2VJbnRlbnNpdHk9aXJpZGVzY2VuY2VJbnRlbnNpdHk7CiNlbmRpZgojaWZkZWYgSEVNSUxJR0hUe1h9CmluZm8uZGlmZnVzZT1jb21wdXRlSGVtaXNwaGVyaWNEaWZmdXNlTGlnaHRpbmcocHJlSW5mbyxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYixsaWdodHtYfS52TGlnaHRHcm91bmQpOwojZWxpZiBkZWZpbmVkKFNTX1RSQU5TTFVDRU5DWSkKaW5mby5kaWZmdXNlPWNvbXB1dGVEaWZmdXNlQW5kVHJhbnNtaXR0ZWRMaWdodGluZyhwcmVJbmZvLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiLHN1YlN1cmZhY2VPdXQudHJhbnNtaXR0YW5jZSk7CiNlbHNlCmluZm8uZGlmZnVzZT1jb21wdXRlRGlmZnVzZUxpZ2h0aW5nKHByZUluZm8sbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IpOwojZW5kaWYKI2lmZGVmIFNQRUNVTEFSVEVSTQojaWZkZWYgQU5JU09UUk9QSUMKaW5mby5zcGVjdWxhcj1jb21wdXRlQW5pc290cm9waWNTcGVjdWxhckxpZ2h0aW5nKHByZUluZm8sdmlld0RpcmVjdGlvblcsbm9ybWFsVyxhbmlzb3Ryb3BpY091dC5hbmlzb3Ryb3BpY1RhbmdlbnQsYW5pc290cm9waWNPdXQuYW5pc290cm9waWNCaXRhbmdlbnQsYW5pc290cm9waWNPdXQuYW5pc290cm9weSxjbGVhcmNvYXRPdXQuc3BlY3VsYXJFbnZpcm9ubWVudFIwLHNwZWN1bGFyRW52aXJvbm1lbnRSOTAsQUFSb3VnaG5lc3NGYWN0b3JzLngsbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IpOwojZWxzZQppbmZvLnNwZWN1bGFyPWNvbXB1dGVTcGVjdWxhckxpZ2h0aW5nKHByZUluZm8sbm9ybWFsVyxjbGVhcmNvYXRPdXQuc3BlY3VsYXJFbnZpcm9ubWVudFIwLHNwZWN1bGFyRW52aXJvbm1lbnRSOTAsQUFSb3VnaG5lc3NGYWN0b3JzLngsbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IpOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBTSEVFTgojaWZkZWYgU0hFRU5fTElOS1dJVEhBTEJFRE8KcHJlSW5mby5yb3VnaG5lc3M9c2hlZW5PdXQuc2hlZW5JbnRlbnNpdHk7CiNlbHNlCiNpZmRlZiBIRU1JTElHSFR7WH0KcHJlSW5mby5yb3VnaG5lc3M9c2hlZW5PdXQuc2hlZW5Sb3VnaG5lc3M7CiNlbHNlCnByZUluZm8ucm91Z2huZXNzPWFkanVzdFJvdWdobmVzc0Zyb21MaWdodFByb3BlcnRpZXMoc2hlZW5PdXQuc2hlZW5Sb3VnaG5lc3MsbGlnaHR7WH0udkxpZ2h0U3BlY3VsYXIuYSxwcmVJbmZvLmxpZ2h0RGlzdGFuY2UpOwojZW5kaWYKI2VuZGlmCmluZm8uc2hlZW49Y29tcHV0ZVNoZWVuTGlnaHRpbmcocHJlSW5mbyxub3JtYWxXLHNoZWVuT3V0LnNoZWVuQ29sb3Isc3BlY3VsYXJFbnZpcm9ubWVudFI5MCxBQVJvdWdobmVzc0ZhY3RvcnMueCxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYik7CiNlbmRpZgojaWZkZWYgQ0xFQVJDT0FUCiNpZmRlZiBIRU1JTElHSFR7WH0KcHJlSW5mby5yb3VnaG5lc3M9Y2xlYXJjb2F0T3V0LmNsZWFyQ29hdFJvdWdobmVzczsKI2Vsc2UKcHJlSW5mby5yb3VnaG5lc3M9YWRqdXN0Um91Z2huZXNzRnJvbUxpZ2h0UHJvcGVydGllcyhjbGVhcmNvYXRPdXQuY2xlYXJDb2F0Um91Z2huZXNzLGxpZ2h0e1h9LnZMaWdodFNwZWN1bGFyLmEscHJlSW5mby5saWdodERpc3RhbmNlKTsKI2VuZGlmCmluZm8uY2xlYXJDb2F0PWNvbXB1dGVDbGVhckNvYXRMaWdodGluZyhwcmVJbmZvLGNsZWFyY29hdE91dC5jbGVhckNvYXROb3JtYWxXLGNsZWFyY29hdE91dC5jbGVhckNvYXRBQVJvdWdobmVzc0ZhY3RvcnMueCxjbGVhcmNvYXRPdXQuY2xlYXJDb2F0SW50ZW5zaXR5LGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiKTsKI2lmZGVmIENMRUFSQ09BVF9USU5UCmFic29ycHRpb249Y29tcHV0ZUNsZWFyQ29hdExpZ2h0aW5nQWJzb3JwdGlvbihjbGVhcmNvYXRPdXQuY2xlYXJDb2F0TmRvdFZSZWZyYWN0LHByZUluZm8uTCxjbGVhcmNvYXRPdXQuY2xlYXJDb2F0Tm9ybWFsVyxjbGVhcmNvYXRPdXQuY2xlYXJDb2F0Q29sb3IsY2xlYXJjb2F0T3V0LmNsZWFyQ29hdFRoaWNrbmVzcyxjbGVhcmNvYXRPdXQuY2xlYXJDb2F0SW50ZW5zaXR5KTsKaW5mby5kaWZmdXNlKj1hYnNvcnB0aW9uOwojaWZkZWYgU1BFQ1VMQVJURVJNCmluZm8uc3BlY3VsYXIqPWFic29ycHRpb247CiNlbmRpZgojZW5kaWYKaW5mby5kaWZmdXNlKj1pbmZvLmNsZWFyQ29hdC53OwojaWZkZWYgU1BFQ1VMQVJURVJNCmluZm8uc3BlY3VsYXIqPWluZm8uY2xlYXJDb2F0Lnc7CiNlbmRpZgojaWZkZWYgU0hFRU4KaW5mby5zaGVlbio9aW5mby5jbGVhckNvYXQudzsKI2VuZGlmCiNlbmRpZgojZWxzZQojaWZkZWYgU1BPVExJR0hUe1h9CmluZm89Y29tcHV0ZVNwb3RMaWdodGluZyh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLGxpZ2h0e1h9LnZMaWdodERhdGEsbGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiLGxpZ2h0e1h9LnZMaWdodFNwZWN1bGFyLnJnYixsaWdodHtYfS52TGlnaHREaWZmdXNlLmEsZ2xvc3NpbmVzcyk7CiNlbGlmIGRlZmluZWQoSEVNSUxJR0hUe1h9KQppbmZvPWNvbXB1dGVIZW1pc3BoZXJpY0xpZ2h0aW5nKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsbGlnaHR7WH0udkxpZ2h0RGF0YSxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYixsaWdodHtYfS52TGlnaHRTcGVjdWxhci5yZ2IsbGlnaHR7WH0udkxpZ2h0R3JvdW5kLGdsb3NzaW5lc3MpOwojZWxpZiBkZWZpbmVkKFBPSU5UTElHSFR7WH0pIHx8IGRlZmluZWQoRElSTElHSFR7WH0pCmluZm89Y29tcHV0ZUxpZ2h0aW5nKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsbGlnaHR7WH0udkxpZ2h0RGF0YSxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYixsaWdodHtYfS52TGlnaHRTcGVjdWxhci5yZ2IsbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5hLGdsb3NzaW5lc3MpOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBQUk9KRUNURURMSUdIVFRFWFRVUkV7WH0KaW5mby5kaWZmdXNlKj1jb21wdXRlUHJvamVjdGlvblRleHR1cmVEaWZmdXNlTGlnaHRpbmcocHJvamVjdGlvbkxpZ2h0U2FtcGxlcntYfSx0ZXh0dXJlUHJvamVjdGlvbk1hdHJpeHtYfSk7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFNIQURPV3tYfQojaWZkZWYgU0hBRE9XQ1NNe1h9CmZvciAoaW50IGk9MDsgaTxTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH07IGkrKykgCnsKI2lmZGVmIFNIQURPV0NTTV9SSUdIVEhBTkRFRHtYfQpkaWZme1h9PXZpZXdGcnVzdHVtWntYfVtpXSt2UG9zaXRpb25Gcm9tQ2FtZXJhe1h9Lno7CiNlbHNlCmRpZmZ7WH09dmlld0ZydXN0dW1ae1h9W2ldLXZQb3NpdGlvbkZyb21DYW1lcmF7WH0uejsKI2VuZGlmCmlmIChkaWZme1h9Pj0wLikgewppbmRleHtYfT1pOwpicmVhazsKfQp9CiNpZmRlZiBTSEFET1dDU01VU0VTSEFET1dNQVhae1h9CmlmIChpbmRleHtYfT49MCkKI2VuZGlmCnsKI2lmIGRlZmluZWQoU0hBRE9XUENGe1h9KQojaWYgZGVmaW5lZChTSEFET1dMT1dRVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ0YxKGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZWxpZiBkZWZpbmVkKFNIQURPV01FRElVTVFVQUxJVFl7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDRjMoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnl6LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDRjUoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnl6LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKFNIQURPV1BDU1N7WH0pCiNpZiBkZWZpbmVkKFNIQURPV0xPV1FVQUxJVFl7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDU1MxNihmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncsbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxkZXB0aENvcnJlY3Rpb257WH1baW5kZXh7WH1dLHBlbnVtYnJhRGFya25lc3N7WH0pOwojZWxpZiBkZWZpbmVkKFNIQURPV01FRElVTVFVQUxJVFl7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDU1MzMihmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncsbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxkZXB0aENvcnJlY3Rpb257WH1baW5kZXh7WH1dLHBlbnVtYnJhRGFya25lc3N7WH0pOwojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTNjQoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53LGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbntYfVtpbmRleHtYfV0sZGVwdGhDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxwZW51bWJyYURhcmtuZXNze1h9KTsKI2VuZGlmCiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93Q1NNKGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2lmZGVmIFNIQURPV0NTTURFQlVHe1h9CnNoYWRvd0RlYnVne1h9PXZlYzMoc2hhZG93KSp2Q2FzY2FkZUNvbG9yc011bHRpcGxpZXJ7WH1baW5kZXh7WH1dOwojZW5kaWYKI2lmbmRlZiBTSEFET1dDU01OT0JMRU5Ee1h9CmZsb2F0IGZydXN0dW1MZW5ndGg9ZnJ1c3R1bUxlbmd0aHN7WH1baW5kZXh7WH1dOwpmbG9hdCBkaWZmUmF0aW89Y2xhbXAoZGlmZntYfS9mcnVzdHVtTGVuZ3RoLDAuLDEuKSpjYXNjYWRlQmxlbmRGYWN0b3J7WH07CmlmIChpbmRleHtYfTwoU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9LTEpICYmIGRpZmZSYXRpbzwxLikKewppbmRleHtYfSs9MTsKZmxvYXQgbmV4dFNoYWRvdz0wLjsKI2lmIGRlZmluZWQoU0hBRE9XUENGe1h9KQojaWYgZGVmaW5lZChTSEFET1dMT1dRVUFMSVRZe1h9KQpuZXh0U2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGMShmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VsaWYgZGVmaW5lZChTSEFET1dNRURJVU1RVUFMSVRZe1h9KQpuZXh0U2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGMyhmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueXosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2Vsc2UKbmV4dFNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDRjUoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnl6LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKFNIQURPV1BDU1N7WH0pCiNpZiBkZWZpbmVkKFNIQURPV0xPV1FVQUxJVFl7WH0pCm5leHRTaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTMTYoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53LGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbntYfVtpbmRleHtYfV0sZGVwdGhDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxwZW51bWJyYURhcmtuZXNze1h9KTsKI2VsaWYgZGVmaW5lZChTSEFET1dNRURJVU1RVUFMSVRZe1h9KQpuZXh0U2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzMyKGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyxsaWdodFNpemVVVkNvcnJlY3Rpb257WH1baW5kZXh7WH1dLGRlcHRoQ29ycmVjdGlvbntYfVtpbmRleHtYfV0scGVudW1icmFEYXJrbmVzc3tYfSk7CiNlbHNlCm5leHRTaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTNjQoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53LGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbntYfVtpbmRleHtYfV0sZGVwdGhDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxwZW51bWJyYURhcmtuZXNze1h9KTsKI2VuZGlmCiNlbHNlCm5leHRTaGFkb3c9Y29tcHV0ZVNoYWRvd0NTTShmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCnNoYWRvdz1taXgobmV4dFNoYWRvdyxzaGFkb3csZGlmZlJhdGlvKTsKI2lmZGVmIFNIQURPV0NTTURFQlVHe1h9CnNoYWRvd0RlYnVne1h9PW1peCh2ZWMzKG5leHRTaGFkb3cpKnZDYXNjYWRlQ29sb3JzTXVsdGlwbGllcntYfVtpbmRleHtYfV0sc2hhZG93RGVidWd7WH0sZGlmZlJhdGlvKTsKI2VuZGlmCn0KI2VuZGlmCn0KI2VsaWYgZGVmaW5lZChTSEFET1dDTE9TRUVTTXtYfSkKI2lmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ2xvc2VFU01DdWJlKGxpZ2h0e1h9LnZMaWdodERhdGEueHl6LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LmRlcHRoVmFsdWVzKTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ2xvc2VFU00odlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoU0hBRE9XRVNNe1h9KQojaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhFU01DdWJlKGxpZ2h0e1h9LnZMaWdodERhdGEueHl6LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LmRlcHRoVmFsdWVzKTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoRVNNKHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKFNIQURPV1BPSVNTT057WH0pCiNpZiBkZWZpbmVkKFNIQURPV0NVQkV7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aFBvaXNzb25TYW1wbGluZ0N1YmUobGlnaHR7WH0udkxpZ2h0RGF0YS54eXosc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uZGVwdGhWYWx1ZXMpOwojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQb2lzc29uU2FtcGxpbmcodlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoU0hBRE9XUENGe1h9KQojaWYgZGVmaW5lZChTSEFET1dMT1dRVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQQ0YxKHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZWxpZiBkZWZpbmVkKFNIQURPV01FRElVTVFVQUxJVFl7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aFBDRjModlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnl6LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aFBDRjUodlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnl6LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKFNIQURPV1BDU1N7WH0pCiNpZiBkZWZpbmVkKFNIQURPV0xPV1FVQUxJVFl7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aFBDU1MxNih2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZWxpZiBkZWZpbmVkKFNIQURPV01FRElVTVFVQUxJVFl7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aFBDU1MzMih2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQQ1NTNjQodlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNlbHNlCiNpZiBkZWZpbmVkKFNIQURPV0NVQkV7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93Q3ViZShsaWdodHtYfS52TGlnaHREYXRhLnh5eixzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uZGVwdGhWYWx1ZXMpOwojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvdyh2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgU0hBRE9XT05MWQojaWZuZGVmIFNIQURPV0lOVVNFCiNkZWZpbmUgU0hBRE9XSU5VU0UKI2VuZGlmCmdsb2JhbFNoYWRvdys9c2hhZG93OwpzaGFkb3dMaWdodENvdW50Kz0xLjA7CiNlbmRpZgojZWxzZQpzaGFkb3c9MS47CiNlbmRpZgojaWZuZGVmIFNIQURPV09OTFkKI2lmZGVmIENVU1RPTVVTRVJMSUdIVElORwpkaWZmdXNlQmFzZSs9Y29tcHV0ZUN1c3RvbURpZmZ1c2VMaWdodGluZyhpbmZvLGRpZmZ1c2VCYXNlLHNoYWRvdyk7CiNpZmRlZiBTUEVDVUxBUlRFUk0Kc3BlY3VsYXJCYXNlKz1jb21wdXRlQ3VzdG9tU3BlY3VsYXJMaWdodGluZyhpbmZvLHNwZWN1bGFyQmFzZSxzaGFkb3cpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChMSUdIVE1BUCkgJiYgZGVmaW5lZChMSUdIVE1BUEVYQ0xVREVEe1h9KQpkaWZmdXNlQmFzZSs9bGlnaHRtYXBDb2xvci5yZ2Iqc2hhZG93OwojaWZkZWYgU1BFQ1VMQVJURVJNCiNpZm5kZWYgTElHSFRNQVBOT1NQRUNVTEFSe1h9CnNwZWN1bGFyQmFzZSs9aW5mby5zcGVjdWxhcipzaGFkb3cqbGlnaHRtYXBDb2xvci5yZ2I7CiNlbmRpZgojZW5kaWYKI2lmZGVmIENMRUFSQ09BVAojaWZuZGVmIExJR0hUTUFQTk9TUEVDVUxBUntYfQpjbGVhckNvYXRCYXNlKz1pbmZvLmNsZWFyQ29hdC5yZ2Iqc2hhZG93KmxpZ2h0bWFwQ29sb3IucmdiOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBTSEVFTgojaWZuZGVmIExJR0hUTUFQTk9TUEVDVUxBUntYfQpzaGVlbkJhc2UrPWluZm8uc2hlZW4ucmdiKnNoYWRvdzsKI2VuZGlmCiNlbmRpZgojZWxzZQojaWZkZWYgU0hBRE9XQ1NNREVCVUd7WH0KZGlmZnVzZUJhc2UrPWluZm8uZGlmZnVzZSpzaGFkb3dEZWJ1Z3tYfTsKI2Vsc2UgCmRpZmZ1c2VCYXNlKz1pbmZvLmRpZmZ1c2Uqc2hhZG93OwojZW5kaWYKI2lmZGVmIFNQRUNVTEFSVEVSTQpzcGVjdWxhckJhc2UrPWluZm8uc3BlY3VsYXIqc2hhZG93OwojZW5kaWYKI2lmZGVmIENMRUFSQ09BVApjbGVhckNvYXRCYXNlKz1pbmZvLmNsZWFyQ29hdC5yZ2Iqc2hhZG93OwojZW5kaWYKI2lmZGVmIFNIRUVOCnNoZWVuQmFzZSs9aW5mby5zaGVlbi5yZ2Iqc2hhZG93OwojZW5kaWYKI2VuZGlmCiNlbmRpZgojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3hoXT1NaDtjb25zdCBBaD0ibG9nRGVwdGhGcmFnbWVudCIsUmg9YCNpZmRlZiBMT0dBUklUSE1JQ0RFUFRICmdsX0ZyYWdEZXB0aEVYVD1sb2cyKHZGcmFnbWVudERlcHRoKSpsb2dhcml0aG1pY0RlcHRoQ29uc3RhbnQqMC41OwojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0FoXT1SaDtjb25zdCB5aD0iZm9nRnJhZ21lbnQiLENoPWAjaWZkZWYgRk9HCmZsb2F0IGZvZz1DYWxjRm9nRmFjdG9yKCk7CiNpZmRlZiBQQlIKZm9nPXRvTGluZWFyU3BhY2UoZm9nKTsKI2VuZGlmCmNvbG9yLnJnYj1taXgodkZvZ0NvbG9yLGNvbG9yLnJnYixmb2cpOwojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3loXT1DaDtjb25zdCBJaD0ib2l0RnJhZ21lbnQiLFBoPWAjaWZkZWYgT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZCmZsb2F0IGZyYWdEZXB0aD1nbF9GcmFnQ29vcmQuejsgCiNpZmRlZiBPUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1lfMTZCSVRTCnVpbnQgaGFsZkZsb2F0PXBhY2tIYWxmMngxNih2ZWMyKGZyYWdEZXB0aCkpOwp2ZWMyIGZ1bGw9dW5wYWNrSGFsZjJ4MTYoaGFsZkZsb2F0KTsKZnJhZ0RlcHRoPWZ1bGwueDsKI2VuZGlmCml2ZWMyIGZyYWdDb29yZD1pdmVjMihnbF9GcmFnQ29vcmQueHkpOwp2ZWMyIGxhc3REZXB0aD10ZXhlbEZldGNoKG9pdERlcHRoU2FtcGxlcixmcmFnQ29vcmQsMCkucmc7CnZlYzQgbGFzdEZyb250Q29sb3I9dGV4ZWxGZXRjaChvaXRGcm9udENvbG9yU2FtcGxlcixmcmFnQ29vcmQsMCk7CmRlcHRoLnJnPXZlYzIoLU1BWF9ERVBUSCk7CmZyb250Q29sb3I9bGFzdEZyb250Q29sb3I7CmJhY2tDb2xvcj12ZWM0KDAuMCk7CiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgpmbG9hdCBmdXJ0aGVzdERlcHRoPS1sYXN0RGVwdGgueDsKZmxvYXQgbmVhcmVzdERlcHRoPWxhc3REZXB0aC55OwojZWxzZQpmbG9hdCBuZWFyZXN0RGVwdGg9LWxhc3REZXB0aC54OwpmbG9hdCBmdXJ0aGVzdERlcHRoPWxhc3REZXB0aC55OwojZW5kaWYKZmxvYXQgYWxwaGFNdWx0aXBsaWVyPTEuMC1sYXN0RnJvbnRDb2xvci5hOwojaWZkZWYgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIKaWYgKGZyYWdEZXB0aD5uZWFyZXN0RGVwdGggfHwgZnJhZ0RlcHRoPGZ1cnRoZXN0RGVwdGgpIHsKI2Vsc2UKaWYgKGZyYWdEZXB0aDxuZWFyZXN0RGVwdGggfHwgZnJhZ0RlcHRoPmZ1cnRoZXN0RGVwdGgpIHsKI2VuZGlmCnJldHVybjsKfQojaWZkZWYgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIKaWYgKGZyYWdEZXB0aDxuZWFyZXN0RGVwdGggJiYgZnJhZ0RlcHRoPmZ1cnRoZXN0RGVwdGgpIHsKI2Vsc2UKaWYgKGZyYWdEZXB0aD5uZWFyZXN0RGVwdGggJiYgZnJhZ0RlcHRoPGZ1cnRoZXN0RGVwdGgpIHsKI2VuZGlmCmRlcHRoLnJnPXZlYzIoLWZyYWdEZXB0aCxmcmFnRGVwdGgpOwpyZXR1cm47Cn0KI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtJaF09UGg7Y29uc3QgRGg9ImRlZmF1bHRQaXhlbFNoYWRlciIsRmg9YCNpbmNsdWRlPF9fZGVjbF9fZGVmYXVsdEZyYWdtZW50PgojaWYgZGVmaW5lZChCVU1QKSB8fCAhZGVmaW5lZChOT1JNQUwpCiNleHRlbnNpb24gR0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIDogZW5hYmxlCiNlbmRpZgojaW5jbHVkZTxwcmVQYXNzRGVjbGFyYXRpb24+W1NDRU5FX01SVF9DT1VOVF0KI2luY2x1ZGU8b2l0RGVjbGFyYXRpb24+CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFR0lOCiNpZmRlZiBMT0dBUklUSE1JQ0RFUFRICiNleHRlbnNpb24gR0xfRVhUX2ZyYWdfZGVwdGggOiBlbmFibGUKI2VuZGlmCiNkZWZpbmUgUkVDSVBST0NBTF9QSTIgMC4xNTkxNTQ5NAp2YXJ5aW5nIHZlYzMgdlBvc2l0aW9uVzsKI2lmZGVmIE5PUk1BTAp2YXJ5aW5nIHZlYzMgdk5vcm1hbFc7CiNlbmRpZgojaWYgZGVmaW5lZChWRVJURVhDT0xPUikgfHwgZGVmaW5lZChJTlNUQU5DRVNDT0xPUikgJiYgZGVmaW5lZChJTlNUQU5DRVMpCnZhcnlpbmcgdmVjNCB2Q29sb3I7CiNlbmRpZgojaW5jbHVkZTxtYWluVVZWYXJ5aW5nRGVjbGFyYXRpb24+WzEuLjddCiNpbmNsdWRlPGhlbHBlckZ1bmN0aW9ucz4KI2luY2x1ZGU8X19kZWNsX19saWdodEZyYWdtZW50PlswLi5tYXhTaW11bHRhbmVvdXNMaWdodHNdCiNpbmNsdWRlPGxpZ2h0c0ZyYWdtZW50RnVuY3Rpb25zPgojaW5jbHVkZTxzaGFkb3dzRnJhZ21lbnRGdW5jdGlvbnM+CiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sRElGRlVTRSxfVkFSWUlOR05BTUVfLERpZmZ1c2UsX1NBTVBMRVJOQU1FXyxkaWZmdXNlKQojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLEFNQklFTlQsX1ZBUllJTkdOQU1FXyxBbWJpZW50LF9TQU1QTEVSTkFNRV8sYW1iaWVudCkKI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxPUEFDSVRZLF9WQVJZSU5HTkFNRV8sT3BhY2l0eSxfU0FNUExFUk5BTUVfLG9wYWNpdHkpCiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sRU1JU1NJVkUsX1ZBUllJTkdOQU1FXyxFbWlzc2l2ZSxfU0FNUExFUk5BTUVfLGVtaXNzaXZlKQojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLExJR0hUTUFQLF9WQVJZSU5HTkFNRV8sTGlnaHRtYXAsX1NBTVBMRVJOQU1FXyxsaWdodG1hcCkKI2lmZGVmIFJFRlJBQ1RJT04KI2lmZGVmIFJFRlJBQ1RJT05NQVBfM0QKdW5pZm9ybSBzYW1wbGVyQ3ViZSByZWZyYWN0aW9uQ3ViZVNhbXBsZXI7CiNlbHNlCnVuaWZvcm0gc2FtcGxlcjJEIHJlZnJhY3Rpb24yRFNhbXBsZXI7CiNlbmRpZgojZW5kaWYKI2lmIGRlZmluZWQoU1BFQ1VMQVJURVJNKQojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLFNQRUNVTEFSLF9WQVJZSU5HTkFNRV8sU3BlY3VsYXIsX1NBTVBMRVJOQU1FXyxzcGVjdWxhcikKI2VuZGlmCiNpbmNsdWRlPGZyZXNuZWxGdW5jdGlvbj4KI2lmZGVmIFJFRkxFQ1RJT04KI2lmZGVmIFJFRkxFQ1RJT05NQVBfM0QKdW5pZm9ybSBzYW1wbGVyQ3ViZSByZWZsZWN0aW9uQ3ViZVNhbXBsZXI7CiNlbHNlCnVuaWZvcm0gc2FtcGxlcjJEIHJlZmxlY3Rpb24yRFNhbXBsZXI7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9TS1lCT1gKdmFyeWluZyB2ZWMzIHZQb3NpdGlvblVWVzsKI2Vsc2UKI2lmIGRlZmluZWQoUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVJfRklYRUQpIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9NSVJST1JFREVRVUlSRUNUQU5HVUxBUl9GSVhFRCkKdmFyeWluZyB2ZWMzIHZEaXJlY3Rpb25XOwojZW5kaWYKI2VuZGlmCiNpbmNsdWRlPHJlZmxlY3Rpb25GdW5jdGlvbj4KI2VuZGlmCiNpbmNsdWRlPGltYWdlUHJvY2Vzc2luZ0RlY2xhcmF0aW9uPgojaW5jbHVkZTxpbWFnZVByb2Nlc3NpbmdGdW5jdGlvbnM+CiNpbmNsdWRlPGJ1bXBGcmFnbWVudE1haW5GdW5jdGlvbnM+CiNpbmNsdWRlPGJ1bXBGcmFnbWVudEZ1bmN0aW9ucz4KI2luY2x1ZGU8Y2xpcFBsYW5lRnJhZ21lbnREZWNsYXJhdGlvbj4KI2luY2x1ZGU8bG9nRGVwdGhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8Zm9nRnJhZ21lbnREZWNsYXJhdGlvbj4KI2RlZmluZSBDVVNUT01fRlJBR01FTlRfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpIHsKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfTUFJTl9CRUdJTgojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudD4KdmVjMyB2aWV3RGlyZWN0aW9uVz1ub3JtYWxpemUodkV5ZVBvc2l0aW9uLnh5ei12UG9zaXRpb25XKTsKdmVjNCBiYXNlQ29sb3I9dmVjNCgxLiwxLiwxLiwxLik7CnZlYzMgZGlmZnVzZUNvbG9yPXZEaWZmdXNlQ29sb3IucmdiOwpmbG9hdCBhbHBoYT12RGlmZnVzZUNvbG9yLmE7CiNpZmRlZiBOT1JNQUwKdmVjMyBub3JtYWxXPW5vcm1hbGl6ZSh2Tm9ybWFsVyk7CiNlbHNlCnZlYzMgbm9ybWFsVz1ub3JtYWxpemUoLWNyb3NzKGRGZHgodlBvc2l0aW9uVyksZEZkeSh2UG9zaXRpb25XKSkpOwojZW5kaWYKI2luY2x1ZGU8YnVtcEZyYWdtZW50PgojaWZkZWYgVFdPU0lERURMSUdIVElORwpub3JtYWxXPWdsX0Zyb250RmFjaW5nID8gbm9ybWFsVyA6IC1ub3JtYWxXOwojZW5kaWYKI2lmZGVmIERJRkZVU0UKYmFzZUNvbG9yPXRleHR1cmUyRChkaWZmdXNlU2FtcGxlcix2RGlmZnVzZVVWK3V2T2Zmc2V0KTsKI2lmIGRlZmluZWQoQUxQSEFURVNUKSAmJiAhZGVmaW5lZChBTFBIQVRFU1RfQUZURVJBTExBTFBIQUNPTVBVVEFUSU9OUykKaWYgKGJhc2VDb2xvci5hPGFscGhhQ3V0T2ZmKQpkaXNjYXJkOwojZW5kaWYKI2lmZGVmIEFMUEhBRlJPTURJRkZVU0UKYWxwaGEqPWJhc2VDb2xvci5hOwojZW5kaWYKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfVVBEQVRFX0FMUEhBCmJhc2VDb2xvci5yZ2IqPXZEaWZmdXNlSW5mb3MueTsKI2VuZGlmCiNpbmNsdWRlPGRlcHRoUHJlUGFzcz4KI2lmIGRlZmluZWQoVkVSVEVYQ09MT1IpIHx8IGRlZmluZWQoSU5TVEFOQ0VTQ09MT1IpICYmIGRlZmluZWQoSU5TVEFOQ0VTKQpiYXNlQ29sb3IucmdiKj12Q29sb3IucmdiOwojZW5kaWYKI2lmZGVmIERFVEFJTApiYXNlQ29sb3IucmdiPWJhc2VDb2xvci5yZ2IqMi4wKm1peCgwLjUsZGV0YWlsQ29sb3Iucix2RGV0YWlsSW5mb3MueSk7CiNlbmRpZgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9VUERBVEVfRElGRlVTRQp2ZWMzIGJhc2VBbWJpZW50Q29sb3I9dmVjMygxLiwxLiwxLik7CiNpZmRlZiBBTUJJRU5UCmJhc2VBbWJpZW50Q29sb3I9dGV4dHVyZTJEKGFtYmllbnRTYW1wbGVyLHZBbWJpZW50VVYrdXZPZmZzZXQpLnJnYip2QW1iaWVudEluZm9zLnk7CiNlbmRpZgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUZPUkVfTElHSFRTCiNpZmRlZiBTUEVDVUxBUlRFUk0KZmxvYXQgZ2xvc3NpbmVzcz12U3BlY3VsYXJDb2xvci5hOwp2ZWMzIHNwZWN1bGFyQ29sb3I9dlNwZWN1bGFyQ29sb3IucmdiOwojaWZkZWYgU1BFQ1VMQVIKdmVjNCBzcGVjdWxhck1hcENvbG9yPXRleHR1cmUyRChzcGVjdWxhclNhbXBsZXIsdlNwZWN1bGFyVVYrdXZPZmZzZXQpOwpzcGVjdWxhckNvbG9yPXNwZWN1bGFyTWFwQ29sb3IucmdiOwojaWZkZWYgR0xPU1NJTkVTUwpnbG9zc2luZXNzPWdsb3NzaW5lc3Mqc3BlY3VsYXJNYXBDb2xvci5hOwojZW5kaWYKI2VuZGlmCiNlbHNlCmZsb2F0IGdsb3NzaW5lc3M9MC47CiNlbmRpZgp2ZWMzIGRpZmZ1c2VCYXNlPXZlYzMoMC4sMC4sMC4pOwpsaWdodGluZ0luZm8gaW5mbzsKI2lmZGVmIFNQRUNVTEFSVEVSTQp2ZWMzIHNwZWN1bGFyQmFzZT12ZWMzKDAuLDAuLDAuKTsKI2VuZGlmCmZsb2F0IHNoYWRvdz0xLjsKI2lmZGVmIExJR0hUTUFQCnZlYzQgbGlnaHRtYXBDb2xvcj10ZXh0dXJlMkQobGlnaHRtYXBTYW1wbGVyLHZMaWdodG1hcFVWK3V2T2Zmc2V0KTsKI2lmZGVmIFJHQkRMSUdIVE1BUApsaWdodG1hcENvbG9yLnJnYj1mcm9tUkdCRChsaWdodG1hcENvbG9yKTsKI2VuZGlmCmxpZ2h0bWFwQ29sb3IucmdiKj12TGlnaHRtYXBJbmZvcy55OwojZW5kaWYKI2luY2x1ZGU8bGlnaHRGcmFnbWVudD5bMC4ubWF4U2ltdWx0YW5lb3VzTGlnaHRzXQp2ZWM0IHJlZnJhY3Rpb25Db2xvcj12ZWM0KDAuLDAuLDAuLDEuKTsKI2lmZGVmIFJFRlJBQ1RJT04KdmVjMyByZWZyYWN0aW9uVmVjdG9yPW5vcm1hbGl6ZShyZWZyYWN0KC12aWV3RGlyZWN0aW9uVyxub3JtYWxXLHZSZWZyYWN0aW9uSW5mb3MueSkpOwojaWZkZWYgUkVGUkFDVElPTk1BUF8zRAojaWZkZWYgVVNFX0xPQ0FMX1JFRlJBQ1RJT05NQVBfQ1VCSUMKcmVmcmFjdGlvblZlY3Rvcj1wYXJhbGxheENvcnJlY3ROb3JtYWwodlBvc2l0aW9uVyxyZWZyYWN0aW9uVmVjdG9yLHZSZWZyYWN0aW9uU2l6ZSx2UmVmcmFjdGlvblBvc2l0aW9uKTsKI2VuZGlmCnJlZnJhY3Rpb25WZWN0b3IueT1yZWZyYWN0aW9uVmVjdG9yLnkqdlJlZnJhY3Rpb25JbmZvcy53OwppZiAoZG90KHJlZnJhY3Rpb25WZWN0b3Isdmlld0RpcmVjdGlvblcpPDEuMCkgewpyZWZyYWN0aW9uQ29sb3I9dGV4dHVyZUN1YmUocmVmcmFjdGlvbkN1YmVTYW1wbGVyLHJlZnJhY3Rpb25WZWN0b3IpOwp9CiNlbHNlCnZlYzMgdlJlZnJhY3Rpb25VVlc9dmVjMyhyZWZyYWN0aW9uTWF0cml4Kih2aWV3KnZlYzQodlBvc2l0aW9uVytyZWZyYWN0aW9uVmVjdG9yKnZSZWZyYWN0aW9uSW5mb3MueiwxLjApKSk7CnZlYzIgcmVmcmFjdGlvbkNvb3Jkcz12UmVmcmFjdGlvblVWVy54eS92UmVmcmFjdGlvblVWVy56OwpyZWZyYWN0aW9uQ29vcmRzLnk9MS4wLXJlZnJhY3Rpb25Db29yZHMueTsKcmVmcmFjdGlvbkNvbG9yPXRleHR1cmUyRChyZWZyYWN0aW9uMkRTYW1wbGVyLHJlZnJhY3Rpb25Db29yZHMpOwojZW5kaWYKI2lmZGVmIFJHQkRSRUZSQUNUSU9OCnJlZnJhY3Rpb25Db2xvci5yZ2I9ZnJvbVJHQkQocmVmcmFjdGlvbkNvbG9yKTsKI2VuZGlmCiNpZmRlZiBJU19SRUZSQUNUSU9OX0xJTkVBUgpyZWZyYWN0aW9uQ29sb3IucmdiPXRvR2FtbWFTcGFjZShyZWZyYWN0aW9uQ29sb3IucmdiKTsKI2VuZGlmCnJlZnJhY3Rpb25Db2xvci5yZ2IqPXZSZWZyYWN0aW9uSW5mb3MueDsKI2VuZGlmCnZlYzQgcmVmbGVjdGlvbkNvbG9yPXZlYzQoMC4sMC4sMC4sMS4pOwojaWZkZWYgUkVGTEVDVElPTgp2ZWMzIHZSZWZsZWN0aW9uVVZXPWNvbXB1dGVSZWZsZWN0aW9uQ29vcmRzKHZlYzQodlBvc2l0aW9uVywxLjApLG5vcm1hbFcpOwojaWZkZWYgUkVGTEVDVElPTk1BUF9PUFBPU0lURVoKdlJlZmxlY3Rpb25VVlcueio9LTEuMDsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQXzNECiNpZmRlZiBST1VHSE5FU1MKZmxvYXQgYmlhcz12UmVmbGVjdGlvbkluZm9zLnk7CiNpZmRlZiBTUEVDVUxBUlRFUk0KI2lmZGVmIFNQRUNVTEFSCiNpZmRlZiBHTE9TU0lORVNTCmJpYXMqPSgxLjAtc3BlY3VsYXJNYXBDb2xvci5hKTsKI2VuZGlmCiNlbmRpZgojZW5kaWYKcmVmbGVjdGlvbkNvbG9yPXRleHR1cmVDdWJlKHJlZmxlY3Rpb25DdWJlU2FtcGxlcix2UmVmbGVjdGlvblVWVyxiaWFzKTsKI2Vsc2UKcmVmbGVjdGlvbkNvbG9yPXRleHR1cmVDdWJlKHJlZmxlY3Rpb25DdWJlU2FtcGxlcix2UmVmbGVjdGlvblVWVyk7CiNlbmRpZgojZWxzZQp2ZWMyIGNvb3Jkcz12UmVmbGVjdGlvblVWVy54eTsKI2lmZGVmIFJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTgpjb29yZHMvPXZSZWZsZWN0aW9uVVZXLno7CiNlbmRpZgpjb29yZHMueT0xLjAtY29vcmRzLnk7CnJlZmxlY3Rpb25Db2xvcj10ZXh0dXJlMkQocmVmbGVjdGlvbjJEU2FtcGxlcixjb29yZHMpOwojZW5kaWYKI2lmZGVmIFJHQkRSRUZMRUNUSU9OCnJlZmxlY3Rpb25Db2xvci5yZ2I9ZnJvbVJHQkQocmVmbGVjdGlvbkNvbG9yKTsKI2VuZGlmCiNpZmRlZiBJU19SRUZMRUNUSU9OX0xJTkVBUgpyZWZsZWN0aW9uQ29sb3IucmdiPXRvR2FtbWFTcGFjZShyZWZsZWN0aW9uQ29sb3IucmdiKTsKI2VuZGlmCnJlZmxlY3Rpb25Db2xvci5yZ2IqPXZSZWZsZWN0aW9uSW5mb3MueDsKI2lmZGVmIFJFRkxFQ1RJT05GUkVTTkVMCmZsb2F0IHJlZmxlY3Rpb25GcmVzbmVsVGVybT1jb21wdXRlRnJlc25lbFRlcm0odmlld0RpcmVjdGlvblcsbm9ybWFsVyxyZWZsZWN0aW9uUmlnaHRDb2xvci5hLHJlZmxlY3Rpb25MZWZ0Q29sb3IuYSk7CiNpZmRlZiBSRUZMRUNUSU9ORlJFU05FTEZST01TUEVDVUxBUgojaWZkZWYgU1BFQ1VMQVJURVJNCnJlZmxlY3Rpb25Db2xvci5yZ2IqPXNwZWN1bGFyQ29sb3IucmdiKigxLjAtcmVmbGVjdGlvbkZyZXNuZWxUZXJtKStyZWZsZWN0aW9uRnJlc25lbFRlcm0qcmVmbGVjdGlvblJpZ2h0Q29sb3IucmdiOwojZWxzZQpyZWZsZWN0aW9uQ29sb3IucmdiKj1yZWZsZWN0aW9uTGVmdENvbG9yLnJnYiooMS4wLXJlZmxlY3Rpb25GcmVzbmVsVGVybSkrcmVmbGVjdGlvbkZyZXNuZWxUZXJtKnJlZmxlY3Rpb25SaWdodENvbG9yLnJnYjsKI2VuZGlmCiNlbHNlCnJlZmxlY3Rpb25Db2xvci5yZ2IqPXJlZmxlY3Rpb25MZWZ0Q29sb3IucmdiKigxLjAtcmVmbGVjdGlvbkZyZXNuZWxUZXJtKStyZWZsZWN0aW9uRnJlc25lbFRlcm0qcmVmbGVjdGlvblJpZ2h0Q29sb3IucmdiOwojZW5kaWYKI2VuZGlmCiNlbmRpZgojaWZkZWYgUkVGUkFDVElPTkZSRVNORUwKZmxvYXQgcmVmcmFjdGlvbkZyZXNuZWxUZXJtPWNvbXB1dGVGcmVzbmVsVGVybSh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLHJlZnJhY3Rpb25SaWdodENvbG9yLmEscmVmcmFjdGlvbkxlZnRDb2xvci5hKTsKcmVmcmFjdGlvbkNvbG9yLnJnYio9cmVmcmFjdGlvbkxlZnRDb2xvci5yZ2IqKDEuMC1yZWZyYWN0aW9uRnJlc25lbFRlcm0pK3JlZnJhY3Rpb25GcmVzbmVsVGVybSpyZWZyYWN0aW9uUmlnaHRDb2xvci5yZ2I7CiNlbmRpZgojaWZkZWYgT1BBQ0lUWQp2ZWM0IG9wYWNpdHlNYXA9dGV4dHVyZTJEKG9wYWNpdHlTYW1wbGVyLHZPcGFjaXR5VVYrdXZPZmZzZXQpOwojaWZkZWYgT1BBQ0lUWVJHQgpvcGFjaXR5TWFwLnJnYj1vcGFjaXR5TWFwLnJnYip2ZWMzKDAuMywwLjU5LDAuMTEpOwphbHBoYSo9KG9wYWNpdHlNYXAueCtvcGFjaXR5TWFwLnkrb3BhY2l0eU1hcC56KSogdk9wYWNpdHlJbmZvcy55OwojZWxzZQphbHBoYSo9b3BhY2l0eU1hcC5hKnZPcGFjaXR5SW5mb3MueTsKI2VuZGlmCiNlbmRpZgojaWYgZGVmaW5lZChWRVJURVhBTFBIQSkgfHwgZGVmaW5lZChJTlNUQU5DRVNDT0xPUikgJiYgZGVmaW5lZChJTlNUQU5DRVMpCmFscGhhKj12Q29sb3IuYTsKI2VuZGlmCiNpZmRlZiBPUEFDSVRZRlJFU05FTApmbG9hdCBvcGFjaXR5RnJlc25lbFRlcm09Y29tcHV0ZUZyZXNuZWxUZXJtKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsb3BhY2l0eVBhcnRzLnosb3BhY2l0eVBhcnRzLncpOwphbHBoYSs9b3BhY2l0eVBhcnRzLngqKDEuMC1vcGFjaXR5RnJlc25lbFRlcm0pK29wYWNpdHlGcmVzbmVsVGVybSpvcGFjaXR5UGFydHMueTsKI2VuZGlmCiNpZmRlZiBBTFBIQVRFU1QKI2lmZGVmIEFMUEhBVEVTVF9BRlRFUkFMTEFMUEhBQ09NUFVUQVRJT05TCmlmIChhbHBoYTxhbHBoYUN1dE9mZikKZGlzY2FyZDsKI2VuZGlmCiNpZm5kZWYgQUxQSEFCTEVORAphbHBoYT0xLjA7CiNlbmRpZgojZW5kaWYKdmVjMyBlbWlzc2l2ZUNvbG9yPXZFbWlzc2l2ZUNvbG9yOwojaWZkZWYgRU1JU1NJVkUKZW1pc3NpdmVDb2xvcis9dGV4dHVyZTJEKGVtaXNzaXZlU2FtcGxlcix2RW1pc3NpdmVVVit1dk9mZnNldCkucmdiKnZFbWlzc2l2ZUluZm9zLnk7CiNlbmRpZgojaWZkZWYgRU1JU1NJVkVGUkVTTkVMCmZsb2F0IGVtaXNzaXZlRnJlc25lbFRlcm09Y29tcHV0ZUZyZXNuZWxUZXJtKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsZW1pc3NpdmVSaWdodENvbG9yLmEsZW1pc3NpdmVMZWZ0Q29sb3IuYSk7CmVtaXNzaXZlQ29sb3IqPWVtaXNzaXZlTGVmdENvbG9yLnJnYiooMS4wLWVtaXNzaXZlRnJlc25lbFRlcm0pK2VtaXNzaXZlRnJlc25lbFRlcm0qZW1pc3NpdmVSaWdodENvbG9yLnJnYjsKI2VuZGlmCiNpZmRlZiBESUZGVVNFRlJFU05FTApmbG9hdCBkaWZmdXNlRnJlc25lbFRlcm09Y29tcHV0ZUZyZXNuZWxUZXJtKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsZGlmZnVzZVJpZ2h0Q29sb3IuYSxkaWZmdXNlTGVmdENvbG9yLmEpOwpkaWZmdXNlQmFzZSo9ZGlmZnVzZUxlZnRDb2xvci5yZ2IqKDEuMC1kaWZmdXNlRnJlc25lbFRlcm0pK2RpZmZ1c2VGcmVzbmVsVGVybSpkaWZmdXNlUmlnaHRDb2xvci5yZ2I7CiNlbmRpZgojaWZkZWYgRU1JU1NJVkVBU0lMTFVNSU5BVElPTgp2ZWMzIGZpbmFsRGlmZnVzZT1jbGFtcChkaWZmdXNlQmFzZSpkaWZmdXNlQ29sb3IrdkFtYmllbnRDb2xvciwwLjAsMS4wKSpiYXNlQ29sb3IucmdiOwojZWxzZQojaWZkZWYgTElOS0VNSVNTSVZFV0lUSERJRkZVU0UKdmVjMyBmaW5hbERpZmZ1c2U9Y2xhbXAoKGRpZmZ1c2VCYXNlK2VtaXNzaXZlQ29sb3IpKmRpZmZ1c2VDb2xvcit2QW1iaWVudENvbG9yLDAuMCwxLjApKmJhc2VDb2xvci5yZ2I7CiNlbHNlCnZlYzMgZmluYWxEaWZmdXNlPWNsYW1wKGRpZmZ1c2VCYXNlKmRpZmZ1c2VDb2xvcitlbWlzc2l2ZUNvbG9yK3ZBbWJpZW50Q29sb3IsMC4wLDEuMCkqYmFzZUNvbG9yLnJnYjsKI2VuZGlmCiNlbmRpZgojaWZkZWYgU1BFQ1VMQVJURVJNCnZlYzMgZmluYWxTcGVjdWxhcj1zcGVjdWxhckJhc2Uqc3BlY3VsYXJDb2xvcjsKI2lmZGVmIFNQRUNVTEFST1ZFUkFMUEhBCmFscGhhPWNsYW1wKGFscGhhK2RvdChmaW5hbFNwZWN1bGFyLHZlYzMoMC4zLDAuNTksMC4xMSkpLDAuLDEuKTsKI2VuZGlmCiNlbHNlCnZlYzMgZmluYWxTcGVjdWxhcj12ZWMzKDAuMCk7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk9WRVJBTFBIQQphbHBoYT1jbGFtcChhbHBoYStkb3QocmVmbGVjdGlvbkNvbG9yLnJnYix2ZWMzKDAuMywwLjU5LDAuMTEpKSwwLiwxLik7CiNlbmRpZgojaWZkZWYgRU1JU1NJVkVBU0lMTFVNSU5BVElPTgp2ZWM0IGNvbG9yPXZlYzQoY2xhbXAoZmluYWxEaWZmdXNlKmJhc2VBbWJpZW50Q29sb3IrZmluYWxTcGVjdWxhcityZWZsZWN0aW9uQ29sb3IucmdiK2VtaXNzaXZlQ29sb3IrcmVmcmFjdGlvbkNvbG9yLnJnYiwwLjAsMS4wKSxhbHBoYSk7CiNlbHNlCnZlYzQgY29sb3I9dmVjNChmaW5hbERpZmZ1c2UqYmFzZUFtYmllbnRDb2xvcitmaW5hbFNwZWN1bGFyK3JlZmxlY3Rpb25Db2xvci5yZ2IrcmVmcmFjdGlvbkNvbG9yLnJnYixhbHBoYSk7CiNlbmRpZgojaWZkZWYgTElHSFRNQVAKI2lmbmRlZiBMSUdIVE1BUEVYQ0xVREVECiNpZmRlZiBVU0VMSUdIVE1BUEFTU0hBRE9XTUFQCmNvbG9yLnJnYio9bGlnaHRtYXBDb2xvci5yZ2I7CiNlbHNlCmNvbG9yLnJnYis9bGlnaHRtYXBDb2xvci5yZ2I7CiNlbmRpZgojZW5kaWYKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFRk9SRV9GT0cKY29sb3IucmdiPW1heChjb2xvci5yZ2IsMC4pOwojaW5jbHVkZTxsb2dEZXB0aEZyYWdtZW50PgojaW5jbHVkZTxmb2dGcmFnbWVudD4KI2lmZGVmIElNQUdFUFJPQ0VTU0lOR1BPU1RQUk9DRVNTCmNvbG9yLnJnYj10b0xpbmVhclNwYWNlKGNvbG9yLnJnYik7CiNlbHNlCiNpZmRlZiBJTUFHRVBST0NFU1NJTkcKY29sb3IucmdiPXRvTGluZWFyU3BhY2UoY29sb3IucmdiKTsKY29sb3I9YXBwbHlJbWFnZVByb2Nlc3NpbmcoY29sb3IpOwojZW5kaWYKI2VuZGlmCmNvbG9yLmEqPXZpc2liaWxpdHk7CiNpZmRlZiBQUkVNVUxUSVBMWUFMUEhBCmNvbG9yLnJnYio9Y29sb3IuYTsKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFRk9SRV9GUkFHQ09MT1IKI2lmZGVmIFBSRVBBU1MKZmxvYXQgd3JpdGVHZW9tZXRyeUluZm89Y29sb3IuYT4wLjQgPyAxLjAgOiAwLjA7CmdsX0ZyYWdEYXRhWzBdPWNvbG9yOyAKI2lmZGVmIFBSRVBBU1NfUE9TSVRJT04KZ2xfRnJhZ0RhdGFbUFJFUEFTU19QT1NJVElPTl9JTkRFWF09dmVjNCh2UG9zaXRpb25XLHdyaXRlR2VvbWV0cnlJbmZvKTsKI2VuZGlmCiNpZmRlZiBQUkVQQVNTX1ZFTE9DSVRZCnZlYzIgYT0odkN1cnJlbnRQb3NpdGlvbi54eS92Q3VycmVudFBvc2l0aW9uLncpKjAuNSswLjU7CnZlYzIgYj0odlByZXZpb3VzUG9zaXRpb24ueHkvdlByZXZpb3VzUG9zaXRpb24udykqMC41KzAuNTsKdmVjMiB2ZWxvY2l0eT1hYnMoYS1iKTsKdmVsb2NpdHk9dmVjMihwb3codmVsb2NpdHkueCwxLjAvMy4wKSxwb3codmVsb2NpdHkueSwxLjAvMy4wKSkqc2lnbihhLWIpKjAuNSswLjU7CmdsX0ZyYWdEYXRhW1BSRVBBU1NfVkVMT0NJVFlfSU5ERVhdPXZlYzQodmVsb2NpdHksMC4wLHdyaXRlR2VvbWV0cnlJbmZvKTsKI2VuZGlmCiNpZmRlZiBQUkVQQVNTX0lSUkFESUFOQ0UKZ2xfRnJhZ0RhdGFbUFJFUEFTU19JUlJBRElBTkNFX0lOREVYXT12ZWM0KDAuMCwwLjAsMC4wLHdyaXRlR2VvbWV0cnlJbmZvKTsgCiNlbmRpZgojaWZkZWYgUFJFUEFTU19ERVBUSApnbF9GcmFnRGF0YVtQUkVQQVNTX0RFUFRIX0lOREVYXT12ZWM0KHZWaWV3UG9zLnosMC4wLDAuMCx3cml0ZUdlb21ldHJ5SW5mbyk7IAojZW5kaWYKI2lmZGVmIFBSRVBBU1NfTk9STUFMCmdsX0ZyYWdEYXRhW1BSRVBBU1NfTk9STUFMX0lOREVYXT12ZWM0KCh2aWV3KnZlYzQobm9ybWFsVywwLjApKS5yZ2Isd3JpdGVHZW9tZXRyeUluZm8pOyAKI2VuZGlmCiNpZmRlZiBQUkVQQVNTX0FMQkVET19TUVJUCmdsX0ZyYWdEYXRhW1BSRVBBU1NfQUxCRURPX1NRUlRfSU5ERVhdPXZlYzQoMC4wLDAuMCwwLjAsd3JpdGVHZW9tZXRyeUluZm8pOyAKI2VuZGlmCiNpZmRlZiBQUkVQQVNTX1JFRkxFQ1RJVklUWQojaWYgZGVmaW5lZChTUEVDVUxBUlRFUk0pCiNpZiBkZWZpbmVkKFNQRUNVTEFSKQpnbF9GcmFnRGF0YVtQUkVQQVNTX1JFRkxFQ1RJVklUWV9JTkRFWF09dmVjNChzcGVjdWxhck1hcENvbG9yKSp3cml0ZUdlb21ldHJ5SW5mbzsgCiNlbHNlCmdsX0ZyYWdEYXRhW1BSRVBBU1NfUkVGTEVDVElWSVRZX0lOREVYXT12ZWM0KHNwZWN1bGFyQ29sb3IsMS4wKSp3cml0ZUdlb21ldHJ5SW5mbzsKI2VuZGlmCiNlbHNlCmdsX0ZyYWdEYXRhW1BSRVBBU1NfUkVGTEVDVElWSVRZX0lOREVYXT12ZWM0KDAuMCwwLjAsMC4wLDEuMCkqd3JpdGVHZW9tZXRyeUluZm87CiNlbmRpZgojZW5kaWYKI2VuZGlmCiNpZiAhZGVmaW5lZChQUkVQQVNTKSB8fCBkZWZpbmVkKFdFQkdMMikKZ2xfRnJhZ0NvbG9yPWNvbG9yOwojZW5kaWYKI2luY2x1ZGU8b2l0RnJhZ21lbnQ+CiNpZiBPUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1kKaWYgKGZyYWdEZXB0aD09bmVhcmVzdERlcHRoKSB7CmZyb250Q29sb3IucmdiKz1jb2xvci5yZ2IqY29sb3IuYSphbHBoYU11bHRpcGxpZXI7CmZyb250Q29sb3IuYT0xLjAtYWxwaGFNdWx0aXBsaWVyKigxLjAtY29sb3IuYSk7Cn0gZWxzZSB7CmJhY2tDb2xvcis9Y29sb3I7Cn0KI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX01BSU5fRU5ECn0KYDtVLlNoYWRlcnNTdG9yZVtEaF09Rmg7Y29uc3Qgd2g9ImRlZmF1bHRWZXJ0ZXhEZWNsYXJhdGlvbiIsT2g9YHVuaWZvcm0gbWF0NCB2aWV3UHJvamVjdGlvbjsKdW5pZm9ybSBtYXQ0IHZpZXc7CiNpZmRlZiBESUZGVVNFCnVuaWZvcm0gbWF0NCBkaWZmdXNlTWF0cml4Owp1bmlmb3JtIHZlYzIgdkRpZmZ1c2VJbmZvczsKI2VuZGlmCiNpZmRlZiBBTUJJRU5UCnVuaWZvcm0gbWF0NCBhbWJpZW50TWF0cml4Owp1bmlmb3JtIHZlYzIgdkFtYmllbnRJbmZvczsKI2VuZGlmCiNpZmRlZiBPUEFDSVRZCnVuaWZvcm0gbWF0NCBvcGFjaXR5TWF0cml4Owp1bmlmb3JtIHZlYzIgdk9wYWNpdHlJbmZvczsKI2VuZGlmCiNpZmRlZiBFTUlTU0lWRQp1bmlmb3JtIHZlYzIgdkVtaXNzaXZlSW5mb3M7CnVuaWZvcm0gbWF0NCBlbWlzc2l2ZU1hdHJpeDsKI2VuZGlmCiNpZmRlZiBMSUdIVE1BUAp1bmlmb3JtIHZlYzIgdkxpZ2h0bWFwSW5mb3M7CnVuaWZvcm0gbWF0NCBsaWdodG1hcE1hdHJpeDsKI2VuZGlmCiNpZiBkZWZpbmVkKFNQRUNVTEFSKSAmJiBkZWZpbmVkKFNQRUNVTEFSVEVSTSkKdW5pZm9ybSB2ZWMyIHZTcGVjdWxhckluZm9zOwp1bmlmb3JtIG1hdDQgc3BlY3VsYXJNYXRyaXg7CiNlbmRpZgojaWZkZWYgQlVNUAp1bmlmb3JtIHZlYzMgdkJ1bXBJbmZvczsKdW5pZm9ybSBtYXQ0IGJ1bXBNYXRyaXg7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTgp1bmlmb3JtIG1hdDQgcmVmbGVjdGlvbk1hdHJpeDsKI2VuZGlmCiNpZmRlZiBQT0lOVFNJWkUKdW5pZm9ybSBmbG9hdCBwb2ludFNpemU7CiNlbmRpZgojaWZkZWYgREVUQUlMCnVuaWZvcm0gdmVjNCB2RGV0YWlsSW5mb3M7CnVuaWZvcm0gbWF0NCBkZXRhaWxNYXRyaXg7CiNlbmRpZgojZGVmaW5lIEFERElUSU9OQUxfVkVSVEVYX0RFQ0xBUkFUSU9OCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVt3aF09T2g7Y29uc3QgTGg9InV2QXR0cmlidXRlRGVjbGFyYXRpb24iLE5oPWAjaWZkZWYgVVZ7WH0KYXR0cmlidXRlIHZlYzIgdXZ7WH07CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbTGhdPU5oO2NvbnN0IEJoPSJwcmVQYXNzVmVydGV4RGVjbGFyYXRpb24iLFVoPWAjaWZkZWYgUFJFUEFTUwojaWZkZWYgUFJFUEFTU19ERVBUSAp2YXJ5aW5nIHZlYzMgdlZpZXdQb3M7CiNlbmRpZgojaWZkZWYgUFJFUEFTU19WRUxPQ0lUWQp1bmlmb3JtIG1hdDQgcHJldmlvdXNWaWV3UHJvamVjdGlvbjsKdmFyeWluZyB2ZWM0IHZDdXJyZW50UG9zaXRpb247CnZhcnlpbmcgdmVjNCB2UHJldmlvdXNQb3NpdGlvbjsKI2VuZGlmCiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbQmhdPVVoO2NvbnN0IGtoPSJzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24iLFZoPWAjaWYgZGVmaW5lZChfREVGSU5FTkFNRV8pICYmIF9ERUZJTkVOQU1FX0RJUkVDVFVWPT0wCnZhcnlpbmcgdmVjMiB2X1ZBUllJTkdOQU1FX1VWOwojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2toXT1WaDtjb25zdCBXaD0iYnVtcFZlcnRleERlY2xhcmF0aW9uIix6aD1gI2lmIGRlZmluZWQoQlVNUCkgfHwgZGVmaW5lZChQQVJBTExBWCkgfHwgZGVmaW5lZChDTEVBUkNPQVRfQlVNUCkgfHwgZGVmaW5lZChBTklTT1RST1BJQykKI2lmIGRlZmluZWQoVEFOR0VOVCkgJiYgZGVmaW5lZChOT1JNQUwpIAp2YXJ5aW5nIG1hdDMgdlRCTjsKI2VuZGlmCiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbV2hdPXpoO2NvbnN0IEdoPSJmb2dWZXJ0ZXhEZWNsYXJhdGlvbiIsWGg9YCNpZmRlZiBGT0cKdmFyeWluZyB2ZWMzIHZGb2dEaXN0YW5jZTsKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtHaF09WGg7Y29uc3QgSGg9ImxpZ2h0VnhGcmFnbWVudERlY2xhcmF0aW9uIixLaD1gI2lmZGVmIExJR0hUe1h9CnVuaWZvcm0gdmVjNCB2TGlnaHREYXRhe1h9Owp1bmlmb3JtIHZlYzQgdkxpZ2h0RGlmZnVzZXtYfTsKI2lmZGVmIFNQRUNVTEFSVEVSTQp1bmlmb3JtIHZlYzQgdkxpZ2h0U3BlY3VsYXJ7WH07CiNlbHNlCnZlYzQgdkxpZ2h0U3BlY3VsYXJ7WH09dmVjNCgwLik7CiNlbmRpZgojaWZkZWYgU0hBRE9Xe1h9CiNpZmRlZiBTSEFET1dDU017WH0KdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21DYW1lcmF7WH07CiNlbGlmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKI2Vsc2UKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21MaWdodHtYfTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH07CnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfTsKI2VuZGlmCnVuaWZvcm0gdmVjNCBzaGFkb3dzSW5mb3tYfTsKdW5pZm9ybSB2ZWMyIGRlcHRoVmFsdWVze1h9OwojZW5kaWYKI2lmZGVmIFNQT1RMSUdIVHtYfQp1bmlmb3JtIHZlYzQgdkxpZ2h0RGlyZWN0aW9ue1h9Owp1bmlmb3JtIHZlYzQgdkxpZ2h0RmFsbG9mZntYfTsKI2VsaWYgZGVmaW5lZChQT0lOVExJR0hUe1h9KQp1bmlmb3JtIHZlYzQgdkxpZ2h0RmFsbG9mZntYfTsKI2VsaWYgZGVmaW5lZChIRU1JTElHSFR7WH0pCnVuaWZvcm0gdmVjMyB2TGlnaHRHcm91bmR7WH07CiNlbmRpZgojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0hoXT1LaDtjb25zdCBZaD0ibGlnaHRWeFVib0RlY2xhcmF0aW9uIixaaD1gI2lmZGVmIExJR0hUe1h9CnVuaWZvcm0gTGlnaHR7WH0Kewp2ZWM0IHZMaWdodERhdGE7CnZlYzQgdkxpZ2h0RGlmZnVzZTsKdmVjNCB2TGlnaHRTcGVjdWxhcjsKI2lmZGVmIFNQT1RMSUdIVHtYfQp2ZWM0IHZMaWdodERpcmVjdGlvbjsKdmVjNCB2TGlnaHRGYWxsb2ZmOwojZWxpZiBkZWZpbmVkKFBPSU5UTElHSFR7WH0pCnZlYzQgdkxpZ2h0RmFsbG9mZjsKI2VsaWYgZGVmaW5lZChIRU1JTElHSFR7WH0pCnZlYzMgdkxpZ2h0R3JvdW5kOwojZW5kaWYKdmVjNCBzaGFkb3dzSW5mbzsKdmVjMiBkZXB0aFZhbHVlczsKfSBsaWdodHtYfTsKI2lmZGVmIFNIQURPV3tYfQojaWZkZWYgU0hBRE9XQ1NNe1h9CnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tQ2FtZXJhe1h9OwojZWxpZiBkZWZpbmVkKFNIQURPV0NVQkV7WH0pCiNlbHNlCnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9Owp1bmlmb3JtIG1hdDQgbGlnaHRNYXRyaXh7WH07CiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVtZaF09Wmg7Y29uc3QgcWg9InByZVBhc3NWZXJ0ZXgiLGpoPWAjaWZkZWYgUFJFUEFTU19ERVBUSAp2Vmlld1Bvcz0odmlldyp3b3JsZFBvcykucmdiOwojZW5kaWYKI2lmIGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkgJiYgZGVmaW5lZChCT05FU19WRUxPQ0lUWV9FTkFCTEVEKQp2Q3VycmVudFBvc2l0aW9uPXZpZXdQcm9qZWN0aW9uKndvcmxkUG9zOwojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MAptYXQ0IHByZXZpb3VzSW5mbHVlbmNlOwpwcmV2aW91c0luZmx1ZW5jZT1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzBdKV0qbWF0cmljZXNXZWlnaHRzWzBdOwojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MQpwcmV2aW91c0luZmx1ZW5jZSs9bVByZXZpb3VzQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1sxXSldKm1hdHJpY2VzV2VpZ2h0c1sxXTsKI2VuZGlmIAojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MgpwcmV2aW91c0luZmx1ZW5jZSs9bVByZXZpb3VzQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1syXSldKm1hdHJpY2VzV2VpZ2h0c1syXTsKI2VuZGlmIAojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MwpwcmV2aW91c0luZmx1ZW5jZSs9bVByZXZpb3VzQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1szXSldKm1hdHJpY2VzV2VpZ2h0c1szXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz40CnByZXZpb3VzSW5mbHVlbmNlKz1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbMF0pXSptYXRyaWNlc1dlaWdodHNFeHRyYVswXTsKI2VuZGlmIAojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NQpwcmV2aW91c0luZmx1ZW5jZSs9bVByZXZpb3VzQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc0V4dHJhWzFdKV0qbWF0cmljZXNXZWlnaHRzRXh0cmFbMV07CiNlbmRpZiAKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjYKcHJldmlvdXNJbmZsdWVuY2UrPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVsyXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzJdOwojZW5kaWYgCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz43CnByZXZpb3VzSW5mbHVlbmNlKz1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbM10pXSptYXRyaWNlc1dlaWdodHNFeHRyYVszXTsKI2VuZGlmCnZQcmV2aW91c1Bvc2l0aW9uPXByZXZpb3VzVmlld1Byb2plY3Rpb24qZmluYWxQcmV2aW91c1dvcmxkKnByZXZpb3VzSW5mbHVlbmNlKnZlYzQocG9zaXRpb25VcGRhdGVkLDEuMCk7CiNlbHNlCnZQcmV2aW91c1Bvc2l0aW9uPXByZXZpb3VzVmlld1Byb2plY3Rpb24qZmluYWxQcmV2aW91c1dvcmxkKnZlYzQocG9zaXRpb25VcGRhdGVkLDEuMCk7CiNlbmRpZgojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3FoXT1qaDtjb25zdCAkaD0idXZWYXJpYWJsZURlY2xhcmF0aW9uIixRaD1gI2lmICFkZWZpbmVkKFVWe1h9KSAmJiBkZWZpbmVkKE1BSU5VVntYfSkKdmVjMiB1dntYfT12ZWMyKDAuLDAuKTsKI2VuZGlmCiNpZmRlZiBNQUlOVVZ7WH0Kdk1haW5VVntYfT11dntYfTsKI2VuZGlmCmA7VS5JbmNsdWRlc1NoYWRlcnNTdG9yZVskaF09UWg7Y29uc3QgSmg9InNhbXBsZXJWZXJ0ZXhJbXBsZW1lbnRhdGlvbiIsZWw9YCNpZiBkZWZpbmVkKF9ERUZJTkVOQU1FXykgJiYgX0RFRklORU5BTUVfRElSRUNUVVY9PTAKaWYgKHZfSU5GT05BTUVfPT0wLikKewp2X1ZBUllJTkdOQU1FX1VWPXZlYzIoX01BVFJJWE5BTUVfTWF0cml4KnZlYzQodXZVcGRhdGVkLDEuMCwwLjApKTsKfQojaWZkZWYgVVYyCmVsc2UgaWYgKHZfSU5GT05BTUVfPT0xLikKewp2X1ZBUllJTkdOQU1FX1VWPXZlYzIoX01BVFJJWE5BTUVfTWF0cml4KnZlYzQodXYyLDEuMCwwLjApKTsKfQojZW5kaWYKI2lmZGVmIFVWMwplbHNlIGlmICh2X0lORk9OQU1FXz09Mi4pCnsKdl9WQVJZSU5HTkFNRV9VVj12ZWMyKF9NQVRSSVhOQU1FX01hdHJpeCp2ZWM0KHV2MywxLjAsMC4wKSk7Cn0KI2VuZGlmCiNpZmRlZiBVVjQKZWxzZSBpZiAodl9JTkZPTkFNRV89PTMuKQp7CnZfVkFSWUlOR05BTUVfVVY9dmVjMihfTUFUUklYTkFNRV9NYXRyaXgqdmVjNCh1djQsMS4wLDAuMCkpOwp9CiNlbmRpZgojaWZkZWYgVVY1CmVsc2UgaWYgKHZfSU5GT05BTUVfPT00LikKewp2X1ZBUllJTkdOQU1FX1VWPXZlYzIoX01BVFJJWE5BTUVfTWF0cml4KnZlYzQodXY1LDEuMCwwLjApKTsKfQojZW5kaWYKI2lmZGVmIFVWNgplbHNlIGlmICh2X0lORk9OQU1FXz09NS4pCnsKdl9WQVJZSU5HTkFNRV9VVj12ZWMyKF9NQVRSSVhOQU1FX01hdHJpeCp2ZWM0KHV2NiwxLjAsMC4wKSk7Cn0KI2VuZGlmCiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbSmhdPWVsO2NvbnN0IHRsPSJidW1wVmVydGV4IixpbD1gI2lmIGRlZmluZWQoQlVNUCkgfHwgZGVmaW5lZChQQVJBTExBWCkgfHwgZGVmaW5lZChDTEVBUkNPQVRfQlVNUCkgfHwgZGVmaW5lZChBTklTT1RST1BJQykKI2lmIGRlZmluZWQoVEFOR0VOVCkgJiYgZGVmaW5lZChOT1JNQUwpCnZlYzMgdGJuTm9ybWFsPW5vcm1hbGl6ZShub3JtYWxVcGRhdGVkKTsKdmVjMyB0Ym5UYW5nZW50PW5vcm1hbGl6ZSh0YW5nZW50VXBkYXRlZC54eXopOwp2ZWMzIHRibkJpdGFuZ2VudD1jcm9zcyh0Ym5Ob3JtYWwsdGJuVGFuZ2VudCkqdGFuZ2VudFVwZGF0ZWQudzsKdlRCTj1tYXQzKGZpbmFsV29ybGQpKm1hdDModGJuVGFuZ2VudCx0Ym5CaXRhbmdlbnQsdGJuTm9ybWFsKTsKI2VuZGlmCiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbdGxdPWlsO2NvbnN0IHNsPSJmb2dWZXJ0ZXgiLHJsPWAjaWZkZWYgRk9HCnZGb2dEaXN0YW5jZT0odmlldyp3b3JsZFBvcykueHl6OwojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3NsXT1ybDtjb25zdCBubD0ic2hhZG93c1ZlcnRleCIsYWw9YCNpZmRlZiBTSEFET1dTCiNpZiBkZWZpbmVkKFNIQURPV0NTTXtYfSkKdlBvc2l0aW9uRnJvbUNhbWVyYXtYfT12aWV3KndvcmxkUG9zOwpmb3IgKGludCBpPTA7IGk8U0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9OyBpKyspIHsKdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2ldPWxpZ2h0TWF0cml4e1h9W2ldKndvcmxkUG9zOwojaWZkZWYgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIKdkRlcHRoTWV0cmlje1h9W2ldPSgtdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2ldLnorbGlnaHR7WH0uZGVwdGhWYWx1ZXMueCkvbGlnaHR7WH0uZGVwdGhWYWx1ZXMueTsKI2Vsc2UKdkRlcHRoTWV0cmlje1h9W2ldPSh2UG9zaXRpb25Gcm9tTGlnaHR7WH1baV0ueitsaWdodHtYfS5kZXB0aFZhbHVlcy54KS9saWdodHtYfS5kZXB0aFZhbHVlcy55OwojZW5kaWYKfQojZWxpZiBkZWZpbmVkKFNIQURPV3tYfSkgJiYgIWRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKdlBvc2l0aW9uRnJvbUxpZ2h0e1h9PWxpZ2h0TWF0cml4e1h9KndvcmxkUG9zOwojaWZkZWYgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIKdkRlcHRoTWV0cmlje1h9PSgtdlBvc2l0aW9uRnJvbUxpZ2h0e1h9LnorbGlnaHR7WH0uZGVwdGhWYWx1ZXMueCkvbGlnaHR7WH0uZGVwdGhWYWx1ZXMueTsKI2Vsc2UKdkRlcHRoTWV0cmlje1h9PSh2UG9zaXRpb25Gcm9tTGlnaHR7WH0ueitsaWdodHtYfS5kZXB0aFZhbHVlcy54KS9saWdodHtYfS5kZXB0aFZhbHVlcy55OwojZW5kaWYKI2VuZGlmCiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbbmxdPWFsO2NvbnN0IG9sPSJ2ZXJ0ZXhDb2xvck1peGluZyIsaGw9YCNpZiBkZWZpbmVkKFZFUlRFWENPTE9SKSB8fCBkZWZpbmVkKElOU1RBTkNFU0NPTE9SKSAmJiBkZWZpbmVkKElOU1RBTkNFUykKdkNvbG9yPXZlYzQoMS4wKTsKI2lmZGVmIFZFUlRFWENPTE9SCiNpZmRlZiBWRVJURVhBTFBIQQp2Q29sb3IqPWNvbG9yOwojZWxzZQp2Q29sb3IucmdiKj1jb2xvci5yZ2I7CiNlbmRpZgojZW5kaWYKI2lmZGVmIElOU1RBTkNFU0NPTE9SCnZDb2xvcio9aW5zdGFuY2VDb2xvcjsKI2VuZGlmCiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbb2xdPWhsO2NvbnN0IGxsPSJwb2ludENsb3VkVmVydGV4IixjbD1gI2lmIGRlZmluZWQoUE9JTlRTSVpFKSAmJiAhZGVmaW5lZChXRUJHUFUpCmdsX1BvaW50U2l6ZT1wb2ludFNpemU7CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbbGxdPWNsO2NvbnN0IHVsPSJsb2dEZXB0aFZlcnRleCIsZGw9YCNpZmRlZiBMT0dBUklUSE1JQ0RFUFRICnZGcmFnbWVudERlcHRoPTEuMCtnbF9Qb3NpdGlvbi53OwpnbF9Qb3NpdGlvbi56PWxvZzIobWF4KDAuMDAwMDAxLHZGcmFnbWVudERlcHRoKSkqbG9nYXJpdGhtaWNEZXB0aENvbnN0YW50OwojZW5kaWYKYDtVLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3VsXT1kbDtjb25zdCBmbD0iZGVmYXVsdFZlcnRleFNoYWRlciIsX2w9YCNpbmNsdWRlPF9fZGVjbF9fZGVmYXVsdFZlcnRleD4KI2RlZmluZSBDVVNUT01fVkVSVEVYX0JFR0lOCmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uOwojaWZkZWYgTk9STUFMCmF0dHJpYnV0ZSB2ZWMzIG5vcm1hbDsKI2VuZGlmCiNpZmRlZiBUQU5HRU5UCmF0dHJpYnV0ZSB2ZWM0IHRhbmdlbnQ7CiNlbmRpZgojaWZkZWYgVVYxCmF0dHJpYnV0ZSB2ZWMyIHV2OwojZW5kaWYKI2luY2x1ZGU8dXZBdHRyaWJ1dGVEZWNsYXJhdGlvbj5bMi4uN10KI2lmZGVmIFZFUlRFWENPTE9SCmF0dHJpYnV0ZSB2ZWM0IGNvbG9yOwojZW5kaWYKI2luY2x1ZGU8aGVscGVyRnVuY3Rpb25zPgojaW5jbHVkZTxib25lc0RlY2xhcmF0aW9uPgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbkRlY2xhcmF0aW9uPgojaW5jbHVkZTxpbnN0YW5jZXNEZWNsYXJhdGlvbj4KI2luY2x1ZGU8cHJlUGFzc1ZlcnRleERlY2xhcmF0aW9uPgojaW5jbHVkZTxtYWluVVZWYXJ5aW5nRGVjbGFyYXRpb24+WzEuLjddCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLERJRkZVU0UsX1ZBUllJTkdOQU1FXyxEaWZmdXNlKQojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxERVRBSUwsX1ZBUllJTkdOQU1FXyxEZXRhaWwpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLEFNQklFTlQsX1ZBUllJTkdOQU1FXyxBbWJpZW50KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxPUEFDSVRZLF9WQVJZSU5HTkFNRV8sT3BhY2l0eSkKI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sRU1JU1NJVkUsX1ZBUllJTkdOQU1FXyxFbWlzc2l2ZSkKI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sTElHSFRNQVAsX1ZBUllJTkdOQU1FXyxMaWdodG1hcCkKI2lmIGRlZmluZWQoU1BFQ1VMQVJURVJNKQojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxTUEVDVUxBUixfVkFSWUlOR05BTUVfLFNwZWN1bGFyKQojZW5kaWYKI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sQlVNUCxfVkFSWUlOR05BTUVfLEJ1bXApCnZhcnlpbmcgdmVjMyB2UG9zaXRpb25XOwojaWZkZWYgTk9STUFMCnZhcnlpbmcgdmVjMyB2Tm9ybWFsVzsKI2VuZGlmCiNpZiBkZWZpbmVkKFZFUlRFWENPTE9SKSB8fCBkZWZpbmVkKElOU1RBTkNFU0NPTE9SKSAmJiBkZWZpbmVkKElOU1RBTkNFUykKdmFyeWluZyB2ZWM0IHZDb2xvcjsKI2VuZGlmCiNpbmNsdWRlPGJ1bXBWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8Y2xpcFBsYW5lVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPGZvZ1ZlcnRleERlY2xhcmF0aW9uPgojaW5jbHVkZTxfX2RlY2xfX2xpZ2h0VnhGcmFnbWVudD5bMC4ubWF4U2ltdWx0YW5lb3VzTGlnaHRzXQojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWxEZWNsYXJhdGlvbj4KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4RGVjbGFyYXRpb24+WzAuLm1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0c10KI2lmZGVmIFJFRkxFQ1RJT05NQVBfU0tZQk9YCnZhcnlpbmcgdmVjMyB2UG9zaXRpb25VVlc7CiNlbmRpZgojaWYgZGVmaW5lZChSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRCkgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVEKQp2YXJ5aW5nIHZlYzMgdkRpcmVjdGlvblc7CiNlbmRpZgojaW5jbHVkZTxsb2dEZXB0aERlY2xhcmF0aW9uPgojZGVmaW5lIENVU1RPTV9WRVJURVhfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpIHsKI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fQkVHSU4KdmVjMyBwb3NpdGlvblVwZGF0ZWQ9cG9zaXRpb247CiNpZmRlZiBOT1JNQUwKdmVjMyBub3JtYWxVcGRhdGVkPW5vcm1hbDsKI2VuZGlmCiNpZmRlZiBUQU5HRU5UCnZlYzQgdGFuZ2VudFVwZGF0ZWQ9dGFuZ2VudDsKI2VuZGlmCiNpZmRlZiBVVjEKdmVjMiB1dlVwZGF0ZWQ9dXY7CiNlbmRpZgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWw+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleD5bMC4ubWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzXQojaWZkZWYgUkVGTEVDVElPTk1BUF9TS1lCT1gKdlBvc2l0aW9uVVZXPXBvc2l0aW9uVXBkYXRlZDsKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9VUERBVEVfUE9TSVRJT04KI2RlZmluZSBDVVNUT01fVkVSVEVYX1VQREFURV9OT1JNQUwKI2luY2x1ZGU8aW5zdGFuY2VzVmVydGV4PgojaWYgZGVmaW5lZChQUkVQQVNTKSAmJiBkZWZpbmVkKFBSRVBBU1NfVkVMT0NJVFkpICYmICFkZWZpbmVkKEJPTkVTX1ZFTE9DSVRZX0VOQUJMRUQpCnZDdXJyZW50UG9zaXRpb249dmlld1Byb2plY3Rpb24qZmluYWxXb3JsZCp2ZWM0KHBvc2l0aW9uVXBkYXRlZCwxLjApOwp2UHJldmlvdXNQb3NpdGlvbj1wcmV2aW91c1ZpZXdQcm9qZWN0aW9uKmZpbmFsUHJldmlvdXNXb3JsZCp2ZWM0KHBvc2l0aW9uVXBkYXRlZCwxLjApOwojZW5kaWYKI2luY2x1ZGU8Ym9uZXNWZXJ0ZXg+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uPgp2ZWM0IHdvcmxkUG9zPWZpbmFsV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKI2lmZGVmIE5PUk1BTAptYXQzIG5vcm1hbFdvcmxkPW1hdDMoZmluYWxXb3JsZCk7CiNpZiBkZWZpbmVkKElOU1RBTkNFUykgJiYgZGVmaW5lZChUSElOX0lOU1RBTkNFUykKdk5vcm1hbFc9bm9ybWFsVXBkYXRlZC92ZWMzKGRvdChub3JtYWxXb3JsZFswXSxub3JtYWxXb3JsZFswXSksZG90KG5vcm1hbFdvcmxkWzFdLG5vcm1hbFdvcmxkWzFdKSxkb3Qobm9ybWFsV29ybGRbMl0sbm9ybWFsV29ybGRbMl0pKTsKdk5vcm1hbFc9bm9ybWFsaXplKG5vcm1hbFdvcmxkKnZOb3JtYWxXKTsKI2Vsc2UKI2lmZGVmIE5PTlVOSUZPUk1TQ0FMSU5HCm5vcm1hbFdvcmxkPXRyYW5zcG9zZU1hdDMoaW52ZXJzZU1hdDMobm9ybWFsV29ybGQpKTsKI2VuZGlmCnZOb3JtYWxXPW5vcm1hbGl6ZShub3JtYWxXb3JsZCpub3JtYWxVcGRhdGVkKTsKI2VuZGlmCiNlbmRpZgojZGVmaW5lIENVU1RPTV9WRVJURVhfVVBEQVRFX1dPUkxEUE9TCiNpZmRlZiBNVUxUSVZJRVcKaWYgKGdsX1ZpZXdJRF9PVlI9PTB1KSB7CmdsX1Bvc2l0aW9uPXZpZXdQcm9qZWN0aW9uKndvcmxkUG9zOwp9IGVsc2UgewpnbF9Qb3NpdGlvbj12aWV3UHJvamVjdGlvblIqd29ybGRQb3M7Cn0KI2Vsc2UKZ2xfUG9zaXRpb249dmlld1Byb2plY3Rpb24qd29ybGRQb3M7CiNlbmRpZgp2UG9zaXRpb25XPXZlYzMod29ybGRQb3MpOwojaW5jbHVkZTxwcmVQYXNzVmVydGV4PgojaWYgZGVmaW5lZChSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRCkgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVEKQp2RGlyZWN0aW9uVz1ub3JtYWxpemUodmVjMyhmaW5hbFdvcmxkKnZlYzQocG9zaXRpb25VcGRhdGVkLDAuMCkpKTsKI2VuZGlmCiNpZm5kZWYgVVYxCnZlYzIgdXZVcGRhdGVkPXZlYzIoMC4sMC4pOwojZW5kaWYKI2lmZGVmIE1BSU5VVjEKdk1haW5VVjE9dXZVcGRhdGVkOwojZW5kaWYKI2luY2x1ZGU8dXZWYXJpYWJsZURlY2xhcmF0aW9uPlsyLi43XQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxESUZGVVNFLF9WQVJZSU5HTkFNRV8sRGlmZnVzZSxfTUFUUklYTkFNRV8sZGlmZnVzZSxfSU5GT05BTUVfLERpZmZ1c2VJbmZvcy54KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxERVRBSUwsX1ZBUllJTkdOQU1FXyxEZXRhaWwsX01BVFJJWE5BTUVfLGRldGFpbCxfSU5GT05BTUVfLERldGFpbEluZm9zLngpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhJbXBsZW1lbnRhdGlvbj4oX0RFRklORU5BTUVfLEFNQklFTlQsX1ZBUllJTkdOQU1FXyxBbWJpZW50LF9NQVRSSVhOQU1FXyxhbWJpZW50LF9JTkZPTkFNRV8sQW1iaWVudEluZm9zLngpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhJbXBsZW1lbnRhdGlvbj4oX0RFRklORU5BTUVfLE9QQUNJVFksX1ZBUllJTkdOQU1FXyxPcGFjaXR5LF9NQVRSSVhOQU1FXyxvcGFjaXR5LF9JTkZPTkFNRV8sT3BhY2l0eUluZm9zLngpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhJbXBsZW1lbnRhdGlvbj4oX0RFRklORU5BTUVfLEVNSVNTSVZFLF9WQVJZSU5HTkFNRV8sRW1pc3NpdmUsX01BVFJJWE5BTUVfLGVtaXNzaXZlLF9JTkZPTkFNRV8sRW1pc3NpdmVJbmZvcy54KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxMSUdIVE1BUCxfVkFSWUlOR05BTUVfLExpZ2h0bWFwLF9NQVRSSVhOQU1FXyxsaWdodG1hcCxfSU5GT05BTUVfLExpZ2h0bWFwSW5mb3MueCkKI2lmIGRlZmluZWQoU1BFQ1VMQVJURVJNKQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxTUEVDVUxBUixfVkFSWUlOR05BTUVfLFNwZWN1bGFyLF9NQVRSSVhOQU1FXyxzcGVjdWxhcixfSU5GT05BTUVfLFNwZWN1bGFySW5mb3MueCkKI2VuZGlmCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhJbXBsZW1lbnRhdGlvbj4oX0RFRklORU5BTUVfLEJVTVAsX1ZBUllJTkdOQU1FXyxCdW1wLF9NQVRSSVhOQU1FXyxidW1wLF9JTkZPTkFNRV8sQnVtcEluZm9zLngpCiNpbmNsdWRlPGJ1bXBWZXJ0ZXg+CiNpbmNsdWRlPGNsaXBQbGFuZVZlcnRleD4KI2luY2x1ZGU8Zm9nVmVydGV4PgojaW5jbHVkZTxzaGFkb3dzVmVydGV4PlswLi5tYXhTaW11bHRhbmVvdXNMaWdodHNdCiNpbmNsdWRlPHZlcnRleENvbG9yTWl4aW5nPgojaW5jbHVkZTxwb2ludENsb3VkVmVydGV4PgojaW5jbHVkZTxsb2dEZXB0aFZlcnRleD4KI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fRU5ECn0KYDtVLlNoYWRlcnNTdG9yZVtmbF09X2w7Y29uc3QgZ2w9bmV3IFJlZ0V4cCgiXihbZ2ltdXNdKykhIik7Y2xhc3MgZWl7Y29uc3RydWN0b3IoZSl7dGhpcy5fcGx1Z2lucz1bXSx0aGlzLl9hY3RpdmVQbHVnaW5zPVtdLHRoaXMuX2FjdGl2ZVBsdWdpbnNGb3JFeHRyYUV2ZW50cz1bXSx0aGlzLl9tYXRlcmlhbD1lLHRoaXMuX3NjZW5lPWUuZ2V0U2NlbmUoKSx0aGlzLl9lbmdpbmU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCl9X2FkZFBsdWdpbihlKXtmb3IobGV0IHM9MDtzPHRoaXMuX3BsdWdpbnMubGVuZ3RoOysrcylpZih0aGlzLl9wbHVnaW5zW3NdLm5hbWU9PT1lLm5hbWUpdGhyb3dgUGx1Z2luICIke2UubmFtZX0iIGFscmVhZHkgYWRkZWQgdG8gdGhlIG1hdGVyaWFsICIke3RoaXMuX21hdGVyaWFsLm5hbWV9IiFgO2lmKHRoaXMuX21hdGVyaWFsLl91bmlmb3JtQnVmZmVyTGF5b3V0QnVpbHQpdGhyb3dgVGhlIHBsdWdpbiAiJHtlLm5hbWV9IiBjYW4ndCBiZSBhZGRlZCB0byB0aGUgbWF0ZXJpYWwgIiR7dGhpcy5fbWF0ZXJpYWwubmFtZX0iIGJlY2F1c2UgdGhpcyBtYXRlcmlhbCBoYXMgYWxyZWFkeSBiZWVuIHVzZWQgZm9yIHJlbmRlcmluZyEgUGxlYXNlIGFkZCBwbHVnaW5zIHRvIG1hdGVyaWFscyBiZWZvcmUgYW55IHJlbmRlcmluZyB3aXRoIHRoaXMgbWF0ZXJpYWwgb2NjdXJzLmA7Y29uc3QgdD1lLmdldENsYXNzTmFtZSgpO2VpLl9NYXRlcmlhbFBsdWdpbkNsYXNzVG9NYWluRGVmaW5lW3RdfHwoZWkuX01hdGVyaWFsUGx1Z2luQ2xhc3NUb01haW5EZWZpbmVbdF09Ik1BVEVSSUFMUExVR0lOXyIrICsrZWkuX01hdGVyaWFsUGx1Z2luQ291bnRlciksdGhpcy5fbWF0ZXJpYWwuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50LmJpbmQodGhpcyksdGhpcy5fcGx1Z2lucy5wdXNoKGUpLHRoaXMuX3BsdWdpbnMuc29ydCgocyxyKT0+cy5wcmlvcml0eS1yLnByaW9yaXR5KSx0aGlzLl9jb2RlSW5qZWN0aW9uUG9pbnRzPXt9O2NvbnN0IGk9e307aVtlaS5fTWF0ZXJpYWxQbHVnaW5DbGFzc1RvTWFpbkRlZmluZVt0XV09e3R5cGU6ImJvb2xlYW4iLGRlZmF1bHQ6ITB9O2Zvcihjb25zdCBzIG9mIHRoaXMuX3BsdWdpbnMpcy5jb2xsZWN0RGVmaW5lcyhpKSx0aGlzLl9jb2xsZWN0UG9pbnROYW1lcygidmVydGV4IixzLmdldEN1c3RvbUNvZGUoInZlcnRleCIpKSx0aGlzLl9jb2xsZWN0UG9pbnROYW1lcygiZnJhZ21lbnQiLHMuZ2V0Q3VzdG9tQ29kZSgiZnJhZ21lbnQiKSk7dGhpcy5fZGVmaW5lTmFtZXNGcm9tUGx1Z2lucz1pfV9hY3RpdmF0ZVBsdWdpbihlKXt0aGlzLl9hY3RpdmVQbHVnaW5zLmluZGV4T2YoZSk9PT0tMSYmKHRoaXMuX2FjdGl2ZVBsdWdpbnMucHVzaChlKSx0aGlzLl9hY3RpdmVQbHVnaW5zLnNvcnQoKHQsaSk9PnQucHJpb3JpdHktaS5wcmlvcml0eSksdGhpcy5fbWF0ZXJpYWwuX2NhbGxiYWNrUGx1Z2luRXZlbnRJc1JlYWR5Rm9yU3ViTWVzaD10aGlzLl9oYW5kbGVQbHVnaW5FdmVudElzUmVhZHlGb3JTdWJNZXNoLmJpbmQodGhpcyksdGhpcy5fbWF0ZXJpYWwuX2NhbGxiYWNrUGx1Z2luRXZlbnRQcmVwYXJlRGVmaW5lc0JlZm9yZUF0dHJpYnV0ZXM9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnRQcmVwYXJlRGVmaW5lc0JlZm9yZUF0dHJpYnV0ZXMuYmluZCh0aGlzKSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50UHJlcGFyZURlZmluZXMuYmluZCh0aGlzKSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudEJpbmRGb3JTdWJNZXNoPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50QmluZEZvclN1Yk1lc2guYmluZCh0aGlzKSxlLnJlZ2lzdGVyRm9yRXh0cmFFdmVudHMmJih0aGlzLl9hY3RpdmVQbHVnaW5zRm9yRXh0cmFFdmVudHMucHVzaChlKSx0aGlzLl9hY3RpdmVQbHVnaW5zRm9yRXh0cmFFdmVudHMuc29ydCgodCxpKT0+dC5wcmlvcml0eS1pLnByaW9yaXR5KSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudEhhc1JlbmRlclRhcmdldFRleHR1cmVzPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50SGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMuYmluZCh0aGlzKSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudEZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcz10aGlzLl9oYW5kbGVQbHVnaW5FdmVudEZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcy5iaW5kKHRoaXMpLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50SGFyZEJpbmRGb3JTdWJNZXNoPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50SGFyZEJpbmRGb3JTdWJNZXNoLmJpbmQodGhpcykpKX1nZXRQbHVnaW4oZSl7Zm9yKGxldCB0PTA7dDx0aGlzLl9wbHVnaW5zLmxlbmd0aDsrK3QpaWYodGhpcy5fcGx1Z2luc1t0XS5uYW1lPT09ZSlyZXR1cm4gdGhpcy5fcGx1Z2luc1t0XTtyZXR1cm4gbnVsbH1faGFuZGxlUGx1Z2luRXZlbnRJc1JlYWR5Rm9yU3ViTWVzaChlKXtsZXQgdD0hMDtmb3IoY29uc3QgaSBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zKXQ9dCYmaS5pc1JlYWR5Rm9yU3ViTWVzaChlLmRlZmluZXMsdGhpcy5fc2NlbmUsdGhpcy5fZW5naW5lLGUuc3ViTWVzaCk7ZS5pc1JlYWR5Rm9yU3ViTWVzaD10fV9oYW5kbGVQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzQmVmb3JlQXR0cmlidXRlcyhlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zKXQucHJlcGFyZURlZmluZXNCZWZvcmVBdHRyaWJ1dGVzKGUuZGVmaW5lcyx0aGlzLl9zY2VuZSxlLm1lc2gpfV9oYW5kbGVQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2FjdGl2ZVBsdWdpbnMpdC5wcmVwYXJlRGVmaW5lcyhlLmRlZmluZXMsdGhpcy5fc2NlbmUsZS5tZXNoKX1faGFuZGxlUGx1Z2luRXZlbnRIYXJkQmluZEZvclN1Yk1lc2goZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fYWN0aXZlUGx1Z2luc0ZvckV4dHJhRXZlbnRzKXQuaGFyZEJpbmRGb3JTdWJNZXNoKHRoaXMuX21hdGVyaWFsLl91bmlmb3JtQnVmZmVyLHRoaXMuX3NjZW5lLHRoaXMuX2VuZ2luZSxlLnN1Yk1lc2gpfV9oYW5kbGVQbHVnaW5FdmVudEJpbmRGb3JTdWJNZXNoKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2FjdGl2ZVBsdWdpbnMpdC5iaW5kRm9yU3ViTWVzaCh0aGlzLl9tYXRlcmlhbC5fdW5pZm9ybUJ1ZmZlcix0aGlzLl9zY2VuZSx0aGlzLl9lbmdpbmUsZS5zdWJNZXNoKX1faGFuZGxlUGx1Z2luRXZlbnRIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcyhlKXtsZXQgdD0hMTtmb3IoY29uc3QgaSBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zRm9yRXh0cmFFdmVudHMpaWYodD1pLmhhc1JlbmRlclRhcmdldFRleHR1cmVzKCksdClicmVhaztlLmhhc1JlbmRlclRhcmdldFRleHR1cmVzPXR9X2hhbmRsZVBsdWdpbkV2ZW50RmlsbFJlbmRlclRhcmdldFRleHR1cmVzKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2FjdGl2ZVBsdWdpbnNGb3JFeHRyYUV2ZW50cyl0LmZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcyhlLnJlbmRlclRhcmdldHMpfV9oYW5kbGVQbHVnaW5FdmVudChlLHQpe3N3aXRjaChlKXtjYXNlIFFlLkdldEFjdGl2ZVRleHR1cmVzOntjb25zdCBpPXQ7Zm9yKGNvbnN0IHMgb2YgdGhpcy5fYWN0aXZlUGx1Z2lucylzLmdldEFjdGl2ZVRleHR1cmVzKGkuYWN0aXZlVGV4dHVyZXMpO2JyZWFrfWNhc2UgUWUuR2V0QW5pbWF0YWJsZXM6e2NvbnN0IGk9dDtmb3IoY29uc3QgcyBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zKXMuZ2V0QW5pbWF0YWJsZXMoaS5hbmltYXRhYmxlcyk7YnJlYWt9Y2FzZSBRZS5IYXNUZXh0dXJlOntjb25zdCBpPXQ7bGV0IHM9ITE7Zm9yKGNvbnN0IHIgb2YgdGhpcy5fYWN0aXZlUGx1Z2lucylpZihzPXIuaGFzVGV4dHVyZShpLnRleHR1cmUpLHMpYnJlYWs7aS5oYXNUZXh0dXJlPXM7YnJlYWt9Y2FzZSBRZS5EaXNwb3NlZDp7Y29uc3QgaT10O2Zvcihjb25zdCBzIG9mIHRoaXMuX3BsdWdpbnMpcy5kaXNwb3NlKGkuZm9yY2VEaXNwb3NlVGV4dHVyZXMpO2JyZWFrfWNhc2UgUWUuR2V0RGVmaW5lTmFtZXM6e2NvbnN0IGk9dDtpLmRlZmluZU5hbWVzPXRoaXMuX2RlZmluZU5hbWVzRnJvbVBsdWdpbnM7YnJlYWt9Y2FzZSBRZS5QcmVwYXJlRWZmZWN0Ontjb25zdCBpPXQ7Zm9yKGNvbnN0IHMgb2YgdGhpcy5fYWN0aXZlUGx1Z2lucylpLmZhbGxiYWNrUmFuaz1zLmFkZEZhbGxiYWNrcyhpLmRlZmluZXMsaS5mYWxsYmFja3MsaS5mYWxsYmFja1JhbmspLHMuZ2V0QXR0cmlidXRlcyhpLmF0dHJpYnV0ZXMsdGhpcy5fc2NlbmUsaS5tZXNoKTt0aGlzLl91bmlmb3JtTGlzdC5sZW5ndGg+MCYmaS51bmlmb3Jtcy5wdXNoKC4uLnRoaXMuX3VuaWZvcm1MaXN0KSx0aGlzLl9zYW1wbGVyTGlzdC5sZW5ndGg+MCYmaS5zYW1wbGVycy5wdXNoKC4uLnRoaXMuX3NhbXBsZXJMaXN0KSx0aGlzLl91Ym9MaXN0Lmxlbmd0aD4wJiZpLnVuaWZvcm1CdWZmZXJzTmFtZXMucHVzaCguLi50aGlzLl91Ym9MaXN0KSxpLmN1c3RvbUNvZGU9dGhpcy5faW5qZWN0Q3VzdG9tQ29kZShpLmN1c3RvbUNvZGUpO2JyZWFrfWNhc2UgUWUuUHJlcGFyZVVuaWZvcm1CdWZmZXI6e2NvbnN0IGk9dDt0aGlzLl91Ym9EZWNsYXJhdGlvbj0iIix0aGlzLl92ZXJ0ZXhEZWNsYXJhdGlvbj0iIix0aGlzLl9mcmFnbWVudERlY2xhcmF0aW9uPSIiLHRoaXMuX3VuaWZvcm1MaXN0PVtdLHRoaXMuX3NhbXBsZXJMaXN0PVtdLHRoaXMuX3Vib0xpc3Q9W107Zm9yKGNvbnN0IHMgb2YgdGhpcy5fcGx1Z2lucyl7Y29uc3Qgcj1zLmdldFVuaWZvcm1zKCk7aWYocil7aWYoci51Ym8pZm9yKGNvbnN0IG4gb2Ygci51Ym8paS51Ym8uYWRkVW5pZm9ybShuLm5hbWUsbi5zaXplKSx0aGlzLl91Ym9EZWNsYXJhdGlvbis9YCR7bi50eXBlfSAke24ubmFtZX07XHIKYCx0aGlzLl91bmlmb3JtTGlzdC5wdXNoKG4ubmFtZSk7ci52ZXJ0ZXgmJih0aGlzLl92ZXJ0ZXhEZWNsYXJhdGlvbis9ci52ZXJ0ZXgrYFxyCmApLHIuZnJhZ21lbnQmJih0aGlzLl9mcmFnbWVudERlY2xhcmF0aW9uKz1yLmZyYWdtZW50K2BccgpgKX1zLmdldFNhbXBsZXJzKHRoaXMuX3NhbXBsZXJMaXN0KSxzLmdldFVuaWZvcm1CdWZmZXJzTmFtZXModGhpcy5fdWJvTGlzdCl9YnJlYWt9fX1fY29sbGVjdFBvaW50TmFtZXMoZSx0KXtpZih0KWZvcihjb25zdCBpIGluIHQpdGhpcy5fY29kZUluamVjdGlvblBvaW50c1tlXXx8KHRoaXMuX2NvZGVJbmplY3Rpb25Qb2ludHNbZV09e30pLHRoaXMuX2NvZGVJbmplY3Rpb25Qb2ludHNbZV1baV09ITB9X2luamVjdEN1c3RvbUNvZGUoZSl7cmV0dXJuKHQsaSk9Pnt2YXIgcztlJiYoaT1lKHQsaSkpLHRoaXMuX3Vib0RlY2xhcmF0aW9uJiYoaT1pLnJlcGxhY2UoIiNkZWZpbmUgQURESVRJT05BTF9VQk9fREVDTEFSQVRJT04iLHRoaXMuX3Vib0RlY2xhcmF0aW9uKSksdGhpcy5fdmVydGV4RGVjbGFyYXRpb24mJihpPWkucmVwbGFjZSgiI2RlZmluZSBBRERJVElPTkFMX1ZFUlRFWF9ERUNMQVJBVElPTiIsdGhpcy5fdmVydGV4RGVjbGFyYXRpb24pKSx0aGlzLl9mcmFnbWVudERlY2xhcmF0aW9uJiYoaT1pLnJlcGxhY2UoIiNkZWZpbmUgQURESVRJT05BTF9GUkFHTUVOVF9ERUNMQVJBVElPTiIsdGhpcy5fZnJhZ21lbnREZWNsYXJhdGlvbikpO2NvbnN0IHI9KHM9dGhpcy5fY29kZUluamVjdGlvblBvaW50cyk9PT1udWxsfHxzPT09dm9pZCAwP3ZvaWQgMDpzW3RdO2lmKCFyKXJldHVybiBpO2ZvcihsZXQgbiBpbiByKXtsZXQgYT0iIjtmb3IoY29uc3QgbyBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zKXtjb25zdCBoPW8uZ2V0Q3VzdG9tQ29kZSh0KTtoIT1udWxsJiZoW25dJiYoYSs9aFtuXStgXHIKYCl9aWYoYS5sZW5ndGg+MClpZihuLmNoYXJBdCgwKT09PSIhIil7bj1uLnN1YnN0cmluZygxKTtsZXQgbz0iZyI7aWYobi5jaGFyQXQoMCk9PT0iISIpbz0iIixuPW4uc3Vic3RyaW5nKDEpO2Vsc2V7Y29uc3QgZD1nbC5leGVjKG4pO2QmJmQubGVuZ3RoPj0yJiYobz1kWzFdLG49bi5zdWJzdHJpbmcoby5sZW5ndGgrMSkpfW8uaW5kZXhPZigiZyIpPDAmJihvKz0iZyIpO2NvbnN0IGg9aSxsPW5ldyBSZWdFeHAobixvKTtsZXQgdT1sLmV4ZWMoaCk7Zm9yKDt1IT09bnVsbDspe2xldCBkPWE7Zm9yKGxldCBmPTA7Zjx1Lmxlbmd0aDsrK2YpZD1kLnJlcGxhY2UoIiQiK2YsdVtmXSk7aT1pLnJlcGxhY2UodVswXSxkKSx1PWwuZXhlYyhoKX19ZWxzZXtjb25zdCBvPSIjZGVmaW5lICIrbjtpPWkucmVwbGFjZShvLGBccgpgK2ErYFxyCmArbyl9fXJldHVybiBpfX19ZWkuX01hdGVyaWFsUGx1Z2luQ2xhc3NUb01haW5EZWZpbmU9e30sZWkuX01hdGVyaWFsUGx1Z2luQ291bnRlcj0wO2NsYXNzIGhze2NvbnN0cnVjdG9yKGUsdCxpLHMscj0hMCxuPSExKXt0aGlzLnByaW9yaXR5PTUwMCx0aGlzLnJlZ2lzdGVyRm9yRXh0cmFFdmVudHM9ITEsdGhpcy5fbWF0ZXJpYWw9ZSx0aGlzLm5hbWU9dCx0aGlzLnByaW9yaXR5PWksZS5wbHVnaW5NYW5hZ2VyfHwoZS5wbHVnaW5NYW5hZ2VyPW5ldyBlaShlKSksdGhpcy5fcGx1Z2luRGVmaW5lTmFtZXM9cyx0aGlzLl9wbHVnaW5NYW5hZ2VyPWUucGx1Z2luTWFuYWdlcixyJiZ0aGlzLl9wbHVnaW5NYW5hZ2VyLl9hZGRQbHVnaW4odGhpcyksbiYmdGhpcy5fZW5hYmxlKCEwKSx0aGlzLm1hcmtBbGxEZWZpbmVzQXNEaXJ0eT1lLl9kaXJ0eUNhbGxiYWNrc1s2M119X2VuYWJsZShlKXtlJiZ0aGlzLl9wbHVnaW5NYW5hZ2VyLl9hY3RpdmF0ZVBsdWdpbih0aGlzKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iTWF0ZXJpYWxQbHVnaW5CYXNlIn1pc1JlYWR5Rm9yU3ViTWVzaChlLHQsaSxzKXtyZXR1cm4hMH1oYXJkQmluZEZvclN1Yk1lc2goZSx0LGkscyl7fWJpbmRGb3JTdWJNZXNoKGUsdCxpLHMpe31kaXNwb3NlKGUpe31nZXRDdXN0b21Db2RlKGUpe3JldHVybiBudWxsfWNvbGxlY3REZWZpbmVzKGUpe2lmKHRoaXMuX3BsdWdpbkRlZmluZU5hbWVzKWZvcihjb25zdCB0IG9mIE9iamVjdC5rZXlzKHRoaXMuX3BsdWdpbkRlZmluZU5hbWVzKSl7aWYodFswXT09PSJfIiljb250aW51ZTtjb25zdCBpPXR5cGVvZiB0aGlzLl9wbHVnaW5EZWZpbmVOYW1lc1t0XTtlW3RdPXt0eXBlOmk9PT0ibnVtYmVyIj8ibnVtYmVyIjppPT09InN0cmluZyI/InN0cmluZyI6aT09PSJib29sZWFuIj8iYm9vbGVhbiI6Im9iamVjdCIsZGVmYXVsdDp0aGlzLl9wbHVnaW5EZWZpbmVOYW1lc1t0XX19fXByZXBhcmVEZWZpbmVzQmVmb3JlQXR0cmlidXRlcyhlLHQsaSl7fXByZXBhcmVEZWZpbmVzKGUsdCxpKXt9aGFzVGV4dHVyZShlKXtyZXR1cm4hMX1oYXNSZW5kZXJUYXJnZXRUZXh0dXJlcygpe3JldHVybiExfWZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcyhlKXt9Z2V0QWN0aXZlVGV4dHVyZXMoZSl7fWdldEFuaW1hdGFibGVzKGUpe31hZGRGYWxsYmFja3MoZSx0LGkpe3JldHVybiBpfWdldFNhbXBsZXJzKGUpe31nZXRBdHRyaWJ1dGVzKGUsdCxpKXt9Z2V0VW5pZm9ybUJ1ZmZlcnNOYW1lcyhlKXt9Z2V0VW5pZm9ybXMoKXtyZXR1cm57fX1jb3B5VG8oZSl7YWUuQ2xvbmUoKCk9PmUsdGhpcyl9c2VyaWFsaXplKCl7cmV0dXJuIGFlLlNlcmlhbGl6ZSh0aGlzKX1wYXJzZShlLHQsaSl7YWUuUGFyc2UoKCk9PnRoaXMsZSx0LGkpfX1UKFtSKCldLGhzLnByb3RvdHlwZSwibmFtZSIsdm9pZCAwKSxUKFtSKCldLGhzLnByb3RvdHlwZSwicHJpb3JpdHkiLHZvaWQgMCksVChbUigpXSxocy5wcm90b3R5cGUsInJlZ2lzdGVyRm9yRXh0cmFFdmVudHMiLHZvaWQgMCk7Y2xhc3MgcGwgZXh0ZW5kcyB5c3tjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5ERVRBSUw9ITEsdGhpcy5ERVRBSUxESVJFQ1RVVj0wLHRoaXMuREVUQUlMX05PUk1BTEJMRU5ETUVUSE9EPTB9fWNsYXNzIHBpIGV4dGVuZHMgaHN7Y29uc3RydWN0b3IoZSx0PSEwKXtzdXBlcihlLCJEZXRhaWxNYXAiLDE0MCxuZXcgcGwsdCksdGhpcy5fdGV4dHVyZT1udWxsLHRoaXMuZGlmZnVzZUJsZW5kTGV2ZWw9MSx0aGlzLnJvdWdobmVzc0JsZW5kTGV2ZWw9MSx0aGlzLmJ1bXBMZXZlbD0xLHRoaXMuX25vcm1hbEJsZW5kTWV0aG9kPVAuTUFURVJJQUxfTk9STUFMQkxFTkRNRVRIT0RfV0hJVEVPVVQsdGhpcy5faXNFbmFibGVkPSExLHRoaXMuaXNFbmFibGVkPSExLHRoaXMuX2ludGVybmFsTWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eT1lLl9kaXJ0eUNhbGxiYWNrc1sxXX1fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSgpe3RoaXMuX2VuYWJsZSh0aGlzLl9pc0VuYWJsZWQpLHRoaXMuX2ludGVybmFsTWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSgpfWlzUmVhZHlGb3JTdWJNZXNoKGUsdCxpKXtyZXR1cm4gdGhpcy5faXNFbmFibGVkPyEoZS5fYXJlVGV4dHVyZXNEaXJ0eSYmdC50ZXh0dXJlc0VuYWJsZWQmJmkuZ2V0Q2FwcygpLnN0YW5kYXJkRGVyaXZhdGl2ZXMmJnRoaXMuX3RleHR1cmUmJnVlLkRldGFpbFRleHR1cmVFbmFibGVkJiYhdGhpcy5fdGV4dHVyZS5pc1JlYWR5KCkpOiEwfXByZXBhcmVEZWZpbmVzKGUsdCl7aWYodGhpcy5faXNFbmFibGVkKXtlLkRFVEFJTF9OT1JNQUxCTEVORE1FVEhPRD10aGlzLl9ub3JtYWxCbGVuZE1ldGhvZDtjb25zdCBpPXQuZ2V0RW5naW5lKCk7ZS5fYXJlVGV4dHVyZXNEaXJ0eSYmKGkuZ2V0Q2FwcygpLnN0YW5kYXJkRGVyaXZhdGl2ZXMmJnRoaXMuX3RleHR1cmUmJnVlLkRldGFpbFRleHR1cmVFbmFibGVkJiZ0aGlzLl9pc0VuYWJsZWQ/KGllLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fdGV4dHVyZSxlLCJERVRBSUwiKSxlLkRFVEFJTF9OT1JNQUxCTEVORE1FVEhPRD10aGlzLl9ub3JtYWxCbGVuZE1ldGhvZCk6ZS5ERVRBSUw9ITEpfWVsc2UgZS5ERVRBSUw9ITF9YmluZEZvclN1Yk1lc2goZSx0KXtpZighdGhpcy5faXNFbmFibGVkKXJldHVybjtjb25zdCBpPXRoaXMuX21hdGVyaWFsLmlzRnJvemVuOyghZS51c2VVYm98fCFpfHwhZS5pc1N5bmMpJiZ0aGlzLl90ZXh0dXJlJiZ1ZS5EZXRhaWxUZXh0dXJlRW5hYmxlZCYmKGUudXBkYXRlRmxvYXQ0KCJ2RGV0YWlsSW5mb3MiLHRoaXMuX3RleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLmRpZmZ1c2VCbGVuZExldmVsLHRoaXMuYnVtcExldmVsLHRoaXMucm91Z2huZXNzQmxlbmRMZXZlbCksaWUuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fdGV4dHVyZSxlLCJkZXRhaWwiKSksdC50ZXh0dXJlc0VuYWJsZWQmJnRoaXMuX3RleHR1cmUmJnVlLkRldGFpbFRleHR1cmVFbmFibGVkJiZlLnNldFRleHR1cmUoImRldGFpbFNhbXBsZXIiLHRoaXMuX3RleHR1cmUpfWhhc1RleHR1cmUoZSl7cmV0dXJuIHRoaXMuX3RleHR1cmU9PT1lfWdldEFjdGl2ZVRleHR1cmVzKGUpe3RoaXMuX3RleHR1cmUmJmUucHVzaCh0aGlzLl90ZXh0dXJlKX1nZXRBbmltYXRhYmxlcyhlKXt0aGlzLl90ZXh0dXJlJiZ0aGlzLl90ZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX3RleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmZS5wdXNoKHRoaXMuX3RleHR1cmUpfWRpc3Bvc2UoZSl7dmFyIHQ7ZSYmKCh0PXRoaXMuX3RleHR1cmUpPT09bnVsbHx8dD09PXZvaWQgMHx8dC5kaXNwb3NlKCkpfWdldENsYXNzTmFtZSgpe3JldHVybiJEZXRhaWxNYXBDb25maWd1cmF0aW9uIn1nZXRTYW1wbGVycyhlKXtlLnB1c2goImRldGFpbFNhbXBsZXIiKX1nZXRVbmlmb3Jtcygpe3JldHVybnt1Ym86W3tuYW1lOiJ2RGV0YWlsSW5mb3MiLHNpemU6NCx0eXBlOiJ2ZWM0In0se25hbWU6ImRldGFpbE1hdHJpeCIsc2l6ZToxNix0eXBlOiJtYXQ0In1dfX19VChbbXQoImRldGFpbFRleHR1cmUiKSxiZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0scGkucHJvdG90eXBlLCJ0ZXh0dXJlIix2b2lkIDApLFQoW1IoKV0scGkucHJvdG90eXBlLCJkaWZmdXNlQmxlbmRMZXZlbCIsdm9pZCAwKSxUKFtSKCldLHBpLnByb3RvdHlwZSwicm91Z2huZXNzQmxlbmRMZXZlbCIsdm9pZCAwKSxUKFtSKCldLHBpLnByb3RvdHlwZSwiYnVtcExldmVsIix2b2lkIDApLFQoW1IoKSxiZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0scGkucHJvdG90eXBlLCJub3JtYWxCbGVuZE1ldGhvZCIsdm9pZCAwKSxUKFtSKCksYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLHBpLnByb3RvdHlwZSwiaXNFbmFibGVkIix2b2lkIDApO2NvbnN0IEdzPXtlZmZlY3Q6bnVsbCxzdWJNZXNoOm51bGx9O2NsYXNzIG1sIGV4dGVuZHMgeXN7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5NQUlOVVYxPSExLHRoaXMuTUFJTlVWMj0hMSx0aGlzLk1BSU5VVjM9ITEsdGhpcy5NQUlOVVY0PSExLHRoaXMuTUFJTlVWNT0hMSx0aGlzLk1BSU5VVjY9ITEsdGhpcy5ESUZGVVNFPSExLHRoaXMuRElGRlVTRURJUkVDVFVWPTAsdGhpcy5CQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkU9ITEsdGhpcy5BTUJJRU5UPSExLHRoaXMuQU1CSUVOVERJUkVDVFVWPTAsdGhpcy5PUEFDSVRZPSExLHRoaXMuT1BBQ0lUWURJUkVDVFVWPTAsdGhpcy5PUEFDSVRZUkdCPSExLHRoaXMuUkVGTEVDVElPTj0hMSx0aGlzLkVNSVNTSVZFPSExLHRoaXMuRU1JU1NJVkVESVJFQ1RVVj0wLHRoaXMuU1BFQ1VMQVI9ITEsdGhpcy5TUEVDVUxBUkRJUkVDVFVWPTAsdGhpcy5CVU1QPSExLHRoaXMuQlVNUERJUkVDVFVWPTAsdGhpcy5QQVJBTExBWD0hMSx0aGlzLlBBUkFMTEFYT0NDTFVTSU9OPSExLHRoaXMuU1BFQ1VMQVJPVkVSQUxQSEE9ITEsdGhpcy5DTElQUExBTkU9ITEsdGhpcy5DTElQUExBTkUyPSExLHRoaXMuQ0xJUFBMQU5FMz0hMSx0aGlzLkNMSVBQTEFORTQ9ITEsdGhpcy5DTElQUExBTkU1PSExLHRoaXMuQ0xJUFBMQU5FNj0hMSx0aGlzLkFMUEhBVEVTVD0hMSx0aGlzLkRFUFRIUFJFUEFTUz0hMSx0aGlzLkFMUEhBRlJPTURJRkZVU0U9ITEsdGhpcy5QT0lOVFNJWkU9ITEsdGhpcy5GT0c9ITEsdGhpcy5TUEVDVUxBUlRFUk09ITEsdGhpcy5ESUZGVVNFRlJFU05FTD0hMSx0aGlzLk9QQUNJVFlGUkVTTkVMPSExLHRoaXMuUkVGTEVDVElPTkZSRVNORUw9ITEsdGhpcy5SRUZSQUNUSU9ORlJFU05FTD0hMSx0aGlzLkVNSVNTSVZFRlJFU05FTD0hMSx0aGlzLkZSRVNORUw9ITEsdGhpcy5OT1JNQUw9ITEsdGhpcy5UQU5HRU5UPSExLHRoaXMuVVYxPSExLHRoaXMuVVYyPSExLHRoaXMuVVYzPSExLHRoaXMuVVY0PSExLHRoaXMuVVY1PSExLHRoaXMuVVY2PSExLHRoaXMuVkVSVEVYQ09MT1I9ITEsdGhpcy5WRVJURVhBTFBIQT0hMSx0aGlzLk5VTV9CT05FX0lORkxVRU5DRVJTPTAsdGhpcy5Cb25lc1Blck1lc2g9MCx0aGlzLkJPTkVURVhUVVJFPSExLHRoaXMuQk9ORVNfVkVMT0NJVFlfRU5BQkxFRD0hMSx0aGlzLklOU1RBTkNFUz0hMSx0aGlzLlRISU5fSU5TVEFOQ0VTPSExLHRoaXMuSU5TVEFOQ0VTQ09MT1I9ITEsdGhpcy5HTE9TU0lORVNTPSExLHRoaXMuUk9VR0hORVNTPSExLHRoaXMuRU1JU1NJVkVBU0lMTFVNSU5BVElPTj0hMSx0aGlzLkxJTktFTUlTU0lWRVdJVEhESUZGVVNFPSExLHRoaXMuUkVGTEVDVElPTkZSRVNORUxGUk9NU1BFQ1VMQVI9ITEsdGhpcy5MSUdIVE1BUD0hMSx0aGlzLkxJR0hUTUFQRElSRUNUVVY9MCx0aGlzLk9CSkVDVFNQQUNFX05PUk1BTE1BUD0hMSx0aGlzLlVTRUxJR0hUTUFQQVNTSEFET1dNQVA9ITEsdGhpcy5SRUZMRUNUSU9OTUFQXzNEPSExLHRoaXMuUkVGTEVDVElPTk1BUF9TUEhFUklDQUw9ITEsdGhpcy5SRUZMRUNUSU9OTUFQX1BMQU5BUj0hMSx0aGlzLlJFRkxFQ1RJT05NQVBfQ1VCSUM9ITEsdGhpcy5VU0VfTE9DQUxfUkVGTEVDVElPTk1BUF9DVUJJQz0hMSx0aGlzLlVTRV9MT0NBTF9SRUZSQUNUSU9OTUFQX0NVQklDPSExLHRoaXMuUkVGTEVDVElPTk1BUF9QUk9KRUNUSU9OPSExLHRoaXMuUkVGTEVDVElPTk1BUF9TS1lCT1g9ITEsdGhpcy5SRUZMRUNUSU9OTUFQX0VYUExJQ0lUPSExLHRoaXMuUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVI9ITEsdGhpcy5SRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRD0hMSx0aGlzLlJFRkxFQ1RJT05NQVBfTUlSUk9SRURFUVVJUkVDVEFOR1VMQVJfRklYRUQ9ITEsdGhpcy5SRUZMRUNUSU9OTUFQX09QUE9TSVRFWj0hMSx0aGlzLklOVkVSVENVQklDTUFQPSExLHRoaXMuTE9HQVJJVEhNSUNERVBUSD0hMSx0aGlzLlJFRlJBQ1RJT049ITEsdGhpcy5SRUZSQUNUSU9OTUFQXzNEPSExLHRoaXMuUkVGTEVDVElPTk9WRVJBTFBIQT0hMSx0aGlzLlRXT1NJREVETElHSFRJTkc9ITEsdGhpcy5TSEFET1dGTE9BVD0hMSx0aGlzLk1PUlBIVEFSR0VUUz0hMSx0aGlzLk1PUlBIVEFSR0VUU19OT1JNQUw9ITEsdGhpcy5NT1JQSFRBUkdFVFNfVEFOR0VOVD0hMSx0aGlzLk1PUlBIVEFSR0VUU19VVj0hMSx0aGlzLk5VTV9NT1JQSF9JTkZMVUVOQ0VSUz0wLHRoaXMuTU9SUEhUQVJHRVRTX1RFWFRVUkU9ITEsdGhpcy5OT05VTklGT1JNU0NBTElORz0hMSx0aGlzLlBSRU1VTFRJUExZQUxQSEE9ITEsdGhpcy5BTFBIQVRFU1RfQUZURVJBTExBTFBIQUNPTVBVVEFUSU9OUz0hMSx0aGlzLkFMUEhBQkxFTkQ9ITAsdGhpcy5QUkVQQVNTPSExLHRoaXMuUFJFUEFTU19JUlJBRElBTkNFPSExLHRoaXMuUFJFUEFTU19JUlJBRElBTkNFX0lOREVYPS0xLHRoaXMuUFJFUEFTU19BTEJFRE9fU1FSVD0hMSx0aGlzLlBSRVBBU1NfQUxCRURPX1NRUlRfSU5ERVg9LTEsdGhpcy5QUkVQQVNTX0RFUFRIPSExLHRoaXMuUFJFUEFTU19ERVBUSF9JTkRFWD0tMSx0aGlzLlBSRVBBU1NfTk9STUFMPSExLHRoaXMuUFJFUEFTU19OT1JNQUxfSU5ERVg9LTEsdGhpcy5QUkVQQVNTX1BPU0lUSU9OPSExLHRoaXMuUFJFUEFTU19QT1NJVElPTl9JTkRFWD0tMSx0aGlzLlBSRVBBU1NfVkVMT0NJVFk9ITEsdGhpcy5QUkVQQVNTX1ZFTE9DSVRZX0lOREVYPS0xLHRoaXMuUFJFUEFTU19SRUZMRUNUSVZJVFk9ITEsdGhpcy5QUkVQQVNTX1JFRkxFQ1RJVklUWV9JTkRFWD0tMSx0aGlzLlNDRU5FX01SVF9DT1VOVD0wLHRoaXMuUkdCRExJR0hUTUFQPSExLHRoaXMuUkdCRFJFRkxFQ1RJT049ITEsdGhpcy5SR0JEUkVGUkFDVElPTj0hMSx0aGlzLklNQUdFUFJPQ0VTU0lORz0hMSx0aGlzLlZJR05FVFRFPSExLHRoaXMuVklHTkVUVEVCTEVORE1PREVNVUxUSVBMWT0hMSx0aGlzLlZJR05FVFRFQkxFTkRNT0RFT1BBUVVFPSExLHRoaXMuVE9ORU1BUFBJTkc9ITEsdGhpcy5UT05FTUFQUElOR19BQ0VTPSExLHRoaXMuQ09OVFJBU1Q9ITEsdGhpcy5DT0xPUkNVUlZFUz0hMSx0aGlzLkNPTE9SR1JBRElORz0hMSx0aGlzLkNPTE9SR1JBRElORzNEPSExLHRoaXMuU0FNUExFUjNER1JFRU5ERVBUSD0hMSx0aGlzLlNBTVBMRVIzREJHUk1BUD0hMSx0aGlzLkRJVEhFUj0hMSx0aGlzLklNQUdFUFJPQ0VTU0lOR1BPU1RQUk9DRVNTPSExLHRoaXMuU0tJUEZJTkFMQ09MT1JDTEFNUD0hMSx0aGlzLk1VTFRJVklFVz0hMSx0aGlzLk9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWT0hMSx0aGlzLk9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWV8xNkJJVFM9ITEsdGhpcy5DQU1FUkFfT1JUSE9HUkFQSElDPSExLHRoaXMuQ0FNRVJBX1BFUlNQRUNUSVZFPSExLHRoaXMuSVNfUkVGTEVDVElPTl9MSU5FQVI9ITEsdGhpcy5JU19SRUZSQUNUSU9OX0xJTkVBUj0hMSx0aGlzLkVYUE9TVVJFPSExLHRoaXMucmVidWlsZCgpfXNldFJlZmxlY3Rpb25Nb2RlKGUpe2NvbnN0IHQ9WyJSRUZMRUNUSU9OTUFQX0NVQklDIiwiUkVGTEVDVElPTk1BUF9FWFBMSUNJVCIsIlJFRkxFQ1RJT05NQVBfUExBTkFSIiwiUkVGTEVDVElPTk1BUF9QUk9KRUNUSU9OIiwiUkVGTEVDVElPTk1BUF9QUk9KRUNUSU9OIiwiUkVGTEVDVElPTk1BUF9TS1lCT1giLCJSRUZMRUNUSU9OTUFQX1NQSEVSSUNBTCIsIlJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSIiwiUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVJfRklYRUQiLCJSRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVEIl07Zm9yKGNvbnN0IGkgb2YgdCl0aGlzW2ldPWk9PT1lfX1jbGFzcyBCIGV4dGVuZHMgVnJ7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMuX2RpZmZ1c2VUZXh0dXJlPW51bGwsdGhpcy5fYW1iaWVudFRleHR1cmU9bnVsbCx0aGlzLl9vcGFjaXR5VGV4dHVyZT1udWxsLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlPW51bGwsdGhpcy5fZW1pc3NpdmVUZXh0dXJlPW51bGwsdGhpcy5fc3BlY3VsYXJUZXh0dXJlPW51bGwsdGhpcy5fYnVtcFRleHR1cmU9bnVsbCx0aGlzLl9saWdodG1hcFRleHR1cmU9bnVsbCx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZT1udWxsLHRoaXMuYW1iaWVudENvbG9yPW5ldyByZSgwLDAsMCksdGhpcy5kaWZmdXNlQ29sb3I9bmV3IHJlKDEsMSwxKSx0aGlzLnNwZWN1bGFyQ29sb3I9bmV3IHJlKDEsMSwxKSx0aGlzLmVtaXNzaXZlQ29sb3I9bmV3IHJlKDAsMCwwKSx0aGlzLnNwZWN1bGFyUG93ZXI9NjQsdGhpcy5fdXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmU9ITEsdGhpcy5fdXNlRW1pc3NpdmVBc0lsbHVtaW5hdGlvbj0hMSx0aGlzLl9saW5rRW1pc3NpdmVXaXRoRGlmZnVzZT0hMSx0aGlzLl91c2VTcGVjdWxhck92ZXJBbHBoYT0hMSx0aGlzLl91c2VSZWZsZWN0aW9uT3ZlckFscGhhPSExLHRoaXMuX2Rpc2FibGVMaWdodGluZz0hMSx0aGlzLl91c2VPYmplY3RTcGFjZU5vcm1hbE1hcD0hMSx0aGlzLl91c2VQYXJhbGxheD0hMSx0aGlzLl91c2VQYXJhbGxheE9jY2x1c2lvbj0hMSx0aGlzLnBhcmFsbGF4U2NhbGVCaWFzPS4wNSx0aGlzLl9yb3VnaG5lc3M9MCx0aGlzLmluZGV4T2ZSZWZyYWN0aW9uPS45OCx0aGlzLmludmVydFJlZnJhY3Rpb25ZPSEwLHRoaXMuYWxwaGFDdXRPZmY9LjQsdGhpcy5fdXNlTGlnaHRtYXBBc1NoYWRvd21hcD0hMSx0aGlzLl91c2VSZWZsZWN0aW9uRnJlc25lbEZyb21TcGVjdWxhcj0hMSx0aGlzLl91c2VHbG9zc2luZXNzRnJvbVNwZWN1bGFyTWFwQWxwaGE9ITEsdGhpcy5fbWF4U2ltdWx0YW5lb3VzTGlnaHRzPTQsdGhpcy5faW52ZXJ0Tm9ybWFsTWFwWD0hMSx0aGlzLl9pbnZlcnROb3JtYWxNYXBZPSExLHRoaXMuX3R3b1NpZGVkTGlnaHRpbmc9ITEsdGhpcy5fcmVuZGVyVGFyZ2V0cz1uZXcgJGUoMTYpLHRoaXMuX3dvcmxkVmlld1Byb2plY3Rpb25NYXRyaXg9eC5aZXJvKCksdGhpcy5fZ2xvYmFsQW1iaWVudENvbG9yPW5ldyByZSgwLDAsMCksdGhpcy5fY2FjaGVIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz0hMSx0aGlzLmRldGFpbE1hcD1uZXcgcGkodGhpcyksdGhpcy5fYXR0YWNoSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbihudWxsKSx0aGlzLnByZVBhc3NDb25maWd1cmF0aW9uPW5ldyBrcix0aGlzLmdldFJlbmRlclRhcmdldFRleHR1cmVzPSgpPT4odGhpcy5fcmVuZGVyVGFyZ2V0cy5yZXNldCgpLEIuUmVmbGVjdGlvblRleHR1cmVFbmFibGVkJiZ0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSYmdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuaXNSZW5kZXJUYXJnZXQmJnRoaXMuX3JlbmRlclRhcmdldHMucHVzaCh0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSksQi5SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQmJnRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlJiZ0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5pc1JlbmRlclRhcmdldCYmdGhpcy5fcmVuZGVyVGFyZ2V0cy5wdXNoKHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlKSx0aGlzLl9ldmVudEluZm8ucmVuZGVyVGFyZ2V0cz10aGlzLl9yZW5kZXJUYXJnZXRzLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRGaWxsUmVuZGVyVGFyZ2V0VGV4dHVyZXModGhpcy5fZXZlbnRJbmZvKSx0aGlzLl9yZW5kZXJUYXJnZXRzKX1nZXQgaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbigpe3JldHVybiB0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9ufXNldCBpbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uKGUpe3RoaXMuX2F0dGFjaEltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24oZSksdGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSgpfV9hdHRhY2hJbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uKGUpe2UhPT10aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uJiYodGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiYmdGhpcy5faW1hZ2VQcm9jZXNzaW5nT2JzZXJ2ZXImJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24ub25VcGRhdGVQYXJhbWV0ZXJzLnJlbW92ZSh0aGlzLl9pbWFnZVByb2Nlc3NpbmdPYnNlcnZlciksZT90aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uPWU6dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbj10aGlzLmdldFNjZW5lKCkuaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbix0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uJiYodGhpcy5faW1hZ2VQcm9jZXNzaW5nT2JzZXJ2ZXI9dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5vblVwZGF0ZVBhcmFtZXRlcnMuYWRkKCgpPT57dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzSW1hZ2VQcm9jZXNzaW5nRGlydHkoKX0pKSl9Z2V0IGlzUHJlUGFzc0NhcGFibGUoKXtyZXR1cm4hdGhpcy5kaXNhYmxlRGVwdGhXcml0ZX1nZXQgY2FtZXJhQ29sb3JDdXJ2ZXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckN1cnZlc0VuYWJsZWR9c2V0IGNhbWVyYUNvbG9yQ3VydmVzRW5hYmxlZChlKXt0aGlzLmltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JDdXJ2ZXNFbmFibGVkPWV9Z2V0IGNhbWVyYUNvbG9yR3JhZGluZ0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbG9yR3JhZGluZ0VuYWJsZWR9c2V0IGNhbWVyYUNvbG9yR3JhZGluZ0VuYWJsZWQoZSl7dGhpcy5pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbG9yR3JhZGluZ0VuYWJsZWQ9ZX1nZXQgY2FtZXJhVG9uZU1hcHBpbmdFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24udG9uZU1hcHBpbmdFbmFibGVkfXNldCBjYW1lcmFUb25lTWFwcGluZ0VuYWJsZWQoZSl7dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi50b25lTWFwcGluZ0VuYWJsZWQ9ZX1nZXQgY2FtZXJhRXhwb3N1cmUoKXtyZXR1cm4gdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5leHBvc3VyZX1zZXQgY2FtZXJhRXhwb3N1cmUoZSl7dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5leHBvc3VyZT1lfWdldCBjYW1lcmFDb250cmFzdCgpe3JldHVybiB0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbnRyYXN0fXNldCBjYW1lcmFDb250cmFzdChlKXt0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbnRyYXN0PWV9Z2V0IGNhbWVyYUNvbG9yR3JhZGluZ1RleHR1cmUoKXtyZXR1cm4gdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckdyYWRpbmdUZXh0dXJlfXNldCBjYW1lcmFDb2xvckdyYWRpbmdUZXh0dXJlKGUpe3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JHcmFkaW5nVGV4dHVyZT1lfWdldCBjYW1lcmFDb2xvckN1cnZlcygpe3JldHVybiB0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbG9yQ3VydmVzfXNldCBjYW1lcmFDb2xvckN1cnZlcyhlKXt0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbG9yQ3VydmVzPWV9Z2V0IGNhblJlbmRlclRvTVJUKCl7cmV0dXJuITB9Z2V0IGhhc1JlbmRlclRhcmdldFRleHR1cmVzKCl7cmV0dXJuIEIuUmVmbGVjdGlvblRleHR1cmVFbmFibGVkJiZ0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSYmdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuaXNSZW5kZXJUYXJnZXR8fEIuUmVmcmFjdGlvblRleHR1cmVFbmFibGVkJiZ0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuaXNSZW5kZXJUYXJnZXQ/ITA6dGhpcy5fY2FjaGVIYXNSZW5kZXJUYXJnZXRUZXh0dXJlc31nZXRDbGFzc05hbWUoKXtyZXR1cm4iU3RhbmRhcmRNYXRlcmlhbCJ9Z2V0IHVzZUxvZ2FyaXRobWljRGVwdGgoKXtyZXR1cm4gdGhpcy5fdXNlTG9nYXJpdGhtaWNEZXB0aH1zZXQgdXNlTG9nYXJpdGhtaWNEZXB0aChlKXt0aGlzLl91c2VMb2dhcml0aG1pY0RlcHRoPWUmJnRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5nZXRDYXBzKCkuZnJhZ21lbnREZXB0aFN1cHBvcnRlZCx0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNNaXNjRGlydHkoKX1uZWVkQWxwaGFCbGVuZGluZygpe3JldHVybiB0aGlzLl9kaXNhYmxlQWxwaGFCbGVuZGluZz8hMTp0aGlzLmFscGhhPDF8fHRoaXMuX29wYWNpdHlUZXh0dXJlIT1udWxsfHx0aGlzLl9zaG91bGRVc2VBbHBoYUZyb21EaWZmdXNlVGV4dHVyZSgpfHx0aGlzLl9vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuX29wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWR9bmVlZEFscGhhVGVzdGluZygpe3JldHVybiB0aGlzLl9mb3JjZUFscGhhVGVzdD8hMDp0aGlzLl9oYXNBbHBoYUNoYW5uZWwoKSYmKHRoaXMuX3RyYW5zcGFyZW5jeU1vZGU9PW51bGx8fHRoaXMuX3RyYW5zcGFyZW5jeU1vZGU9PT1QLk1BVEVSSUFMX0FMUEhBVEVTVCl9X3Nob3VsZFVzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX2RpZmZ1c2VUZXh0dXJlIT1udWxsJiZ0aGlzLl9kaWZmdXNlVGV4dHVyZS5oYXNBbHBoYSYmdGhpcy5fdXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmUmJnRoaXMuX3RyYW5zcGFyZW5jeU1vZGUhPT1QLk1BVEVSSUFMX09QQVFVRX1faGFzQWxwaGFDaGFubmVsKCl7cmV0dXJuIHRoaXMuX2RpZmZ1c2VUZXh0dXJlIT1udWxsJiZ0aGlzLl9kaWZmdXNlVGV4dHVyZS5oYXNBbHBoYXx8dGhpcy5fb3BhY2l0eVRleHR1cmUhPW51bGx9Z2V0QWxwaGFUZXN0VGV4dHVyZSgpe3JldHVybiB0aGlzLl9kaWZmdXNlVGV4dHVyZX1pc1JlYWR5Rm9yU3ViTWVzaChlLHQsaT0hMSl7aWYodGhpcy5fdW5pZm9ybUJ1ZmZlckxheW91dEJ1aWx0fHx0aGlzLmJ1aWxkVW5pZm9ybUxheW91dCgpLHQuZWZmZWN0JiZ0aGlzLmlzRnJvemVuJiZ0LmVmZmVjdC5fd2FzUHJldmlvdXNseVJlYWR5JiZ0LmVmZmVjdC5fd2FzUHJldmlvdXNseVVzaW5nSW5zdGFuY2VzPT09aSlyZXR1cm4hMDt0Lm1hdGVyaWFsRGVmaW5lc3x8KHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljKFFlLkdldERlZmluZU5hbWVzLHRoaXMuX2V2ZW50SW5mbyksdC5tYXRlcmlhbERlZmluZXM9bmV3IG1sKHRoaXMuX2V2ZW50SW5mby5kZWZpbmVOYW1lcykpO2NvbnN0IHM9dGhpcy5nZXRTY2VuZSgpLHI9dC5tYXRlcmlhbERlZmluZXM7aWYodGhpcy5faXNSZWFkeUZvclN1Yk1lc2godCkpcmV0dXJuITA7Y29uc3Qgbj1zLmdldEVuZ2luZSgpO3IuX25lZWROb3JtYWxzPWllLlByZXBhcmVEZWZpbmVzRm9yTGlnaHRzKHMsZSxyLCEwLHRoaXMuX21heFNpbXVsdGFuZW91c0xpZ2h0cyx0aGlzLl9kaXNhYmxlTGlnaHRpbmcpLGllLlByZXBhcmVEZWZpbmVzRm9yTXVsdGl2aWV3KHMscik7Y29uc3QgYT10aGlzLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaChlKSYmdGhpcy5nZXRTY2VuZSgpLnVzZU9yZGVySW5kZXBlbmRlbnRUcmFuc3BhcmVuY3k7aWYoaWUuUHJlcGFyZURlZmluZXNGb3JQcmVQYXNzKHMscix0aGlzLmNhblJlbmRlclRvTVJUJiYhYSksaWUuUHJlcGFyZURlZmluZXNGb3JPSVQocyxyLGEpLHIuX2FyZVRleHR1cmVzRGlydHkpe3RoaXMuX2V2ZW50SW5mby5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz0hMSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50SGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXModGhpcy5fZXZlbnRJbmZvKSx0aGlzLl9jYWNoZUhhc1JlbmRlclRhcmdldFRleHR1cmVzPXRoaXMuX2V2ZW50SW5mby5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlcyxyLl9uZWVkVVZzPSExO2ZvcihsZXQgaD0xO2g8PTY7KytoKXJbIk1BSU5VViIraF09ITE7aWYocy50ZXh0dXJlc0VuYWJsZWQpe2lmKHIuRElGRlVTRURJUkVDVFVWPTAsci5CVU1QRElSRUNUVVY9MCxyLkFNQklFTlRESVJFQ1RVVj0wLHIuT1BBQ0lUWURJUkVDVFVWPTAsci5FTUlTU0lWRURJUkVDVFVWPTAsci5TUEVDVUxBUkRJUkVDVFVWPTAsci5MSUdIVE1BUERJUkVDVFVWPTAsdGhpcy5fZGlmZnVzZVRleHR1cmUmJkIuRGlmZnVzZVRleHR1cmVFbmFibGVkKWlmKHRoaXMuX2RpZmZ1c2VUZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpaWUuUHJlcGFyZURlZmluZXNGb3JNZXJnZWRVVih0aGlzLl9kaWZmdXNlVGV4dHVyZSxyLCJESUZGVVNFIik7ZWxzZSByZXR1cm4hMTtlbHNlIHIuRElGRlVTRT0hMTtpZih0aGlzLl9hbWJpZW50VGV4dHVyZSYmQi5BbWJpZW50VGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fYW1iaWVudFRleHR1cmUuaXNSZWFkeU9yTm90QmxvY2tpbmcoKSlpZS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX2FtYmllbnRUZXh0dXJlLHIsIkFNQklFTlQiKTtlbHNlIHJldHVybiExO2Vsc2Ugci5BTUJJRU5UPSExO2lmKHRoaXMuX29wYWNpdHlUZXh0dXJlJiZCLk9wYWNpdHlUZXh0dXJlRW5hYmxlZClpZih0aGlzLl9vcGFjaXR5VGV4dHVyZS5pc1JlYWR5T3JOb3RCbG9ja2luZygpKWllLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fb3BhY2l0eVRleHR1cmUsciwiT1BBQ0lUWSIpLHIuT1BBQ0lUWVJHQj10aGlzLl9vcGFjaXR5VGV4dHVyZS5nZXRBbHBoYUZyb21SR0I7ZWxzZSByZXR1cm4hMTtlbHNlIHIuT1BBQ0lUWT0hMTtpZih0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSYmQi5SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fcmVmbGVjdGlvblRleHR1cmUuaXNSZWFkeU9yTm90QmxvY2tpbmcoKSl7c3dpdGNoKHIuX25lZWROb3JtYWxzPSEwLHIuUkVGTEVDVElPTj0hMCxyLlJPVUdITkVTUz10aGlzLl9yb3VnaG5lc3M+MCxyLlJFRkxFQ1RJT05PVkVSQUxQSEE9dGhpcy5fdXNlUmVmbGVjdGlvbk92ZXJBbHBoYSxyLklOVkVSVENVQklDTUFQPXRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmNvb3JkaW5hdGVzTW9kZT09PU4uSU5WQ1VCSUNfTU9ERSxyLlJFRkxFQ1RJT05NQVBfM0Q9dGhpcy5fcmVmbGVjdGlvblRleHR1cmUuaXNDdWJlLHIuUkVGTEVDVElPTk1BUF9PUFBPU0lURVo9ci5SRUZMRUNUSU9OTUFQXzNEJiZ0aGlzLmdldFNjZW5lKCkudXNlUmlnaHRIYW5kZWRTeXN0ZW0/IXRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmludmVydFo6dGhpcy5fcmVmbGVjdGlvblRleHR1cmUuaW52ZXJ0WixyLlJHQkRSRUZMRUNUSU9OPXRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmlzUkdCRCx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5jb29yZGluYXRlc01vZGUpe2Nhc2UgTi5FWFBMSUNJVF9NT0RFOnIuc2V0UmVmbGVjdGlvbk1vZGUoIlJFRkxFQ1RJT05NQVBfRVhQTElDSVQiKTticmVhaztjYXNlIE4uUExBTkFSX01PREU6ci5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9QTEFOQVIiKTticmVhaztjYXNlIE4uUFJPSkVDVElPTl9NT0RFOnIuc2V0UmVmbGVjdGlvbk1vZGUoIlJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTiIpO2JyZWFrO2Nhc2UgTi5TS1lCT1hfTU9ERTpyLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX1NLWUJPWCIpO2JyZWFrO2Nhc2UgTi5TUEhFUklDQUxfTU9ERTpyLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX1NQSEVSSUNBTCIpO2JyZWFrO2Nhc2UgTi5FUVVJUkVDVEFOR1VMQVJfTU9ERTpyLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUiIpO2JyZWFrO2Nhc2UgTi5GSVhFRF9FUVVJUkVDVEFOR1VMQVJfTU9ERTpyLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRCIpO2JyZWFrO2Nhc2UgTi5GSVhFRF9FUVVJUkVDVEFOR1VMQVJfTUlSUk9SRURfTU9ERTpyLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVEIik7YnJlYWs7Y2FzZSBOLkNVQklDX01PREU6Y2FzZSBOLklOVkNVQklDX01PREU6ZGVmYXVsdDpyLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX0NVQklDIik7YnJlYWt9ci5VU0VfTE9DQUxfUkVGTEVDVElPTk1BUF9DVUJJQz0hIXRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmJvdW5kaW5nQm94U2l6ZX1lbHNlIHJldHVybiExO2Vsc2Ugci5SRUZMRUNUSU9OPSExLHIuUkVGTEVDVElPTk1BUF9PUFBPU0lURVo9ITE7aWYodGhpcy5fZW1pc3NpdmVUZXh0dXJlJiZCLkVtaXNzaXZlVGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fZW1pc3NpdmVUZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpaWUuUHJlcGFyZURlZmluZXNGb3JNZXJnZWRVVih0aGlzLl9lbWlzc2l2ZVRleHR1cmUsciwiRU1JU1NJVkUiKTtlbHNlIHJldHVybiExO2Vsc2Ugci5FTUlTU0lWRT0hMTtpZih0aGlzLl9saWdodG1hcFRleHR1cmUmJkIuTGlnaHRtYXBUZXh0dXJlRW5hYmxlZClpZih0aGlzLl9saWdodG1hcFRleHR1cmUuaXNSZWFkeU9yTm90QmxvY2tpbmcoKSlpZS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSxyLCJMSUdIVE1BUCIpLHIuVVNFTElHSFRNQVBBU1NIQURPV01BUD10aGlzLl91c2VMaWdodG1hcEFzU2hhZG93bWFwLHIuUkdCRExJR0hUTUFQPXRoaXMuX2xpZ2h0bWFwVGV4dHVyZS5pc1JHQkQ7ZWxzZSByZXR1cm4hMTtlbHNlIHIuTElHSFRNQVA9ITE7aWYodGhpcy5fc3BlY3VsYXJUZXh0dXJlJiZCLlNwZWN1bGFyVGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fc3BlY3VsYXJUZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpaWUuUHJlcGFyZURlZmluZXNGb3JNZXJnZWRVVih0aGlzLl9zcGVjdWxhclRleHR1cmUsciwiU1BFQ1VMQVIiKSxyLkdMT1NTSU5FU1M9dGhpcy5fdXNlR2xvc3NpbmVzc0Zyb21TcGVjdWxhck1hcEFscGhhO2Vsc2UgcmV0dXJuITE7ZWxzZSByLlNQRUNVTEFSPSExO2lmKHMuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLnN0YW5kYXJkRGVyaXZhdGl2ZXMmJnRoaXMuX2J1bXBUZXh0dXJlJiZCLkJ1bXBUZXh0dXJlRW5hYmxlZCl7aWYodGhpcy5fYnVtcFRleHR1cmUuaXNSZWFkeSgpKWllLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fYnVtcFRleHR1cmUsciwiQlVNUCIpLHIuUEFSQUxMQVg9dGhpcy5fdXNlUGFyYWxsYXgsci5QQVJBTExBWE9DQ0xVU0lPTj10aGlzLl91c2VQYXJhbGxheE9jY2x1c2lvbjtlbHNlIHJldHVybiExO3IuT0JKRUNUU1BBQ0VfTk9STUFMTUFQPXRoaXMuX3VzZU9iamVjdFNwYWNlTm9ybWFsTWFwfWVsc2Ugci5CVU1QPSExLHIuUEFSQUxMQVg9ITEsci5QQVJBTExBWE9DQ0xVU0lPTj0hMTtpZih0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmQi5SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fcmVmcmFjdGlvblRleHR1cmUuaXNSZWFkeU9yTm90QmxvY2tpbmcoKSlyLl9uZWVkVVZzPSEwLHIuUkVGUkFDVElPTj0hMCxyLlJFRlJBQ1RJT05NQVBfM0Q9dGhpcy5fcmVmcmFjdGlvblRleHR1cmUuaXNDdWJlLHIuUkdCRFJFRlJBQ1RJT049dGhpcy5fcmVmcmFjdGlvblRleHR1cmUuaXNSR0JELHIuVVNFX0xPQ0FMX1JFRlJBQ1RJT05NQVBfQ1VCSUM9ISF0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5ib3VuZGluZ0JveFNpemU7ZWxzZSByZXR1cm4hMTtlbHNlIHIuUkVGUkFDVElPTj0hMTtyLlRXT1NJREVETElHSFRJTkc9IXRoaXMuX2JhY2tGYWNlQ3VsbGluZyYmdGhpcy5fdHdvU2lkZWRMaWdodGluZ31lbHNlIHIuRElGRlVTRT0hMSxyLkFNQklFTlQ9ITEsci5PUEFDSVRZPSExLHIuUkVGTEVDVElPTj0hMSxyLkVNSVNTSVZFPSExLHIuTElHSFRNQVA9ITEsci5CVU1QPSExLHIuUkVGUkFDVElPTj0hMTtyLkFMUEhBRlJPTURJRkZVU0U9dGhpcy5fc2hvdWxkVXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmUoKSxyLkVNSVNTSVZFQVNJTExVTUlOQVRJT049dGhpcy5fdXNlRW1pc3NpdmVBc0lsbHVtaW5hdGlvbixyLkxJTktFTUlTU0lWRVdJVEhESUZGVVNFPXRoaXMuX2xpbmtFbWlzc2l2ZVdpdGhEaWZmdXNlLHIuU1BFQ1VMQVJPVkVSQUxQSEE9dGhpcy5fdXNlU3BlY3VsYXJPdmVyQWxwaGEsci5QUkVNVUxUSVBMWUFMUEhBPXRoaXMuYWxwaGFNb2RlPT09N3x8dGhpcy5hbHBoYU1vZGU9PT04LHIuQUxQSEFURVNUX0FGVEVSQUxMQUxQSEFDT01QVVRBVElPTlM9dGhpcy50cmFuc3BhcmVuY3lNb2RlIT09bnVsbCxyLkFMUEhBQkxFTkQ9dGhpcy50cmFuc3BhcmVuY3lNb2RlPT09bnVsbHx8dGhpcy5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2goZSl9aWYodGhpcy5fZXZlbnRJbmZvLmlzUmVhZHlGb3JTdWJNZXNoPSEwLHRoaXMuX2V2ZW50SW5mby5kZWZpbmVzPXIsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudElzUmVhZHlGb3JTdWJNZXNoKHRoaXMuX2V2ZW50SW5mbyksIXRoaXMuX2V2ZW50SW5mby5pc1JlYWR5Rm9yU3ViTWVzaClyZXR1cm4hMTtpZihyLl9hcmVJbWFnZVByb2Nlc3NpbmdEaXJ0eSYmdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbil7aWYoIXRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uaXNSZWFkeSgpKXJldHVybiExO3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24ucHJlcGFyZURlZmluZXMociksci5JU19SRUZMRUNUSU9OX0xJTkVBUj10aGlzLnJlZmxlY3Rpb25UZXh0dXJlIT1udWxsJiYhdGhpcy5yZWZsZWN0aW9uVGV4dHVyZS5nYW1tYVNwYWNlLHIuSVNfUkVGUkFDVElPTl9MSU5FQVI9dGhpcy5yZWZyYWN0aW9uVGV4dHVyZSE9bnVsbCYmIXRoaXMucmVmcmFjdGlvblRleHR1cmUuZ2FtbWFTcGFjZX1yLl9hcmVGcmVzbmVsRGlydHkmJihCLkZyZXNuZWxFbmFibGVkPyh0aGlzLl9kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnN8fHRoaXMuX29wYWNpdHlGcmVzbmVsUGFyYW1ldGVyc3x8dGhpcy5fZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVyc3x8dGhpcy5fcmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzfHx0aGlzLl9yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMpJiYoci5ESUZGVVNFRlJFU05FTD10aGlzLl9kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuX2RpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQsci5PUEFDSVRZRlJFU05FTD10aGlzLl9vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuX29wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQsci5SRUZMRUNUSU9ORlJFU05FTD10aGlzLl9yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuX3JlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQsci5SRUZMRUNUSU9ORlJFU05FTEZST01TUEVDVUxBUj10aGlzLl91c2VSZWZsZWN0aW9uRnJlc25lbEZyb21TcGVjdWxhcixyLlJFRlJBQ1RJT05GUkVTTkVMPXRoaXMuX3JlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5fcmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCxyLkVNSVNTSVZFRlJFU05FTD10aGlzLl9lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLl9lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCxyLl9uZWVkTm9ybWFscz0hMCxyLkZSRVNORUw9ITApOnIuRlJFU05FTD0hMSksaWUuUHJlcGFyZURlZmluZXNGb3JNaXNjKGUscyx0aGlzLl91c2VMb2dhcml0aG1pY0RlcHRoLHRoaXMucG9pbnRzQ2xvdWQsdGhpcy5mb2dFbmFibGVkLHRoaXMuX3Nob3VsZFR1cm5BbHBoYVRlc3RPbihlKXx8dGhpcy5fZm9yY2VBbHBoYVRlc3QsciksaWUuUHJlcGFyZURlZmluZXNGb3JGcmFtZUJvdW5kVmFsdWVzKHMsbix0aGlzLHIsaSxudWxsLHQuZ2V0UmVuZGVyaW5nTWVzaCgpLmhhc1RoaW5JbnN0YW5jZXMpLHRoaXMuX2V2ZW50SW5mby5kZWZpbmVzPXIsdGhpcy5fZXZlbnRJbmZvLm1lc2g9ZSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50UHJlcGFyZURlZmluZXNCZWZvcmVBdHRyaWJ1dGVzKHRoaXMuX2V2ZW50SW5mbyksaWUuUHJlcGFyZURlZmluZXNGb3JBdHRyaWJ1dGVzKGUsciwhMCwhMCwhMCksdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzKHRoaXMuX2V2ZW50SW5mbyk7bGV0IG89ITE7aWYoci5pc0RpcnR5KXtjb25zdCBoPXIuX2FyZUxpZ2h0c0Rpc3Bvc2VkO3IubWFya0FzUHJvY2Vzc2VkKCk7Y29uc3QgbD1uZXcgenM7ci5SRUZMRUNUSU9OJiZsLmFkZEZhbGxiYWNrKDAsIlJFRkxFQ1RJT04iKSxyLlNQRUNVTEFSJiZsLmFkZEZhbGxiYWNrKDAsIlNQRUNVTEFSIiksci5CVU1QJiZsLmFkZEZhbGxiYWNrKDAsIkJVTVAiKSxyLlBBUkFMTEFYJiZsLmFkZEZhbGxiYWNrKDEsIlBBUkFMTEFYIiksci5QQVJBTExBWE9DQ0xVU0lPTiYmbC5hZGRGYWxsYmFjaygwLCJQQVJBTExBWE9DQ0xVU0lPTiIpLHIuU1BFQ1VMQVJPVkVSQUxQSEEmJmwuYWRkRmFsbGJhY2soMCwiU1BFQ1VMQVJPVkVSQUxQSEEiKSxyLkZPRyYmbC5hZGRGYWxsYmFjaygxLCJGT0ciKSxyLlBPSU5UU0laRSYmbC5hZGRGYWxsYmFjaygwLCJQT0lOVFNJWkUiKSxyLkxPR0FSSVRITUlDREVQVEgmJmwuYWRkRmFsbGJhY2soMCwiTE9HQVJJVEhNSUNERVBUSCIpLGllLkhhbmRsZUZhbGxiYWNrc0ZvclNoYWRvd3MocixsLHRoaXMuX21heFNpbXVsdGFuZW91c0xpZ2h0cyksci5TUEVDVUxBUlRFUk0mJmwuYWRkRmFsbGJhY2soMCwiU1BFQ1VMQVJURVJNIiksci5ESUZGVVNFRlJFU05FTCYmbC5hZGRGYWxsYmFjaygxLCJESUZGVVNFRlJFU05FTCIpLHIuT1BBQ0lUWUZSRVNORUwmJmwuYWRkRmFsbGJhY2soMiwiT1BBQ0lUWUZSRVNORUwiKSxyLlJFRkxFQ1RJT05GUkVTTkVMJiZsLmFkZEZhbGxiYWNrKDMsIlJFRkxFQ1RJT05GUkVTTkVMIiksci5FTUlTU0lWRUZSRVNORUwmJmwuYWRkRmFsbGJhY2soNCwiRU1JU1NJVkVGUkVTTkVMIiksci5GUkVTTkVMJiZsLmFkZEZhbGxiYWNrKDQsIkZSRVNORUwiKSxyLk1VTFRJVklFVyYmbC5hZGRGYWxsYmFjaygwLCJNVUxUSVZJRVciKTtjb25zdCB1PVtnLlBvc2l0aW9uS2luZF07ci5OT1JNQUwmJnUucHVzaChnLk5vcm1hbEtpbmQpLHIuVEFOR0VOVCYmdS5wdXNoKGcuVGFuZ2VudEtpbmQpO2ZvcihsZXQgQT0xO0E8PTY7KytBKXJbIlVWIitBXSYmdS5wdXNoKGB1diR7QT09PTE/IiI6QX1gKTtyLlZFUlRFWENPTE9SJiZ1LnB1c2goZy5Db2xvcktpbmQpLGllLlByZXBhcmVBdHRyaWJ1dGVzRm9yQm9uZXModSxlLHIsbCksaWUuUHJlcGFyZUF0dHJpYnV0ZXNGb3JJbnN0YW5jZXModSxyKSxpZS5QcmVwYXJlQXR0cmlidXRlc0Zvck1vcnBoVGFyZ2V0cyh1LGUsciksaWUuUHJlcGFyZUF0dHJpYnV0ZXNGb3JCYWtlZFZlcnRleEFuaW1hdGlvbih1LGUscik7bGV0IGQ9ImRlZmF1bHQiO2NvbnN0IGY9WyJ3b3JsZCIsInZpZXciLCJ2aWV3UHJvamVjdGlvbiIsInZFeWVQb3NpdGlvbiIsInZMaWdodHNUeXBlIiwidkFtYmllbnRDb2xvciIsInZEaWZmdXNlQ29sb3IiLCJ2U3BlY3VsYXJDb2xvciIsInZFbWlzc2l2ZUNvbG9yIiwidmlzaWJpbGl0eSIsInZGb2dJbmZvcyIsInZGb2dDb2xvciIsInBvaW50U2l6ZSIsInZEaWZmdXNlSW5mb3MiLCJ2QW1iaWVudEluZm9zIiwidk9wYWNpdHlJbmZvcyIsInZSZWZsZWN0aW9uSW5mb3MiLCJ2RW1pc3NpdmVJbmZvcyIsInZTcGVjdWxhckluZm9zIiwidkJ1bXBJbmZvcyIsInZMaWdodG1hcEluZm9zIiwidlJlZnJhY3Rpb25JbmZvcyIsIm1Cb25lcyIsImRpZmZ1c2VNYXRyaXgiLCJhbWJpZW50TWF0cml4Iiwib3BhY2l0eU1hdHJpeCIsInJlZmxlY3Rpb25NYXRyaXgiLCJlbWlzc2l2ZU1hdHJpeCIsInNwZWN1bGFyTWF0cml4IiwiYnVtcE1hdHJpeCIsIm5vcm1hbE1hdHJpeCIsImxpZ2h0bWFwTWF0cml4IiwicmVmcmFjdGlvbk1hdHJpeCIsImRpZmZ1c2VMZWZ0Q29sb3IiLCJkaWZmdXNlUmlnaHRDb2xvciIsIm9wYWNpdHlQYXJ0cyIsInJlZmxlY3Rpb25MZWZ0Q29sb3IiLCJyZWZsZWN0aW9uUmlnaHRDb2xvciIsImVtaXNzaXZlTGVmdENvbG9yIiwiZW1pc3NpdmVSaWdodENvbG9yIiwicmVmcmFjdGlvbkxlZnRDb2xvciIsInJlZnJhY3Rpb25SaWdodENvbG9yIiwidlJlZmxlY3Rpb25Qb3NpdGlvbiIsInZSZWZsZWN0aW9uU2l6ZSIsInZSZWZyYWN0aW9uUG9zaXRpb24iLCJ2UmVmcmFjdGlvblNpemUiLCJsb2dhcml0aG1pY0RlcHRoQ29uc3RhbnQiLCJ2VGFuZ2VudFNwYWNlUGFyYW1zIiwiYWxwaGFDdXRPZmYiLCJib25lVGV4dHVyZVdpZHRoIiwibW9ycGhUYXJnZXRUZXh0dXJlSW5mbyIsIm1vcnBoVGFyZ2V0VGV4dHVyZUluZGljZXMiXSxfPVsiZGlmZnVzZVNhbXBsZXIiLCJhbWJpZW50U2FtcGxlciIsIm9wYWNpdHlTYW1wbGVyIiwicmVmbGVjdGlvbkN1YmVTYW1wbGVyIiwicmVmbGVjdGlvbjJEU2FtcGxlciIsImVtaXNzaXZlU2FtcGxlciIsInNwZWN1bGFyU2FtcGxlciIsImJ1bXBTYW1wbGVyIiwibGlnaHRtYXBTYW1wbGVyIiwicmVmcmFjdGlvbkN1YmVTYW1wbGVyIiwicmVmcmFjdGlvbjJEU2FtcGxlciIsImJvbmVTYW1wbGVyIiwibW9ycGhUYXJnZXRzIiwib2l0RGVwdGhTYW1wbGVyIiwib2l0RnJvbnRDb2xvclNhbXBsZXIiXSxFPVsiTWF0ZXJpYWwiLCJTY2VuZSIsIk1lc2giXTt0aGlzLl9ldmVudEluZm8uZmFsbGJhY2tzPWwsdGhpcy5fZXZlbnRJbmZvLmZhbGxiYWNrUmFuaz0wLHRoaXMuX2V2ZW50SW5mby5kZWZpbmVzPXIsdGhpcy5fZXZlbnRJbmZvLnVuaWZvcm1zPWYsdGhpcy5fZXZlbnRJbmZvLmF0dHJpYnV0ZXM9dSx0aGlzLl9ldmVudEluZm8uc2FtcGxlcnM9Xyx0aGlzLl9ldmVudEluZm8udW5pZm9ybUJ1ZmZlcnNOYW1lcz1FLHRoaXMuX2V2ZW50SW5mby5jdXN0b21Db2RlPXZvaWQgMCx0aGlzLl9ldmVudEluZm8ubWVzaD1lLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljKFFlLlByZXBhcmVFZmZlY3QsdGhpcy5fZXZlbnRJbmZvKSxrci5BZGRVbmlmb3JtcyhmKSxwZSYmKHBlLlByZXBhcmVVbmlmb3JtcyhmLHIpLHBlLlByZXBhcmVTYW1wbGVycyhfLHIpKSxpZS5QcmVwYXJlVW5pZm9ybXNBbmRTYW1wbGVyc0xpc3Qoe3VuaWZvcm1zTmFtZXM6Zix1bmlmb3JtQnVmZmVyc05hbWVzOkUsc2FtcGxlcnM6XyxkZWZpbmVzOnIsbWF4U2ltdWx0YW5lb3VzTGlnaHRzOnRoaXMuX21heFNpbXVsdGFuZW91c0xpZ2h0c30pLHNzKGYpO2NvbnN0IG09e307dGhpcy5jdXN0b21TaGFkZXJOYW1lUmVzb2x2ZSYmKGQ9dGhpcy5jdXN0b21TaGFkZXJOYW1lUmVzb2x2ZShkLGYsRSxfLHIsdSxtKSk7Y29uc3Qgdj1yLnRvU3RyaW5nKCksUz10LmVmZmVjdDtsZXQgeT1zLmdldEVuZ2luZSgpLmNyZWF0ZUVmZmVjdChkLHthdHRyaWJ1dGVzOnUsdW5pZm9ybXNOYW1lczpmLHVuaWZvcm1CdWZmZXJzTmFtZXM6RSxzYW1wbGVyczpfLGRlZmluZXM6dixmYWxsYmFja3M6bCxvbkNvbXBpbGVkOnRoaXMub25Db21waWxlZCxvbkVycm9yOnRoaXMub25FcnJvcixpbmRleFBhcmFtZXRlcnM6e21heFNpbXVsdGFuZW91c0xpZ2h0czp0aGlzLl9tYXhTaW11bHRhbmVvdXNMaWdodHMsbWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzOnIuTlVNX01PUlBIX0lORkxVRU5DRVJTfSxwcm9jZXNzRmluYWxDb2RlOm0ucHJvY2Vzc0ZpbmFsQ29kZSxwcm9jZXNzQ29kZUFmdGVySW5jbHVkZXM6dGhpcy5fZXZlbnRJbmZvLmN1c3RvbUNvZGUsbXVsdGlUYXJnZXQ6ci5QUkVQQVNTfSxuKTtpZih0aGlzLl9ldmVudEluZm8uY3VzdG9tQ29kZT12b2lkIDAseSlpZih0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlJiYoR3MuZWZmZWN0PXksR3Muc3ViTWVzaD10LHRoaXMuX29uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKEdzKSksdGhpcy5hbGxvd1NoYWRlckhvdFN3YXBwaW5nJiZTJiYheS5pc1JlYWR5KCkpe2lmKHk9UyxyLm1hcmtBc1VucHJvY2Vzc2VkKCksbz10aGlzLmlzRnJvemVuLGgpcmV0dXJuIHIuX2FyZUxpZ2h0c0Rpc3Bvc2VkPSEwLCExfWVsc2Ugcy5yZXNldENhY2hlZE1hdGVyaWFsKCksdC5zZXRFZmZlY3QoeSxyLHRoaXMuX21hdGVyaWFsQ29udGV4dCl9cmV0dXJuIXQuZWZmZWN0fHwhdC5lZmZlY3QuaXNSZWFkeSgpPyExOihyLl9yZW5kZXJJZD1zLmdldFJlbmRlcklkKCksdC5lZmZlY3QuX3dhc1ByZXZpb3VzbHlSZWFkeT0hbyx0LmVmZmVjdC5fd2FzUHJldmlvdXNseVVzaW5nSW5zdGFuY2VzPWkscy5wZXJmb3JtYW5jZVByaW9yaXR5IT09Q3QuQmFja3dhcmRDb21wYXRpYmxlJiYodGhpcy5jaGVja1JlYWR5T25seU9uY2U9ITApLCEwKX1idWlsZFVuaWZvcm1MYXlvdXQoKXtjb25zdCBlPXRoaXMuX3VuaWZvcm1CdWZmZXI7ZS5hZGRVbmlmb3JtKCJkaWZmdXNlTGVmdENvbG9yIiw0KSxlLmFkZFVuaWZvcm0oImRpZmZ1c2VSaWdodENvbG9yIiw0KSxlLmFkZFVuaWZvcm0oIm9wYWNpdHlQYXJ0cyIsNCksZS5hZGRVbmlmb3JtKCJyZWZsZWN0aW9uTGVmdENvbG9yIiw0KSxlLmFkZFVuaWZvcm0oInJlZmxlY3Rpb25SaWdodENvbG9yIiw0KSxlLmFkZFVuaWZvcm0oInJlZnJhY3Rpb25MZWZ0Q29sb3IiLDQpLGUuYWRkVW5pZm9ybSgicmVmcmFjdGlvblJpZ2h0Q29sb3IiLDQpLGUuYWRkVW5pZm9ybSgiZW1pc3NpdmVMZWZ0Q29sb3IiLDQpLGUuYWRkVW5pZm9ybSgiZW1pc3NpdmVSaWdodENvbG9yIiw0KSxlLmFkZFVuaWZvcm0oInZEaWZmdXNlSW5mb3MiLDIpLGUuYWRkVW5pZm9ybSgidkFtYmllbnRJbmZvcyIsMiksZS5hZGRVbmlmb3JtKCJ2T3BhY2l0eUluZm9zIiwyKSxlLmFkZFVuaWZvcm0oInZSZWZsZWN0aW9uSW5mb3MiLDIpLGUuYWRkVW5pZm9ybSgidlJlZmxlY3Rpb25Qb3NpdGlvbiIsMyksZS5hZGRVbmlmb3JtKCJ2UmVmbGVjdGlvblNpemUiLDMpLGUuYWRkVW5pZm9ybSgidkVtaXNzaXZlSW5mb3MiLDIpLGUuYWRkVW5pZm9ybSgidkxpZ2h0bWFwSW5mb3MiLDIpLGUuYWRkVW5pZm9ybSgidlNwZWN1bGFySW5mb3MiLDIpLGUuYWRkVW5pZm9ybSgidkJ1bXBJbmZvcyIsMyksZS5hZGRVbmlmb3JtKCJkaWZmdXNlTWF0cml4IiwxNiksZS5hZGRVbmlmb3JtKCJhbWJpZW50TWF0cml4IiwxNiksZS5hZGRVbmlmb3JtKCJvcGFjaXR5TWF0cml4IiwxNiksZS5hZGRVbmlmb3JtKCJyZWZsZWN0aW9uTWF0cml4IiwxNiksZS5hZGRVbmlmb3JtKCJlbWlzc2l2ZU1hdHJpeCIsMTYpLGUuYWRkVW5pZm9ybSgibGlnaHRtYXBNYXRyaXgiLDE2KSxlLmFkZFVuaWZvcm0oInNwZWN1bGFyTWF0cml4IiwxNiksZS5hZGRVbmlmb3JtKCJidW1wTWF0cml4IiwxNiksZS5hZGRVbmlmb3JtKCJ2VGFuZ2VudFNwYWNlUGFyYW1zIiwyKSxlLmFkZFVuaWZvcm0oInBvaW50U2l6ZSIsMSksZS5hZGRVbmlmb3JtKCJhbHBoYUN1dE9mZiIsMSksZS5hZGRVbmlmb3JtKCJyZWZyYWN0aW9uTWF0cml4IiwxNiksZS5hZGRVbmlmb3JtKCJ2UmVmcmFjdGlvbkluZm9zIiw0KSxlLmFkZFVuaWZvcm0oInZSZWZyYWN0aW9uUG9zaXRpb24iLDMpLGUuYWRkVW5pZm9ybSgidlJlZnJhY3Rpb25TaXplIiwzKSxlLmFkZFVuaWZvcm0oInZTcGVjdWxhckNvbG9yIiw0KSxlLmFkZFVuaWZvcm0oInZFbWlzc2l2ZUNvbG9yIiwzKSxlLmFkZFVuaWZvcm0oInZEaWZmdXNlQ29sb3IiLDQpLGUuYWRkVW5pZm9ybSgidkFtYmllbnRDb2xvciIsMyksc3VwZXIuYnVpbGRVbmlmb3JtTGF5b3V0KCl9YmluZEZvclN1Yk1lc2goZSx0LGkpe3ZhciBzO2NvbnN0IHI9dGhpcy5nZXRTY2VuZSgpLG49aS5tYXRlcmlhbERlZmluZXM7aWYoIW4pcmV0dXJuO2NvbnN0IGE9aS5lZmZlY3Q7aWYoIWEpcmV0dXJuO3RoaXMuX2FjdGl2ZUVmZmVjdD1hLHQuZ2V0TWVzaFVuaWZvcm1CdWZmZXIoKS5iaW5kVG9FZmZlY3QoYSwiTWVzaCIpLHQudHJhbnNmZXJUb0VmZmVjdChlKSx0aGlzLl91bmlmb3JtQnVmZmVyLmJpbmRUb0VmZmVjdChhLCJNYXRlcmlhbCIpLHRoaXMucHJlUGFzc0NvbmZpZ3VyYXRpb24uYmluZEZvclN1Yk1lc2godGhpcy5fYWN0aXZlRWZmZWN0LHIsdCxlLHRoaXMuaXNGcm96ZW4pLHRoaXMuX2V2ZW50SW5mby5zdWJNZXNoPWksdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEhhcmRCaW5kRm9yU3ViTWVzaCh0aGlzLl9ldmVudEluZm8pLG4uT0JKRUNUU1BBQ0VfTk9STUFMTUFQJiYoZS50b05vcm1hbE1hdHJpeCh0aGlzLl9ub3JtYWxNYXRyaXgpLHRoaXMuYmluZE9ubHlOb3JtYWxNYXRyaXgodGhpcy5fbm9ybWFsTWF0cml4KSk7Y29uc3Qgbz1hLl9mb3JjZVJlYmluZE9uTmV4dENhbGx8fHRoaXMuX211c3RSZWJpbmQocixhLHQudmlzaWJpbGl0eSk7aWUuQmluZEJvbmVzUGFyYW1ldGVycyh0LGEpO2NvbnN0IGg9dGhpcy5fdW5pZm9ybUJ1ZmZlcjtpZihvKXtpZih0aGlzLmJpbmRWaWV3UHJvamVjdGlvbihhKSwhaC51c2VVYm98fCF0aGlzLmlzRnJvemVufHwhaC5pc1N5bmN8fGEuX2ZvcmNlUmViaW5kT25OZXh0Q2FsbCl7aWYoQi5GcmVzbmVsRW5hYmxlZCYmbi5GUkVTTkVMJiYodGhpcy5kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCYmKGgudXBkYXRlQ29sb3I0KCJkaWZmdXNlTGVmdENvbG9yIix0aGlzLmRpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycy5sZWZ0Q29sb3IsdGhpcy5kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMucG93ZXIpLGgudXBkYXRlQ29sb3I0KCJkaWZmdXNlUmlnaHRDb2xvciIsdGhpcy5kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMucmlnaHRDb2xvcix0aGlzLmRpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycy5iaWFzKSksdGhpcy5vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMmJnRoaXMub3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCYmaC51cGRhdGVDb2xvcjQoIm9wYWNpdHlQYXJ0cyIsbmV3IHJlKHRoaXMub3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzLmxlZnRDb2xvci50b0x1bWluYW5jZSgpLHRoaXMub3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzLnJpZ2h0Q29sb3IudG9MdW1pbmFuY2UoKSx0aGlzLm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5iaWFzKSx0aGlzLm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5wb3dlciksdGhpcy5yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMmJnRoaXMucmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCYmKGgudXBkYXRlQ29sb3I0KCJyZWZsZWN0aW9uTGVmdENvbG9yIix0aGlzLnJlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5sZWZ0Q29sb3IsdGhpcy5yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMucG93ZXIpLGgudXBkYXRlQ29sb3I0KCJyZWZsZWN0aW9uUmlnaHRDb2xvciIsdGhpcy5yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMucmlnaHRDb2xvcix0aGlzLnJlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5iaWFzKSksdGhpcy5yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMmJnRoaXMucmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCYmKGgudXBkYXRlQ29sb3I0KCJyZWZyYWN0aW9uTGVmdENvbG9yIix0aGlzLnJlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5sZWZ0Q29sb3IsdGhpcy5yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMucG93ZXIpLGgudXBkYXRlQ29sb3I0KCJyZWZyYWN0aW9uUmlnaHRDb2xvciIsdGhpcy5yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMucmlnaHRDb2xvcix0aGlzLnJlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5iaWFzKSksdGhpcy5lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLmVtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkJiYoaC51cGRhdGVDb2xvcjQoImVtaXNzaXZlTGVmdENvbG9yIix0aGlzLmVtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMubGVmdENvbG9yLHRoaXMuZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycy5wb3dlciksaC51cGRhdGVDb2xvcjQoImVtaXNzaXZlUmlnaHRDb2xvciIsdGhpcy5lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzLnJpZ2h0Q29sb3IsdGhpcy5lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzLmJpYXMpKSksci50ZXh0dXJlc0VuYWJsZWQpe2lmKHRoaXMuX2RpZmZ1c2VUZXh0dXJlJiZCLkRpZmZ1c2VUZXh0dXJlRW5hYmxlZCYmKGgudXBkYXRlRmxvYXQyKCJ2RGlmZnVzZUluZm9zIix0aGlzLl9kaWZmdXNlVGV4dHVyZS5jb29yZGluYXRlc0luZGV4LHRoaXMuX2RpZmZ1c2VUZXh0dXJlLmxldmVsKSxpZS5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl9kaWZmdXNlVGV4dHVyZSxoLCJkaWZmdXNlIikpLHRoaXMuX2FtYmllbnRUZXh0dXJlJiZCLkFtYmllbnRUZXh0dXJlRW5hYmxlZCYmKGgudXBkYXRlRmxvYXQyKCJ2QW1iaWVudEluZm9zIix0aGlzLl9hbWJpZW50VGV4dHVyZS5jb29yZGluYXRlc0luZGV4LHRoaXMuX2FtYmllbnRUZXh0dXJlLmxldmVsKSxpZS5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl9hbWJpZW50VGV4dHVyZSxoLCJhbWJpZW50IikpLHRoaXMuX29wYWNpdHlUZXh0dXJlJiZCLk9wYWNpdHlUZXh0dXJlRW5hYmxlZCYmKGgudXBkYXRlRmxvYXQyKCJ2T3BhY2l0eUluZm9zIix0aGlzLl9vcGFjaXR5VGV4dHVyZS5jb29yZGluYXRlc0luZGV4LHRoaXMuX29wYWNpdHlUZXh0dXJlLmxldmVsKSxpZS5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl9vcGFjaXR5VGV4dHVyZSxoLCJvcGFjaXR5IikpLHRoaXMuX2hhc0FscGhhQ2hhbm5lbCgpJiZoLnVwZGF0ZUZsb2F0KCJhbHBoYUN1dE9mZiIsdGhpcy5hbHBoYUN1dE9mZiksdGhpcy5fcmVmbGVjdGlvblRleHR1cmUmJkIuUmVmbGVjdGlvblRleHR1cmVFbmFibGVkJiYoaC51cGRhdGVGbG9hdDIoInZSZWZsZWN0aW9uSW5mb3MiLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmxldmVsLHRoaXMucm91Z2huZXNzKSxoLnVwZGF0ZU1hdHJpeCgicmVmbGVjdGlvbk1hdHJpeCIsdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuZ2V0UmVmbGVjdGlvblRleHR1cmVNYXRyaXgoKSksdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuYm91bmRpbmdCb3hTaXplKSl7Y29uc3QgbD10aGlzLl9yZWZsZWN0aW9uVGV4dHVyZTtoLnVwZGF0ZVZlY3RvcjMoInZSZWZsZWN0aW9uUG9zaXRpb24iLGwuYm91bmRpbmdCb3hQb3NpdGlvbiksaC51cGRhdGVWZWN0b3IzKCJ2UmVmbGVjdGlvblNpemUiLGwuYm91bmRpbmdCb3hTaXplKX1pZih0aGlzLl9lbWlzc2l2ZVRleHR1cmUmJkIuRW1pc3NpdmVUZXh0dXJlRW5hYmxlZCYmKGgudXBkYXRlRmxvYXQyKCJ2RW1pc3NpdmVJbmZvcyIsdGhpcy5fZW1pc3NpdmVUZXh0dXJlLmNvb3JkaW5hdGVzSW5kZXgsdGhpcy5fZW1pc3NpdmVUZXh0dXJlLmxldmVsKSxpZS5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl9lbWlzc2l2ZVRleHR1cmUsaCwiZW1pc3NpdmUiKSksdGhpcy5fbGlnaHRtYXBUZXh0dXJlJiZCLkxpZ2h0bWFwVGV4dHVyZUVuYWJsZWQmJihoLnVwZGF0ZUZsb2F0MigidkxpZ2h0bWFwSW5mb3MiLHRoaXMuX2xpZ2h0bWFwVGV4dHVyZS5jb29yZGluYXRlc0luZGV4LHRoaXMuX2xpZ2h0bWFwVGV4dHVyZS5sZXZlbCksaWUuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fbGlnaHRtYXBUZXh0dXJlLGgsImxpZ2h0bWFwIikpLHRoaXMuX3NwZWN1bGFyVGV4dHVyZSYmQi5TcGVjdWxhclRleHR1cmVFbmFibGVkJiYoaC51cGRhdGVGbG9hdDIoInZTcGVjdWxhckluZm9zIix0aGlzLl9zcGVjdWxhclRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9zcGVjdWxhclRleHR1cmUubGV2ZWwpLGllLkJpbmRUZXh0dXJlTWF0cml4KHRoaXMuX3NwZWN1bGFyVGV4dHVyZSxoLCJzcGVjdWxhciIpKSx0aGlzLl9idW1wVGV4dHVyZSYmci5nZXRFbmdpbmUoKS5nZXRDYXBzKCkuc3RhbmRhcmREZXJpdmF0aXZlcyYmQi5CdW1wVGV4dHVyZUVuYWJsZWQmJihoLnVwZGF0ZUZsb2F0MygidkJ1bXBJbmZvcyIsdGhpcy5fYnVtcFRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCwxL3RoaXMuX2J1bXBUZXh0dXJlLmxldmVsLHRoaXMucGFyYWxsYXhTY2FsZUJpYXMpLGllLkJpbmRUZXh0dXJlTWF0cml4KHRoaXMuX2J1bXBUZXh0dXJlLGgsImJ1bXAiKSxyLl9taXJyb3JlZENhbWVyYVBvc2l0aW9uP2gudXBkYXRlRmxvYXQyKCJ2VGFuZ2VudFNwYWNlUGFyYW1zIix0aGlzLl9pbnZlcnROb3JtYWxNYXBYPzE6LTEsdGhpcy5faW52ZXJ0Tm9ybWFsTWFwWT8xOi0xKTpoLnVwZGF0ZUZsb2F0MigidlRhbmdlbnRTcGFjZVBhcmFtcyIsdGhpcy5faW52ZXJ0Tm9ybWFsTWFwWD8tMToxLHRoaXMuX2ludmVydE5vcm1hbE1hcFk/LTE6MSkpLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlJiZCLlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZCl7bGV0IGw9MTtpZih0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5pc0N1YmV8fChoLnVwZGF0ZU1hdHJpeCgicmVmcmFjdGlvbk1hdHJpeCIsdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuZ2V0UmVmbGVjdGlvblRleHR1cmVNYXRyaXgoKSksdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuZGVwdGgmJihsPXRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmRlcHRoKSksaC51cGRhdGVGbG9hdDQoInZSZWZyYWN0aW9uSW5mb3MiLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmxldmVsLHRoaXMuaW5kZXhPZlJlZnJhY3Rpb24sbCx0aGlzLmludmVydFJlZnJhY3Rpb25ZPy0xOjEpLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmJvdW5kaW5nQm94U2l6ZSl7Y29uc3QgdT10aGlzLl9yZWZyYWN0aW9uVGV4dHVyZTtoLnVwZGF0ZVZlY3RvcjMoInZSZWZyYWN0aW9uUG9zaXRpb24iLHUuYm91bmRpbmdCb3hQb3NpdGlvbiksaC51cGRhdGVWZWN0b3IzKCJ2UmVmcmFjdGlvblNpemUiLHUuYm91bmRpbmdCb3hTaXplKX19fXRoaXMucG9pbnRzQ2xvdWQmJmgudXBkYXRlRmxvYXQoInBvaW50U2l6ZSIsdGhpcy5wb2ludFNpemUpLG4uU1BFQ1VMQVJURVJNJiZoLnVwZGF0ZUNvbG9yNCgidlNwZWN1bGFyQ29sb3IiLHRoaXMuc3BlY3VsYXJDb2xvcix0aGlzLnNwZWN1bGFyUG93ZXIpLGgudXBkYXRlQ29sb3IzKCJ2RW1pc3NpdmVDb2xvciIsQi5FbWlzc2l2ZVRleHR1cmVFbmFibGVkP3RoaXMuZW1pc3NpdmVDb2xvcjpyZS5CbGFja1JlYWRPbmx5KSxoLnVwZGF0ZUNvbG9yNCgidkRpZmZ1c2VDb2xvciIsdGhpcy5kaWZmdXNlQ29sb3IsdGhpcy5hbHBoYSksci5hbWJpZW50Q29sb3IubXVsdGlwbHlUb1JlZih0aGlzLmFtYmllbnRDb2xvcix0aGlzLl9nbG9iYWxBbWJpZW50Q29sb3IpLGgudXBkYXRlQ29sb3IzKCJ2QW1iaWVudENvbG9yIix0aGlzLl9nbG9iYWxBbWJpZW50Q29sb3IpfXIudGV4dHVyZXNFbmFibGVkJiYodGhpcy5fZGlmZnVzZVRleHR1cmUmJkIuRGlmZnVzZVRleHR1cmVFbmFibGVkJiZhLnNldFRleHR1cmUoImRpZmZ1c2VTYW1wbGVyIix0aGlzLl9kaWZmdXNlVGV4dHVyZSksdGhpcy5fYW1iaWVudFRleHR1cmUmJkIuQW1iaWVudFRleHR1cmVFbmFibGVkJiZhLnNldFRleHR1cmUoImFtYmllbnRTYW1wbGVyIix0aGlzLl9hbWJpZW50VGV4dHVyZSksdGhpcy5fb3BhY2l0eVRleHR1cmUmJkIuT3BhY2l0eVRleHR1cmVFbmFibGVkJiZhLnNldFRleHR1cmUoIm9wYWNpdHlTYW1wbGVyIix0aGlzLl9vcGFjaXR5VGV4dHVyZSksdGhpcy5fcmVmbGVjdGlvblRleHR1cmUmJkIuUmVmbGVjdGlvblRleHR1cmVFbmFibGVkJiYodGhpcy5fcmVmbGVjdGlvblRleHR1cmUuaXNDdWJlP2Euc2V0VGV4dHVyZSgicmVmbGVjdGlvbkN1YmVTYW1wbGVyIix0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSk6YS5zZXRUZXh0dXJlKCJyZWZsZWN0aW9uMkRTYW1wbGVyIix0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSkpLHRoaXMuX2VtaXNzaXZlVGV4dHVyZSYmQi5FbWlzc2l2ZVRleHR1cmVFbmFibGVkJiZhLnNldFRleHR1cmUoImVtaXNzaXZlU2FtcGxlciIsdGhpcy5fZW1pc3NpdmVUZXh0dXJlKSx0aGlzLl9saWdodG1hcFRleHR1cmUmJkIuTGlnaHRtYXBUZXh0dXJlRW5hYmxlZCYmYS5zZXRUZXh0dXJlKCJsaWdodG1hcFNhbXBsZXIiLHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSksdGhpcy5fc3BlY3VsYXJUZXh0dXJlJiZCLlNwZWN1bGFyVGV4dHVyZUVuYWJsZWQmJmEuc2V0VGV4dHVyZSgic3BlY3VsYXJTYW1wbGVyIix0aGlzLl9zcGVjdWxhclRleHR1cmUpLHRoaXMuX2J1bXBUZXh0dXJlJiZyLmdldEVuZ2luZSgpLmdldENhcHMoKS5zdGFuZGFyZERlcml2YXRpdmVzJiZCLkJ1bXBUZXh0dXJlRW5hYmxlZCYmYS5zZXRUZXh0dXJlKCJidW1wU2FtcGxlciIsdGhpcy5fYnVtcFRleHR1cmUpLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlJiZCLlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZCYmKHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzQ3ViZT9hLnNldFRleHR1cmUoInJlZnJhY3Rpb25DdWJlU2FtcGxlciIsdGhpcy5fcmVmcmFjdGlvblRleHR1cmUpOmEuc2V0VGV4dHVyZSgicmVmcmFjdGlvbjJEU2FtcGxlciIsdGhpcy5fcmVmcmFjdGlvblRleHR1cmUpKSksdGhpcy5nZXRTY2VuZSgpLnVzZU9yZGVySW5kZXBlbmRlbnRUcmFuc3BhcmVuY3kmJnRoaXMubmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoKHQpJiZ0aGlzLmdldFNjZW5lKCkuZGVwdGhQZWVsaW5nUmVuZGVyZXIuYmluZChhKSx0aGlzLl9ldmVudEluZm8uc3ViTWVzaD1pLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRCaW5kRm9yU3ViTWVzaCh0aGlzLl9ldmVudEluZm8pLHJzKGEsdGhpcyxyKSx0aGlzLmJpbmRFeWVQb3NpdGlvbihhKX1lbHNlIHIuZ2V0RW5naW5lKCkuX2ZlYXR1cmVzLm5lZWRUb0Fsd2F5c0JpbmRVbmlmb3JtQnVmZmVycyYmKHRoaXMuX25lZWRUb0JpbmRTY2VuZVVibz0hMCk7KG98fCF0aGlzLmlzRnJvemVuKSYmKHIubGlnaHRzRW5hYmxlZCYmIXRoaXMuX2Rpc2FibGVMaWdodGluZyYmaWUuQmluZExpZ2h0cyhyLHQsYSxuLHRoaXMuX21heFNpbXVsdGFuZW91c0xpZ2h0cyksKHIuZm9nRW5hYmxlZCYmdC5hcHBseUZvZyYmci5mb2dNb2RlIT09bmUuRk9HTU9ERV9OT05FfHx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZXx8dGhpcy5fcmVmcmFjdGlvblRleHR1cmV8fHQucmVjZWl2ZVNoYWRvd3N8fG4uUFJFUEFTUykmJnRoaXMuYmluZFZpZXcoYSksaWUuQmluZEZvZ1BhcmFtZXRlcnMocix0LGEpLG4uTlVNX01PUlBIX0lORkxVRU5DRVJTJiZpZS5CaW5kTW9ycGhUYXJnZXRQYXJhbWV0ZXJzKHQsYSksbi5CQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkUmJigocz10LmJha2VkVmVydGV4QW5pbWF0aW9uTWFuYWdlcik9PT1udWxsfHxzPT09dm9pZCAwfHxzLmJpbmQoYSxuLklOU1RBTkNFUykpLHRoaXMudXNlTG9nYXJpdGhtaWNEZXB0aCYmaWUuQmluZExvZ0RlcHRoKG4sYSxyKSx0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uJiYhdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5hcHBseUJ5UG9zdFByb2Nlc3MmJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uYmluZCh0aGlzLl9hY3RpdmVFZmZlY3QpKSx0aGlzLl9hZnRlckJpbmQodCx0aGlzLl9hY3RpdmVFZmZlY3QpLGgudXBkYXRlKCl9Z2V0QW5pbWF0YWJsZXMoKXtjb25zdCBlPXN1cGVyLmdldEFuaW1hdGFibGVzKCk7cmV0dXJuIHRoaXMuX2RpZmZ1c2VUZXh0dXJlJiZ0aGlzLl9kaWZmdXNlVGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9kaWZmdXNlVGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZlLnB1c2godGhpcy5fZGlmZnVzZVRleHR1cmUpLHRoaXMuX2FtYmllbnRUZXh0dXJlJiZ0aGlzLl9hbWJpZW50VGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9hbWJpZW50VGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZlLnB1c2godGhpcy5fYW1iaWVudFRleHR1cmUpLHRoaXMuX29wYWNpdHlUZXh0dXJlJiZ0aGlzLl9vcGFjaXR5VGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9vcGFjaXR5VGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZlLnB1c2godGhpcy5fb3BhY2l0eVRleHR1cmUpLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlJiZ0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZlLnB1c2godGhpcy5fcmVmbGVjdGlvblRleHR1cmUpLHRoaXMuX2VtaXNzaXZlVGV4dHVyZSYmdGhpcy5fZW1pc3NpdmVUZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX2VtaXNzaXZlVGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZlLnB1c2godGhpcy5fZW1pc3NpdmVUZXh0dXJlKSx0aGlzLl9zcGVjdWxhclRleHR1cmUmJnRoaXMuX3NwZWN1bGFyVGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9zcGVjdWxhclRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmZS5wdXNoKHRoaXMuX3NwZWN1bGFyVGV4dHVyZSksdGhpcy5fYnVtcFRleHR1cmUmJnRoaXMuX2J1bXBUZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX2J1bXBUZXh0dXJlLmFuaW1hdGlvbnMubGVuZ3RoPjAmJmUucHVzaCh0aGlzLl9idW1wVGV4dHVyZSksdGhpcy5fbGlnaHRtYXBUZXh0dXJlJiZ0aGlzLl9saWdodG1hcFRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fbGlnaHRtYXBUZXh0dXJlLmFuaW1hdGlvbnMubGVuZ3RoPjAmJmUucHVzaCh0aGlzLl9saWdodG1hcFRleHR1cmUpLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlJiZ0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZlLnB1c2godGhpcy5fcmVmcmFjdGlvblRleHR1cmUpLGV9Z2V0QWN0aXZlVGV4dHVyZXMoKXtjb25zdCBlPXN1cGVyLmdldEFjdGl2ZVRleHR1cmVzKCk7cmV0dXJuIHRoaXMuX2RpZmZ1c2VUZXh0dXJlJiZlLnB1c2godGhpcy5fZGlmZnVzZVRleHR1cmUpLHRoaXMuX2FtYmllbnRUZXh0dXJlJiZlLnB1c2godGhpcy5fYW1iaWVudFRleHR1cmUpLHRoaXMuX29wYWNpdHlUZXh0dXJlJiZlLnB1c2godGhpcy5fb3BhY2l0eVRleHR1cmUpLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlJiZlLnB1c2godGhpcy5fcmVmbGVjdGlvblRleHR1cmUpLHRoaXMuX2VtaXNzaXZlVGV4dHVyZSYmZS5wdXNoKHRoaXMuX2VtaXNzaXZlVGV4dHVyZSksdGhpcy5fc3BlY3VsYXJUZXh0dXJlJiZlLnB1c2godGhpcy5fc3BlY3VsYXJUZXh0dXJlKSx0aGlzLl9idW1wVGV4dHVyZSYmZS5wdXNoKHRoaXMuX2J1bXBUZXh0dXJlKSx0aGlzLl9saWdodG1hcFRleHR1cmUmJmUucHVzaCh0aGlzLl9saWdodG1hcFRleHR1cmUpLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlJiZlLnB1c2godGhpcy5fcmVmcmFjdGlvblRleHR1cmUpLGV9aGFzVGV4dHVyZShlKXtyZXR1cm4hIShzdXBlci5oYXNUZXh0dXJlKGUpfHx0aGlzLl9kaWZmdXNlVGV4dHVyZT09PWV8fHRoaXMuX2FtYmllbnRUZXh0dXJlPT09ZXx8dGhpcy5fb3BhY2l0eVRleHR1cmU9PT1lfHx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZT09PWV8fHRoaXMuX2VtaXNzaXZlVGV4dHVyZT09PWV8fHRoaXMuX3NwZWN1bGFyVGV4dHVyZT09PWV8fHRoaXMuX2J1bXBUZXh0dXJlPT09ZXx8dGhpcy5fbGlnaHRtYXBUZXh0dXJlPT09ZXx8dGhpcy5fcmVmcmFjdGlvblRleHR1cmU9PT1lKX1kaXNwb3NlKGUsdCl7dmFyIGkscyxyLG4sYSxvLGgsbCx1O3QmJigoaT10aGlzLl9kaWZmdXNlVGV4dHVyZSk9PT1udWxsfHxpPT09dm9pZCAwfHxpLmRpc3Bvc2UoKSwocz10aGlzLl9hbWJpZW50VGV4dHVyZSk9PT1udWxsfHxzPT09dm9pZCAwfHxzLmRpc3Bvc2UoKSwocj10aGlzLl9vcGFjaXR5VGV4dHVyZSk9PT1udWxsfHxyPT09dm9pZCAwfHxyLmRpc3Bvc2UoKSwobj10aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSk9PT1udWxsfHxuPT09dm9pZCAwfHxuLmRpc3Bvc2UoKSwoYT10aGlzLl9lbWlzc2l2ZVRleHR1cmUpPT09bnVsbHx8YT09PXZvaWQgMHx8YS5kaXNwb3NlKCksKG89dGhpcy5fc3BlY3VsYXJUZXh0dXJlKT09PW51bGx8fG89PT12b2lkIDB8fG8uZGlzcG9zZSgpLChoPXRoaXMuX2J1bXBUZXh0dXJlKT09PW51bGx8fGg9PT12b2lkIDB8fGguZGlzcG9zZSgpLChsPXRoaXMuX2xpZ2h0bWFwVGV4dHVyZSk9PT1udWxsfHxsPT09dm9pZCAwfHxsLmRpc3Bvc2UoKSwodT10aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSk9PT1udWxsfHx1PT09dm9pZCAwfHx1LmRpc3Bvc2UoKSksdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiYmdGhpcy5faW1hZ2VQcm9jZXNzaW5nT2JzZXJ2ZXImJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24ub25VcGRhdGVQYXJhbWV0ZXJzLnJlbW92ZSh0aGlzLl9pbWFnZVByb2Nlc3NpbmdPYnNlcnZlciksc3VwZXIuZGlzcG9zZShlLHQpfWNsb25lKGUpe2NvbnN0IHQ9YWUuQ2xvbmUoKCk9Pm5ldyBCKGUsdGhpcy5nZXRTY2VuZSgpKSx0aGlzKTtyZXR1cm4gdC5uYW1lPWUsdC5pZD1lLHRoaXMuc3RlbmNpbC5jb3B5VG8odC5zdGVuY2lsKSx0fXN0YXRpYyBQYXJzZShlLHQsaSl7Y29uc3Qgcz1hZS5QYXJzZSgoKT0+bmV3IEIoZS5uYW1lLHQpLGUsdCxpKTtyZXR1cm4gZS5zdGVuY2lsJiZzLnN0ZW5jaWwucGFyc2UoZS5zdGVuY2lsLHQsaSksc31zdGF0aWMgZ2V0IERpZmZ1c2VUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB1ZS5EaWZmdXNlVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBEaWZmdXNlVGV4dHVyZUVuYWJsZWQoZSl7dWUuRGlmZnVzZVRleHR1cmVFbmFibGVkPWV9c3RhdGljIGdldCBEZXRhaWxUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB1ZS5EZXRhaWxUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IERldGFpbFRleHR1cmVFbmFibGVkKGUpe3VlLkRldGFpbFRleHR1cmVFbmFibGVkPWV9c3RhdGljIGdldCBBbWJpZW50VGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdWUuQW1iaWVudFRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgQW1iaWVudFRleHR1cmVFbmFibGVkKGUpe3VlLkFtYmllbnRUZXh0dXJlRW5hYmxlZD1lfXN0YXRpYyBnZXQgT3BhY2l0eVRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHVlLk9wYWNpdHlUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IE9wYWNpdHlUZXh0dXJlRW5hYmxlZChlKXt1ZS5PcGFjaXR5VGV4dHVyZUVuYWJsZWQ9ZX1zdGF0aWMgZ2V0IFJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCgpe3JldHVybiB1ZS5SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBSZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQoZSl7dWUuUmVmbGVjdGlvblRleHR1cmVFbmFibGVkPWV9c3RhdGljIGdldCBFbWlzc2l2ZVRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHVlLkVtaXNzaXZlVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBFbWlzc2l2ZVRleHR1cmVFbmFibGVkKGUpe3VlLkVtaXNzaXZlVGV4dHVyZUVuYWJsZWQ9ZX1zdGF0aWMgZ2V0IFNwZWN1bGFyVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdWUuU3BlY3VsYXJUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IFNwZWN1bGFyVGV4dHVyZUVuYWJsZWQoZSl7dWUuU3BlY3VsYXJUZXh0dXJlRW5hYmxlZD1lfXN0YXRpYyBnZXQgQnVtcFRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHVlLkJ1bXBUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IEJ1bXBUZXh0dXJlRW5hYmxlZChlKXt1ZS5CdW1wVGV4dHVyZUVuYWJsZWQ9ZX1zdGF0aWMgZ2V0IExpZ2h0bWFwVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdWUuTGlnaHRtYXBUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IExpZ2h0bWFwVGV4dHVyZUVuYWJsZWQoZSl7dWUuTGlnaHRtYXBUZXh0dXJlRW5hYmxlZD1lfXN0YXRpYyBnZXQgUmVmcmFjdGlvblRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHVlLlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IFJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZChlKXt1ZS5SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQ9ZX1zdGF0aWMgZ2V0IENvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkKCl7cmV0dXJuIHVlLkNvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWQoZSl7dWUuQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWQ9ZX1zdGF0aWMgZ2V0IEZyZXNuZWxFbmFibGVkKCl7cmV0dXJuIHVlLkZyZXNuZWxFbmFibGVkfXN0YXRpYyBzZXQgRnJlc25lbEVuYWJsZWQoZSl7dWUuRnJlc25lbEVuYWJsZWQ9ZX19VChbbXQoImRpZmZ1c2VUZXh0dXJlIildLEIucHJvdG90eXBlLCJfZGlmZnVzZVRleHR1cmUiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0FuZE1pc2NEaXJ0eSIpXSxCLnByb3RvdHlwZSwiZGlmZnVzZVRleHR1cmUiLHZvaWQgMCksVChbbXQoImFtYmllbnRUZXh0dXJlIildLEIucHJvdG90eXBlLCJfYW1iaWVudFRleHR1cmUiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJhbWJpZW50VGV4dHVyZSIsdm9pZCAwKSxUKFttdCgib3BhY2l0eVRleHR1cmUiKV0sQi5wcm90b3R5cGUsIl9vcGFjaXR5VGV4dHVyZSIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzQW5kTWlzY0RpcnR5IildLEIucHJvdG90eXBlLCJvcGFjaXR5VGV4dHVyZSIsdm9pZCAwKSxUKFttdCgicmVmbGVjdGlvblRleHR1cmUiKV0sQi5wcm90b3R5cGUsIl9yZWZsZWN0aW9uVGV4dHVyZSIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsInJlZmxlY3Rpb25UZXh0dXJlIix2b2lkIDApLFQoW210KCJlbWlzc2l2ZVRleHR1cmUiKV0sQi5wcm90b3R5cGUsIl9lbWlzc2l2ZVRleHR1cmUiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJlbWlzc2l2ZVRleHR1cmUiLHZvaWQgMCksVChbbXQoInNwZWN1bGFyVGV4dHVyZSIpXSxCLnByb3RvdHlwZSwiX3NwZWN1bGFyVGV4dHVyZSIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsInNwZWN1bGFyVGV4dHVyZSIsdm9pZCAwKSxUKFttdCgiYnVtcFRleHR1cmUiKV0sQi5wcm90b3R5cGUsIl9idW1wVGV4dHVyZSIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsImJ1bXBUZXh0dXJlIix2b2lkIDApLFQoW210KCJsaWdodG1hcFRleHR1cmUiKV0sQi5wcm90b3R5cGUsIl9saWdodG1hcFRleHR1cmUiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJsaWdodG1hcFRleHR1cmUiLHZvaWQgMCksVChbbXQoInJlZnJhY3Rpb25UZXh0dXJlIildLEIucHJvdG90eXBlLCJfcmVmcmFjdGlvblRleHR1cmUiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJyZWZyYWN0aW9uVGV4dHVyZSIsdm9pZCAwKSxUKFtjaSgiYW1iaWVudCIpXSxCLnByb3RvdHlwZSwiYW1iaWVudENvbG9yIix2b2lkIDApLFQoW2NpKCJkaWZmdXNlIildLEIucHJvdG90eXBlLCJkaWZmdXNlQ29sb3IiLHZvaWQgMCksVChbY2koInNwZWN1bGFyIildLEIucHJvdG90eXBlLCJzcGVjdWxhckNvbG9yIix2b2lkIDApLFQoW2NpKCJlbWlzc2l2ZSIpXSxCLnByb3RvdHlwZSwiZW1pc3NpdmVDb2xvciIsdm9pZCAwKSxUKFtSKCldLEIucHJvdG90eXBlLCJzcGVjdWxhclBvd2VyIix2b2lkIDApLFQoW1IoInVzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlIildLEIucHJvdG90eXBlLCJfdXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmUiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0FuZE1pc2NEaXJ0eSIpXSxCLnByb3RvdHlwZSwidXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmUiLHZvaWQgMCksVChbUigidXNlRW1pc3NpdmVBc0lsbHVtaW5hdGlvbiIpXSxCLnByb3RvdHlwZSwiX3VzZUVtaXNzaXZlQXNJbGx1bWluYXRpb24iLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJ1c2VFbWlzc2l2ZUFzSWxsdW1pbmF0aW9uIix2b2lkIDApLFQoW1IoImxpbmtFbWlzc2l2ZVdpdGhEaWZmdXNlIildLEIucHJvdG90eXBlLCJfbGlua0VtaXNzaXZlV2l0aERpZmZ1c2UiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJsaW5rRW1pc3NpdmVXaXRoRGlmZnVzZSIsdm9pZCAwKSxUKFtSKCJ1c2VTcGVjdWxhck92ZXJBbHBoYSIpXSxCLnByb3RvdHlwZSwiX3VzZVNwZWN1bGFyT3ZlckFscGhhIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwidXNlU3BlY3VsYXJPdmVyQWxwaGEiLHZvaWQgMCksVChbUigidXNlUmVmbGVjdGlvbk92ZXJBbHBoYSIpXSxCLnByb3RvdHlwZSwiX3VzZVJlZmxlY3Rpb25PdmVyQWxwaGEiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJ1c2VSZWZsZWN0aW9uT3ZlckFscGhhIix2b2lkIDApLFQoW1IoImRpc2FibGVMaWdodGluZyIpXSxCLnByb3RvdHlwZSwiX2Rpc2FibGVMaWdodGluZyIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc0xpZ2h0c0RpcnR5IildLEIucHJvdG90eXBlLCJkaXNhYmxlTGlnaHRpbmciLHZvaWQgMCksVChbUigidXNlT2JqZWN0U3BhY2VOb3JtYWxNYXAiKV0sQi5wcm90b3R5cGUsIl91c2VPYmplY3RTcGFjZU5vcm1hbE1hcCIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsInVzZU9iamVjdFNwYWNlTm9ybWFsTWFwIix2b2lkIDApLFQoW1IoInVzZVBhcmFsbGF4IildLEIucHJvdG90eXBlLCJfdXNlUGFyYWxsYXgiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJ1c2VQYXJhbGxheCIsdm9pZCAwKSxUKFtSKCJ1c2VQYXJhbGxheE9jY2x1c2lvbiIpXSxCLnByb3RvdHlwZSwiX3VzZVBhcmFsbGF4T2NjbHVzaW9uIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwidXNlUGFyYWxsYXhPY2NsdXNpb24iLHZvaWQgMCksVChbUigpXSxCLnByb3RvdHlwZSwicGFyYWxsYXhTY2FsZUJpYXMiLHZvaWQgMCksVChbUigicm91Z2huZXNzIildLEIucHJvdG90eXBlLCJfcm91Z2huZXNzIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwicm91Z2huZXNzIix2b2lkIDApLFQoW1IoKV0sQi5wcm90b3R5cGUsImluZGV4T2ZSZWZyYWN0aW9uIix2b2lkIDApLFQoW1IoKV0sQi5wcm90b3R5cGUsImludmVydFJlZnJhY3Rpb25ZIix2b2lkIDApLFQoW1IoKV0sQi5wcm90b3R5cGUsImFscGhhQ3V0T2ZmIix2b2lkIDApLFQoW1IoInVzZUxpZ2h0bWFwQXNTaGFkb3dtYXAiKV0sQi5wcm90b3R5cGUsIl91c2VMaWdodG1hcEFzU2hhZG93bWFwIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwidXNlTGlnaHRtYXBBc1NoYWRvd21hcCIsdm9pZCAwKSxUKFtOaSgiZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzIildLEIucHJvdG90eXBlLCJfZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbERpcnR5IildLEIucHJvdG90eXBlLCJkaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbTmkoIm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycyIpXSxCLnByb3RvdHlwZSwiX29wYWNpdHlGcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxBbmRNaXNjRGlydHkiKV0sQi5wcm90b3R5cGUsIm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtOaSgicmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzIildLEIucHJvdG90eXBlLCJfcmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbERpcnR5IildLEIucHJvdG90eXBlLCJyZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbTmkoInJlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycyIpXSxCLnByb3RvdHlwZSwiX3JlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxEaXJ0eSIpXSxCLnByb3RvdHlwZSwicmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW05pKCJlbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzIildLEIucHJvdG90eXBlLCJfZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxEaXJ0eSIpXSxCLnByb3RvdHlwZSwiZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtSKCJ1c2VSZWZsZWN0aW9uRnJlc25lbEZyb21TcGVjdWxhciIpXSxCLnByb3RvdHlwZSwiX3VzZVJlZmxlY3Rpb25GcmVzbmVsRnJvbVNwZWN1bGFyIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbERpcnR5IildLEIucHJvdG90eXBlLCJ1c2VSZWZsZWN0aW9uRnJlc25lbEZyb21TcGVjdWxhciIsdm9pZCAwKSxUKFtSKCJ1c2VHbG9zc2luZXNzRnJvbVNwZWN1bGFyTWFwQWxwaGEiKV0sQi5wcm90b3R5cGUsIl91c2VHbG9zc2luZXNzRnJvbVNwZWN1bGFyTWFwQWxwaGEiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJ1c2VHbG9zc2luZXNzRnJvbVNwZWN1bGFyTWFwQWxwaGEiLHZvaWQgMCksVChbUigibWF4U2ltdWx0YW5lb3VzTGlnaHRzIildLEIucHJvdG90eXBlLCJfbWF4U2ltdWx0YW5lb3VzTGlnaHRzIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzTGlnaHRzRGlydHkiKV0sQi5wcm90b3R5cGUsIm1heFNpbXVsdGFuZW91c0xpZ2h0cyIsdm9pZCAwKSxUKFtSKCJpbnZlcnROb3JtYWxNYXBYIildLEIucHJvdG90eXBlLCJfaW52ZXJ0Tm9ybWFsTWFwWCIsdm9pZCAwKSxUKFtiZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsImludmVydE5vcm1hbE1hcFgiLHZvaWQgMCksVChbUigiaW52ZXJ0Tm9ybWFsTWFwWSIpXSxCLnByb3RvdHlwZSwiX2ludmVydE5vcm1hbE1hcFkiLHZvaWQgMCksVChbYmUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJpbnZlcnROb3JtYWxNYXBZIix2b2lkIDApLFQoW1IoInR3b1NpZGVkTGlnaHRpbmciKV0sQi5wcm90b3R5cGUsIl90d29TaWRlZExpZ2h0aW5nIix2b2lkIDApLFQoW2JlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwidHdvU2lkZWRMaWdodGluZyIsdm9pZCAwKSxUKFtSKCldLEIucHJvdG90eXBlLCJ1c2VMb2dhcml0aG1pY0RlcHRoIixudWxsKSxpdCgiQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsIixCKSxuZS5EZWZhdWx0TWF0ZXJpYWxGYWN0b3J5PWM9Pm5ldyBCKCJkZWZhdWx0IG1hdGVyaWFsIixjKTtjb25zdCBFbD0iaW1hZ2VQcm9jZXNzaW5nQ29tcGF0aWJpbGl0eSIsdmw9YCNpZmRlZiBJTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUwpnbF9GcmFnQ29sb3IucmdiPXBvdyhnbF9GcmFnQ29sb3IucmdiLHZlYzMoMi4yKSk7CiNlbmRpZgpgO1UuSW5jbHVkZXNTaGFkZXJzU3RvcmVbRWxdPXZsO2NvbnN0IFRsPSJzaGFkb3dPbmx5UGl4ZWxTaGFkZXIiLGJsPWBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7CnVuaWZvcm0gdmVjNCB2RXllUG9zaXRpb247CnVuaWZvcm0gZmxvYXQgYWxwaGE7CnVuaWZvcm0gdmVjMyBzaGFkb3dDb2xvcjsKdmFyeWluZyB2ZWMzIHZQb3NpdGlvblc7CiNpZmRlZiBOT1JNQUwKdmFyeWluZyB2ZWMzIHZOb3JtYWxXOwojZW5kaWYKI2luY2x1ZGU8aGVscGVyRnVuY3Rpb25zPgojaW5jbHVkZTxfX2RlY2xfX2xpZ2h0RnJhZ21lbnQ+WzAuLm1heFNpbXVsdGFuZW91c0xpZ2h0c10KI2luY2x1ZGU8bGlnaHRzRnJhZ21lbnRGdW5jdGlvbnM+CiNpbmNsdWRlPHNoYWRvd3NGcmFnbWVudEZ1bmN0aW9ucz4KI2luY2x1ZGU8Y2xpcFBsYW5lRnJhZ21lbnREZWNsYXJhdGlvbj4KI2luY2x1ZGU8Zm9nRnJhZ21lbnREZWNsYXJhdGlvbj4KI2RlZmluZSBDVVNUT01fRlJBR01FTlRfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpIHsKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfTUFJTl9CRUdJTgojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudD4KdmVjMyB2aWV3RGlyZWN0aW9uVz1ub3JtYWxpemUodkV5ZVBvc2l0aW9uLnh5ei12UG9zaXRpb25XKTsKI2lmZGVmIE5PUk1BTAp2ZWMzIG5vcm1hbFc9bm9ybWFsaXplKHZOb3JtYWxXKTsKI2Vsc2UKdmVjMyBub3JtYWxXPXZlYzMoMS4wLDEuMCwxLjApOwojZW5kaWYKdmVjMyBkaWZmdXNlQmFzZT12ZWMzKDAuLDAuLDAuKTsKbGlnaHRpbmdJbmZvIGluZm87CmZsb2F0IHNoYWRvdz0xLjsKZmxvYXQgZ2xvc3NpbmVzcz0wLjsKI2luY2x1ZGU8bGlnaHRGcmFnbWVudD5bMC4uMV0KdmVjNCBjb2xvcj12ZWM0KHNoYWRvd0NvbG9yLCgxLjAtY2xhbXAoc2hhZG93LDAuLDEuKSkqYWxwaGEpOwojaW5jbHVkZTxmb2dGcmFnbWVudD4KZ2xfRnJhZ0NvbG9yPWNvbG9yOwojaW5jbHVkZTxpbWFnZVByb2Nlc3NpbmdDb21wYXRpYmlsaXR5PgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9NQUlOX0VORAp9YDtVLlNoYWRlcnNTdG9yZVtUbF09Ymw7Y29uc3QgU2w9InNoYWRvd09ubHlWZXJ0ZXhTaGFkZXIiLHhsPWBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7CmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uOwojaWZkZWYgTk9STUFMCmF0dHJpYnV0ZSB2ZWMzIG5vcm1hbDsKI2VuZGlmCiNpbmNsdWRlPGJvbmVzRGVjbGFyYXRpb24+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uRGVjbGFyYXRpb24+CiNpbmNsdWRlPGluc3RhbmNlc0RlY2xhcmF0aW9uPgp1bmlmb3JtIG1hdDQgdmlldzsKdW5pZm9ybSBtYXQ0IHZpZXdQcm9qZWN0aW9uOwojaWZkZWYgUE9JTlRTSVpFCnVuaWZvcm0gZmxvYXQgcG9pbnRTaXplOwojZW5kaWYKdmFyeWluZyB2ZWMzIHZQb3NpdGlvblc7CiNpZmRlZiBOT1JNQUwKdmFyeWluZyB2ZWMzIHZOb3JtYWxXOwojZW5kaWYKI2lmZGVmIFZFUlRFWENPTE9SCnZhcnlpbmcgdmVjNCB2Q29sb3I7CiNlbmRpZgojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8Zm9nVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPF9fZGVjbF9fbGlnaHRGcmFnbWVudD5bMC4ubWF4U2ltdWx0YW5lb3VzTGlnaHRzXQojZGVmaW5lIENVU1RPTV9WRVJURVhfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpIHsKI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fQkVHSU4KI2luY2x1ZGU8aW5zdGFuY2VzVmVydGV4PgojaW5jbHVkZTxib25lc1ZlcnRleD4KI2luY2x1ZGU8YmFrZWRWZXJ0ZXhBbmltYXRpb24+CnZlYzQgd29ybGRQb3M9ZmluYWxXb3JsZCp2ZWM0KHBvc2l0aW9uLDEuMCk7CmdsX1Bvc2l0aW9uPXZpZXdQcm9qZWN0aW9uKndvcmxkUG9zOwp2UG9zaXRpb25XPXZlYzMod29ybGRQb3MpOwojaWZkZWYgTk9STUFMCnZOb3JtYWxXPW5vcm1hbGl6ZSh2ZWMzKGZpbmFsV29ybGQqdmVjNChub3JtYWwsMC4wKSkpOwojZW5kaWYKI2luY2x1ZGU8Y2xpcFBsYW5lVmVydGV4PgojaW5jbHVkZTxmb2dWZXJ0ZXg+CiNpbmNsdWRlPHNoYWRvd3NWZXJ0ZXg+WzAuLm1heFNpbXVsdGFuZW91c0xpZ2h0c10KI2lmIGRlZmluZWQoUE9JTlRTSVpFKSAmJiAhZGVmaW5lZChXRUJHUFUpCmdsX1BvaW50U2l6ZT1wb2ludFNpemU7CiNlbmRpZgojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9FTkQKfQpgO1UuU2hhZGVyc1N0b3JlW1NsXT14bDtjbGFzcyBNbCBleHRlbmRzIHlze2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLkNMSVBQTEFORT0hMSx0aGlzLkNMSVBQTEFORTI9ITEsdGhpcy5DTElQUExBTkUzPSExLHRoaXMuQ0xJUFBMQU5FND0hMSx0aGlzLkNMSVBQTEFORTU9ITEsdGhpcy5DTElQUExBTkU2PSExLHRoaXMuUE9JTlRTSVpFPSExLHRoaXMuRk9HPSExLHRoaXMuTk9STUFMPSExLHRoaXMuTlVNX0JPTkVfSU5GTFVFTkNFUlM9MCx0aGlzLkJvbmVzUGVyTWVzaD0wLHRoaXMuSU5TVEFOQ0VTPSExLHRoaXMuSU1BR0VQUk9DRVNTSU5HUE9TVFBST0NFU1M9ITEsdGhpcy5TS0lQRklOQUxDT0xPUkNMQU1QPSExLHRoaXMucmVidWlsZCgpfX1jbGFzcyBraSBleHRlbmRzIFZye2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLl9uZWVkQWxwaGFCbGVuZGluZz0hMCx0aGlzLnNoYWRvd0NvbG9yPXJlLkJsYWNrKCl9bmVlZEFscGhhQmxlbmRpbmcoKXtyZXR1cm4gdGhpcy5fbmVlZEFscGhhQmxlbmRpbmd9bmVlZEFscGhhVGVzdGluZygpe3JldHVybiExfWdldEFscGhhVGVzdFRleHR1cmUoKXtyZXR1cm4gbnVsbH1nZXQgYWN0aXZlTGlnaHQoKXtyZXR1cm4gdGhpcy5fYWN0aXZlTGlnaHR9c2V0IGFjdGl2ZUxpZ2h0KGUpe3RoaXMuX2FjdGl2ZUxpZ2h0PWV9X2dldEZpcnN0U2hhZG93TGlnaHRGb3JNZXNoKGUpe2Zvcihjb25zdCB0IG9mIGUubGlnaHRTb3VyY2VzKWlmKHQuc2hhZG93RW5hYmxlZClyZXR1cm4gdDtyZXR1cm4gbnVsbH1pc1JlYWR5Rm9yU3ViTWVzaChlLHQsaSl7dmFyIHM7aWYodGhpcy5pc0Zyb3plbiYmdC5lZmZlY3QmJnQuZWZmZWN0Ll93YXNQcmV2aW91c2x5UmVhZHkmJnQuZWZmZWN0Ll93YXNQcmV2aW91c2x5VXNpbmdJbnN0YW5jZXM9PT1pKXJldHVybiEwO3QubWF0ZXJpYWxEZWZpbmVzfHwodC5tYXRlcmlhbERlZmluZXM9bmV3IE1sKTtjb25zdCByPXQubWF0ZXJpYWxEZWZpbmVzLG49dGhpcy5nZXRTY2VuZSgpO2lmKHRoaXMuX2lzUmVhZHlGb3JTdWJNZXNoKHQpKXJldHVybiEwO2NvbnN0IGE9bi5nZXRFbmdpbmUoKTtpZih0aGlzLl9hY3RpdmVMaWdodCl7Zm9yKGNvbnN0IGggb2YgZS5saWdodFNvdXJjZXMpaWYoaC5zaGFkb3dFbmFibGVkKXtpZih0aGlzLl9hY3RpdmVMaWdodD09PWgpYnJlYWs7Y29uc3QgbD1lLmxpZ2h0U291cmNlcy5pbmRleE9mKHRoaXMuX2FjdGl2ZUxpZ2h0KTtsIT09LTEmJihlLmxpZ2h0U291cmNlcy5zcGxpY2UobCwxKSxlLmxpZ2h0U291cmNlcy5zcGxpY2UoMCwwLHRoaXMuX2FjdGl2ZUxpZ2h0KSk7YnJlYWt9fWllLlByZXBhcmVEZWZpbmVzRm9yRnJhbWVCb3VuZFZhbHVlcyhuLGEsdGhpcyxyLCEhaSksaWUuUHJlcGFyZURlZmluZXNGb3JNaXNjKGUsbiwhMSx0aGlzLnBvaW50c0Nsb3VkLHRoaXMuZm9nRW5hYmxlZCx0aGlzLl9zaG91bGRUdXJuQWxwaGFUZXN0T24oZSksciksci5fbmVlZE5vcm1hbHM9aWUuUHJlcGFyZURlZmluZXNGb3JMaWdodHMobixlLHIsITEsMSk7Y29uc3Qgbz0ocz10aGlzLl9nZXRGaXJzdFNoYWRvd0xpZ2h0Rm9yTWVzaChlKSk9PT1udWxsfHxzPT09dm9pZCAwP3ZvaWQgMDpzLmdldFNoYWRvd0dlbmVyYXRvcigpO2lmKHRoaXMuX25lZWRBbHBoYUJsZW5kaW5nPSEwLG8mJm8uZ2V0Q2xhc3NOYW1lJiZvLmdldENsYXNzTmFtZSgpPT09IkNhc2NhZGVkU2hhZG93R2VuZXJhdG9yIil7Y29uc3QgaD1vO3RoaXMuX25lZWRBbHBoYUJsZW5kaW5nPSFoLmF1dG9DYWxjRGVwdGhCb3VuZHN9aWYoaWUuUHJlcGFyZURlZmluZXNGb3JBdHRyaWJ1dGVzKGUsciwhMSwhMCksci5pc0RpcnR5KXtyLm1hcmtBc1Byb2Nlc3NlZCgpLG4ucmVzZXRDYWNoZWRNYXRlcmlhbCgpO2NvbnN0IGg9bmV3IHpzO3IuRk9HJiZoLmFkZEZhbGxiYWNrKDEsIkZPRyIpLGllLkhhbmRsZUZhbGxiYWNrc0ZvclNoYWRvd3MocixoLDEpLHIuTlVNX0JPTkVfSU5GTFVFTkNFUlM+MCYmaC5hZGRDUFVTa2lubmluZ0ZhbGxiYWNrKDAsZSksci5JTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUz1uLmltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uYXBwbHlCeVBvc3RQcm9jZXNzO2NvbnN0IGw9W2cuUG9zaXRpb25LaW5kXTtyLk5PUk1BTCYmbC5wdXNoKGcuTm9ybWFsS2luZCksaWUuUHJlcGFyZUF0dHJpYnV0ZXNGb3JCb25lcyhsLGUscixoKSxpZS5QcmVwYXJlQXR0cmlidXRlc0Zvckluc3RhbmNlcyhsLHIpO2NvbnN0IHU9InNoYWRvd09ubHkiLGQ9ci50b1N0cmluZygpLGY9WyJ3b3JsZCIsInZpZXciLCJ2aWV3UHJvamVjdGlvbiIsInZFeWVQb3NpdGlvbiIsInZMaWdodHNUeXBlIiwidkZvZ0luZm9zIiwidkZvZ0NvbG9yIiwicG9pbnRTaXplIiwiYWxwaGEiLCJzaGFkb3dDb2xvciIsIm1Cb25lcyJdLF89bmV3IEFycmF5LEU9bmV3IEFycmF5O3NzKGYpLGllLlByZXBhcmVVbmlmb3Jtc0FuZFNhbXBsZXJzTGlzdCh7dW5pZm9ybXNOYW1lczpmLHVuaWZvcm1CdWZmZXJzTmFtZXM6RSxzYW1wbGVyczpfLGRlZmluZXM6cixtYXhTaW11bHRhbmVvdXNMaWdodHM6MX0pLHQuc2V0RWZmZWN0KG4uZ2V0RW5naW5lKCkuY3JlYXRlRWZmZWN0KHUse2F0dHJpYnV0ZXM6bCx1bmlmb3Jtc05hbWVzOmYsdW5pZm9ybUJ1ZmZlcnNOYW1lczpFLHNhbXBsZXJzOl8sZGVmaW5lczpkLGZhbGxiYWNrczpoLG9uQ29tcGlsZWQ6dGhpcy5vbkNvbXBpbGVkLG9uRXJyb3I6dGhpcy5vbkVycm9yLGluZGV4UGFyYW1ldGVyczp7bWF4U2ltdWx0YW5lb3VzTGlnaHRzOjF9fSxhKSxyLHRoaXMuX21hdGVyaWFsQ29udGV4dCl9cmV0dXJuIXQuZWZmZWN0fHwhdC5lZmZlY3QuaXNSZWFkeSgpPyExOihyLl9yZW5kZXJJZD1uLmdldFJlbmRlcklkKCksdC5lZmZlY3QuX3dhc1ByZXZpb3VzbHlSZWFkeT0hMCx0LmVmZmVjdC5fd2FzUHJldmlvdXNseVVzaW5nSW5zdGFuY2VzPSEhaSwhMCl9YmluZEZvclN1Yk1lc2goZSx0LGkpe2NvbnN0IHM9dGhpcy5nZXRTY2VuZSgpLHI9aS5tYXRlcmlhbERlZmluZXM7aWYoIXIpcmV0dXJuO2NvbnN0IG49aS5lZmZlY3Q7aWYobil7aWYodGhpcy5fYWN0aXZlRWZmZWN0PW4sdGhpcy5iaW5kT25seVdvcmxkTWF0cml4KGUpLHRoaXMuX2FjdGl2ZUVmZmVjdC5zZXRNYXRyaXgoInZpZXdQcm9qZWN0aW9uIixzLmdldFRyYW5zZm9ybU1hdHJpeCgpKSxpZS5CaW5kQm9uZXNQYXJhbWV0ZXJzKHQsdGhpcy5fYWN0aXZlRWZmZWN0KSx0aGlzLl9tdXN0UmViaW5kKHMsbikmJihycyhuLHRoaXMscyksdGhpcy5wb2ludHNDbG91ZCYmdGhpcy5fYWN0aXZlRWZmZWN0LnNldEZsb2F0KCJwb2ludFNpemUiLHRoaXMucG9pbnRTaXplKSx0aGlzLl9hY3RpdmVFZmZlY3Quc2V0RmxvYXQoImFscGhhIix0aGlzLmFscGhhKSx0aGlzLl9hY3RpdmVFZmZlY3Quc2V0Q29sb3IzKCJzaGFkb3dDb2xvciIsdGhpcy5zaGFkb3dDb2xvcikscy5iaW5kRXllUG9zaXRpb24obikpLHMubGlnaHRzRW5hYmxlZCl7aWUuQmluZExpZ2h0cyhzLHQsdGhpcy5fYWN0aXZlRWZmZWN0LHIsMSk7Y29uc3QgYT10aGlzLl9nZXRGaXJzdFNoYWRvd0xpZ2h0Rm9yTWVzaCh0KTthJiYoYS5fcmVuZGVySWQ9LTEpfShzLmZvZ0VuYWJsZWQmJnQuYXBwbHlGb2cmJnMuZm9nTW9kZSE9PW5lLkZPR01PREVfTk9ORXx8ci5TSEFET1dDU00wKSYmdGhpcy5fYWN0aXZlRWZmZWN0LnNldE1hdHJpeCgidmlldyIscy5nZXRWaWV3TWF0cml4KCkpLGllLkJpbmRGb2dQYXJhbWV0ZXJzKHMsdCx0aGlzLl9hY3RpdmVFZmZlY3QpLHRoaXMuX2FmdGVyQmluZCh0LHRoaXMuX2FjdGl2ZUVmZmVjdCl9fWNsb25lKGUpe3JldHVybiBhZS5DbG9uZSgoKT0+bmV3IGtpKGUsdGhpcy5nZXRTY2VuZSgpKSx0aGlzKX1zZXJpYWxpemUoKXtjb25zdCBlPXN1cGVyLnNlcmlhbGl6ZSgpO3JldHVybiBlLmN1c3RvbVR5cGU9IkJBQllMT04uU2hhZG93T25seU1hdGVyaWFsIixlfWdldENsYXNzTmFtZSgpe3JldHVybiJTaGFkb3dPbmx5TWF0ZXJpYWwifXN0YXRpYyBQYXJzZShlLHQsaSl7cmV0dXJuIGFlLlBhcnNlKCgpPT5uZXcga2koZS5uYW1lLHQpLGUsdCxpKX19aXQoIkJBQllMT04uU2hhZG93T25seU1hdGVyaWFsIixraSk7Y29uc3QgQWw9e2FzcGVjdDozMDAvMTUwLGVuYWJsZURlYnVnZ2luZzohMSxlbmFibGVTaGFkb3dzOiEwfTtjbGFzcyBSbHtjb25zdHJ1Y3RvcihlKXtidCh0aGlzLCJzaXplIiw5LjUpO3RoaXMuY29uZmlnPXsuLi5BbCwuLi5lfSx0aGlzLmNyZWF0ZSgpfWNyZWF0ZShlKXt0aGlzLmRlc3Ryb3koKSxPYmplY3QuYXNzaWduKHRoaXMuY29uZmlnLGUpO2NvbnN0e2FzcGVjdDp0LGVuYWJsZURlYnVnZ2luZzppPSEwLGVuYWJsZVNoYWRvd3M6c309dGhpcy5jb25maWcscj0zMDtsZXQgbjt0aGlzLmJveD1uZXcgSigiZGljZUJveCIpLGk/KG49bmV3IEIoImRpY2VCb3hfbWF0ZXJpYWwiKSxuLmFscGhhPS43LG4uZGlmZnVzZUNvbG9yPW5ldyByZSgxLDEsMCkpOnMmJihuPW5ldyBraSgic2hhZG93T25seSIsdGhpcy5jb25maWcuc2NlbmUpKTtjb25zdCBhPU1pKCJncm91bmQiLHt3aWR0aDp0aGlzLnNpemUqMixoZWlnaHQ6MSxkZXB0aDp0aGlzLnNpemUqMn0sdGhpcy5jb25maWcuc2NlbmUpO2lmKGEuc2NhbGluZz1uZXcgcCh0LDEsMSksYS5tYXRlcmlhbD1uLGEucmVjZWl2ZVNoYWRvd3M9ITAsYS5zZXRQYXJlbnQodGhpcy5ib3gpLGkpe2NvbnN0IG89TWkoIndhbGxUb3AiLHt3aWR0aDp0aGlzLnNpemUsaGVpZ2h0OnIsZGVwdGg6MX0sdGhpcy5jb25maWcuc2NlbmUpO28ucG9zaXRpb24ueT1yLzIsby5wb3NpdGlvbi56PXRoaXMuc2l6ZS8tMixvLnNjYWxpbmc9bmV3IHAodCwxLDEpLG8ubWF0ZXJpYWw9bixvLnNldFBhcmVudCh0aGlzLmJveCk7Y29uc3QgaD1NaSgid2FsbFJpZ2h0Iix7d2lkdGg6MSxoZWlnaHQ6cixkZXB0aDp0aGlzLnNpemV9LHRoaXMuY29uZmlnLnNjZW5lKTtoLnBvc2l0aW9uLng9dGhpcy5zaXplKnQvMixoLnBvc2l0aW9uLnk9ci8yLGgubWF0ZXJpYWw9bixoLnNldFBhcmVudCh0aGlzLmJveCk7Y29uc3QgbD1NaSgid2FsbEJvdHRvbSIse3dpZHRoOnRoaXMuc2l6ZSxoZWlnaHQ6cixkZXB0aDoxfSx0aGlzLmNvbmZpZy5zY2VuZSk7bC5wb3NpdGlvbi55PXIvMixsLnBvc2l0aW9uLno9dGhpcy5zaXplLzIsbC5zY2FsaW5nPW5ldyBwKHQsMSwxKSxsLm1hdGVyaWFsPW4sbC5zZXRQYXJlbnQodGhpcy5ib3gpO2NvbnN0IHU9TWkoIndhbGxMZWZ0Iix7d2lkdGg6MSxoZWlnaHQ6cixkZXB0aDp0aGlzLnNpemV9LHRoaXMuY29uZmlnLnNjZW5lKTt1LnBvc2l0aW9uLng9dGhpcy5zaXplKnQvLTIsdS5wb3NpdGlvbi55PXIvMix1Lm1hdGVyaWFsPW4sdS5zZXRQYXJlbnQodGhpcy5ib3gpfX1kZXN0cm95KCl7dGhpcy5ib3gmJnRoaXMuYm94LmRpc3Bvc2UoKX19dmFyIHRpOyhmdW5jdGlvbihjKXtjW2MuQ2xlYW49MF09IkNsZWFuIixjW2MuU3RvcD0xXT0iU3RvcCIsY1tjLlN5bmM9Ml09IlN5bmMiLGNbYy5Ob1N5bmM9M109Ik5vU3luYyJ9KSh0aXx8KHRpPXt9KSk7Y2xhc3MgbGV7c3RhdGljIGdldCBGb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbCgpe3JldHVybiBPZS5Gb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbH1zdGF0aWMgc2V0IEZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsKGUpe09lLkZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsPWV9c3RhdGljIGdldCBTaG93TG9hZGluZ1NjcmVlbigpe3JldHVybiBPZS5TaG93TG9hZGluZ1NjcmVlbn1zdGF0aWMgc2V0IFNob3dMb2FkaW5nU2NyZWVuKGUpe09lLlNob3dMb2FkaW5nU2NyZWVuPWV9c3RhdGljIGdldCBsb2dnaW5nTGV2ZWwoKXtyZXR1cm4gT2UubG9nZ2luZ0xldmVsfXN0YXRpYyBzZXQgbG9nZ2luZ0xldmVsKGUpe09lLmxvZ2dpbmdMZXZlbD1lfXN0YXRpYyBnZXQgQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cygpe3JldHVybiBPZS5DbGVhbkJvbmVNYXRyaXhXZWlnaHRzfXN0YXRpYyBzZXQgQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cyhlKXtPZS5DbGVhbkJvbmVNYXRyaXhXZWlnaHRzPWV9c3RhdGljIEdldERlZmF1bHRQbHVnaW4oKXtyZXR1cm4gbGUuX1JlZ2lzdGVyZWRQbHVnaW5zWyIuYmFieWxvbiJdfXN0YXRpYyBfR2V0UGx1Z2luRm9yRXh0ZW5zaW9uKGUpe2NvbnN0IHQ9bGUuX1JlZ2lzdGVyZWRQbHVnaW5zW2VdO3JldHVybiB0fHwoTy5XYXJuKCJVbmFibGUgdG8gZmluZCBhIHBsdWdpbiB0byBsb2FkICIrZSsiIGZpbGVzLiBUcnlpbmcgdG8gdXNlIC5iYWJ5bG9uIGRlZmF1bHQgcGx1Z2luLiBUbyBsb2FkIGZyb20gYSBzcGVjaWZpYyBmaWxldHlwZSAoZWcuIGdsdGYpIHNlZTogaHR0cHM6Ly9kb2MuYmFieWxvbmpzLmNvbS9mZWF0dXJlcy9mZWF0dXJlc0RlZXBEaXZlL2ltcG9ydGVycy9sb2FkaW5nRmlsZVR5cGVzIiksbGUuR2V0RGVmYXVsdFBsdWdpbigpKX1zdGF0aWMgX0dldFBsdWdpbkZvckRpcmVjdExvYWQoZSl7Zm9yKGNvbnN0IHQgaW4gbGUuX1JlZ2lzdGVyZWRQbHVnaW5zKXtjb25zdCBpPWxlLl9SZWdpc3RlcmVkUGx1Z2luc1t0XS5wbHVnaW47aWYoaS5jYW5EaXJlY3RMb2FkJiZpLmNhbkRpcmVjdExvYWQoZSkpcmV0dXJuIGxlLl9SZWdpc3RlcmVkUGx1Z2luc1t0XX1yZXR1cm4gbGUuR2V0RGVmYXVsdFBsdWdpbigpfXN0YXRpYyBfR2V0UGx1Z2luRm9yRmlsZW5hbWUoZSl7Y29uc3QgdD1lLmluZGV4T2YoIj8iKTt0IT09LTEmJihlPWUuc3Vic3RyaW5nKDAsdCkpO2NvbnN0IGk9ZS5sYXN0SW5kZXhPZigiLiIpLHM9ZS5zdWJzdHJpbmcoaSxlLmxlbmd0aCkudG9Mb3dlckNhc2UoKTtyZXR1cm4gbGUuX0dldFBsdWdpbkZvckV4dGVuc2lvbihzKX1zdGF0aWMgX0dldERpcmVjdExvYWQoZSl7cmV0dXJuIGUuc3Vic3RyKDAsNSk9PT0iZGF0YToiP2Uuc3Vic3RyKDUpOm51bGx9c3RhdGljIF9Gb3JtYXRFcnJvck1lc3NhZ2UoZSx0LGkpe2xldCBzPSJVbmFibGUgdG8gbG9hZCBmcm9tICIrZS51cmw7cmV0dXJuIHQ/cys9YDogJHt0fWA6aSYmKHMrPWA6ICR7aX1gKSxzfXN0YXRpYyBfTG9hZERhdGEoZSx0LGkscyxyLG4sYSl7Y29uc3Qgbz1sZS5fR2V0RGlyZWN0TG9hZChlLnVybCksaD1hP2xlLl9HZXRQbHVnaW5Gb3JFeHRlbnNpb24oYSk6bz9sZS5fR2V0UGx1Z2luRm9yRGlyZWN0TG9hZChlLnVybCk6bGUuX0dldFBsdWdpbkZvckZpbGVuYW1lKGUudXJsKTtsZXQgbDtpZihoLnBsdWdpbi5jcmVhdGVQbHVnaW4hPT12b2lkIDA/bD1oLnBsdWdpbi5jcmVhdGVQbHVnaW4oKTpsPWgucGx1Z2luLCFsKXRocm93IlRoZSBsb2FkZXIgcGx1Z2luIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGZpbGUgdHlwZSB5b3UgYXJlIHRyeWluZyB0byBsb2FkIGhhcyBub3QgYmVlbiBmb3VuZC4gSWYgdXNpbmcgZXM2LCBwbGVhc2UgaW1wb3J0IHRoZSBwbHVnaW4geW91IHdpc2ggdG8gdXNlIGJlZm9yZS4iO2lmKGxlLk9uUGx1Z2luQWN0aXZhdGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobCksbyYmKGwuY2FuRGlyZWN0TG9hZCYmbC5jYW5EaXJlY3RMb2FkKGUudXJsKXx8IU1zKGUudXJsKSkpe2lmKGwuZGlyZWN0TG9hZCl7Y29uc3QgeT1sLmRpcmVjdExvYWQodCxvKTt5LnRoZW4/eS50aGVuKEE9PntpKGwsQSl9KS5jYXRjaChBPT57cigiRXJyb3IgaW4gZGlyZWN0TG9hZCBvZiBfbG9hZERhdGE6ICIrQSxBKX0pOmkobCx5KX1lbHNlIGkobCxvKTtyZXR1cm4gbH1jb25zdCB1PWguaXNCaW5hcnksZD0oeSxBKT0+e2lmKHQuaXNEaXNwb3NlZCl7cigiU2NlbmUgaGFzIGJlZW4gZGlzcG9zZWQiKTtyZXR1cm59aShsLHksQSl9O2xldCBmPW51bGwsXz0hMTtjb25zdCBFPWwub25EaXNwb3NlT2JzZXJ2YWJsZTtFJiZFLmFkZCgoKT0+e189ITAsZiYmKGYuYWJvcnQoKSxmPW51bGwpLG4oKX0pO2NvbnN0IG09KCk9PntpZihfKXJldHVybjtjb25zdCB5PShDLGIpPT57cihDPT1udWxsP3ZvaWQgMDpDLnN0YXR1c1RleHQsYil9LEE9ZS5maWxlfHxlLnVybDtmPWwubG9hZEZpbGU/bC5sb2FkRmlsZSh0LEEsZCxzLHUseSk6dC5fbG9hZEZpbGUoQSxkLHMsITAsdSx5KX0sdj10LmdldEVuZ2luZSgpO2xldCBTPXYuZW5hYmxlT2ZmbGluZVN1cHBvcnQ7aWYoUyl7bGV0IHk9ITE7Zm9yKGNvbnN0IEEgb2YgdC5kaXNhYmxlT2ZmbGluZVN1cHBvcnRFeGNlcHRpb25SdWxlcylpZihBLnRlc3QoZS51cmwpKXt5PSEwO2JyZWFrfVM9IXl9cmV0dXJuIFMmJkkuT2ZmbGluZVByb3ZpZGVyRmFjdG9yeT90Lm9mZmxpbmVQcm92aWRlcj1JLk9mZmxpbmVQcm92aWRlckZhY3RvcnkoZS51cmwsbSx2LmRpc2FibGVNYW5pZmVzdENoZWNrKTptKCksbH1zdGF0aWMgX0dldEZpbGVJbmZvKGUsdCl7bGV0IGkscyxyPW51bGw7aWYoIXQpaT1lLHM9SC5HZXRGaWxlbmFtZShlKSxlPUguR2V0Rm9sZGVyUGF0aChlKTtlbHNlIGlmKHQubmFtZSl7Y29uc3Qgbj10O2k9YGZpbGU6JHtuLm5hbWV9YCxzPW4ubmFtZSxyPW59ZWxzZSBpZih0eXBlb2YgdD09InN0cmluZyImJnQuc3RhcnRzV2l0aCgiZGF0YToiKSlpPXQscz0iIjtlbHNle2NvbnN0IG49dDtpZihuLnN1YnN0cigwLDEpPT09Ii8iKXJldHVybiBILkVycm9yKCJXcm9uZyBzY2VuZUZpbGVuYW1lIHBhcmFtZXRlciIpLG51bGw7aT1lK24scz1ufXJldHVybnt1cmw6aSxyb290VXJsOmUsbmFtZTpzLGZpbGU6cn19c3RhdGljIEdldFBsdWdpbkZvckV4dGVuc2lvbihlKXtyZXR1cm4gbGUuX0dldFBsdWdpbkZvckV4dGVuc2lvbihlKS5wbHVnaW59c3RhdGljIElzUGx1Z2luRm9yRXh0ZW5zaW9uQXZhaWxhYmxlKGUpe3JldHVybiEhbGUuX1JlZ2lzdGVyZWRQbHVnaW5zW2VdfXN0YXRpYyBSZWdpc3RlclBsdWdpbihlKXtpZih0eXBlb2YgZS5leHRlbnNpb25zPT0ic3RyaW5nIil7Y29uc3QgdD1lLmV4dGVuc2lvbnM7bGUuX1JlZ2lzdGVyZWRQbHVnaW5zW3QudG9Mb3dlckNhc2UoKV09e3BsdWdpbjplLGlzQmluYXJ5OiExfX1lbHNle2NvbnN0IHQ9ZS5leHRlbnNpb25zO09iamVjdC5rZXlzKHQpLmZvckVhY2goaT0+e2xlLl9SZWdpc3RlcmVkUGx1Z2luc1tpLnRvTG93ZXJDYXNlKCldPXtwbHVnaW46ZSxpc0JpbmFyeTp0W2ldLmlzQmluYXJ5fX0pfX1zdGF0aWMgSW1wb3J0TWVzaChlLHQsaT0iIixzPWZlLkxhc3RDcmVhdGVkU2NlbmUscj1udWxsLG49bnVsbCxhPW51bGwsbz1udWxsKXtpZighcylyZXR1cm4gTy5FcnJvcigiTm8gc2NlbmUgYXZhaWxhYmxlIHRvIGltcG9ydCBtZXNoIHRvIiksbnVsbDtjb25zdCBoPWxlLl9HZXRGaWxlSW5mbyh0LGkpO2lmKCFoKXJldHVybiBudWxsO2NvbnN0IGw9e307cy5hZGRQZW5kaW5nRGF0YShsKTtjb25zdCB1PSgpPT57cy5yZW1vdmVQZW5kaW5nRGF0YShsKX0sZD0oRSxtKT0+e2NvbnN0IHY9bGUuX0Zvcm1hdEVycm9yTWVzc2FnZShoLEUsbSk7YT9hKHMsdixuZXcgTnQodixvaS5TY2VuZUxvYWRlckVycm9yLG0pKTpPLkVycm9yKHYpLHUoKX0sZj1uP0U9Pnt0cnl7bihFKX1jYXRjaChtKXtkKCJFcnJvciBpbiBvblByb2dyZXNzIGNhbGxiYWNrOiAiK20sbSl9fTp2b2lkIDAsXz0oRSxtLHYsUyx5LEEsQyk9PntpZihzLmltcG9ydGVkTWVzaGVzRmlsZXMucHVzaChoLnVybCkscil0cnl7cihFLG0sdixTLHksQSxDKX1jYXRjaChiKXtkKCJFcnJvciBpbiBvblN1Y2Nlc3MgY2FsbGJhY2s6ICIrYixiKX1zLnJlbW92ZVBlbmRpbmdEYXRhKGwpfTtyZXR1cm4gbGUuX0xvYWREYXRhKGgscywoRSxtLHYpPT57aWYoRS5yZXdyaXRlUm9vdFVSTCYmKGgucm9vdFVybD1FLnJld3JpdGVSb290VVJMKGgucm9vdFVybCx2KSksRS5pbXBvcnRNZXNoKXtjb25zdCBTPUUseT1uZXcgQXJyYXksQT1uZXcgQXJyYXksQz1uZXcgQXJyYXk7aWYoIVMuaW1wb3J0TWVzaChlLHMsbSxoLnJvb3RVcmwseSxBLEMsZCkpcmV0dXJuO3MubG9hZGluZ1BsdWdpbk5hbWU9RS5uYW1lLF8oeSxBLEMsW10sW10sW10sW10pfWVsc2UgRS5pbXBvcnRNZXNoQXN5bmMoZSxzLG0saC5yb290VXJsLGYsaC5uYW1lKS50aGVuKHk9PntzLmxvYWRpbmdQbHVnaW5OYW1lPUUubmFtZSxfKHkubWVzaGVzLHkucGFydGljbGVTeXN0ZW1zLHkuc2tlbGV0b25zLHkuYW5pbWF0aW9uR3JvdXBzLHkudHJhbnNmb3JtTm9kZXMseS5nZW9tZXRyaWVzLHkubGlnaHRzKX0pLmNhdGNoKHk9PntkKHkubWVzc2FnZSx5KX0pfSxmLGQsdSxvKX1zdGF0aWMgSW1wb3J0TWVzaEFzeW5jKGUsdCxpPSIiLHM9ZmUuTGFzdENyZWF0ZWRTY2VuZSxyPW51bGwsbj1udWxsKXtyZXR1cm4gbmV3IFByb21pc2UoKGEsbyk9PntsZS5JbXBvcnRNZXNoKGUsdCxpLHMsKGgsbCx1LGQsZixfLEUpPT57YSh7bWVzaGVzOmgscGFydGljbGVTeXN0ZW1zOmwsc2tlbGV0b25zOnUsYW5pbWF0aW9uR3JvdXBzOmQsdHJhbnNmb3JtTm9kZXM6ZixnZW9tZXRyaWVzOl8sbGlnaHRzOkV9KX0sciwoaCxsLHUpPT57byh1fHxuZXcgRXJyb3IobCkpfSxuKX0pfXN0YXRpYyBMb2FkKGUsdD0iIixpPWZlLkxhc3RDcmVhdGVkRW5naW5lLHM9bnVsbCxyPW51bGwsbj1udWxsLGE9bnVsbCl7cmV0dXJuIGk/bGUuQXBwZW5kKGUsdCxuZXcgbmUoaSkscyxyLG4sYSk6KEguRXJyb3IoIk5vIGVuZ2luZSBhdmFpbGFibGUiKSxudWxsKX1zdGF0aWMgTG9hZEFzeW5jKGUsdD0iIixpPWZlLkxhc3RDcmVhdGVkRW5naW5lLHM9bnVsbCxyPW51bGwpe3JldHVybiBuZXcgUHJvbWlzZSgobixhKT0+e2xlLkxvYWQoZSx0LGksbz0+e24obyl9LHMsKG8saCxsKT0+e2EobHx8bmV3IEVycm9yKGgpKX0scil9KX1zdGF0aWMgQXBwZW5kKGUsdD0iIixpPWZlLkxhc3RDcmVhdGVkU2NlbmUscz1udWxsLHI9bnVsbCxuPW51bGwsYT1udWxsKXtpZighaSlyZXR1cm4gTy5FcnJvcigiTm8gc2NlbmUgYXZhaWxhYmxlIHRvIGFwcGVuZCB0byIpLG51bGw7Y29uc3Qgbz1sZS5fR2V0RmlsZUluZm8oZSx0KTtpZighbylyZXR1cm4gbnVsbDtjb25zdCBoPXt9O2kuYWRkUGVuZGluZ0RhdGEoaCk7Y29uc3QgbD0oKT0+e2kucmVtb3ZlUGVuZGluZ0RhdGEoaCl9O2xlLlNob3dMb2FkaW5nU2NyZWVuJiYhdGhpcy5fU2hvd2luZ0xvYWRpbmdTY3JlZW4mJih0aGlzLl9TaG93aW5nTG9hZGluZ1NjcmVlbj0hMCxpLmdldEVuZ2luZSgpLmRpc3BsYXlMb2FkaW5nVUkoKSxpLmV4ZWN1dGVXaGVuUmVhZHkoKCk9PntpLmdldEVuZ2luZSgpLmhpZGVMb2FkaW5nVUkoKSx0aGlzLl9TaG93aW5nTG9hZGluZ1NjcmVlbj0hMX0pKTtjb25zdCB1PShfLEUpPT57Y29uc3QgbT1sZS5fRm9ybWF0RXJyb3JNZXNzYWdlKG8sXyxFKTtuP24oaSxtLG5ldyBOdChtLG9pLlNjZW5lTG9hZGVyRXJyb3IsRSkpOk8uRXJyb3IobSksbCgpfSxkPXI/Xz0+e3RyeXtyKF8pfWNhdGNoKEUpe3UoIkVycm9yIGluIG9uUHJvZ3Jlc3MgY2FsbGJhY2siLEUpfX06dm9pZCAwLGY9KCk9PntpZihzKXRyeXtzKGkpfWNhdGNoKF8pe3UoIkVycm9yIGluIG9uU3VjY2VzcyBjYWxsYmFjayIsXyl9aS5yZW1vdmVQZW5kaW5nRGF0YShoKX07cmV0dXJuIGxlLl9Mb2FkRGF0YShvLGksKF8sRSk9PntpZihfLmxvYWQpe2lmKCFfLmxvYWQoaSxFLG8ucm9vdFVybCx1KSlyZXR1cm47aS5sb2FkaW5nUGx1Z2luTmFtZT1fLm5hbWUsZigpfWVsc2UgXy5sb2FkQXN5bmMoaSxFLG8ucm9vdFVybCxkLG8ubmFtZSkudGhlbigoKT0+e2kubG9hZGluZ1BsdWdpbk5hbWU9Xy5uYW1lLGYoKX0pLmNhdGNoKHY9Pnt1KHYubWVzc2FnZSx2KX0pfSxkLHUsbCxhKX1zdGF0aWMgQXBwZW5kQXN5bmMoZSx0PSIiLGk9ZmUuTGFzdENyZWF0ZWRTY2VuZSxzPW51bGwscj1udWxsKXtyZXR1cm4gbmV3IFByb21pc2UoKG4sYSk9PntsZS5BcHBlbmQoZSx0LGksbz0+e24obyl9LHMsKG8saCxsKT0+e2EobHx8bmV3IEVycm9yKGgpKX0scil9KX1zdGF0aWMgTG9hZEFzc2V0Q29udGFpbmVyKGUsdD0iIixpPWZlLkxhc3RDcmVhdGVkU2NlbmUscz1udWxsLHI9bnVsbCxuPW51bGwsYT1udWxsKXtpZighaSlyZXR1cm4gTy5FcnJvcigiTm8gc2NlbmUgYXZhaWxhYmxlIHRvIGxvYWQgYXNzZXQgY29udGFpbmVyIHRvIiksbnVsbDtjb25zdCBvPWxlLl9HZXRGaWxlSW5mbyhlLHQpO2lmKCFvKXJldHVybiBudWxsO2NvbnN0IGg9e307aS5hZGRQZW5kaW5nRGF0YShoKTtjb25zdCBsPSgpPT57aS5yZW1vdmVQZW5kaW5nRGF0YShoKX0sdT0oXyxFKT0+e2NvbnN0IG09bGUuX0Zvcm1hdEVycm9yTWVzc2FnZShvLF8sRSk7bj9uKGksbSxuZXcgTnQobSxvaS5TY2VuZUxvYWRlckVycm9yLEUpKTpPLkVycm9yKG0pLGwoKX0sZD1yP189Pnt0cnl7cihfKX1jYXRjaChFKXt1KCJFcnJvciBpbiBvblByb2dyZXNzIGNhbGxiYWNrIixFKX19OnZvaWQgMCxmPV89PntpZihzKXRyeXtzKF8pfWNhdGNoKEUpe3UoIkVycm9yIGluIG9uU3VjY2VzcyBjYWxsYmFjayIsRSl9aS5yZW1vdmVQZW5kaW5nRGF0YShoKX07cmV0dXJuIGxlLl9Mb2FkRGF0YShvLGksKF8sRSk9PntpZihfLmxvYWRBc3NldENvbnRhaW5lcil7Y29uc3Qgdj1fLmxvYWRBc3NldENvbnRhaW5lcihpLEUsby5yb290VXJsLHUpO2lmKCF2KXJldHVybjtpLmxvYWRpbmdQbHVnaW5OYW1lPV8ubmFtZSxmKHYpfWVsc2UgXy5sb2FkQXNzZXRDb250YWluZXJBc3luYz9fLmxvYWRBc3NldENvbnRhaW5lckFzeW5jKGksRSxvLnJvb3RVcmwsZCxvLm5hbWUpLnRoZW4odj0+e2kubG9hZGluZ1BsdWdpbk5hbWU9Xy5uYW1lLGYodil9KS5jYXRjaCh2PT57dSh2Lm1lc3NhZ2Usdil9KTp1KCJMb2FkQXNzZXRDb250YWluZXIgaXMgbm90IHN1cHBvcnRlZCBieSB0aGlzIHBsdWdpbi4gUGx1Z2luIGRpZCBub3QgcHJvdmlkZSBhIGxvYWRBc3NldENvbnRhaW5lciBvciBsb2FkQXNzZXRDb250YWluZXJBc3luYyBtZXRob2QuIil9LGQsdSxsLGEpfXN0YXRpYyBMb2FkQXNzZXRDb250YWluZXJBc3luYyhlLHQ9IiIsaT1mZS5MYXN0Q3JlYXRlZFNjZW5lLHM9bnVsbCxyPW51bGwpe3JldHVybiBuZXcgUHJvbWlzZSgobixhKT0+e2xlLkxvYWRBc3NldENvbnRhaW5lcihlLHQsaSxvPT57bihvKX0scywobyxoLGwpPT57YShsfHxuZXcgRXJyb3IoaCkpfSxyKX0pfXN0YXRpYyBJbXBvcnRBbmltYXRpb25zKGUsdD0iIixpPWZlLkxhc3RDcmVhdGVkU2NlbmUscz0hMCxyPXRpLkNsZWFuLG49bnVsbCxhPW51bGwsbz1udWxsLGg9bnVsbCxsPW51bGwpe2lmKCFpKXtPLkVycm9yKCJObyBzY2VuZSBhdmFpbGFibGUgdG8gbG9hZCBhbmltYXRpb25zIHRvIik7cmV0dXJufWlmKHMpe2Zvcihjb25zdCBfIG9mIGkuYW5pbWF0YWJsZXMpXy5yZXNldCgpO2kuc3RvcEFsbEFuaW1hdGlvbnMoKSxpLmFuaW1hdGlvbkdyb3Vwcy5zbGljZSgpLmZvckVhY2goXz0+e18uZGlzcG9zZSgpfSksaS5nZXROb2RlcygpLmZvckVhY2goXz0+e18uYW5pbWF0aW9ucyYmKF8uYW5pbWF0aW9ucz1bXSl9KX1lbHNlIHN3aXRjaChyKXtjYXNlIHRpLkNsZWFuOmkuYW5pbWF0aW9uR3JvdXBzLnNsaWNlKCkuZm9yRWFjaChmPT57Zi5kaXNwb3NlKCl9KTticmVhaztjYXNlIHRpLlN0b3A6aS5hbmltYXRpb25Hcm91cHMuZm9yRWFjaChmPT57Zi5zdG9wKCl9KTticmVhaztjYXNlIHRpLlN5bmM6aS5hbmltYXRpb25Hcm91cHMuZm9yRWFjaChmPT57Zi5yZXNldCgpLGYucmVzdGFydCgpfSk7YnJlYWs7Y2FzZSB0aS5Ob1N5bmM6YnJlYWs7ZGVmYXVsdDpPLkVycm9yKCJVbmtub3duIGFuaW1hdGlvbiBncm91cCBsb2FkaW5nIG1vZGUgdmFsdWUgJyIrcisiJyIpO3JldHVybn1jb25zdCB1PWkuYW5pbWF0YWJsZXMubGVuZ3RoLGQ9Zj0+e2YubWVyZ2VBbmltYXRpb25zVG8oaSxpLmFuaW1hdGFibGVzLnNsaWNlKHUpLG4pLGYuZGlzcG9zZSgpLGkub25BbmltYXRpb25GaWxlSW1wb3J0ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhpKSxhJiZhKGkpfTt0aGlzLkxvYWRBc3NldENvbnRhaW5lcihlLHQsaSxkLG8saCxsKX1zdGF0aWMgSW1wb3J0QW5pbWF0aW9uc0FzeW5jKGUsdD0iIixpPWZlLkxhc3RDcmVhdGVkU2NlbmUscz0hMCxyPXRpLkNsZWFuLG49bnVsbCxhPW51bGwsbz1udWxsLGg9bnVsbCxsPW51bGwpe3JldHVybiBuZXcgUHJvbWlzZSgodSxkKT0+e2xlLkltcG9ydEFuaW1hdGlvbnMoZSx0LGkscyxyLG4sZj0+e3UoZil9LG8sKGYsXyxFKT0+e2QoRXx8bmV3IEVycm9yKF8pKX0sbCl9KX19bGUuTk9fTE9HR0lORz0wLGxlLk1JTklNQUxfTE9HR0lORz0xLGxlLlNVTU1BUllfTE9HR0lORz0yLGxlLkRFVEFJTEVEX0xPR0dJTkc9MyxsZS5PblBsdWdpbkFjdGl2YXRlZE9ic2VydmFibGU9bmV3IEYsbGUuX1JlZ2lzdGVyZWRQbHVnaW5zPXt9LGxlLl9TaG93aW5nTG9hZGluZ1NjcmVlbj0hMTtjbGFzcyBfZXtjb25zdHJ1Y3RvcihlLHQsaT1OdW1iZXIuTUFYX1ZBTFVFKXt0aGlzLm9yaWdpbj1lLHRoaXMuZGlyZWN0aW9uPXQsdGhpcy5sZW5ndGg9aX1jbG9uZSgpe3JldHVybiBuZXcgX2UodGhpcy5vcmlnaW4uY2xvbmUoKSx0aGlzLmRpcmVjdGlvbi5jbG9uZSgpLHRoaXMubGVuZ3RoKX1pbnRlcnNlY3RzQm94TWluTWF4KGUsdCxpPTApe2NvbnN0IHM9X2UuX1RtcFZlY3RvcjNbMF0uY29weUZyb21GbG9hdHMoZS54LWksZS55LWksZS56LWkpLHI9X2UuX1RtcFZlY3RvcjNbMV0uY29weUZyb21GbG9hdHModC54K2ksdC55K2ksdC56K2kpO2xldCBuPTAsYT1OdW1iZXIuTUFYX1ZBTFVFLG8saCxsLHU7aWYoTWF0aC5hYnModGhpcy5kaXJlY3Rpb24ueCk8MWUtNyl7aWYodGhpcy5vcmlnaW4ueDxzLnh8fHRoaXMub3JpZ2luLng+ci54KXJldHVybiExfWVsc2UgaWYobz0xL3RoaXMuZGlyZWN0aW9uLngsaD0ocy54LXRoaXMub3JpZ2luLngpKm8sbD0oci54LXRoaXMub3JpZ2luLngpKm8sbD09PS0xLzAmJihsPTEvMCksaD5sJiYodT1oLGg9bCxsPXUpLG49TWF0aC5tYXgoaCxuKSxhPU1hdGgubWluKGwsYSksbj5hKXJldHVybiExO2lmKE1hdGguYWJzKHRoaXMuZGlyZWN0aW9uLnkpPDFlLTcpe2lmKHRoaXMub3JpZ2luLnk8cy55fHx0aGlzLm9yaWdpbi55PnIueSlyZXR1cm4hMX1lbHNlIGlmKG89MS90aGlzLmRpcmVjdGlvbi55LGg9KHMueS10aGlzLm9yaWdpbi55KSpvLGw9KHIueS10aGlzLm9yaWdpbi55KSpvLGw9PT0tMS8wJiYobD0xLzApLGg+bCYmKHU9aCxoPWwsbD11KSxuPU1hdGgubWF4KGgsbiksYT1NYXRoLm1pbihsLGEpLG4+YSlyZXR1cm4hMTtpZihNYXRoLmFicyh0aGlzLmRpcmVjdGlvbi56KTwxZS03KXtpZih0aGlzLm9yaWdpbi56PHMuenx8dGhpcy5vcmlnaW4uej5yLnopcmV0dXJuITF9ZWxzZSBpZihvPTEvdGhpcy5kaXJlY3Rpb24ueixoPShzLnotdGhpcy5vcmlnaW4ueikqbyxsPShyLnotdGhpcy5vcmlnaW4ueikqbyxsPT09LTEvMCYmKGw9MS8wKSxoPmwmJih1PWgsaD1sLGw9dSksbj1NYXRoLm1heChoLG4pLGE9TWF0aC5taW4obCxhKSxuPmEpcmV0dXJuITE7cmV0dXJuITB9aW50ZXJzZWN0c0JveChlLHQ9MCl7cmV0dXJuIHRoaXMuaW50ZXJzZWN0c0JveE1pbk1heChlLm1pbmltdW0sZS5tYXhpbXVtLHQpfWludGVyc2VjdHNTcGhlcmUoZSx0PTApe2NvbnN0IGk9ZS5jZW50ZXIueC10aGlzLm9yaWdpbi54LHM9ZS5jZW50ZXIueS10aGlzLm9yaWdpbi55LHI9ZS5jZW50ZXIuei10aGlzLm9yaWdpbi56LG49aSppK3MqcytyKnIsYT1lLnJhZGl1cyt0LG89YSphO2lmKG48PW8pcmV0dXJuITA7Y29uc3QgaD1pKnRoaXMuZGlyZWN0aW9uLngrcyp0aGlzLmRpcmVjdGlvbi55K3IqdGhpcy5kaXJlY3Rpb24uejtyZXR1cm4gaDwwPyExOm4taCpoPD1vfWludGVyc2VjdHNUcmlhbmdsZShlLHQsaSl7Y29uc3Qgcz1fZS5fVG1wVmVjdG9yM1swXSxyPV9lLl9UbXBWZWN0b3IzWzFdLG49X2UuX1RtcFZlY3RvcjNbMl0sYT1fZS5fVG1wVmVjdG9yM1szXSxvPV9lLl9UbXBWZWN0b3IzWzRdO3Quc3VidHJhY3RUb1JlZihlLHMpLGkuc3VidHJhY3RUb1JlZihlLHIpLHAuQ3Jvc3NUb1JlZih0aGlzLmRpcmVjdGlvbixyLG4pO2NvbnN0IGg9cC5Eb3QocyxuKTtpZihoPT09MClyZXR1cm4gbnVsbDtjb25zdCBsPTEvaDt0aGlzLm9yaWdpbi5zdWJ0cmFjdFRvUmVmKGUsYSk7Y29uc3QgdT1wLkRvdChhLG4pKmw7aWYodTwwfHx1PjEpcmV0dXJuIG51bGw7cC5Dcm9zc1RvUmVmKGEscyxvKTtjb25zdCBkPXAuRG90KHRoaXMuZGlyZWN0aW9uLG8pKmw7aWYoZDwwfHx1K2Q+MSlyZXR1cm4gbnVsbDtjb25zdCBmPXAuRG90KHIsbykqbDtyZXR1cm4gZj50aGlzLmxlbmd0aD9udWxsOm5ldyBEcygxLXUtZCx1LGYpfWludGVyc2VjdHNQbGFuZShlKXtsZXQgdDtjb25zdCBpPXAuRG90KGUubm9ybWFsLHRoaXMuZGlyZWN0aW9uKTtpZihNYXRoLmFicyhpKTw5OTk5OTk5OTc0NzUyNDNlLTIxKXJldHVybiBudWxsO3tjb25zdCBzPXAuRG90KGUubm9ybWFsLHRoaXMub3JpZ2luKTtyZXR1cm4gdD0oLWUuZC1zKS9pLHQ8MD90PC05OTk5OTk5OTc0NzUyNDNlLTIxP251bGw6MDp0fX1pbnRlcnNlY3RzQXhpcyhlLHQ9MCl7c3dpdGNoKGUpe2Nhc2UieSI6e2NvbnN0IGk9KHRoaXMub3JpZ2luLnktdCkvdGhpcy5kaXJlY3Rpb24ueTtyZXR1cm4gaT4wP251bGw6bmV3IHAodGhpcy5vcmlnaW4ueCt0aGlzLmRpcmVjdGlvbi54Ki1pLHQsdGhpcy5vcmlnaW4ueit0aGlzLmRpcmVjdGlvbi56Ki1pKX1jYXNlIngiOntjb25zdCBpPSh0aGlzLm9yaWdpbi54LXQpL3RoaXMuZGlyZWN0aW9uLng7cmV0dXJuIGk+MD9udWxsOm5ldyBwKHQsdGhpcy5vcmlnaW4ueSt0aGlzLmRpcmVjdGlvbi55Ki1pLHRoaXMub3JpZ2luLnordGhpcy5kaXJlY3Rpb24ueiotaSl9Y2FzZSJ6Ijp7Y29uc3QgaT0odGhpcy5vcmlnaW4uei10KS90aGlzLmRpcmVjdGlvbi56O3JldHVybiBpPjA/bnVsbDpuZXcgcCh0aGlzLm9yaWdpbi54K3RoaXMuZGlyZWN0aW9uLngqLWksdGhpcy5vcmlnaW4ueSt0aGlzLmRpcmVjdGlvbi55Ki1pLHQpfWRlZmF1bHQ6cmV0dXJuIG51bGx9fWludGVyc2VjdHNNZXNoKGUsdCl7Y29uc3QgaT1ELk1hdHJpeFswXTtyZXR1cm4gZS5nZXRXb3JsZE1hdHJpeCgpLmludmVydFRvUmVmKGkpLHRoaXMuX3RtcFJheT9fZS5UcmFuc2Zvcm1Ub1JlZih0aGlzLGksdGhpcy5fdG1wUmF5KTp0aGlzLl90bXBSYXk9X2UuVHJhbnNmb3JtKHRoaXMsaSksZS5pbnRlcnNlY3RzKHRoaXMuX3RtcFJheSx0KX1pbnRlcnNlY3RzTWVzaGVzKGUsdCxpKXtpP2kubGVuZ3RoPTA6aT1bXTtmb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrKyl7Y29uc3Qgcj10aGlzLmludGVyc2VjdHNNZXNoKGVbc10sdCk7ci5oaXQmJmkucHVzaChyKX1yZXR1cm4gaS5zb3J0KHRoaXMuX2NvbXBhcmVQaWNraW5nSW5mbyksaX1fY29tcGFyZVBpY2tpbmdJbmZvKGUsdCl7cmV0dXJuIGUuZGlzdGFuY2U8dC5kaXN0YW5jZT8tMTplLmRpc3RhbmNlPnQuZGlzdGFuY2U/MTowfWludGVyc2VjdGlvblNlZ21lbnQoZSx0LGkpe2NvbnN0IHM9dGhpcy5vcmlnaW4scj1ELlZlY3RvcjNbMF0sbj1ELlZlY3RvcjNbMV0sYT1ELlZlY3RvcjNbMl0sbz1ELlZlY3RvcjNbM107dC5zdWJ0cmFjdFRvUmVmKGUsciksdGhpcy5kaXJlY3Rpb24uc2NhbGVUb1JlZihfZS5fUmF5bCxhKSxzLmFkZFRvUmVmKGEsbiksZS5zdWJ0cmFjdFRvUmVmKHMsbyk7Y29uc3QgaD1wLkRvdChyLHIpLGw9cC5Eb3QocixhKSx1PXAuRG90KGEsYSksZD1wLkRvdChyLG8pLGY9cC5Eb3QoYSxvKSxfPWgqdS1sKmw7bGV0IEUsbT1fLHYsUz1fO188X2UuX1NtYWxsbnVtPyhFPTAsbT0xLHY9ZixTPXUpOihFPWwqZi11KmQsdj1oKmYtbCpkLEU8MD8oRT0wLHY9ZixTPXUpOkU+bSYmKEU9bSx2PWYrbCxTPXUpKSx2PDA/KHY9MCwtZDwwP0U9MDotZD5oP0U9bTooRT0tZCxtPWgpKTp2PlMmJih2PVMsLWQrbDwwP0U9MDotZCtsPmg/RT1tOihFPS1kK2wsbT1oKSk7Y29uc3QgeT1NYXRoLmFicyhFKTxfZS5fU21hbGxudW0/MDpFL20sQT1NYXRoLmFicyh2KTxfZS5fU21hbGxudW0/MDp2L1MsQz1ELlZlY3RvcjNbNF07YS5zY2FsZVRvUmVmKEEsQyk7Y29uc3QgYj1ELlZlY3RvcjNbNV07ci5zY2FsZVRvUmVmKHksYiksYi5hZGRJblBsYWNlKG8pO2NvbnN0IE09RC5WZWN0b3IzWzZdO3JldHVybiBiLnN1YnRyYWN0VG9SZWYoQyxNKSxBPjAmJkE8PXRoaXMubGVuZ3RoJiZNLmxlbmd0aFNxdWFyZWQoKTxpKmk/Yi5sZW5ndGgoKTotMX11cGRhdGUoZSx0LGkscyxyLG4sYSxvPSExKXtpZihvKXtfZS5fUmF5RGlzdGFudHx8KF9lLl9SYXlEaXN0YW50PV9lLlplcm8oKSksX2UuX1JheURpc3RhbnQudW5wcm9qZWN0UmF5VG9SZWYoZSx0LGkscyx4LklkZW50aXR5UmVhZE9ubHksbixhKTtjb25zdCBoPUQuTWF0cml4WzBdO3IuaW52ZXJ0VG9SZWYoaCksX2UuVHJhbnNmb3JtVG9SZWYoX2UuX1JheURpc3RhbnQsaCx0aGlzKX1lbHNlIHRoaXMudW5wcm9qZWN0UmF5VG9SZWYoZSx0LGkscyxyLG4sYSk7cmV0dXJuIHRoaXN9c3RhdGljIFplcm8oKXtyZXR1cm4gbmV3IF9lKHAuWmVybygpLHAuWmVybygpKX1zdGF0aWMgQ3JlYXRlTmV3KGUsdCxpLHMscixuLGEpe3JldHVybiBfZS5aZXJvKCkudXBkYXRlKGUsdCxpLHMscixuLGEpfXN0YXRpYyBDcmVhdGVOZXdGcm9tVG8oZSx0LGk9eC5JZGVudGl0eVJlYWRPbmx5KXtjb25zdCBzPXQuc3VidHJhY3QoZSkscj1NYXRoLnNxcnQocy54KnMueCtzLnkqcy55K3MueipzLnopO3JldHVybiBzLm5vcm1hbGl6ZSgpLF9lLlRyYW5zZm9ybShuZXcgX2UoZSxzLHIpLGkpfXN0YXRpYyBUcmFuc2Zvcm0oZSx0KXtjb25zdCBpPW5ldyBfZShuZXcgcCgwLDAsMCksbmV3IHAoMCwwLDApKTtyZXR1cm4gX2UuVHJhbnNmb3JtVG9SZWYoZSx0LGkpLGl9c3RhdGljIFRyYW5zZm9ybVRvUmVmKGUsdCxpKXtwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoZS5vcmlnaW4sdCxpLm9yaWdpbikscC5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihlLmRpcmVjdGlvbix0LGkuZGlyZWN0aW9uKSxpLmxlbmd0aD1lLmxlbmd0aDtjb25zdCBzPWkuZGlyZWN0aW9uLHI9cy5sZW5ndGgoKTtpZighKHI9PT0wfHxyPT09MSkpe2NvbnN0IG49MS9yO3MueCo9bixzLnkqPW4scy56Kj1uLGkubGVuZ3RoKj1yfX11bnByb2plY3RSYXlUb1JlZihlLHQsaSxzLHIsbixhKXt2YXIgbztjb25zdCBoPUQuTWF0cml4WzBdO3IubXVsdGlwbHlUb1JlZihuLGgpLGgubXVsdGlwbHlUb1JlZihhLGgpLGguaW52ZXJ0KCk7Y29uc3QgbD1ELlZlY3RvcjNbMF07bC54PWUvaSoyLTEsbC55PS0odC9zKjItMSksbC56PSEoKG89ZmUuTGFzdENyZWF0ZWRFbmdpbmUpPT09bnVsbHx8bz09PXZvaWQgMCkmJm8uaXNORENIYWxmWlJhbmdlPzA6LTE7Y29uc3QgdT1ELlZlY3RvcjNbMV0uY29weUZyb21GbG9hdHMobC54LGwueSwxLTFlLTgpLGQ9RC5WZWN0b3IzWzJdLGY9RC5WZWN0b3IzWzNdO3AuX1VucHJvamVjdEZyb21JbnZlcnRlZE1hdHJpeFRvUmVmKGwsaCxkKSxwLl9VbnByb2plY3RGcm9tSW52ZXJ0ZWRNYXRyaXhUb1JlZih1LGgsZiksdGhpcy5vcmlnaW4uY29weUZyb20oZCksZi5zdWJ0cmFjdFRvUmVmKGQsdGhpcy5kaXJlY3Rpb24pLHRoaXMuZGlyZWN0aW9uLm5vcm1hbGl6ZSgpfX1fZS5fVG1wVmVjdG9yMz1CZS5CdWlsZEFycmF5KDYscC5aZXJvKSxfZS5fUmF5RGlzdGFudD1fZS5aZXJvKCksX2UuX1NtYWxsbnVtPTFlLTgsX2UuX1JheWw9MWU5LG5lLnByb3RvdHlwZS5jcmVhdGVQaWNraW5nUmF5PWZ1bmN0aW9uKGMsZSx0LGkscz0hMSl7Y29uc3Qgcj1fZS5aZXJvKCk7cmV0dXJuIHRoaXMuY3JlYXRlUGlja2luZ1JheVRvUmVmKGMsZSx0LHIsaSxzKSxyfSxuZS5wcm90b3R5cGUuY3JlYXRlUGlja2luZ1JheVRvUmVmPWZ1bmN0aW9uKGMsZSx0LGkscyxyPSExLG49ITEpe2NvbnN0IGE9dGhpcy5nZXRFbmdpbmUoKTtpZighcyl7aWYoIXRoaXMuYWN0aXZlQ2FtZXJhKXJldHVybiB0aGlzO3M9dGhpcy5hY3RpdmVDYW1lcmF9Y29uc3QgaD1zLnZpZXdwb3J0LnRvR2xvYmFsKGEuZ2V0UmVuZGVyV2lkdGgoKSxhLmdldFJlbmRlckhlaWdodCgpKTtyZXR1cm4gYz1jL2EuZ2V0SGFyZHdhcmVTY2FsaW5nTGV2ZWwoKS1oLngsZT1lL2EuZ2V0SGFyZHdhcmVTY2FsaW5nTGV2ZWwoKS0oYS5nZXRSZW5kZXJIZWlnaHQoKS1oLnktaC5oZWlnaHQpLGkudXBkYXRlKGMsZSxoLndpZHRoLGguaGVpZ2h0LHR8fHguSWRlbnRpdHlSZWFkT25seSxyP3guSWRlbnRpdHlSZWFkT25seTpzLmdldFZpZXdNYXRyaXgoKSxzLmdldFByb2plY3Rpb25NYXRyaXgoKSxuKSx0aGlzfSxuZS5wcm90b3R5cGUuY3JlYXRlUGlja2luZ1JheUluQ2FtZXJhU3BhY2U9ZnVuY3Rpb24oYyxlLHQpe2NvbnN0IGk9X2UuWmVybygpO3JldHVybiB0aGlzLmNyZWF0ZVBpY2tpbmdSYXlJbkNhbWVyYVNwYWNlVG9SZWYoYyxlLGksdCksaX0sbmUucHJvdG90eXBlLmNyZWF0ZVBpY2tpbmdSYXlJbkNhbWVyYVNwYWNlVG9SZWY9ZnVuY3Rpb24oYyxlLHQsaSl7aWYoIVV0KXJldHVybiB0aGlzO2NvbnN0IHM9dGhpcy5nZXRFbmdpbmUoKTtpZighaSl7aWYoIXRoaXMuYWN0aXZlQ2FtZXJhKXRocm93IG5ldyBFcnJvcigiQWN0aXZlIGNhbWVyYSBub3Qgc2V0Iik7aT10aGlzLmFjdGl2ZUNhbWVyYX1jb25zdCBuPWkudmlld3BvcnQudG9HbG9iYWwocy5nZXRSZW5kZXJXaWR0aCgpLHMuZ2V0UmVuZGVySGVpZ2h0KCkpLGE9eC5JZGVudGl0eSgpO3JldHVybiBjPWMvcy5nZXRIYXJkd2FyZVNjYWxpbmdMZXZlbCgpLW4ueCxlPWUvcy5nZXRIYXJkd2FyZVNjYWxpbmdMZXZlbCgpLShzLmdldFJlbmRlckhlaWdodCgpLW4ueS1uLmhlaWdodCksdC51cGRhdGUoYyxlLG4ud2lkdGgsbi5oZWlnaHQsYSxhLGkuZ2V0UHJvamVjdGlvbk1hdHJpeCgpKSx0aGlzfSxuZS5wcm90b3R5cGUuX2ludGVybmFsUGlja0Zvck1lc2g9ZnVuY3Rpb24oYyxlLHQsaSxzLHIsbixhKXtjb25zdCBvPWUoaSx0LmVuYWJsZURpc3RhbnRQaWNraW5nKSxoPXQuaW50ZXJzZWN0cyhvLHMsbixyLGksYSk7cmV0dXJuIWh8fCFoLmhpdHx8IXMmJmMhPW51bGwmJmguZGlzdGFuY2U+PWMuZGlzdGFuY2U/bnVsbDpofSxuZS5wcm90b3R5cGUuX2ludGVybmFsUGljaz1mdW5jdGlvbihjLGUsdCxpLHMpe2xldCByPW51bGw7Zm9yKGxldCBuPTA7bjx0aGlzLm1lc2hlcy5sZW5ndGg7bisrKXtjb25zdCBhPXRoaXMubWVzaGVzW25dO2lmKGUpe2lmKCFlKGEpKWNvbnRpbnVlfWVsc2UgaWYoIWEuaXNFbmFibGVkKCl8fCFhLmlzVmlzaWJsZXx8IWEuaXNQaWNrYWJsZSljb250aW51ZTtjb25zdCBvPWEuZ2V0V29ybGRNYXRyaXgoKTtpZihhLmhhc1RoaW5JbnN0YW5jZXMmJmEudGhpbkluc3RhbmNlRW5hYmxlUGlja2luZyl7Y29uc3QgaD10aGlzLl9pbnRlcm5hbFBpY2tGb3JNZXNoKHIsYyxhLG8sITAsITAscyk7aWYoaCl7aWYoaSlyZXR1cm4gaDtjb25zdCBsPUQuTWF0cml4WzFdLHU9YS50aGluSW5zdGFuY2VHZXRXb3JsZE1hdHJpY2VzKCk7Zm9yKGxldCBkPTA7ZDx1Lmxlbmd0aDtkKyspe3VbZF0ubXVsdGlwbHlUb1JlZihvLGwpO2NvbnN0IF89dGhpcy5faW50ZXJuYWxQaWNrRm9yTWVzaChyLGMsYSxsLHQsaSxzLCEwKTtpZihfJiYocj1fLHIudGhpbkluc3RhbmNlSW5kZXg9ZCx0KSlyZXR1cm4gcn19fWVsc2V7Y29uc3QgaD10aGlzLl9pbnRlcm5hbFBpY2tGb3JNZXNoKHIsYyxhLG8sdCxpLHMpO2lmKGgmJihyPWgsdCkpcmV0dXJuIHJ9fXJldHVybiByfHxuZXcgVXR9LG5lLnByb3RvdHlwZS5faW50ZXJuYWxNdWx0aVBpY2s9ZnVuY3Rpb24oYyxlLHQpe2lmKCFVdClyZXR1cm4gbnVsbDtjb25zdCBpPW5ldyBBcnJheTtmb3IobGV0IHM9MDtzPHRoaXMubWVzaGVzLmxlbmd0aDtzKyspe2NvbnN0IHI9dGhpcy5tZXNoZXNbc107aWYoZSl7aWYoIWUocikpY29udGludWV9ZWxzZSBpZighci5pc0VuYWJsZWQoKXx8IXIuaXNWaXNpYmxlfHwhci5pc1BpY2thYmxlKWNvbnRpbnVlO2NvbnN0IG49ci5nZXRXb3JsZE1hdHJpeCgpO2lmKHIuaGFzVGhpbkluc3RhbmNlcyYmci50aGluSW5zdGFuY2VFbmFibGVQaWNraW5nKXtpZih0aGlzLl9pbnRlcm5hbFBpY2tGb3JNZXNoKG51bGwsYyxyLG4sITAsITAsdCkpe2NvbnN0IG89RC5NYXRyaXhbMV0saD1yLnRoaW5JbnN0YW5jZUdldFdvcmxkTWF0cmljZXMoKTtmb3IobGV0IGw9MDtsPGgubGVuZ3RoO2wrKyl7aFtsXS5tdWx0aXBseVRvUmVmKG4sbyk7Y29uc3QgZD10aGlzLl9pbnRlcm5hbFBpY2tGb3JNZXNoKG51bGwsYyxyLG8sITEsITEsdCwhMCk7ZCYmKGQudGhpbkluc3RhbmNlSW5kZXg9bCxpLnB1c2goZCkpfX19ZWxzZXtjb25zdCBhPXRoaXMuX2ludGVybmFsUGlja0Zvck1lc2gobnVsbCxjLHIsbiwhMSwhMSx0KTthJiZpLnB1c2goYSl9fXJldHVybiBpfSxuZS5wcm90b3R5cGUucGlja1dpdGhCb3VuZGluZ0luZm89ZnVuY3Rpb24oYyxlLHQsaSxzKXtpZighVXQpcmV0dXJuIG51bGw7Y29uc3Qgcj10aGlzLl9pbnRlcm5hbFBpY2sobj0+KHRoaXMuX3RlbXBQaWNraW5nUmF5fHwodGhpcy5fdGVtcFBpY2tpbmdSYXk9X2UuWmVybygpKSx0aGlzLmNyZWF0ZVBpY2tpbmdSYXlUb1JlZihjLGUsbix0aGlzLl90ZW1wUGlja2luZ1JheSxzfHxudWxsKSx0aGlzLl90ZW1wUGlja2luZ1JheSksdCxpLCEwKTtyZXR1cm4gciYmKHIucmF5PXRoaXMuY3JlYXRlUGlja2luZ1JheShjLGUseC5JZGVudGl0eSgpLHN8fG51bGwpKSxyfSxPYmplY3QuZGVmaW5lUHJvcGVydHkobmUucHJvdG90eXBlLCJfcGlja2luZ0F2YWlsYWJsZSIse2dldDooKT0+ITAsZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITF9KSxuZS5wcm90b3R5cGUucGljaz1mdW5jdGlvbihjLGUsdCxpLHMscixuPSExKXtjb25zdCBhPXRoaXMuX2ludGVybmFsUGljaygobyxoKT0+KHRoaXMuX3RlbXBQaWNraW5nUmF5fHwodGhpcy5fdGVtcFBpY2tpbmdSYXk9X2UuWmVybygpKSx0aGlzLmNyZWF0ZVBpY2tpbmdSYXlUb1JlZihjLGUsbyx0aGlzLl90ZW1wUGlja2luZ1JheSxzfHxudWxsLCExLGgpLHRoaXMuX3RlbXBQaWNraW5nUmF5KSx0LGksITEscik7cmV0dXJuIGEmJihhLnJheT10aGlzLmNyZWF0ZVBpY2tpbmdSYXkoYyxlLHguSWRlbnRpdHkoKSxzfHxudWxsKSksYX0sbmUucHJvdG90eXBlLnBpY2tXaXRoUmF5PWZ1bmN0aW9uKGMsZSx0LGkpe2NvbnN0IHM9dGhpcy5faW50ZXJuYWxQaWNrKHI9Pih0aGlzLl9waWNrV2l0aFJheUludmVyc2VNYXRyaXh8fCh0aGlzLl9waWNrV2l0aFJheUludmVyc2VNYXRyaXg9eC5JZGVudGl0eSgpKSxyLmludmVydFRvUmVmKHRoaXMuX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeCksdGhpcy5fY2FjaGVkUmF5Rm9yVHJhbnNmb3JtfHwodGhpcy5fY2FjaGVkUmF5Rm9yVHJhbnNmb3JtPV9lLlplcm8oKSksX2UuVHJhbnNmb3JtVG9SZWYoYyx0aGlzLl9waWNrV2l0aFJheUludmVyc2VNYXRyaXgsdGhpcy5fY2FjaGVkUmF5Rm9yVHJhbnNmb3JtKSx0aGlzLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm0pLGUsdCwhMSxpKTtyZXR1cm4gcyYmKHMucmF5PWMpLHN9LG5lLnByb3RvdHlwZS5tdWx0aVBpY2s9ZnVuY3Rpb24oYyxlLHQsaSxzKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNdWx0aVBpY2socj0+dGhpcy5jcmVhdGVQaWNraW5nUmF5KGMsZSxyLGl8fG51bGwpLHQscyl9LG5lLnByb3RvdHlwZS5tdWx0aVBpY2tXaXRoUmF5PWZ1bmN0aW9uKGMsZSx0KXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNdWx0aVBpY2soaT0+KHRoaXMuX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeHx8KHRoaXMuX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeD14LklkZW50aXR5KCkpLGkuaW52ZXJ0VG9SZWYodGhpcy5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4KSx0aGlzLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm18fCh0aGlzLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm09X2UuWmVybygpKSxfZS5UcmFuc2Zvcm1Ub1JlZihjLHRoaXMuX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeCx0aGlzLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm0pLHRoaXMuX2NhY2hlZFJheUZvclRyYW5zZm9ybSksZSx0KX0sai5wcm90b3R5cGUuZ2V0Rm9yd2FyZFJheT1mdW5jdGlvbihjPTEwMCxlLHQpe3JldHVybiB0aGlzLmdldEZvcndhcmRSYXlUb1JlZihuZXcgX2UocC5aZXJvKCkscC5aZXJvKCksYyksYyxlLHQpfSxqLnByb3RvdHlwZS5nZXRGb3J3YXJkUmF5VG9SZWY9ZnVuY3Rpb24oYyxlPTEwMCx0LGkpe3JldHVybiB0fHwodD10aGlzLmdldFdvcmxkTWF0cml4KCkpLGMubGVuZ3RoPWUsaT9jLm9yaWdpbi5jb3B5RnJvbShpKTpjLm9yaWdpbi5jb3B5RnJvbSh0aGlzLnBvc2l0aW9uKSxELlZlY3RvcjNbMl0uc2V0KDAsMCx0aGlzLl9zY2VuZS51c2VSaWdodEhhbmRlZFN5c3RlbT8tMToxKSxwLlRyYW5zZm9ybU5vcm1hbFRvUmVmKEQuVmVjdG9yM1syXSx0LEQuVmVjdG9yM1szXSkscC5Ob3JtYWxpemVUb1JlZihELlZlY3RvcjNbM10sYy5kaXJlY3Rpb24pLGN9O3ZhciB5bD1mdW5jdGlvbihjLGUsdCl7Zm9yKHZhciBpIGluIGUpaWYoYy5uYW1lPT09ZVtpXSlyZXR1cm4gdC5wdXNoKGMuaWQpLCEwO3JldHVybiBjLnBhcmVudElkJiZ0LmluZGV4T2YoYy5wYXJlbnRJZCkhPT0tMT8odC5wdXNoKGMuaWQpLCEwKTohMX0sbHM9ZnVuY3Rpb24oYyxlKXtyZXR1cm4gYysiIG9mICIrKGU/ZS5maWxlKyIgZnJvbSAiK2UubmFtZSsiIHZlcnNpb246ICIrZS52ZXJzaW9uKyIsIGV4cG9ydGVyIHZlcnNpb246ICIrZS5leHBvcnRlcl92ZXJzaW9uOiJ1bmtub3duIil9O2xlLlJlZ2lzdGVyUGx1Z2luKHtuYW1lOiJiYWJ5bG9uLmpzIixleHRlbnNpb25zOiIuanNvbiIsY2FuRGlyZWN0TG9hZDpmdW5jdGlvbihjKXtyZXR1cm4gYy5pbmRleE9mKCJqc29uIikhPT0tMSwhMH0saW1wb3J0TWVzaDpmdW5jdGlvbihjLGUsdCxpLHMscixuLGEpe3ZhciBvPSJpbXBvcnRNZXNoIGhhcyBmYWlsZWQgSlNPTiBwYXJzZSI7dHJ5e3ZhciBoPUpTT04ucGFyc2UodCk7aC5waHlzaWNzRW5hYmxlZD0hMSxoPT1udWxsfHxoLm1lc2hlcy5tYXAoUz0+ZGVsZXRlIFMucGh5c2ljc0ltcG9zdG9yKSxvPSIiO3ZhciBsPWxlLmxvZ2dpbmdMZXZlbD09PWxlLkRFVEFJTEVEX0xPR0dJTkc7Yz9BcnJheS5pc0FycmF5KGMpfHwoYz1bY10pOmM9bnVsbDt2YXIgdT1uZXcgQXJyYXk7aWYoaC5tZXNoZXMhPT12b2lkIDAmJmgubWVzaGVzIT09bnVsbCl7dmFyIGQsZjtmb3IoZD0wLGY9aC5tZXNoZXMubGVuZ3RoO2Q8ZjtkKyspe3ZhciBfPWgubWVzaGVzW2RdO2lmKGM9PT1udWxsfHx5bChfLGMsdSkpe2MhPT1udWxsJiZkZWxldGUgY1tjLmluZGV4T2YoXy5uYW1lKV07dmFyIEU9Vy5QYXJzZShfLGUsaSk7cy5wdXNoKEUpLG8rPWAKCU1lc2ggYCtFLnRvU3RyaW5nKGwpfX12YXIgbTtmb3IoZD0wLGY9ZS5tZXNoZXMubGVuZ3RoO2Q8ZjtkKyspbT1lLm1lc2hlc1tkXSxtLl93YWl0aW5nUGFyZW50SWQmJihtLnBhcmVudD1lLmdldExhc3RFbnRyeUJ5SUQobS5fd2FpdGluZ1BhcmVudElkKSxtLl93YWl0aW5nUGFyZW50SWQ9bnVsbCksbS5jb21wdXRlV29ybGRNYXRyaXgoITApfXJldHVybiEwfWNhdGNoKFMpe3ZhciB2PWxzKCJpbXBvcnRNZXNoIixoP2gucHJvZHVjZXI6IlVua25vd24iKStvO2lmKGEpYSh2LFMpO2Vsc2UgdGhyb3cgTy5Mb2codiksU31maW5hbGx5e28hPT1udWxsJiZsZS5sb2dnaW5nTGV2ZWwhPT1sZS5OT19MT0dHSU5HJiZPLkxvZyhscygiaW1wb3J0TWVzaCIsaD9oLnByb2R1Y2VyOiJVbmtub3duIikrKGxlLmxvZ2dpbmdMZXZlbCE9PWxlLk1JTklNQUxfTE9HR0lORz9vOiIiKSl9cmV0dXJuITF9LGxvYWQ6ZnVuY3Rpb24oYyxlLHQsaSl7dmFyIHM9ImltcG9ydFNjZW5lIGhhcyBmYWlsZWQgSlNPTiBwYXJzZSI7dHJ5e3ZhciByPUpTT04ucGFyc2UoZSk7cz0iIixyLmNsZWFyQ29sb3IhPT12b2lkIDAmJnIuY2xlYXJDb2xvciE9PW51bGwmJihjLmNsZWFyQ29sb3I9Q29sb3I0LkZyb21BcnJheShyLmNsZWFyQ29sb3IpKTt2YXIgbj1sb2FkQXNzZXRDb250YWluZXIoYyxlLHQsaSwhMCk7cmV0dXJuISFufWNhdGNoKG8pe3ZhciBhPWxzKCJpbXBvcnRTY2VuZSIscj9yLnByb2R1Y2VyOiJVbmtub3duIikrcztpZihpKWkoYSxvKTtlbHNlIHRocm93IE8uTG9nKGEpLG99ZmluYWxseXtzIT09bnVsbCYmbGUubG9nZ2luZ0xldmVsIT09bGUuTk9fTE9HR0lORyYmTy5Mb2cobHMoImltcG9ydFNjZW5lIixyP3IucHJvZHVjZXI6IlVua25vd24iKSsobGUubG9nZ2luZ0xldmVsIT09bGUuTUlOSU1BTF9MT0dHSU5HP3M6IiIpKX1yZXR1cm4hMX0sbG9hZEFzc2V0Q29udGFpbmVyOmZ1bmN0aW9uKGMsZSx0LGkpe3ZhciBzPWxvYWRBc3NldENvbnRhaW5lcihjLGUsdCxpKTtyZXR1cm4gc319KSxXLl9pbnN0YW5jZWRNZXNoRmFjdG9yeT0oYyxlKT0+e2NvbnN0IHQ9bmV3IENsKGMsZSk7aWYoZS5pbnN0YW5jZWRCdWZmZXJzKXt0Lmluc3RhbmNlZEJ1ZmZlcnM9e307Zm9yKGNvbnN0IGkgaW4gZS5pbnN0YW5jZWRCdWZmZXJzKXQuaW5zdGFuY2VkQnVmZmVyc1tpXT1lLmluc3RhbmNlZEJ1ZmZlcnNbaV19cmV0dXJuIHR9O2NsYXNzIENsIGV4dGVuZHMgb3R7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQuZ2V0U2NlbmUoKSksdGhpcy5faW5kZXhJblNvdXJjZU1lc2hJbnN0YW5jZUFycmF5PS0xLHRoaXMuX2Rpc3RhbmNlVG9DYW1lcmE9MCx0LmFkZEluc3RhbmNlKHRoaXMpLHRoaXMuX3NvdXJjZU1lc2g9dCx0aGlzLl91bkluZGV4ZWQ9dC5fdW5JbmRleGVkLHRoaXMucG9zaXRpb24uY29weUZyb20odC5wb3NpdGlvbiksdGhpcy5yb3RhdGlvbi5jb3B5RnJvbSh0LnJvdGF0aW9uKSx0aGlzLnNjYWxpbmcuY29weUZyb20odC5zY2FsaW5nKSx0LnJvdGF0aW9uUXVhdGVybmlvbiYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uPXQucm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCkpLHRoaXMuYW5pbWF0aW9ucz10LmFuaW1hdGlvbnMuc2xpY2UoKTtmb3IoY29uc3QgaSBvZiB0LmdldEFuaW1hdGlvblJhbmdlcygpKWkhPW51bGwmJnRoaXMuY3JlYXRlQW5pbWF0aW9uUmFuZ2UoaS5uYW1lLGkuZnJvbSxpLnRvKTt0aGlzLmluZmluaXRlRGlzdGFuY2U9dC5pbmZpbml0ZURpc3RhbmNlLHRoaXMuc2V0UGl2b3RNYXRyaXgodC5nZXRQaXZvdE1hdHJpeCgpKSx0aGlzLnJlZnJlc2hCb3VuZGluZ0luZm8oITAsITApLHRoaXMuX3N5bmNTdWJNZXNoZXMoKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iSW5zdGFuY2VkTWVzaCJ9Z2V0IGxpZ2h0U291cmNlcygpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLl9saWdodFNvdXJjZXN9X3Jlc3luY0xpZ2h0U291cmNlcygpe31fcmVzeW5jTGlnaHRTb3VyY2UoKXt9X3JlbW92ZUxpZ2h0U291cmNlKCl7fWdldCByZWNlaXZlU2hhZG93cygpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLnJlY2VpdmVTaGFkb3dzfWdldCBtYXRlcmlhbCgpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLm1hdGVyaWFsfWdldCB2aXNpYmlsaXR5KCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2gudmlzaWJpbGl0eX1nZXQgc2tlbGV0b24oKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5za2VsZXRvbn1nZXQgcmVuZGVyaW5nR3JvdXBJZCgpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLnJlbmRlcmluZ0dyb3VwSWR9c2V0IHJlbmRlcmluZ0dyb3VwSWQoZSl7IXRoaXMuX3NvdXJjZU1lc2h8fGU9PT10aGlzLl9zb3VyY2VNZXNoLnJlbmRlcmluZ0dyb3VwSWR8fE8uV2FybigiTm90ZSAtIHNldHRpbmcgcmVuZGVyaW5nR3JvdXBJZCBvZiBhbiBpbnN0YW5jZWQgbWVzaCBoYXMgbm8gZWZmZWN0IG9uIHRoZSBzY2VuZSIpfWdldFRvdGFsVmVydGljZXMoKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaD90aGlzLl9zb3VyY2VNZXNoLmdldFRvdGFsVmVydGljZXMoKTowfWdldFRvdGFsSW5kaWNlcygpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLmdldFRvdGFsSW5kaWNlcygpfWdldCBzb3VyY2VNZXNoKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2h9Y3JlYXRlSW5zdGFuY2UoZSl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guY3JlYXRlSW5zdGFuY2UoZSl9aXNSZWFkeShlPSExKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5pc1JlYWR5KGUsITApfWdldFZlcnRpY2VzRGF0YShlLHQpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLmdldFZlcnRpY2VzRGF0YShlLHQpfXNldFZlcnRpY2VzRGF0YShlLHQsaSxzKXtyZXR1cm4gdGhpcy5zb3VyY2VNZXNoJiZ0aGlzLnNvdXJjZU1lc2guc2V0VmVydGljZXNEYXRhKGUsdCxpLHMpLHRoaXMuc291cmNlTWVzaH11cGRhdGVWZXJ0aWNlc0RhdGEoZSx0LGkscyl7cmV0dXJuIHRoaXMuc291cmNlTWVzaCYmdGhpcy5zb3VyY2VNZXNoLnVwZGF0ZVZlcnRpY2VzRGF0YShlLHQsaSxzKSx0aGlzLnNvdXJjZU1lc2h9c2V0SW5kaWNlcyhlLHQ9bnVsbCl7cmV0dXJuIHRoaXMuc291cmNlTWVzaCYmdGhpcy5zb3VyY2VNZXNoLnNldEluZGljZXMoZSx0KSx0aGlzLnNvdXJjZU1lc2h9aXNWZXJ0aWNlc0RhdGFQcmVzZW50KGUpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLmlzVmVydGljZXNEYXRhUHJlc2VudChlKX1nZXRJbmRpY2VzKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guZ2V0SW5kaWNlcygpfWdldCBfcG9zaXRpb25zKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guX3Bvc2l0aW9uc31yZWZyZXNoQm91bmRpbmdJbmZvKGU9ITEsdD0hMSl7aWYodGhpcy5oYXNCb3VuZGluZ0luZm8mJnRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkuaXNMb2NrZWQpcmV0dXJuIHRoaXM7Y29uc3QgaT10aGlzLl9zb3VyY2VNZXNoLmdlb21ldHJ5P3RoaXMuX3NvdXJjZU1lc2guZ2VvbWV0cnkuYm91bmRpbmdCaWFzOm51bGw7cmV0dXJuIHRoaXMuX3JlZnJlc2hCb3VuZGluZ0luZm8odGhpcy5fc291cmNlTWVzaC5fZ2V0UG9zaXRpb25EYXRhKGUsdCksaSksdGhpc31fcHJlQWN0aXZhdGUoKXtyZXR1cm4gdGhpcy5fY3VycmVudExPRCYmdGhpcy5fY3VycmVudExPRC5fcHJlQWN0aXZhdGUoKSx0aGlzfV9hY3RpdmF0ZShlLHQpe2lmKHN1cGVyLl9hY3RpdmF0ZShlLHQpLHRoaXMuX3NvdXJjZU1lc2guc3ViTWVzaGVzfHxPLldhcm4oIkluc3RhbmNlcyBzaG91bGQgb25seSBiZSBjcmVhdGVkIGZvciBtZXNoZXMgd2l0aCBnZW9tZXRyeS4iKSx0aGlzLl9jdXJyZW50TE9EKXtpZih0aGlzLl9jdXJyZW50TE9ELl9nZXRXb3JsZE1hdHJpeERldGVybWluYW50KCk+PTAhPXRoaXMuX2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKT49MClyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYWN0QXNSZWd1bGFyTWVzaD0hMCwhMDtpZih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoPSExLHRoaXMuX2N1cnJlbnRMT0QuX3JlZ2lzdGVySW5zdGFuY2VGb3JSZW5kZXJJZCh0aGlzLGUpLHQpe2lmKCF0aGlzLl9jdXJyZW50TE9ELl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZSlyZXR1cm4gdGhpcy5fY3VycmVudExPRC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fb25seUZvckluc3RhbmNlc0ludGVybWVkaWF0ZT0hMCwhMH1lbHNlIGlmKCF0aGlzLl9jdXJyZW50TE9ELl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZSlyZXR1cm4gdGhpcy5fY3VycmVudExPRC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fb25seUZvckluc3RhbmNlcz0hMCwhMH1yZXR1cm4hMX1fcG9zdEFjdGl2YXRlKCl7dGhpcy5fc291cmNlTWVzaC5lZGdlc1NoYXJlV2l0aEluc3RhbmNlcyYmdGhpcy5fc291cmNlTWVzaC5fZWRnZXNSZW5kZXJlciYmdGhpcy5fc291cmNlTWVzaC5fZWRnZXNSZW5kZXJlci5pc0VuYWJsZWQmJnRoaXMuX3NvdXJjZU1lc2guX3JlbmRlcmluZ0dyb3VwPyh0aGlzLl9zb3VyY2VNZXNoLl9yZW5kZXJpbmdHcm91cC5fZWRnZXNSZW5kZXJlcnMucHVzaE5vRHVwbGljYXRlKHRoaXMuX3NvdXJjZU1lc2guX2VkZ2VzUmVuZGVyZXIpLHRoaXMuX3NvdXJjZU1lc2guX2VkZ2VzUmVuZGVyZXIuY3VzdG9tSW5zdGFuY2VzLnB1c2godGhpcy5nZXRXb3JsZE1hdHJpeCgpKSk6dGhpcy5fZWRnZXNSZW5kZXJlciYmdGhpcy5fZWRnZXNSZW5kZXJlci5pc0VuYWJsZWQmJnRoaXMuX3NvdXJjZU1lc2guX3JlbmRlcmluZ0dyb3VwJiZ0aGlzLl9zb3VyY2VNZXNoLl9yZW5kZXJpbmdHcm91cC5fZWRnZXNSZW5kZXJlcnMucHVzaCh0aGlzLl9lZGdlc1JlbmRlcmVyKX1nZXRXb3JsZE1hdHJpeCgpe2lmKHRoaXMuX2N1cnJlbnRMT0QmJnRoaXMuX2N1cnJlbnRMT0QuYmlsbGJvYXJkTW9kZSE9PUouQklMTEJPQVJETU9ERV9OT05FJiZ0aGlzLl9jdXJyZW50TE9ELl9tYXN0ZXJNZXNoIT09dGhpcyl7dGhpcy5fYmlsbGJvYXJkV29ybGRNYXRyaXh8fCh0aGlzLl9iaWxsYm9hcmRXb3JsZE1hdHJpeD1uZXcgeCk7Y29uc3QgZT10aGlzLl9jdXJyZW50TE9ELl9tYXN0ZXJNZXNoO3JldHVybiB0aGlzLl9jdXJyZW50TE9ELl9tYXN0ZXJNZXNoPXRoaXMsRC5WZWN0b3IzWzddLmNvcHlGcm9tKHRoaXMuX2N1cnJlbnRMT0QucG9zaXRpb24pLHRoaXMuX2N1cnJlbnRMT0QucG9zaXRpb24uc2V0KDAsMCwwKSx0aGlzLl9iaWxsYm9hcmRXb3JsZE1hdHJpeC5jb3B5RnJvbSh0aGlzLl9jdXJyZW50TE9ELmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpLHRoaXMuX2N1cnJlbnRMT0QucG9zaXRpb24uY29weUZyb20oRC5WZWN0b3IzWzddKSx0aGlzLl9jdXJyZW50TE9ELl9tYXN0ZXJNZXNoPWUsdGhpcy5fYmlsbGJvYXJkV29ybGRNYXRyaXh9cmV0dXJuIHN1cGVyLmdldFdvcmxkTWF0cml4KCl9Z2V0IGlzQW5JbnN0YW5jZSgpe3JldHVybiEwfWdldExPRChlKXtpZighZSlyZXR1cm4gdGhpcztjb25zdCB0PXRoaXMuc291cmNlTWVzaC5nZXRMT0RMZXZlbHMoKTtpZighdHx8dC5sZW5ndGg9PT0wKXRoaXMuX2N1cnJlbnRMT0Q9dGhpcy5zb3VyY2VNZXNoO2Vsc2V7Y29uc3QgaT10aGlzLmdldEJvdW5kaW5nSW5mbygpO3RoaXMuX2N1cnJlbnRMT0Q9dGhpcy5zb3VyY2VNZXNoLmdldExPRChlLGkuYm91bmRpbmdTcGhlcmUpfXJldHVybiB0aGlzLl9jdXJyZW50TE9EfV9wcmVBY3RpdmF0ZUZvckludGVybWVkaWF0ZVJlbmRlcmluZyhlKXtyZXR1cm4gdGhpcy5zb3VyY2VNZXNoLl9wcmVBY3RpdmF0ZUZvckludGVybWVkaWF0ZVJlbmRlcmluZyhlKX1fc3luY1N1Yk1lc2hlcygpe2lmKHRoaXMucmVsZWFzZVN1Yk1lc2hlcygpLHRoaXMuX3NvdXJjZU1lc2guc3ViTWVzaGVzKWZvcihsZXQgZT0wO2U8dGhpcy5fc291cmNlTWVzaC5zdWJNZXNoZXMubGVuZ3RoO2UrKyl0aGlzLl9zb3VyY2VNZXNoLnN1Yk1lc2hlc1tlXS5jbG9uZSh0aGlzLHRoaXMuX3NvdXJjZU1lc2gpO3JldHVybiB0aGlzfV9nZW5lcmF0ZVBvaW50c0FycmF5KCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guX2dlbmVyYXRlUG9pbnRzQXJyYXkoKX1fdXBkYXRlQm91bmRpbmdJbmZvKCl7cmV0dXJuIHRoaXMuaGFzQm91bmRpbmdJbmZvP3RoaXMuZ2V0Qm91bmRpbmdJbmZvKCkudXBkYXRlKHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpOnRoaXMuYnVpbGRCb3VuZGluZ0luZm8odGhpcy5hYnNvbHV0ZVBvc2l0aW9uLHRoaXMuYWJzb2x1dGVQb3NpdGlvbix0aGlzLndvcmxkTWF0cml4RnJvbUNhY2hlKSx0aGlzLl91cGRhdGVTdWJNZXNoZXNCb3VuZGluZ0luZm8odGhpcy53b3JsZE1hdHJpeEZyb21DYWNoZSksdGhpc31jbG9uZShlLHQ9bnVsbCxpLHMpe2NvbnN0IHI9KHN8fHRoaXMuX3NvdXJjZU1lc2gpLmNyZWF0ZUluc3RhbmNlKGUpO2lmKHZzLkRlZXBDb3B5KHRoaXMscixbIm5hbWUiLCJzdWJNZXNoZXMiLCJ1bmlxdWVJZCIsInBhcmVudCIsImxpZ2h0U291cmNlcyIsInJlY2VpdmVTaGFkb3dzIiwibWF0ZXJpYWwiLCJ2aXNpYmlsaXR5Iiwic2tlbGV0b24iLCJzb3VyY2VNZXNoIiwiaXNBbkluc3RhbmNlIiwiZmFjZXROYiIsImlzRmFjZXREYXRhRW5hYmxlZCIsImlzQmxvY2tlZCIsInVzZUJvbmVzIiwiaGFzSW5zdGFuY2VzIiwiY29sbGlkZXIiLCJlZGdlc1JlbmRlcmVyIiwiZm9yd2FyZCIsInVwIiwicmlnaHQiLCJhYnNvbHV0ZVBvc2l0aW9uIiwiYWJzb2x1dGVTY2FsaW5nIiwiYWJzb2x1dGVSb3RhdGlvblF1YXRlcm5pb24iLCJpc1dvcmxkTWF0cml4RnJvemVuIiwibm9uVW5pZm9ybVNjYWxpbmciLCJiZWhhdmlvcnMiLCJ3b3JsZE1hdHJpeEZyb21DYWNoZSIsImhhc1RoaW5JbnN0YW5jZXMiLCJoYXNCb3VuZGluZ0luZm8iXSxbXSksdGhpcy5yZWZyZXNoQm91bmRpbmdJbmZvKCksdCYmKHIucGFyZW50PXQpLCFpKWZvcihsZXQgbj0wO248dGhpcy5nZXRTY2VuZSgpLm1lc2hlcy5sZW5ndGg7bisrKXtjb25zdCBhPXRoaXMuZ2V0U2NlbmUoKS5tZXNoZXNbbl07YS5wYXJlbnQ9PT10aGlzJiZhLmNsb25lKGEubmFtZSxyKX1yZXR1cm4gci5jb21wdXRlV29ybGRNYXRyaXgoITApLHRoaXMub25DbG9uZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhyKSxyfWRpc3Bvc2UoZSx0PSExKXt0aGlzLl9zb3VyY2VNZXNoLnJlbW92ZUluc3RhbmNlKHRoaXMpLHN1cGVyLmRpc3Bvc2UoZSx0KX1fc2VyaWFsaXplQXNQYXJlbnQoZSl7c3VwZXIuX3NlcmlhbGl6ZUFzUGFyZW50KGUpLGUucGFyZW50SWQ9dGhpcy5fc291cmNlTWVzaC51bmlxdWVJZCxlLnBhcmVudEluc3RhbmNlSW5kZXg9dGhpcy5faW5kZXhJblNvdXJjZU1lc2hJbnN0YW5jZUFycmF5fWluc3RhbnRpYXRlSGllcmFyY2h5KGU9bnVsbCx0LGkpe2NvbnN0IHM9dGhpcy5jbG9uZSgiQ2xvbmUgb2YgIisodGhpcy5uYW1lfHx0aGlzLmlkKSxlfHx0aGlzLnBhcmVudCwhMCx0JiZ0Lm5ld1NvdXJjZWRNZXNoKTtzJiZpJiZpKHRoaXMscyk7Zm9yKGNvbnN0IHIgb2YgdGhpcy5nZXRDaGlsZFRyYW5zZm9ybU5vZGVzKCEwKSlyLmluc3RhbnRpYXRlSGllcmFyY2h5KHMsdCxpKTtyZXR1cm4gc319Vy5wcm90b3R5cGUucmVnaXN0ZXJJbnN0YW5jZWRCdWZmZXI9ZnVuY3Rpb24oYyxlKXt2YXIgdCxpO2lmKChpPSh0PXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZSk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LnZlcnRleEJ1ZmZlcnNbY10pPT09bnVsbHx8aT09PXZvaWQgMHx8aS5kaXNwb3NlKCksIXRoaXMuaW5zdGFuY2VkQnVmZmVycyl7dGhpcy5pbnN0YW5jZWRCdWZmZXJzPXt9O2Zvcihjb25zdCBzIG9mIHRoaXMuaW5zdGFuY2VzKXMuaW5zdGFuY2VkQnVmZmVycz17fTt0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2V8fCh0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2U9e2RhdGE6e30sdmVydGV4QnVmZmVyczp7fSxzdHJpZGVzOnt9LHNpemVzOnt9LHZlcnRleEFycmF5T2JqZWN0czp0aGlzLmdldEVuZ2luZSgpLmdldENhcHMoKS52ZXJ0ZXhBcnJheU9iamVjdD97fTp2b2lkIDB9KX10aGlzLmluc3RhbmNlZEJ1ZmZlcnNbY109bnVsbCx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Uuc3RyaWRlc1tjXT1lLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5zaXplc1tjXT1lKjMyLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5kYXRhW2NdPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnNpemVzW2NdKSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tjXT1uZXcgZyh0aGlzLmdldEVuZ2luZSgpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5kYXRhW2NdLGMsITAsITEsZSwhMCk7Zm9yKGNvbnN0IHMgb2YgdGhpcy5pbnN0YW5jZXMpcy5pbnN0YW5jZWRCdWZmZXJzW2NdPW51bGw7dGhpcy5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKX0sVy5wcm90b3R5cGUuX3Byb2Nlc3NJbnN0YW5jZWRCdWZmZXJzPWZ1bmN0aW9uKGMsZSl7Y29uc3QgdD1jP2MubGVuZ3RoOjA7Zm9yKGNvbnN0IGkgaW4gdGhpcy5pbnN0YW5jZWRCdWZmZXJzKXtsZXQgcz10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Uuc2l6ZXNbaV07Y29uc3Qgcj10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Uuc3RyaWRlc1tpXSxuPSh0KzEpKnI7Zm9yKDtzPG47KXMqPTI7dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLmRhdGFbaV0ubGVuZ3RoIT1zJiYodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLmRhdGFbaV09bmV3IEZsb2F0MzJBcnJheShzKSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Uuc2l6ZXNbaV09cyx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tpXSYmKHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW2ldLmRpc3Bvc2UoKSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tpXT1udWxsKSk7Y29uc3QgYT10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UuZGF0YVtpXTtsZXQgbz0wO2lmKGUpe2NvbnN0IGg9dGhpcy5pbnN0YW5jZWRCdWZmZXJzW2ldO2gudG9BcnJheT9oLnRvQXJyYXkoYSxvKTpoLmNvcHlUb0FycmF5P2guY29weVRvQXJyYXkoYSxvKTphW29dPWgsbys9cn1mb3IobGV0IGg9MDtoPHQ7aCsrKXtjb25zdCB1PWNbaF0uaW5zdGFuY2VkQnVmZmVyc1tpXTt1LnRvQXJyYXk/dS50b0FycmF5KGEsbyk6dS5jb3B5VG9BcnJheT91LmNvcHlUb0FycmF5KGEsbyk6YVtvXT11LG8rPXJ9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbaV0/dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbaV0udXBkYXRlRGlyZWN0bHkoYSwwKToodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbaV09bmV3IGcodGhpcy5nZXRFbmdpbmUoKSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UuZGF0YVtpXSxpLCEwLCExLHIsITApLHRoaXMuX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0KCkpfX0sVy5wcm90b3R5cGUuX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0PWZ1bmN0aW9uKCl7aWYoISghdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlfHx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QXJyYXlPYmplY3RzPT09dm9pZCAwKSl7Zm9yKGNvbnN0IGMgaW4gdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEFycmF5T2JqZWN0cyl0aGlzLmdldEVuZ2luZSgpLnJlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdCh0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QXJyYXlPYmplY3RzW2NdKTt0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QXJyYXlPYmplY3RzPXt9fX0sVy5wcm90b3R5cGUuX2Rpc3Bvc2VJbnN0YW5jZVNwZWNpZmljRGF0YT1mdW5jdGlvbigpe2Zvcih0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0J1ZmZlciYmKHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQnVmZmVyLmRpc3Bvc2UoKSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0J1ZmZlcj1udWxsKTt0aGlzLmluc3RhbmNlcy5sZW5ndGg7KXRoaXMuaW5zdGFuY2VzWzBdLmRpc3Bvc2UoKTtmb3IoY29uc3QgYyBpbiB0aGlzLmluc3RhbmNlZEJ1ZmZlcnMpdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbY10mJnRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW2NdLmRpc3Bvc2UoKTt0aGlzLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpLHRoaXMuaW5zdGFuY2VkQnVmZmVycz17fX07Y29uc3QgV3I9Yz0+SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjKSksSWw9e2Fzc2V0UGF0aDoiIixlbmFibGVTaGFkb3dzOiExLGdyb3VwSWQ6bnVsbCxpZDpudWxsLGxpZ2h0czpbXSxyb2xsSWQ6bnVsbCxzY2VuZTpudWxsfSxYdD1jbGFzc3tjb25zdHJ1Y3RvcihlLHQpe2J0KHRoaXMsInZhbHVlIiwwKTtidCh0aGlzLCJhc2xlZXAiLCExKTt0aGlzLmNvbmZpZz17Li4uSWwsLi4uZX0sdGhpcy5pZD10aGlzLmNvbmZpZy5pZCE9PXZvaWQgMD90aGlzLmNvbmZpZy5pZDpEYXRlLm5vdygpLHRoaXMuZGllVHlwZT10aGlzLmNvbmZpZy5zaWRlcyx0aGlzLmNvbWJvS2V5PWAke3RoaXMuY29uZmlnLnRoZW1lfV8ke3RoaXMuZGllVHlwZX1gLHRoaXMuc2NlbmU9dCx0aGlzLmNyZWF0ZUluc3RhbmNlKCl9Y3JlYXRlSW5zdGFuY2UoKXtjb25zdCBlPWAke3RoaXMuY29uZmlnLm1lc2hOYW1lfV8ke3RoaXMuZGllVHlwZX1fJHt0aGlzLmNvbmZpZy50aGVtZX0ke3RoaXMuY29uZmlnLmNvbG9yU3VmZml4fWAsdD1gJHtlfS1pbnN0YW5jZS0ke3RoaXMuaWR9YCxpPXRoaXMuc2NlbmUuZ2V0TWVzaEJ5TmFtZShlKS5jcmVhdGVJbnN0YW5jZSh0KTtpZih0aGlzLmNvbmZpZy5jb2xvclN1ZmZpeC5sZW5ndGg+MCl7Y29uc3Qgcz1yZS5Gcm9tSGV4U3RyaW5nKHRoaXMuY29uZmlnLnRoZW1lQ29sb3IpO2kuaW5zdGFuY2VkQnVmZmVycy5jdXN0b21Db2xvcj1zfWkucG9zaXRpb24ueT0tMTAwLGkuc2NhbGluZz1uZXcgcChpLnNjYWxpbmcueCp0aGlzLmNvbmZpZy5zY2FsZSxpLnNjYWxpbmcueSp0aGlzLmNvbmZpZy5zY2FsZSxpLnNjYWxpbmcueip0aGlzLmNvbmZpZy5zY2FsZSksdGhpcy5jb25maWcuZW5hYmxlU2hhZG93cyYmdGhpcy5jb25maWcubGlnaHRzLmRpcmVjdGlvbmFsLnNoYWRvd0dlbmVyYXRvci5hZGRTaGFkb3dDYXN0ZXIoaSksdGhpcy5tZXNoPWl9c3RhdGljIGFzeW5jIGxvYWREaWUoZSx0KXtjb25zdHtzaWRlczppLHRoZW1lOnM9ImRlZmF1bHQiLG1lc2hOYW1lOnIsY29sb3JTdWZmaXg6bn09ZSxhPXIrIl8iK2ksbz1hKyJfIitzK247bGV0IGg9dC5nZXRNZXNoQnlOYW1lKG8pO3JldHVybiBofHwoaD10LmdldE1lc2hCeU5hbWUoYSkuY2xvbmUobykpLGgubWF0ZXJpYWx8fChoLm1hdGVyaWFsPXQuZ2V0TWF0ZXJpYWxCeU5hbWUocytuKSxuLmxlbmd0aD4wJiZoLnJlZ2lzdGVySW5zdGFuY2VkQnVmZmVyKCJjdXN0b21Db2xvciIsMykpLGV9c3RhdGljIGFzeW5jIGxvYWRNb2RlbHMoZSx0KXtjb25zdHttZXNoRmlsZVBhdGg6aSxtZXNoTmFtZTpzLHNjYWxlOnIsZDRGYWNlRG93bjpuPSEwfT1lO2xldCBhPSExLG89ITE7Y29uc3QgaD1hd2FpdCBmZXRjaChgJHtpfWApLnRoZW4obD0+e2lmKGwub2spe2NvbnN0IHU9bC5oZWFkZXJzLmdldCgiY29udGVudC10eXBlIik7aWYodSYmdS5pbmRleE9mKCJhcHBsaWNhdGlvbi9qc29uIikhPT0tMSlyZXR1cm4gbC5qc29uKCk7aWYobC50eXBlJiZsLnR5cGU9PT0iYmFzaWMiKXJldHVybiBsLmpzb24oKTt0aHJvdyBuZXcgRXJyb3IoYEluY29ycmVjdCBjb250ZW50VHlwZTogJHt1fS4gRXhwZWN0ZWQgImFwcGxpY2F0aW9uL2pzb24iIG9yICJiYXNpYyJgKX1lbHNlIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGxvYWQgM0QgbWVzaCBmaWxlOiAnJHtpfScuIFJlcXVlc3QgcmVqZWN0ZWQgd2l0aCBzdGF0dXMgJHtsLnN0YXR1c306ICR7bC5zdGF0dXNUZXh0fWApfSkuY2F0Y2gobD0+Y29uc29sZS5lcnJvcihsKSk7aWYoaClyZXR1cm4gbGUuSW1wb3J0TWVzaEFzeW5jKG51bGwsbnVsbCwiZGF0YToiK0pTT04uc3RyaW5naWZ5KGgpLHQpLnRoZW4obD0+e2lmKGwubWVzaGVzLmZvckVhY2godT0+e3UubmFtZT09PSJfX3Jvb3RfXyImJnUuZGlzcG9zZSgpLHUubmFtZS5pbmNsdWRlcygiY29sbGlkZXIiKSYmKHUuc2NhbGluZz1uZXcgcCh1LnNjYWxpbmcueCouOSx1LnNjYWxpbmcueSouOSx1LnNjYWxpbmcueiouOSkpLGF8fChhPXUubmFtZT09PSJkMTAwIiksb3x8KG89dS5uYW1lPT09ImQxMCIpLHUuc2V0RW5hYmxlZCghMSksdS5mcmVlemVOb3JtYWxzKCksdS5mcmVlemVXb3JsZE1hdHJpeCgpLHUuaXNQaWNrYWJsZT0hMSx1LmRvTm90U3luY0JvdW5kaW5nSW5mbz0hMCx1Lm5hbWU9cysiXyIrdS5uYW1lfSksIWEmJm8mJih0LmdldE1lc2hCeU5hbWUocysiX2QxMCIpLmNsb25lKHMrIl9kMTAwIiksdC5nZXRNZXNoQnlOYW1lKHMrIl9kMTBfY29sbGlkZXIiKS5jbG9uZShzKyJfZDEwMF9jb2xsaWRlciIpLGguY29sbGlkZXJGYWNlTWFwJiYoaC5jb2xsaWRlckZhY2VNYXAuZDEwMD1XcihoLmNvbGxpZGVyRmFjZU1hcC5kMTApLE9iamVjdC52YWx1ZXMoaC5jb2xsaWRlckZhY2VNYXAuZDEwMCkuZm9yRWFjaCgodSxkKT0+e2guY29sbGlkZXJGYWNlTWFwLmQxMDBbZF09dSoodT09PTEwPzA6MTApfSkpKSwhaC5jb2xsaWRlckZhY2VNYXApdGhyb3cgbmV3IEVycm9yKGAnY29sbGlkZXJGYWNlTWFwJyBkYXRhIG5vdCBmb3VuZCBpbiAke2l9LiBXaXRob3V0IHRoZSBjb2xsaWRlckZhY2VNYXAgZGF0YSBkaWNlIHZhbHVlcyBjYW4gbm90IGJlIHJlc29sdmVkLmApO3QudGhlbWVEYXRhW3NdPXt9LHQudGhlbWVEYXRhW3NdLmNvbGxpZGVyRmFjZU1hcD1oLmNvbGxpZGVyRmFjZU1hcCx0LnRoZW1lRGF0YVtzXS5kNEZhY2VEb3duPW59KS5jYXRjaChsPT5jb25zb2xlLmVycm9yKGwpKSxoLm1lc2hlcy5maWx0ZXIobD0+bC5uYW1lLmluY2x1ZGVzKCJjb2xsaWRlciIpKX11cGRhdGVDb25maWcoZSl7dGhpcy5jb25maWc9ey4uLnRoaXMuY29uZmlnLC4uLmV9fXN0YXRpYyBzZXRWZWN0b3IzKGUsdCxpKXtyZXR1cm4gWHQudmVjdG9yMy5zZXQoZSx0LGkpfXN0YXRpYyBnZXRWZWN0b3IzKCl7cmV0dXJuIFh0LnZlY3RvcjN9c3RhdGljIGFzeW5jIGdldFJvbGxSZXN1bHQoZSx0KXtjb25zdCBpPShzPWUpPT5uZXcgUHJvbWlzZSgocixuKT0+e2NvbnN0IGE9ZS5jb25maWcucGFyZW50TWVzaHx8ZS5jb25maWcubWVzaE5hbWUsbz10LnRoZW1lRGF0YVthXS5jb2xsaWRlckZhY2VNYXAsaD10LnRoZW1lRGF0YVthXS5kNEZhY2VEb3duO2lmKCFvW3MuZGllVHlwZV0pdGhyb3cgbmV3IEVycm9yKGBObyBjb2xsaWRlckZhY2VNYXAgZGF0YSBmb3IgJHtzLmRpZVR5cGV9YCk7Y29uc3QgbD10LmdldE1lc2hCeU5hbWUoYCR7YX1fJHtzLmRpZVR5cGV9X2NvbGxpZGVyYCkuY3JlYXRlSW5zdGFuY2UoYCR7YX1fJHtzLmRpZVR5cGV9LWhpdGJveC0ke3MuaWR9YCk7bC5pc1BpY2thYmxlPSEwLGwuaXNWaXNpYmxlPSEwLGwuc2V0RW5hYmxlZCghMCksbC5wb3NpdGlvbj1zLm1lc2gucG9zaXRpb24sbC5yb3RhdGlvblF1YXRlcm5pb249cy5tZXNoLnJvdGF0aW9uUXVhdGVybmlvbjtsZXQgdT1YdC5zZXRWZWN0b3IzKDAsMSwwKTtzLmRpZVR5cGU9PT0iZDQiJiZoJiYodT1YdC5zZXRWZWN0b3IzKDAsLTEsMCkpLFh0LnJheS5kaXJlY3Rpb249dSxYdC5yYXkub3JpZ2luPWUubWVzaC5wb3NpdGlvbjtjb25zdCBkPXQucGlja1dpdGhSYXkoWHQucmF5KTtpZihsLmRpc3Bvc2UoKSxzLnZhbHVlPW9bcy5kaWVUeXBlXVtkLmZhY2VJZF0scy52YWx1ZT09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoYGNvbGxpZGVyRmFjZU1hcCBFcnJvcjogTm8gdmFsdWUgZm91bmQgZm9yICR7cy5kaWVUeXBlfSBtZXNoIGZhY2UgJHtkLmZhY2VJZH1gKTtyZXR1cm4gcihzLnZhbHVlKX0pLmNhdGNoKHI9PmNvbnNvbGUuZXJyb3IocikpO3JldHVybiBlLm1lc2g/YXdhaXQgaSgpOmUudmFsdWV9fTtsZXQgUHQ9WHQ7YnQoUHQsInJheSIsbmV3IF9lKHAuWmVybygpLHAuWmVybygpLDEpKSxidChQdCwidmVjdG9yMyIscC5aZXJvKCkpO2NsYXNzIFBse2NvbnN0cnVjdG9yKCl7fX1jbGFzcyBpaSBleHRlbmRzIEJ7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMuQ3VzdG9tUGFydHM9bmV3IFBsLHRoaXMuY3VzdG9tU2hhZGVyTmFtZVJlc29sdmU9dGhpcy5CdWlsZGVyLHRoaXMuRnJhZ21lbnRTaGFkZXI9UGUuU2hhZGVyc1N0b3JlLmRlZmF1bHRQaXhlbFNoYWRlcix0aGlzLlZlcnRleFNoYWRlcj1QZS5TaGFkZXJzU3RvcmUuZGVmYXVsdFZlcnRleFNoYWRlcn1BdHRhY2hBZnRlckJpbmQoZSx0KXtpZih0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzKWZvcihjb25zdCBpIGluIHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXMpe2NvbnN0IHM9aS50b1N0cmluZygpLnNwbGl0KCItIik7c1swXT09InZlYzIiP3Quc2V0VmVjdG9yMihzWzFdLHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXNbaV0pOnNbMF09PSJ2ZWMzIj90LnNldFZlY3RvcjMoc1sxXSx0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzW2ldKTpzWzBdPT0idmVjNCI/dC5zZXRWZWN0b3I0KHNbMV0sdGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlc1tpXSk6c1swXT09Im1hdDQiP3Quc2V0TWF0cml4KHNbMV0sdGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlc1tpXSk6c1swXT09ImZsb2F0IiYmdC5zZXRGbG9hdChzWzFdLHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXNbaV0pfWlmKHRoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXMpZm9yKGNvbnN0IGkgaW4gdGhpcy5fbmV3U2FtcGxlckluc3RhbmNlcyl7Y29uc3Qgcz1pLnRvU3RyaW5nKCkuc3BsaXQoIi0iKTtzWzBdPT0ic2FtcGxlcjJEIiYmdGhpcy5fbmV3U2FtcGxlckluc3RhbmNlc1tpXS5pc1JlYWR5JiZ0aGlzLl9uZXdTYW1wbGVySW5zdGFuY2VzW2ldLmlzUmVhZHkoKSYmdC5zZXRUZXh0dXJlKHNbMV0sdGhpcy5fbmV3U2FtcGxlckluc3RhbmNlc1tpXSl9fVJldmlld1VuaWZvcm0oZSx0KXtpZihlPT0idW5pZm9ybSImJnRoaXMuX25ld1VuaWZvcm1zKWZvcihsZXQgaT0wO2k8dGhpcy5fbmV3VW5pZm9ybXMubGVuZ3RoO2krKyl0aGlzLl9jdXN0b21Vbmlmb3JtW2ldLmluZGV4T2YoInNhbXBsZXIiKT09LTEmJnQucHVzaCh0aGlzLl9uZXdVbmlmb3Jtc1tpXSk7aWYoZT09InNhbXBsZXIiJiZ0aGlzLl9uZXdVbmlmb3Jtcylmb3IobGV0IGk9MDtpPHRoaXMuX25ld1VuaWZvcm1zLmxlbmd0aDtpKyspdGhpcy5fY3VzdG9tVW5pZm9ybVtpXS5pbmRleE9mKCJzYW1wbGVyIikhPS0xJiZ0LnB1c2godGhpcy5fbmV3VW5pZm9ybXNbaV0pO3JldHVybiB0fUJ1aWxkZXIoZSx0LGkscyxyLG4pe2lmKG4mJnRoaXMuX2N1c3RvbUF0dHJpYnV0ZXMmJnRoaXMuX2N1c3RvbUF0dHJpYnV0ZXMubGVuZ3RoPjAmJm4ucHVzaCguLi50aGlzLl9jdXN0b21BdHRyaWJ1dGVzKSx0aGlzLlJldmlld1VuaWZvcm0oInVuaWZvcm0iLHQpLHRoaXMuUmV2aWV3VW5pZm9ybSgic2FtcGxlciIscyksdGhpcy5faXNDcmVhdGVkU2hhZGVyKXJldHVybiB0aGlzLl9jcmVhdGVkU2hhZGVyTmFtZTt0aGlzLl9pc0NyZWF0ZWRTaGFkZXI9ITEsaWkuU2hhZGVySW5kZXhlcisrO2NvbnN0IGE9ImN1c3RvbV8iK2lpLlNoYWRlckluZGV4ZXIsbz10aGlzLl9hZnRlckJpbmQuYmluZCh0aGlzKTtyZXR1cm4gdGhpcy5fYWZ0ZXJCaW5kPShoLGwpPT57aWYobCl7dGhpcy5BdHRhY2hBZnRlckJpbmQoaCxsKTt0cnl7byhoLGwpfWNhdGNoe319fSxQZS5TaGFkZXJzU3RvcmVbYSsiVmVydGV4U2hhZGVyIl09dGhpcy5WZXJ0ZXhTaGFkZXIucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fVkVSVEVYX0JFR0lOIix0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWdpbj90aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWdpbjoiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fVkVSVEVYX0RFRklOSVRJT05TIiwodGhpcy5fY3VzdG9tVW5pZm9ybT90aGlzLl9jdXN0b21Vbmlmb3JtLmpvaW4oYApgKToiIikrKHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0RlZmluaXRpb25zP3RoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0RlZmluaXRpb25zOiIiKSkucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fQkVHSU4iLHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X01haW5CZWdpbj90aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluQmVnaW46IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9VUERBVEVfUE9TSVRJT04iLHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Qb3NpdGlvblVwZGF0ZWQ/dGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX1Bvc2l0aW9uVXBkYXRlZDoiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fVkVSVEVYX1VQREFURV9OT1JNQUwiLHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Ob3JtYWxVcGRhdGVkP3RoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Ob3JtYWxVcGRhdGVkOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9FTkQiLHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X01haW5FbmQ/dGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkVuZDoiIiksdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQWZ0ZXJfV29ybGRQb3NDb21wdXRlZCYmKFBlLlNoYWRlcnNTdG9yZVthKyJWZXJ0ZXhTaGFkZXIiXT1QZS5TaGFkZXJzU3RvcmVbYSsiVmVydGV4U2hhZGVyIl0ucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fVkVSVEVYX1VQREFURV9XT1JMRFBPUyIsdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQWZ0ZXJfV29ybGRQb3NDb21wdXRlZCkpLFBlLlNoYWRlcnNTdG9yZVthKyJQaXhlbFNoYWRlciJdPXRoaXMuRnJhZ21lbnRTaGFkZXIucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQkVHSU4iLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVnaW4/dGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWdpbjoiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfTUFJTl9CRUdJTiIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9NYWluQmVnaW4/dGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9NYWluQmVnaW46IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0RFRklOSVRJT05TIiwodGhpcy5fY3VzdG9tVW5pZm9ybT90aGlzLl9jdXN0b21Vbmlmb3JtLmpvaW4oYApgKToiIikrKHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfRGVmaW5pdGlvbnM/dGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9EZWZpbml0aW9uczoiIikpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX1VQREFURV9ESUZGVVNFIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0N1c3RvbV9EaWZmdXNlP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2U6IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX1VQREFURV9BTFBIQSIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fQWxwaGE/dGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fQWxwaGE6IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFRk9SRV9MSUdIVFMiLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0xpZ2h0cz90aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9MaWdodHM6IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFRk9SRV9GUkFHQ09MT1IiLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZyYWdDb2xvcj90aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9GcmFnQ29sb3I6IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX01BSU5fRU5EIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X01haW5FbmQ/dGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9NYWluRW5kOiIiKSx0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9Gb2cmJihQZS5TaGFkZXJzU3RvcmVbYSsiUGl4ZWxTaGFkZXIiXT1QZS5TaGFkZXJzU3RvcmVbYSsiUGl4ZWxTaGFkZXIiXS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUZPUkVfRk9HIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9Gb2cpKSx0aGlzLl9pc0NyZWF0ZWRTaGFkZXI9ITAsdGhpcy5fY3JlYXRlZFNoYWRlck5hbWU9YSxhfUFkZFVuaWZvcm0oZSx0LGkpe3JldHVybiB0aGlzLl9jdXN0b21Vbmlmb3JtfHwodGhpcy5fY3VzdG9tVW5pZm9ybT1uZXcgQXJyYXksdGhpcy5fbmV3VW5pZm9ybXM9bmV3IEFycmF5LHRoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXM9e30sdGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlcz17fSksaSYmKHQuaW5kZXhPZigic2FtcGxlciIpIT0tMT90aGlzLl9uZXdTYW1wbGVySW5zdGFuY2VzW3QrIi0iK2VdPWk6dGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlc1t0KyItIitlXT1pKSx0aGlzLl9jdXN0b21Vbmlmb3JtLnB1c2goInVuaWZvcm0gIit0KyIgIitlKyI7IiksdGhpcy5fbmV3VW5pZm9ybXMucHVzaChlKSx0aGlzfUFkZEF0dHJpYnV0ZShlKXtyZXR1cm4gdGhpcy5fY3VzdG9tQXR0cmlidXRlc3x8KHRoaXMuX2N1c3RvbUF0dHJpYnV0ZXM9W10pLHRoaXMuX2N1c3RvbUF0dHJpYnV0ZXMucHVzaChlKSx0aGlzfUZyYWdtZW50X0JlZ2luKGUpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZ2luPWUsdGhpc31GcmFnbWVudF9EZWZpbml0aW9ucyhlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9EZWZpbml0aW9ucz1lLHRoaXN9RnJhZ21lbnRfTWFpbkJlZ2luKGUpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X01haW5CZWdpbj1lLHRoaXN9RnJhZ21lbnRfTWFpbkVuZChlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9NYWluRW5kPWUsdGhpc31GcmFnbWVudF9DdXN0b21fRGlmZnVzZShlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fRGlmZnVzZT1lLnJlcGxhY2UoInJlc3VsdCIsImRpZmZ1c2VDb2xvciIpLHRoaXN9RnJhZ21lbnRfQ3VzdG9tX0FscGhhKGUpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0N1c3RvbV9BbHBoYT1lLnJlcGxhY2UoInJlc3VsdCIsImFscGhhIiksdGhpc31GcmFnbWVudF9CZWZvcmVfTGlnaHRzKGUpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9MaWdodHM9ZSx0aGlzfUZyYWdtZW50X0JlZm9yZV9Gb2coZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZvZz1lLHRoaXN9RnJhZ21lbnRfQmVmb3JlX0ZyYWdDb2xvcihlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRnJhZ0NvbG9yPWUucmVwbGFjZSgicmVzdWx0IiwiY29sb3IiKSx0aGlzfVZlcnRleF9CZWdpbihlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVnaW49ZSx0aGlzfVZlcnRleF9EZWZpbml0aW9ucyhlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfRGVmaW5pdGlvbnM9ZSx0aGlzfVZlcnRleF9NYWluQmVnaW4oZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X01haW5CZWdpbj1lLHRoaXN9VmVydGV4X0JlZm9yZV9Qb3NpdGlvblVwZGF0ZWQoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Qb3NpdGlvblVwZGF0ZWQ9ZS5yZXBsYWNlKCJyZXN1bHQiLCJwb3NpdGlvblVwZGF0ZWQiKSx0aGlzfVZlcnRleF9CZWZvcmVfTm9ybWFsVXBkYXRlZChlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX05vcm1hbFVwZGF0ZWQ9ZS5yZXBsYWNlKCJyZXN1bHQiLCJub3JtYWxVcGRhdGVkIiksdGhpc31WZXJ0ZXhfQWZ0ZXJfV29ybGRQb3NDb21wdXRlZChlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQWZ0ZXJfV29ybGRQb3NDb21wdXRlZD1lLHRoaXN9VmVydGV4X01haW5FbmQoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X01haW5FbmQ9ZSx0aGlzfX1paS5TaGFkZXJJbmRleGVyPTEsaXQoIkJBQllMT04uQ3VzdG9tTWF0ZXJpYWwiLGlpKSxpaS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oYyl7Y29uc3QgZT10aGlzLHQ9YWUuQ2xvbmUoKCk9Pm5ldyBpaShjLHRoaXMuZ2V0U2NlbmUoKSksdGhpcyk7cmV0dXJuIHQubmFtZT1jLHQuaWQ9Yyx0LkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZ2luPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVnaW4sdC5DdXN0b21QYXJ0cy5GcmFnbWVudF9EZWZpbml0aW9ucz1lLkN1c3RvbVBhcnRzLkZyYWdtZW50X0RlZmluaXRpb25zLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkJlZ2luPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkJlZ2luLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2U9ZS5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fRGlmZnVzZSx0LkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9MaWdodHM9ZS5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfTGlnaHRzLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZvZz1lLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9Gb2csdC5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fQWxwaGE9ZS5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fQWxwaGEsdC5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRnJhZ0NvbG9yPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZyYWdDb2xvcix0LkN1c3RvbVBhcnRzLlZlcnRleF9CZWdpbj1lLkN1c3RvbVBhcnRzLlZlcnRleF9CZWdpbix0LkN1c3RvbVBhcnRzLlZlcnRleF9EZWZpbml0aW9ucz1lLkN1c3RvbVBhcnRzLlZlcnRleF9EZWZpbml0aW9ucyx0LkN1c3RvbVBhcnRzLlZlcnRleF9NYWluQmVnaW49ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkJlZ2luLHQuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Qb3NpdGlvblVwZGF0ZWQ9ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX1Bvc2l0aW9uVXBkYXRlZCx0LkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfTm9ybWFsVXBkYXRlZD1lLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfTm9ybWFsVXBkYXRlZCx0LkN1c3RvbVBhcnRzLlZlcnRleF9BZnRlcl9Xb3JsZFBvc0NvbXB1dGVkPWUuQ3VzdG9tUGFydHMuVmVydGV4X0FmdGVyX1dvcmxkUG9zQ29tcHV0ZWQsdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkVuZD1lLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluRW5kLHR9O2NsYXNzIERse2NvbnN0cnVjdG9yKGUpe2J0KHRoaXMsImxvYWRlZFRoZW1lcyIse30pO2J0KHRoaXMsInRoZW1lRGF0YSIse30pO3RoaXMuc2NlbmU9ZS5zY2VuZX1hc3luYyBsb2FkU3RhbmRhcmRNYXRlcmlhbChlKXtjb25zdHt0aGVtZTp0LG1hdGVyaWFsOml9PWUscz1uZXcgQih0LHRoaXMuc2NlbmUpO2kuZGlmZnVzZVRleHR1cmUmJihzLmRpZmZ1c2VUZXh0dXJlPWF3YWl0IHRoaXMuZ2V0VGV4dHVyZSgiZGlmZnVzZSIsZSkpLGkuYnVtcFRleHR1cmUmJihzLmJ1bXBUZXh0dXJlPWF3YWl0IHRoaXMuZ2V0VGV4dHVyZSgiYnVtcCIsZSkpLGkuc3BlY3VsYXJUZXh0dXJlJiYocy5zcGVjdWxhclRleHR1cmU9YXdhaXQgdGhpcy5nZXRUZXh0dXJlKCJzcGVjdWxhciIsZSkpLHMuYWxsb3dTaGFkZXJIb3RTd2FwcGluZz0hMX1hc3luYyBsb2FkQ29sb3JNYXRlcmlhbChlKXtjb25zdHt0aGVtZTp0LG1hdGVyaWFsOml9PWUscz1uZXcgaWkodCsiX2xpZ2h0Iix0aGlzLnNjZW5lKSxyPVdyKGUpO2kuZGlmZnVzZVRleHR1cmUmJmkuZGlmZnVzZVRleHR1cmUubGlnaHQmJihyLm1hdGVyaWFsLmRpZmZ1c2VUZXh0dXJlPWUubWF0ZXJpYWwuZGlmZnVzZVRleHR1cmUubGlnaHQscy5kaWZmdXNlVGV4dHVyZT1hd2FpdCB0aGlzLmdldFRleHR1cmUoImRpZmZ1c2UiLHIpKSxpLmJ1bXBUZXh0dXJlJiYocy5idW1wVGV4dHVyZT1hd2FpdCB0aGlzLmdldFRleHR1cmUoImJ1bXAiLGUpKSxpLnNwZWN1bGFyVGV4dHVyZSYmKHMuc3BlY3VsYXJUZXh0dXJlPWF3YWl0IHRoaXMuZ2V0VGV4dHVyZSgic3BlY3VsYXIiLGUpKSxzLmFsbG93U2hhZGVySG90U3dhcHBpbmc9ITEscy5WZXJ0ZXhfRGVmaW5pdGlvbnMoYAogICAgICBhdHRyaWJ1dGUgdmVjMyBjdXN0b21Db2xvcjsKICAgICAgdmFyeWluZyB2ZWMzIHZDb2xvcjsKICAgIGApLlZlcnRleF9NYWluRW5kKGAKICAgICAgdkNvbG9yID0gY3VzdG9tQ29sb3I7CiAgICBgKS5GcmFnbWVudF9EZWZpbml0aW9ucyhgCiAgICAgIHZhcnlpbmcgdmVjMyB2Q29sb3I7CiAgICBgKS5GcmFnbWVudF9DdXN0b21fRGlmZnVzZShgCiAgICAgIGJhc2VDb2xvci5yZ2IgPSBtaXgodkNvbG9yLnJnYiwgYmFzZUNvbG9yLnJnYiwgYmFzZUNvbG9yLmEpOwogICAgYCkscy5BZGRBdHRyaWJ1dGUoImN1c3RvbUNvbG9yIik7Y29uc3Qgbj1zLmNsb25lKHQrIl9kYXJrIik7aS5kaWZmdXNlVGV4dHVyZSYmaS5kaWZmdXNlVGV4dHVyZS5kYXJrJiYoci5tYXRlcmlhbC5kaWZmdXNlVGV4dHVyZT1lLm1hdGVyaWFsLmRpZmZ1c2VUZXh0dXJlLmRhcmssbi5kaWZmdXNlVGV4dHVyZT1hd2FpdCB0aGlzLmdldFRleHR1cmUoImRpZmZ1c2UiLHIpKSxuLkFkZEF0dHJpYnV0ZSgiY3VzdG9tQ29sb3IiKX1hc3luYyBnZXRUZXh0dXJlKGUsdCl7Y29uc3R7YmFzZVBhdGg6aSxtYXRlcmlhbDpzLHRoZW1lOnJ9PXQ7bGV0IG47Y29uc3QgYT1lKyJMZXZlbCIsbz1lKyJUZXh0dXJlIjt0cnl7c3dpdGNoKGUpe2Nhc2UiZGlmZnVzZSI6bj1hd2FpdCB0aGlzLmltcG9ydFRleHR1cmVBc3luYyhgJHtpfS8ke3Nbb119YCxyKSxzW2FdJiYobi5sZXZlbD1zW2FdKTticmVhaztjYXNlImJ1bXAiOm49YXdhaXQgdGhpcy5pbXBvcnRUZXh0dXJlQXN5bmMoYCR7aX0vJHtzW29dfWAsciksc1thXSYmKG4ubGV2ZWw9c1thXSk7YnJlYWs7Y2FzZSJzcGVjdWxhciI6bj1hd2FpdCB0aGlzLmltcG9ydFRleHR1cmVBc3luYyhgJHtpfS8ke3Nbb119YCxyKSxzLnNwZWN1bGFyUG93ZXImJihuLnNwZWN1bGFyUG93ZXI9cy5zcGVjdWxhclBvd2VyKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVGV4dHVyZSB0eXBlOiAke2V9IGlzIG5vdCBzdXBwb3J0ZWRgKX19Y2F0Y2goaCl7Y29uc29sZS5lcnJvcihoKX1yZXR1cm4gbn1hc3luYyBpbXBvcnRUZXh0dXJlQXN5bmMoZSx0KXtyZXR1cm4gbmV3IFByb21pc2UoKGkscyk9PntsZXQgcj1lLm1hdGNoKC9eKC4qXC8pKC4qKSQvKSxuPW5ldyBOKGUsdGhpcy5zY2VuZSx2b2lkIDAsITAsdm9pZCAwLCgpPT5pKG4pLCgpPT5zKGBVbmFibGUgdG8gbG9hZCB0ZXh0dXJlICcke3JbMl19JyBmb3IgdGhlbWU6ICcke3R9Jy4gQ2hlY2sgdGhhdCB5b3VyIGFzc2V0UGF0aCBpcyBjb25maWd1cmVkIGNvcnJlY3RseSBhbmQgdGhhdCB0aGUgZmlsZXMgZXhpc3QgYXQgcGF0aDogJyR7clsxXX0nYCkpfSkuY2F0Y2goaT0+Y29uc29sZS5lcnJvcihpKSl9YXN5bmMgbG9hZChlKXtjb25zdHttYXRlcmlhbDp0fT1lO3QudHlwZT09PSJjb2xvciI/YXdhaXQgdGhpcy5sb2FkQ29sb3JNYXRlcmlhbChlKTp0LnR5cGU9PT0ic3RhbmRhcmQiP2F3YWl0IHRoaXMubG9hZFN0YW5kYXJkTWF0ZXJpYWwoZSk6Y29uc29sZS5lcnJvcihgTWF0ZXJpYWwgdHlwZTogJHt0LnR5cGV9IG5vdCBzdXBwb3J0ZWRgKX19Y2xhc3MgRmx7Y29uc3RydWN0b3IoZSl7bnQodGhpcyx1cyk7YnQodGhpcywiY29uZmlnIik7YnQodGhpcywiaW5pdGlhbGl6ZWQiLCExKTtudCh0aGlzLFhlLHt9KTtudCh0aGlzLEFpLDApO250KHRoaXMsRnQsMCk7bnQodGhpcyxSaSxbXSk7bnQodGhpcyxNdCx2b2lkIDApO250KHRoaXMsVHQsdm9pZCAwKTtudCh0aGlzLEplLHZvaWQgMCk7bnQodGhpcyxjcyx2b2lkIDApO250KHRoaXMsQXQsdm9pZCAwKTtudCh0aGlzLFZpLHZvaWQgMCk7bnQodGhpcyxXaSx2b2lkIDApO250KHRoaXMsZ3Qsdm9pZCAwKTtudCh0aGlzLHppLHt9KTtidCh0aGlzLCJub29wIiwoKT0+e30pO2J0KHRoaXMsImRpY2VCdWZmZXJWaWV3IixuZXcgRmxvYXQzMkFycmF5KDhlMykpO3RoaXMub25Jbml0Q29tcGxldGU9ZS5vbkluaXRDb21wbGV0ZXx8dGhpcy5ub29wLHRoaXMub25UaGVtZUxvYWRlZD1lLm9uVGhlbWVMb2FkZWR8fHRoaXMubm9vcCx0aGlzLm9uUm9sbFJlc3VsdD1lLm9uUm9sbFJlc3VsdHx8dGhpcy5ub29wLHRoaXMub25Sb2xsQ29tcGxldGU9ZS5vblJvbGxDb21wbGV0ZXx8dGhpcy5ub29wLHRoaXMub25EaWVSZW1vdmVkPWUub25EaWVSZW1vdmVkfHx0aGlzLm5vb3AsdGhpcy5pbml0aWFsaXplZD10aGlzLmluaXRTY2VuZShlKX1hc3luYyBpbml0U2NlbmUoZSl7bHQodGhpcyxNdCxlLmNhbnZhcyksWSh0aGlzLE10KS53aWR0aD1lLndpZHRoLFkodGhpcyxNdCkuaGVpZ2h0PWUuaGVpZ2h0LHRoaXMuY29uZmlnPWUub3B0aW9ucyxsdCh0aGlzLFR0LGduKFkodGhpcyxNdCkpKSxsdCh0aGlzLEplLEtuKHtlbmdpbmU6WSh0aGlzLFR0KX0pKSxsdCh0aGlzLGNzLFluKHtlbmdpbmU6WSh0aGlzLFR0KSxzY2VuZTpZKHRoaXMsSmUpfSkpLGx0KHRoaXMsQXQsQnIoe2VuYWJsZVNoYWRvd3M6dGhpcy5jb25maWcuZW5hYmxlU2hhZG93cyxzaGFkb3dUcmFuc3BhcmVuY3k6dGhpcy5jb25maWcuc2hhZG93VHJhbnNwYXJlbmN5LGludGVuc2l0eTp0aGlzLmNvbmZpZy5saWdodEludGVuc2l0eSxzY2VuZTpZKHRoaXMsSmUpfSkpLGx0KHRoaXMsVmksbmV3IFJsKHtlbmFibGVTaGFkb3dzOnRoaXMuY29uZmlnLmVuYWJsZVNoYWRvd3MsYXNwZWN0OlkodGhpcyxNdCkud2lkdGgvWSh0aGlzLE10KS5oZWlnaHQsbGlnaHRzOlkodGhpcyxBdCksc2NlbmU6WSh0aGlzLEplKX0pKSxsdCh0aGlzLFdpLG5ldyBEbCh7c2NlbmU6WSh0aGlzLEplKX0pKSx0aGlzLm9uSW5pdENvbXBsZXRlKCl9Y29ubmVjdChlKXtsdCh0aGlzLGd0LGUpLFkodGhpcyxndCkucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiaW5pdEJ1ZmZlciIsZGljZUJ1ZmZlcjp0aGlzLmRpY2VCdWZmZXJWaWV3LmJ1ZmZlcn0sW3RoaXMuZGljZUJ1ZmZlclZpZXcuYnVmZmVyXSksWSh0aGlzLGd0KS5vbm1lc3NhZ2U9dD0+e3N3aXRjaCh0LmRhdGEuYWN0aW9uKXtjYXNlInVwZGF0ZXMiOnRoaXMudXBkYXRlc0Zyb21QaHlzaWNzKHQuZGF0YS5kaWNlQnVmZmVyKTticmVhaztkZWZhdWx0OmNvbnNvbGUuZXJyb3IoImFjdGlvbiBmcm9tIHBoeXNpY3NXb3JrZXIgbm90IGZvdW5kIGluIG9mZnNjcmVlbiB3b3JrZXIiKTticmVha319fXVwZGF0ZUNvbmZpZyhlKXtjb25zdCB0PXRoaXMuY29uZmlnO3RoaXMuY29uZmlnPWUsdC5lbmFibGVTaGFkb3dzIT09dGhpcy5jb25maWcuZW5hYmxlU2hhZG93cyYmKE9iamVjdC52YWx1ZXMoWSh0aGlzLEF0KSkuZm9yRWFjaChpPT5pLmRpc3Bvc2UoKSksbHQodGhpcyxBdCxCcih7ZW5hYmxlU2hhZG93czp0aGlzLmNvbmZpZy5lbmFibGVTaGFkb3dzfSkpKSx0LnNjYWxlIT09dGhpcy5jb25maWcuc2NhbGUmJk9iamVjdC52YWx1ZXMoWSh0aGlzLFhlKSkuZm9yRWFjaCgoe21lc2g6aX0pPT57aSYmKGkuc2NhbGluZz1uZXcgcCh0aGlzLmNvbmZpZy5zY2FsZSx0aGlzLmNvbmZpZy5zY2FsZSx0aGlzLmNvbmZpZy5zY2FsZSkpfSksdC5zaGFkb3dUcmFuc3BhcmVuY3khPT10aGlzLmNvbmZpZy5zaGFkb3dUcmFuc3BhcmVuY3kmJihZKHRoaXMsQXQpLmRpcmVjdGlvbmFsLnNoYWRvd0dlbmVyYXRvci5kYXJrbmVzcz10aGlzLmNvbmZpZy5zaGFkb3dUcmFuc3BhcmVuY3kpLHQubGlnaHRJbnRlbnNpdHkhPT10aGlzLmNvbmZpZy5saWdodEludGVuc2l0eSYmKFkodGhpcyxBdCkuZGlyZWN0aW9uYWwuaW50ZW5zaXR5PS42NSp0aGlzLmNvbmZpZy5saWdodEludGVuc2l0eSxZKHRoaXMsQXQpLmhlbWlzcGhlcmljLmludGVuc2l0eT0uNCp0aGlzLmNvbmZpZy5saWdodEludGVuc2l0eSl9cmVuZGVyKGUpe1kodGhpcyxUdCkucnVuUmVuZGVyTG9vcCh0aGlzLnJlbmRlckxvb3AuYmluZCh0aGlzKSksWSh0aGlzLGd0KS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJyZXN1bWVTaW11bGF0aW9uIixuZXdTdGFydFBvaW50OmV9KX1yZW5kZXJMb29wKCl7WSh0aGlzLEZ0KSYmWSh0aGlzLEZ0KT09PU9iamVjdC5rZXlzKFkodGhpcyxYZSkpLmxlbmd0aD8oWSh0aGlzLFR0KS5zdG9wUmVuZGVyTG9vcCgpLFkodGhpcyxndCkucG9zdE1lc3NhZ2Uoe2FjdGlvbjoic3RvcFNpbXVsYXRpb24ifSksdGhpcy5vblJvbGxDb21wbGV0ZSgpKTpZKHRoaXMsSmUpLnJlbmRlcigpfWFzeW5jIGxvYWRUaGVtZShlKXtjb25zdHt0aGVtZTp0LGJhc2VQYXRoOmksbWF0ZXJpYWw6cyxtZXNoRmlsZVBhdGg6cixtZXNoTmFtZTpufT1lO2lmKGF3YWl0IFkodGhpcyxXaSkubG9hZCh7dGhlbWU6dCxiYXNlUGF0aDppLG1hdGVyaWFsOnN9KSwhT2JqZWN0LmtleXMoWSh0aGlzLHppKSkuaW5jbHVkZXMobikpe1kodGhpcyx6aSlbbl09cjtjb25zdCBhPWF3YWl0IFB0LmxvYWRNb2RlbHMoe21lc2hGaWxlUGF0aDpyLG1lc2hOYW1lOm59LFkodGhpcyxKZSkpO2lmKCFhKXRocm93IG5ldyBFcnJvcigiTm8gY29sbGlkZXJzIHJldHVybmVkIGZyb20gdGhlIDNEIG1lc2ggZmlsZS4gTG93IHBvbHkgY29sbGlkZXJzIGFyZSBleHBlY3RlZCB0byBiZSBpbiB0aGUgc2FtZSBmaWxlIGFzIHRoZSBoaWdoIHBvbHkgZGljZSBhbmQgdGhlIG1lc2ggbmFtZSBjb250YWlucyB0aGUgd29yZCAnY29sbGlkZXInIik7WSh0aGlzLGd0KS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJsb2FkTW9kZWxzIixvcHRpb25zOntjb2xsaWRlcnM6YSxtZXNoTmFtZTpufX0pfXRoaXMub25UaGVtZUxvYWRlZCh7aWQ6dH0pfWNsZWFyKCl7IU9iamVjdC5rZXlzKFkodGhpcyxYZSkpLmxlbmd0aCYmIVkodGhpcyxGdCl8fCh0aGlzLmRpY2VCdWZmZXJWaWV3LmJ5dGVMZW5ndGgmJnRoaXMuZGljZUJ1ZmZlclZpZXcuZmlsbCgwKSxZKHRoaXMsUmkpLmZvckVhY2goZT0+Y2xlYXJUaW1lb3V0KGUpKSxZKHRoaXMsVHQpLnN0b3BSZW5kZXJMb29wKCksT2JqZWN0LnZhbHVlcyhZKHRoaXMsWGUpKS5mb3JFYWNoKGU9PntlLm1lc2gmJmUubWVzaC5kaXNwb3NlKCl9KSxsdCh0aGlzLFhlLHt9KSxsdCh0aGlzLEFpLDApLGx0KHRoaXMsRnQsMCksWSh0aGlzLEplKS5yZW5kZXIoKSl9YWRkKGUpe1B0LmxvYWREaWUoZSxZKHRoaXMsSmUpKS50aGVuKHQ9PntZKHRoaXMsUmkpLnB1c2goc2V0VGltZW91dCgoKT0+e3pyKHRoaXMsdXMsR3IpLmNhbGwodGhpcyx0KX0seWkodGhpcyxBaSkuXysrKnRoaXMuY29uZmlnLmRlbGF5KSl9KX1hZGROb25EaWUoZSl7WSh0aGlzLFR0KS5hY3RpdmVSZW5kZXJMb29wcy5sZW5ndGg9PT0wJiZ0aGlzLnJlbmRlcighMSk7Y29uc3R7aWQ6dCx2YWx1ZTppLC4uLnN9PWUscj17aWQ6dCx2YWx1ZTppLGNvbmZpZzpzfTtZKHRoaXMsWGUpW3RdPXIsc2V0VGltZW91dCgoKT0+e1kodGhpcyxSaSkucHVzaChzZXRUaW1lb3V0KCgpPT57dGhpcy5oYW5kbGVBc2xlZXAocil9LHlpKHRoaXMsQWkpLl8rKyp0aGlzLmNvbmZpZy5kZWxheSkpfSwxMCl9cmVtb3ZlKGUpe2NvbnN0IHQ9WSh0aGlzLFhlKVtlLmlkXTt0Lmhhc093blByb3BlcnR5KCJkMTBJbnN0YW5jZSIpJiYoWSh0aGlzLFhlKVt0LmQxMEluc3RhbmNlLmlkXS5tZXNoJiYoWSh0aGlzLFhlKVt0LmQxMEluc3RhbmNlLmlkXS5tZXNoLmRpc3Bvc2UoKSxZKHRoaXMsZ3QpLnBvc3RNZXNzYWdlKHthY3Rpb246InJlbW92ZURpZSIsaWQ6dC5kMTBJbnN0YW5jZS5pZH0pKSxkZWxldGUgWSh0aGlzLFhlKVt0LmQxMEluc3RhbmNlLmlkXSx5aSh0aGlzLEZ0KS5fLS0pLFkodGhpcyxYZSlbZS5pZF0ubWVzaCYmWSh0aGlzLFhlKVtlLmlkXS5tZXNoLmRpc3Bvc2UoKSxkZWxldGUgWSh0aGlzLFhlKVtlLmlkXSx5aSh0aGlzLEZ0KS5fLS0sWSh0aGlzLEplKS5yZW5kZXIoKSx0aGlzLm9uRGllUmVtb3ZlZChlLnJvbGxJZCl9dXBkYXRlc0Zyb21QaHlzaWNzKGUpe3RoaXMuZGljZUJ1ZmZlclZpZXc9bmV3IEZsb2F0MzJBcnJheShlKTtsZXQgdD0xO2ZvcihsZXQgaT0wLHM9dGhpcy5kaWNlQnVmZmVyVmlld1swXTtpPHM7aSsrKXtpZighT2JqZWN0LmtleXMoWSh0aGlzLFhlKSkubGVuZ3RoKWNvbnRpbnVlO2NvbnN0IHI9WSh0aGlzLFhlKVtgJHt0aGlzLmRpY2VCdWZmZXJWaWV3W3RdfWBdO2lmKCFyKXtjb25zb2xlLmxvZygiRXJyb3I6IGRpZSBub3QgYXZhaWxhYmxlIGluIHNjZW5lIHRvIGFuaW1hdGUiKTticmVha31pZih0aGlzLmRpY2VCdWZmZXJWaWV3W3QrMV09PT0tMSl0aGlzLmhhbmRsZUFzbGVlcChyKTtlbHNle2NvbnN0IG49dGhpcy5kaWNlQnVmZmVyVmlld1t0KzFdLGE9dGhpcy5kaWNlQnVmZmVyVmlld1t0KzJdLG89dGhpcy5kaWNlQnVmZmVyVmlld1t0KzNdLGg9dGhpcy5kaWNlQnVmZmVyVmlld1t0KzRdLGw9dGhpcy5kaWNlQnVmZmVyVmlld1t0KzVdLHU9dGhpcy5kaWNlQnVmZmVyVmlld1t0KzZdLGQ9dGhpcy5kaWNlQnVmZmVyVmlld1t0KzddO3IubWVzaC5wb3NpdGlvbi5zZXQobixhLG8pLHIubWVzaC5yb3RhdGlvblF1YXRlcm5pb24uc2V0KGgsbCx1LGQpfXQ9dCs4fXJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+e1kodGhpcyxndCkucG9zdE1lc3NhZ2Uoe2FjdGlvbjoic3RlcFNpbXVsYXRpb24iLGRpY2VCdWZmZXI6dGhpcy5kaWNlQnVmZmVyVmlldy5idWZmZXJ9LFt0aGlzLmRpY2VCdWZmZXJWaWV3LmJ1ZmZlcl0pfSl9YXN5bmMgaGFuZGxlQXNsZWVwKGUpe3ZhciB0LGk7aWYoZS5hc2xlZXA9ITAsYXdhaXQgUHQuZ2V0Um9sbFJlc3VsdChlLFkodGhpcyxKZSkpLGUuZDEwSW5zdGFuY2V8fGUuZGllUGFyZW50KXtpZigodD1lPT1udWxsP3ZvaWQgMDplLmQxMEluc3RhbmNlKSE9bnVsbCYmdC5hc2xlZXB8fChpPWU9PW51bGw/dm9pZCAwOmUuZGllUGFyZW50KSE9bnVsbCYmaS5hc2xlZXApe2NvbnN0IHM9ZS5jb25maWcuc2lkZXM9PT0xMDA/ZTplLmRpZVBhcmVudCxyPWUuY29uZmlnLnNpZGVzPT09MTA/ZTplLmQxMEluc3RhbmNlO3IudmFsdWU9PT0wJiZzLnZhbHVlPT09MD9zLnZhbHVlPTEwMDpzLnZhbHVlPXMudmFsdWUrci52YWx1ZSx0aGlzLm9uUm9sbFJlc3VsdCh7cm9sbElkOnMuY29uZmlnLnJvbGxJZCx2YWx1ZTpzLnZhbHVlfSl9fWVsc2UgZS5jb25maWcuc2lkZXM9PT0xMCYmZS52YWx1ZT09PTAmJihlLnZhbHVlPTEwKSx0aGlzLm9uUm9sbFJlc3VsdCh7cm9sbElkOmUuY29uZmlnLnJvbGxJZCx2YWx1ZTplLnZhbHVlfSk7eWkodGhpcyxGdCkuXysrfXJlc2l6ZShlKXtjb25zdCB0PVkodGhpcyxNdCkud2lkdGg9ZS53aWR0aCxpPVkodGhpcyxNdCkuaGVpZ2h0PWUuaGVpZ2h0O1kodGhpcyxWaSkuY3JlYXRlKHthc3BlY3Q6dC9pfSksWSh0aGlzLFR0KS5yZXNpemUoKX19WGU9bmV3IFdlYWtNYXAsQWk9bmV3IFdlYWtNYXAsRnQ9bmV3IFdlYWtNYXAsUmk9bmV3IFdlYWtNYXAsTXQ9bmV3IFdlYWtNYXAsVHQ9bmV3IFdlYWtNYXAsSmU9bmV3IFdlYWtNYXAsY3M9bmV3IFdlYWtNYXAsQXQ9bmV3IFdlYWtNYXAsVmk9bmV3IFdlYWtNYXAsV2k9bmV3IFdlYWtNYXAsZ3Q9bmV3IFdlYWtNYXAsemk9bmV3IFdlYWtNYXAsdXM9bmV3IFdlYWtTZXQsR3I9YXN5bmMgZnVuY3Rpb24oZSl7WSh0aGlzLFR0KS5hY3RpdmVSZW5kZXJMb29wcy5sZW5ndGg9PT0wJiZ0aGlzLnJlbmRlcihlLm5ld1N0YXJ0UG9pbnQpO2NvbnN0IHQ9ey4uLmUsYXNzZXRQYXRoOnRoaXMuY29uZmlnLmFzc2V0UGF0aCxlbmFibGVTaGFkb3dzOnRoaXMuY29uZmlnLmVuYWJsZVNoYWRvd3Msc2NhbGU6dGhpcy5jb25maWcuc2NhbGUsbGlnaHRzOlkodGhpcyxBdCl9LGk9bmV3IFB0KHQsWSh0aGlzLEplKSk7cmV0dXJuIFkodGhpcyxYZSlbaS5pZF09aSxZKHRoaXMsZ3QpLnBvc3RNZXNzYWdlKHthY3Rpb246ImFkZERpZSIsb3B0aW9uczp7c2lkZXM6ZS5zaWRlcyxzY2FsZTp0aGlzLmNvbmZpZy5zY2FsZSxpZDppLmlkLG5ld1N0YXJ0UG9pbnQ6ZS5uZXdTdGFydFBvaW50LHRoZW1lOmUudGhlbWUsbWVzaE5hbWU6ZS5tZXNoTmFtZX19KSxlLnNpZGVzPT09MTAwJiYoaS5kMTBJbnN0YW5jZT1hd2FpdCBQdC5sb2FkRGllKHsuLi50LHNpZGVzOjEwLGlkOmkuaWQrMWU0fSxZKHRoaXMsSmUpKS50aGVuKHM9Pntjb25zdCByPW5ldyBQdChzLFkodGhpcyxKZSkpO3JldHVybiByLmRpZVBhcmVudD1pLHJ9KSxZKHRoaXMsWGUpW2Ake2kuZDEwSW5zdGFuY2UuaWR9YF09aS5kMTBJbnN0YW5jZSxZKHRoaXMsZ3QpLnBvc3RNZXNzYWdlKHthY3Rpb246ImFkZERpZSIsb3B0aW9uczp7c2lkZXM6MTAsc2NhbGU6dGhpcy5jb25maWcuc2NhbGUsaWQ6aS5kMTBJbnN0YW5jZS5pZCx0aGVtZTplLnRoZW1lLG1lc2hOYW1lOmUubWVzaE5hbWV9fSkpLGl9O2xldCBEdDtzZWxmLm9ubWVzc2FnZT1hc3luYyBjPT57c3dpdGNoKGMuZGF0YS5hY3Rpb24pe2Nhc2Uicm9sbERpZSI6RHQucGh5c2ljc1dvcmtlclBvcnQucG9zdE1lc3NhZ2Uoe2FjdGlvbjoicm9sbCJ9KTticmVhaztjYXNlImFkZERpZSI6RHQuYWRkKGMuZGF0YS5vcHRpb25zKTticmVhaztjYXNlImFkZE5vbkRpZSI6RHQuYWRkTm9uRGllKGMuZGF0YS5vcHRpb25zKTticmVhaztjYXNlImxvYWRUaGVtZSI6YXdhaXQgRHQubG9hZFRoZW1lKGMuZGF0YS5vcHRpb25zKS5jYXRjaChlPT5jb25zb2xlLmVycm9yKGUpKTticmVhaztjYXNlImNsZWFyRGljZSI6RHQuY2xlYXIoKTticmVhaztjYXNlInJlbW92ZURpZSI6RHQucmVtb3ZlKGMuZGF0YS5vcHRpb25zKTticmVhaztjYXNlInJlc2l6ZSI6RHQucmVzaXplKGMuZGF0YS5vcHRpb25zKTticmVhaztjYXNlImluaXQiOkR0PW5ldyBGbCh7Li4uYy5kYXRhLG9uSW5pdENvbXBsZXRlOigpPT57c2VsZi5wb3N0TWVzc2FnZSh7YWN0aW9uOiJpbml0LWNvbXBsZXRlIn0pfSxvblRoZW1lTG9hZGVkOih7aWQ6ZX0pPT57c2VsZi5wb3N0TWVzc2FnZSh7YWN0aW9uOiJ0aGVtZS1sb2FkZWQiLGlkOmV9KX0sb25Sb2xsUmVzdWx0Oih7cm9sbElkOmUsdmFsdWU6dH0pPT57c2VsZi5wb3N0TWVzc2FnZSh7YWN0aW9uOiJyb2xsLXJlc3VsdCIsZGllOntyb2xsSWQ6ZSx2YWx1ZTp0fX0pfSxvblJvbGxDb21wbGV0ZTooKT0+e3NlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjoicm9sbC1jb21wbGV0ZSJ9KX0sb25EaWVSZW1vdmVkOmU9PntzZWxmLnBvc3RNZXNzYWdlKHthY3Rpb246ImRpZS1yZW1vdmVkIixyb2xsSWQ6ZX0pfX0pO2JyZWFrO2Nhc2UidXBkYXRlQ29uZmlnIjpEdC51cGRhdGVDb25maWcoYy5kYXRhLm9wdGlvbnMpO2JyZWFrO2Nhc2UiY29ubmVjdCI6RHQuY29ubmVjdChjLmRhdGEucG9ydCksc2VsZi5wb3N0TWVzc2FnZSh7YWN0aW9uOiJjb25uZWN0LWNvbXBsZXRlIn0pO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcigiYWN0aW9uIG5vdCBmb3VuZCBpbiBvZmZzY3JlZW4gd29ya2VyIil9fX0pKCk7Cg==", y = typeof window < "u" && window.Blob && new Blob([atob(p)], { type: "text/javascript;charset=utf-8" });
function N() {
  const X = y && (window.URL || window.webkitURL).createObjectURL(y);
  try {
    return X ? new Worker(X) : new Worker("data:application/javascript;base64," + p);
  } finally {
    X && (window.URL || window.webkitURL).revokeObjectURL(X);
  }
}
var b, G, W, Y;
class L {
  // roll group callback
  constructor(l) {
    // initialize the babylon scene
    m(this, W);
    d(this, "initialized", !1);
    d(this, "offscreenWorkerInit", !1);
    d(this, "themeLoadedInit", !1);
    d(this, "pendingThemePromises", {});
    m(this, b, void 0);
    m(this, G, void 0);
    // onInitComplete = () => {} // init callback
    d(this, "onRollResult", () => {
    });
    // individual die callback
    d(this, "onRollComplete", () => {
    });
    this.onInitComplete = l.onInitComplete, h(this, b, l.canvas.transferControlToOffscreen()), h(this, G, new N()), V(this, G).init = new Promise((Z, c) => {
      this.offscreenWorkerInit = Z;
    }), this.initialized = a(this, W, Y).call(this, l);
  }
  connect(l) {
    V(this, G).postMessage({
      action: "connect",
      port: l
    }, [l]);
  }
  updateConfig(l) {
    V(this, G).postMessage({ action: "updateConfig", options: l });
  }
  resize(l) {
    V(this, G).postMessage({ action: "resize", options: l });
  }
  async loadTheme(l) {
    return new Promise((Z, c) => {
      if (Object.keys(this.pendingThemePromises).includes(l.theme))
        return Z();
      this.pendingThemePromises[l.theme] = Z, V(this, G).postMessage({ action: "loadTheme", options: l });
    }).catch((Z) => console.error(Z));
  }
  clear() {
    V(this, G).postMessage({ action: "clearDice" });
  }
  add(l) {
    V(this, G).postMessage({ action: "addDie", options: l });
  }
  addNonDie(l) {
    V(this, G).postMessage({ action: "addNonDie", options: l });
  }
  remove(l) {
    V(this, G).postMessage({ action: "removeDie", options: l });
  }
}
b = new WeakMap(), G = new WeakMap(), W = new WeakSet(), Y = async function(l) {
  return V(this, G).postMessage({
    action: "init",
    canvas: V(this, b),
    width: l.canvas.clientWidth,
    height: l.canvas.clientHeight,
    options: l.options
  }, [V(this, b)]), V(this, G).onmessage = (Z) => {
    switch (Z.data.action) {
      case "init-complete":
        this.offscreenWorkerInit();
        break;
      case "connect-complete":
        break;
      case "theme-loaded":
        Z.data.id && this.pendingThemePromises[Z.data.id](Z.data.id);
        break;
      case "roll-result":
        this.onRollResult(Z.data.die);
        break;
      case "roll-complete":
        this.onRollComplete();
        break;
      case "die-removed":
        this.onDieRemoved(Z.data.rollId);
        break;
    }
  }, await V(this, G).init, this.onInitComplete(!0), !0;
};
export {
  L as default
};
//# sourceMappingURL=world.offscreen.js.map
